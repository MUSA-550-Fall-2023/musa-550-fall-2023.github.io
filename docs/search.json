[
  {
    "objectID": "resource/file-paths.html",
    "href": "resource/file-paths.html",
    "title": "File paths and working directories",
    "section": "",
    "text": "Note\n\n\n\nBelow is a guide from one of our course’s previous TAs, Eugene Chong. It does a great job laying out the common issues associated with file paths and Python.\nA common challenge in collaborative data science work is dealing with file paths. A csv on your computer has a different file path than a csv on your colleague’s computer, and if you don’t plan ahead for that, your colleague won’t be able run your code on their computer without making (possibly many) changes.\nThis post contains a suggestion for how to organize your files and a glossary of terms. I’ll update it as things come up. Please let us know any questions!"
  },
  {
    "objectID": "resource/file-paths.html#absolute-v.-relative-file-paths",
    "href": "resource/file-paths.html#absolute-v.-relative-file-paths",
    "title": "File paths and working directories",
    "section": "Absolute v. relative file paths",
    "text": "Absolute v. relative file paths\nProblem: I write pd.read_csv(\"C:/Users/eugene/data.csv\") in my code and send it to a project partner, Gritty. Gritty tries to run it, but it fails, and they have to change the code to pd.read_csv(\"C:/Users/gritty/data.csv\") to make it work. These are known as absolute file paths, which point to the exact location of a file on a computer, and generally they make it difficult to share code.\nOne way to deal with this is to organize your projects (e.g., a homework assignment) into self-contained folders. Something like the below:\nC:\n|__ /Users\n    |__ /eugene\n        |__ /MUSA550\n            |__ /Homework1\n                 |__ homework1_notebook.ipynb\n                 |__ /Data\n                      |__ data.csv\nWith this, I could instead write pd.read_csv(\"Data/data.csv\"). Then, I could send Gritty my entire Homework1 folder or upload that folder to GitHub as a repository, and Gritty can run the notebook without making any changes. These are relative file paths, which point to the location of a file on a computer relative to the working directory (i.e., the folder where homework1_notebook.ipynb is saved).\nFor your homework assignments, the most straightforward way to structure your files is to download the entire GitHub repository for that assignment (see below). Then, you can create a Jupyter notebook in that folder and, when you’re finished, upload it to GitHub. This way, when we download the repository for grading, or you open the notebook on a different computer, everything will run without changes (assuming you used relative file paths)."
  },
  {
    "objectID": "resource/file-paths.html#glossary",
    "href": "resource/file-paths.html#glossary",
    "title": "File paths and working directories",
    "section": "Glossary",
    "text": "Glossary\nThese terms/commands work in Jupyter Notebooks, and they also apply to any command line tools you might encounter, like the Terminal, git bash, etc. except the Windows Command Prompt, Miniforge Prompt (which is actually just a wrapper around the Command Prompt), and Windows PowerShell.\nhome directory: Also referred to as ~. This is the directory for your particular user on your computer. In Windows, it’s usually something like C:/Users/eugene. If you open Terminal/Miniforge Prompt, it will be at this location by default.\nroot directory: Also referred to as /. This is the very highest level directory in your computer, where your operating system folders and such are located. We won’t be doing anything here, since deleting files can mess things up (I don’t think you can even open the root directory in the Windows File Explorer).\nworking directory: Also referred to as .. Relative file paths will be relative to this location on your computer. You can run the command pwd (“print working directory”) in either your Jupyter Notebook or the Terminal to see your current working directory. Note that ./subfolder/data.csv and subfolder/data.csv are the same; the first explicitly references the working directory, whereas it’s only implied in the second."
  },
  {
    "objectID": "resource/common-issues.html",
    "href": "resource/common-issues.html",
    "title": "Troubleshooting common installation issues",
    "section": "",
    "text": "Having trouble with mamba/conda or your Python installation? You’ve come to the right place. Below, we outline some of the most common issues encountered during local installation of Python packages, as well as the troubleshooting steps to try to fix the issues."
  },
  {
    "objectID": "resource/common-issues.html#common-problems",
    "href": "resource/common-issues.html#common-problems",
    "title": "Troubleshooting common installation issues",
    "section": "Common Problems",
    "text": "Common Problems\nBelow we list some of the most common issues encountered when installing packages with mamba.\n\nMissing package errors\nIf you have successfully followed the steps outlined in the installation guide to create your environment, but receive an ImportError when importing packages, you might have launched the notebook from the 'base' environment instead of the ‘musa-550-fall-2023’ environment. Be sure to activate the ‘musa-550-fall-2023’ environment before launching the notebook.s\n\n\nThe file extension of the environment file on Windows\nBe sure that Windows does not automatically add an .txt extension to your environment.yml file. This will sometimes cause mamba to fail, with a cryptic error:\nSpecNotFound: environment with requirements.txt needs a name\nThe environment file needs to end in .yml. You can change the extension for a file on Windows following these instructions.\n\n\nMixing pip and mamba\nThe command pip can also be used to install Python packages. However, using pip to install packages into a mamba environment can lead to issues. It’s best to stick to using the mamba env update command to update your environment or mamba install package_name to install specific packages.\n\n\nImport errors for geopandas\nWhen importing geopandas, you can sometimes receive errors about missing libraries. This is usually because package versions got mixed up during installation. This can sometimes happen, and geopandas is particularly sensitive to the versions of its dependencies.\nThe best and easiest thing to do to try to solve it is use the steps above to create a fresh environment.\n\n\nNumpy errors\nIf you receive the following error:\nImportError: Something is wrong with the numpy installation. While importing we detected an older version of numpy in ['/path/to/old/version/of/numpy/'']. One method of fixing this is to repeatedly uninstall numpy until none is found, then reinstall this version.\nFrom the Miniforge Prompt (Windows) or Terminal (Mac), run:\nmamba install --force-reinstall --clobber numpy"
  },
  {
    "objectID": "resource/common-issues.html#most-common-fix-install-a-fresh-environment",
    "href": "resource/common-issues.html#most-common-fix-install-a-fresh-environment",
    "title": "Troubleshooting common installation issues",
    "section": "Most common fix: install a fresh environment",
    "text": "Most common fix: install a fresh environment\nUnfortunately, mamba/conda environments can sometimes become corrupted, preventing new packages from being installed or imported into Python properly. Most issues like this can be solved by simply deleting your current environment and starting fresh with a new version.\nThe following steps can be used to try to solve common issues:\n\n\n\n\n\n\nNote\n\n\n\nThe commands here should be executed via the command line, either using the Miniforge Prompt on Windows or the Terminal app on MacOS.\n\n\n\nStep 1: Delete any existing environment\nWe want to create a fresh environment, so you can delete any environment that was giving you issues. If that environment was called ‘musa-550-fall-2023’, you can run the following commands to delete it:\nmamba deactivate\nmamba env remove --name musa-550-fall-2023\nThe first command will make sure the environment we are deleting isn’t active, and then the second command will perform the deletion.\n\n\nStep 2: Create a fresh environment\nFollow the instructions outlined here to create a fresh version of the course website."
  },
  {
    "objectID": "resource/python.html",
    "href": "resource/python.html",
    "title": "Python resources",
    "section": "",
    "text": "MUSA 550 assumes some general familiarity with programming concepts, but there aren’t any formal Python prerequisites. However, we recommend all students that they use some of the free, online resources for learning Python’s core concepts. Below, we include a number of online resources that are freely available for students in the course."
  },
  {
    "objectID": "resource/python.html#datacamp-courses",
    "href": "resource/python.html#datacamp-courses",
    "title": "Python resources",
    "section": "DataCamp courses",
    "text": "DataCamp courses\nDataCamp is providing 6 months of complimentary access to its courses for students in MUSA 550. Whether you have experience with Python or not, this is a great opportunity to learn the basics of Python and practice your skills.\nIt is strongly recommended that you watch some or all of the introductory videos below to build a stronger Python foundation for the semester. The more advanced, intermediate courses are also great — the more the merrier!\n\n\n\n\n\n\nImportant\n\n\n\nTo gain access, use this unique invite link. You will need to create or sign in to a DataCamp account with an “upenn.edu” email address.\n\n\nIntroductory DataCamp courses include:\n\nIntroduction to Python for Data Science\nPython Data Science Toolbox, Part 1\nPython DataScience Toolbox, Part 2\nIntroduction to NumPy\n\nAnd there are also shorter, free tutorials available on some core Python concepts:\n\nIf/else statements\nFor loops\nWhile loops\n\nA few courses covering more advanced topics include:\n\nIntermediate Python\nWriting functions in Python\n\nThere are also courses available to help reinforce topics we will cover in detail during the semester, including:\n\nData manipulation with pandas\nJoining data with pandas\nIntroduction to Data Visualization with seaborn\nIntroduction to Data Visualization with matplotlib\nIntermediate Data Visualization with seaborn\nSupervised Learning with scikit-learn\n\n\n\n\n\n\n\nTip\n\n\n\nCheck out the full list of available Python courses on DataCamp’s website."
  },
  {
    "objectID": "resource/python.html#introductory-python-tutorials",
    "href": "resource/python.html#introductory-python-tutorials",
    "title": "Python resources",
    "section": "Introductory Python tutorials",
    "text": "Introductory Python tutorials\nThe following tutorials assume no background in Python and provide a fairly comprehensive introduction to Python and its core concepts.\n\nPractical Python Programming by David Beazley\nPython for Social Science (in particular, the first four chapters)\nScientific Python Basics from the Berkeley Institute for Data Science (notebook version)"
  },
  {
    "objectID": "resource/python.html#more-in-depth-resources",
    "href": "resource/python.html#more-in-depth-resources",
    "title": "Python resources",
    "section": "More in-depth resources",
    "text": "More in-depth resources\nThere are two books available online for free that can serve as good resources for introductory Python basics as well as more advanced data science concepts.\n\nPython for Data Analysis\nThe Python for Data Analysis book by Wes McKinney (the creator of Pandas) is an excellent resource that covers the pandas library in great detail. The first few chapters are very good at covering the foundations of Python that we will use in this course:\n\nChatper 2: Python Basics\nChapter 3: Built-in Python Features\nChapter 4: NumPy Basics\nChapter 5: Intro to pandas\nChapter 9: Plotting & visualization\n\n\n\nThe Python Data Science Handbook\nThe The Python Data Science Handbook by Jake VanderPlas is a free, online textbook covering the Python basics needed for this course. It is a bit more advanced than the resources in the previous section and assumes some familiarity with Python.\nIn particular, the first four chapters are excellent:\n\nChapter 1: IPython/Jupyter\nChapter 2: Numpy\nChapter 3: Pandas\nChapter 4: matplotlib\n\nThe data analysis library pandas and the visualization library matplotlib will be covered extensively in this course, but the above chapters provide additional background material on this foundational Python tools.\nNote: You can click on the “Open in Colab” button for each chapter and run the examples interactively in a cloud computing environment directly in the browser (using Google Colab)."
  },
  {
    "objectID": "resource/python.html#additional-resources",
    "href": "resource/python.html#additional-resources",
    "title": "Python resources",
    "section": "Additional Resources",
    "text": "Additional Resources\n\nThe Berkeley Institute for Data Science has compiled a number of Python resources\nThe subreddit r/learnpython is a good place for Python resources — it maintains a comprehensive wiki of resources and tutorials."
  },
  {
    "objectID": "resource/jupyter.html",
    "href": "resource/jupyter.html",
    "title": "Using Jupyter notebooks and JupyterLab",
    "section": "",
    "text": "In this course, we will perform most of our Python data analysis in files known as Jupyter notebooks. These files, which have an extension of “.ipynb”, combine live runnable code with narrative text (via the Markdown language), images, interactive visualizations and other rich output.\nTo work with notebook files, we will use an application called JupyterLab. JupyterLab is a browser-based interface that allows users to edit and execute notebook files. It can also handle all sorts of additional file formats and even has a built-in command-line feature.\nOn this page, I’ll discuss two common issues when starting out with Jupyter notebooks and JupyterLab: launching JupyterLab and ensuring the right files are available."
  },
  {
    "objectID": "resource/jupyter.html#launching-jupyterlab",
    "href": "resource/jupyter.html#launching-jupyterlab",
    "title": "Using Jupyter notebooks and JupyterLab",
    "section": "Launching JupyterLab",
    "text": "Launching JupyterLab\nThe recommended approach for starting JupyterLab is to use the Miniforge Prompt on Windows or the Terminal app on MacOS. To do so, we simply need to activate our ‘musa-550-fall-2023’ environment and then launch the notebook.\nFrom the command line, run:\nmamba activate musa-550-fall-2023\njupyter lab\nThis will create the local Jupyter server and should launch the JupyterLab dashboard in a browser. If it does not open in a browser, copy the link that is output by the command into your favorite browser. Typically, the server will be running at http://localhost:8888. The dashboard should like look something like this:\n\nOn the left, you’ll see a file browser for the files in the folder where you ran the jupyter lab command. On the right you will see the “Launcher”, which allows you to easily create various types of new files. Click on the “Python 3” button under the “Notebook” section and you’ll create your first notebook. Alternatively, you can use the File -&gt; New -&gt; Notebook option from the menu bar. The new notebook, entitled “Untitled.ipynb”, is created within the same directory.\nThe “Launcher” also shows you what other actions you can take with JupyterLab, including creating text files, Python files (“.py” files), Markdown files, new terminals or Python consoles. One of the most powerful features of JupyterLab is its ability to handle multiple file formats at once. You can have multiple file types open in the main work area and drag and resize these files to view them all at once, as described here.\n\n\n\n\n\n\nTip\n\n\n\nMore info on the various components of the JupyterLab interface, with several useful videos, is available here."
  },
  {
    "objectID": "resource/jupyter.html#changing-the-jupyterlab-start-up-folder",
    "href": "resource/jupyter.html#changing-the-jupyterlab-start-up-folder",
    "title": "Using Jupyter notebooks and JupyterLab",
    "section": "Changing the JupyterLab start-up folder",
    "text": "Changing the JupyterLab start-up folder\nBy default, JupyterLab launches from the home directory. When you see the file browser on the left of the dashboard, you should see all of the files in this folder.\nWhen working with weekly lectures or assignments, it is easiest to launch JupyterLab from the specific assignment or week folder that you are working on.\nThere are two options to do this:\n\nChange to the desired folder before launching JupyterLab\nUse the “notebook-dir” option to specify the desired folder when launching JupyterLab\n\n\nOption 1\n\nStep 1: Change to the desired directory\nLet’s imagine we want to change to a folder named:\n/Users/YourUserName/MUSA_550 (on a Mac),\nor\nC:\\Users\\YourUserName\\MUSA_550 (on Windows)\nIf you need help finding the folder name’s path, this guide for Windows. (I usually use Method #2). On MacOS, you can use this guide to copy a folder’s path name.\nNext, use the following steps:\nStep 1. On Windows, open the Miniforge Prompt, or on Mac, open the Terminal.\nStep 2. Navigate to the folder where the environment file is located. From the Prompt or Terminal run:\n\nWindows\ncd C:\\Users\\YourUserName\\MUSA_550\nMac\ncd /Users/YourUserName/MUSA_550/\n\n\n\nStep 2: Launch JupyterLab\nNow, type the following command, either in Anaconda Prompt or the Terminal:\njupyter lab\nAnd you should now see the desired files in the file browser on the left sidebar of the JupyterLab interface!\n\n\n\nOption 2\nFrom the command line (Miniforge Prompt or Terminal), we can use the “notebook-dir” option to specify what working directory we want JupyterLab to use. For example, if we want to start from “/Users/YourUserName/MUSA_550/”, we could do:\n\nWindows\njupyter lab --notebook-dir=C:\\Users\\YourUserName\\MUSA_550\nMac\njupyter lab --notebook-dir=/Users/YourUserName/MUSA_550/"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Geospatial Data Science",
    "section": "",
    "text": "Geospatial Data Science\n    \n      Use Python to gather, visualize, and analyze geospatial data with an urban planning and public policy focus\n    \n    \n      MUSA 550 • Fall 2023Masters of Urban Spatial AnalyticsWeitzman School of Design, University of Pennsylvania\n    \n  \n  \n    \n      \n        \n      \n    \n  \n\n\n\n\n\nInstructors\n\nSection 401\n\n   Dr. Nick Hand\n   nhand@design.upenn.edu\n   nicholashand\n\n\n\nSection 402\n\n   Dr. Eric Delmelle\n   ericdel@design.upenn.edu\n   ericdelmelle\n\n\n\n\nCourse details\n\nSection 401\n\n   Mondays and Wednesdays\n   8:30AM-10:00AM\n   Williams Hall 202\n\n\n\nSection 402\n\n   Thursdays\n   1:45PM-4:45PM\n   Meyerson Hall B2\n\n\n\n\nContacting us\nE-mail is the best way to get in contact with us. We will try to respond to all course-related e-mails within 24 hours, although we do have a few tiny humans 👶 at home, so it may be a bit longer on occassion. Please be patient!"
  },
  {
    "objectID": "assignment/402/assignment-1.html",
    "href": "assignment/402/assignment-1.html",
    "title": "HW #1",
    "section": "",
    "text": "Section 402: Thursday, September 14 at 11:59 PM\n\nThis week’s assignment will be broken into two parts:\n\n\n\nFollow the initial installation guide on the course website for instructions on how to set up Python locally and launch JupyterLab\nPlease see the list of recommended readings for tutorials and background reading to get familiar with Python, mamba/conda, and the Jupyter notebook.\nProblems? Post your question to Ed Discussion!\n\n\nIf you’ve successfully followed the installation guide, you should be able to launch JupyterLab by running jupyter lab (after activating the course environment) from the command line. This should launch the JupyterLab dashboard. Now you can launch the assignment notebook “assignment-1.ipynb” and get started on the homework!\nThe notebook will execute code from the current working directory (the folder that the notebook was launched from). This folder is usually your home folder on your laptop. If you are using relative file paths to load the data, the path should be relative to this working directory. From within the Jupyter notebook, you can find out the current working directory by running the following command in a cell:\npwd\nIf you’ve downloaded the assignment-1 repository to your computer, it usually makes sense to launch the Jupyter notebook from this folder instead of the default folder. You can change the start-up folder by first navigating to your assignment folder in the command line: see instructions here.\n\n\n\n\nIn part #2, you will explore the Donut Effect for home values in different parts of Philadelphia. This part will be submitted as a Jupyter notebook (a .ipynb file). There is already a starter notebook in this repository to help guide you through this part.\n\n\nNote: Be sure to read the documentation for assignment guidelines and submission.\nYou will submit your assignment through GitHub. For each assignment, I will provide a GitHub link that can be used to create a new repository. Each student will have their own private repository on GitHub where the assignment can be submitted. Only the student and instructors will have access to the private repository.\nThe invitation link depends on your section. For this assignments, the links are:\n\nSection 402: https://classroom.github.com/a/CGz9BQNG\n\nIf you do not have a GitHub account yet, you should be prompted to make an account. After clicking on this link, GitHub will create a new private repo with permissions such that only you and the instructors can view the commits.\nYour assignment should be added to this newly crearted GitHub repository before the deadline. You can add files to the repository through the web (github.com) interface or using the command line on your laptop.\nImportant: Files should be committed to the newly created private repository (after following the above link) and not to your forked version of the assignment-1 repository.\nYour Jupyter notebook should be submitted to your private repository by the deadline."
  },
  {
    "objectID": "assignment/402/assignment-1.html#due-date",
    "href": "assignment/402/assignment-1.html#due-date",
    "title": "HW #1",
    "section": "",
    "text": "Section 402: Thursday, September 14 at 11:59 PM\n\nThis week’s assignment will be broken into two parts:"
  },
  {
    "objectID": "assignment/402/assignment-1.html#part-1-installing-python-locally-and-launching-a-jupyter-notebook",
    "href": "assignment/402/assignment-1.html#part-1-installing-python-locally-and-launching-a-jupyter-notebook",
    "title": "HW #1",
    "section": "",
    "text": "Follow the initial installation guide on the course website for instructions on how to set up Python locally and launch JupyterLab\nPlease see the list of recommended readings for tutorials and background reading to get familiar with Python, mamba/conda, and the Jupyter notebook.\nProblems? Post your question to Ed Discussion!\n\n\nIf you’ve successfully followed the installation guide, you should be able to launch JupyterLab by running jupyter lab (after activating the course environment) from the command line. This should launch the JupyterLab dashboard. Now you can launch the assignment notebook “assignment-1.ipynb” and get started on the homework!\nThe notebook will execute code from the current working directory (the folder that the notebook was launched from). This folder is usually your home folder on your laptop. If you are using relative file paths to load the data, the path should be relative to this working directory. From within the Jupyter notebook, you can find out the current working directory by running the following command in a cell:\npwd\nIf you’ve downloaded the assignment-1 repository to your computer, it usually makes sense to launch the Jupyter notebook from this folder instead of the default folder. You can change the start-up folder by first navigating to your assignment folder in the command line: see instructions here."
  },
  {
    "objectID": "assignment/402/assignment-1.html#part-2-exploring-the-donut-effect-for-philadelphia-zip-codes",
    "href": "assignment/402/assignment-1.html#part-2-exploring-the-donut-effect-for-philadelphia-zip-codes",
    "title": "HW #1",
    "section": "",
    "text": "In part #2, you will explore the Donut Effect for home values in different parts of Philadelphia. This part will be submitted as a Jupyter notebook (a .ipynb file). There is already a starter notebook in this repository to help guide you through this part.\n\n\nNote: Be sure to read the documentation for assignment guidelines and submission.\nYou will submit your assignment through GitHub. For each assignment, I will provide a GitHub link that can be used to create a new repository. Each student will have their own private repository on GitHub where the assignment can be submitted. Only the student and instructors will have access to the private repository.\nThe invitation link depends on your section. For this assignments, the links are:\n\nSection 402: https://classroom.github.com/a/CGz9BQNG\n\nIf you do not have a GitHub account yet, you should be prompted to make an account. After clicking on this link, GitHub will create a new private repo with permissions such that only you and the instructors can view the commits.\nYour assignment should be added to this newly crearted GitHub repository before the deadline. You can add files to the repository through the web (github.com) interface or using the command line on your laptop.\nImportant: Files should be committed to the newly created private repository (after following the above link) and not to your forked version of the assignment-1 repository.\nYour Jupyter notebook should be submitted to your private repository by the deadline."
  },
  {
    "objectID": "assignment/402/assignment-2.html",
    "href": "assignment/402/assignment-2.html",
    "title": "HW #2",
    "section": "",
    "text": "Assigned on Thursday, September 14\n\n\nDue on Thursday, September 28 at 11:59 PM"
  },
  {
    "objectID": "assignment/402/assignment-2.html#due-dates",
    "href": "assignment/402/assignment-2.html#due-dates",
    "title": "HW #2",
    "section": "Due Dates",
    "text": "Due Dates\n\nSection 402: Thursday, September 28 by end of day (11:59 PM)"
  },
  {
    "objectID": "assignment/402/assignment-2.html#recommended-readings",
    "href": "assignment/402/assignment-2.html#recommended-readings",
    "title": "HW #2",
    "section": "Recommended Readings",
    "text": "Recommended Readings\n\nMatplotlib:\n\nGuide to getting started with matplotlib\nPlotting & visualization chapter of Python for Data Analysis\nMatplotlib chapter of the Data Science Handbook\n\nAltair:\n\nIntroduction to Statistical Visualization\nExploring Seattle Weather: A Case Study\n\nData viz design: Introductory slides of London’s design guidelines"
  },
  {
    "objectID": "assignment/402/assignment-2.html#reference-materials",
    "href": "assignment/402/assignment-2.html#reference-materials",
    "title": "HW #2",
    "section": "Reference materials",
    "text": "Reference materials\n\nmatplotlib\nseaborn\naltair"
  },
  {
    "objectID": "assignment/402/assignment-2.html#exploratory-data-visualization",
    "href": "assignment/402/assignment-2.html#exploratory-data-visualization",
    "title": "HW #2",
    "section": "Exploratory Data Visualization",
    "text": "Exploratory Data Visualization\nIn this part, you’ll use matplotlib, seaborn, and altair to explore a dataset of your choosing and generate some charts in a Jupyter notebook.\n\nPart 1: Select a dataset\nFor this assignment, you can choose your own dataset to explore. I recommend selecting a dataset from OpenDataPhilly. You are welcome to to use a dataset from elsewhere, but please email your instructor and let them know what you want to analyze.\nDatasets with timestamped entries will be particularly good for analysis, but there are many interesting datasets to consider. They include:\n\n311 Requests\nVoter turnout\nComplaints against police\nParking violations\nShooting victims\nL+I Violations\n\nand many more…\nFor OpenDataPhilly datasets, data files can be downloaded in the form of CSV files.\n\n\nPart 2: Explore and visualize the data\nFrom within a Jupyter notebook, you should explore the datasets and generate charts visualizing different aspects of the data.\nRequirements:\n\n1 Matplotlib chart (of any type)\n\nYou should consider what aspect of the dataset might be best plotted using matplotlib.\nInclude your reasoning for using matplotlib to visualize this specific aspect of the data.\nYou will be graded on the aesthetics of the plot, namely, color choices and clarity.\n\n1 seaborn chart (of any type)\n\nPlease include the motivation behind your choice for the type of seaborn plot used and why.\n\n3 altair plots\n\nBoth of the following techniques should be used:\n\nA transformation (mean, count, binning, etc)\nBrush selection\n\n\nInclude a short discussion (a few sentences) of the main conclusion of each chart (in a markdown cell below each chart). It does not need to be interesting or insightful, but it is good practice to always note the main conclusions so the notebook make sense after time passes.\nExtra credit:: 2-chart altair dashboard,\n\nThis should be in addition to the 3 charts above\nFiltering on one chart should cross-filter the other chart (via transform_filter())\n\n\nNote: You may include geospatial charts to satisfy the above requirements, but you are not required to."
  },
  {
    "objectID": "assignment/402/assignment-2.html#grading-guidelines",
    "href": "assignment/402/assignment-2.html#grading-guidelines",
    "title": "HW #2",
    "section": "Grading Guidelines",
    "text": "Grading Guidelines\nSee the grading rubric for more details.\nImportant: Your notebooks should be a polished finished product. For example:\n\nPlease remove any extra or unneccesary code.\nPlease try to use markdown cells with section headers to mark different sections of the analysis."
  },
  {
    "objectID": "assignment/402/assignment-2.html#submission",
    "href": "assignment/402/assignment-2.html#submission",
    "title": "HW #2",
    "section": "Submission",
    "text": "Submission\nNote: Be sure to read the documentation for assignment guidelines and submission.\nWe’ll be using GitHub for assignment submission again. The invitation link depends on your section. For this assignments, the links are:\n\nSection 402: https://classroom.github.com/a/coiOv0PU\n\nYour assignment notebook should be added to this GitHub repository before the deadline.\nNote: File sizes are limited to 25 MB when adding files to a repository via GitHub in a browser. If your dataset is larger than this, you can try compressing it into a “.zip” to make the file smaller, and then add it to the repository on GitHub. If you run into problems, please email your instructor for help."
  },
  {
    "objectID": "assignment/402/assignment-5.html",
    "href": "assignment/402/assignment-5.html",
    "title": "HW #5",
    "section": "",
    "text": "Assigned on Monday, November 6\n\n\nDue on Monday, November 20 at 11:59 PM\n\n\n\n\n View materials: MUSA-550-Fall-2023/assignment-5\n\n\n Submission link: GitHub classroom\n\n\nCheck back later for details!"
  },
  {
    "objectID": "assignment/402/final-project.html",
    "href": "assignment/402/final-project.html",
    "title": "Final Project",
    "section": "",
    "text": "Due on Wednesday, December 20 at 11:59 PM\nThe final project is to replicate the pipeline approach on a dataset (or datasets) of your choosing.\nThe final deliverable will be a web-based data visualization and accompanying description including a summary of the results and the methods used in each step of the process (collection, analysis and visualization)."
  },
  {
    "objectID": "assignment/402/final-project.html#due-dates",
    "href": "assignment/402/final-project.html#due-dates",
    "title": "Final Project",
    "section": "Due dates",
    "text": "Due dates\nNote: Due dates are tentative and subject to change\nWritten proposal due date: Monday, December 4th (or earlier)\nProject due date: Wednesday, December 20th at 11:59 PM\nFinal projects must receive prior approval in the form of a written proposal."
  },
  {
    "objectID": "assignment/402/final-project.html#deliverable",
    "href": "assignment/402/final-project.html#deliverable",
    "title": "Final Project",
    "section": "Deliverable",
    "text": "Deliverable\nThe final deliverable must include all both of the following items:\n\nA Quarto website that summarizes the project and main results, using a combination of text, images, and interactive visualizations.\nThe website should be hosted on GitHub Pages and should be generated from the Quarto website template repository. The website should be a multi-page document that explains in depth all aspects of the project’s implementation as well as the final results.\nAll code/notebooks/spreadsheets/datasets used. These materials should be submitted to your own specific GitHub repository, which can be created using the link below, depending on your section:\n\nSection 401: https://classroom.github.com/a/iA1Z_0Dv\nSection 402: https://classroom.github.com/a/FX7-CcSS\n\nIn this repository, you should include all of the code used to collect, analyze, and visualize the data. You should also include a README file that includes the repository URL for the Quarto website set up in #1 above.\n\n\nImportant\n\nBe sure to include the URL for your Quarto website in the README of the main, submission repository.\nBe sure to include the names of everyone who worked on the final project somewhere in the README!"
  },
  {
    "objectID": "assignment/402/final-project.html#group-projects",
    "href": "assignment/402/final-project.html#group-projects",
    "title": "Final Project",
    "section": "Group projects",
    "text": "Group projects\nGroup projects are permitted, with a maximum number of group members of 3. You are also permitted to combine this assignment with one you are working on for another course. But keep in mind that if you choose either of these options, the expectations for the project’s scope will be adjusted accordingly.\nIf you combine this assignment with one from another course, the portion that you are submitting for this final project must be a clearly defined addition to the original project. In such a case, you will be graded only on the portion submitted for this course, not on the entire project."
  },
  {
    "objectID": "assignment/402/final-project.html#guidelines",
    "href": "assignment/402/final-project.html#guidelines",
    "title": "Final Project",
    "section": "Guidelines",
    "text": "Guidelines\nThe project is open-ended. The topic and technologies used are up to you. However, the project must be sufficiently complex and challenging. Below is the list of possible requirements for the project. The number of requirements you must satisfy depends on the number of people in your group:\n\n1 person: 2 requirements\n2 people: 3 requirements\n3 people: 4 requirements\n\nThe list of requirements is:\n\nData is collected through a means more sophisticated than downloading (e.g. scraping, API).\nAt least one of the datasets contains more than 1,000,000 rows.\nIt combines data collected from 3 or more different sources.\nThe analysis of the data is reasonably complex, involving multiple steps (geospatial joins/operations, data shaping, data frame operations, etc).\nYou use an osmnx or pandana to perform an analysis of street network data\nYou use scikit-learn to perform a clustering analysis\nYou analyze raster data using rasterio, rasterstats, or xarray.\nYou perform a machine learning analysis with scikit-learn as part of the analysis.\nThe project includes a deployed Panel dashboard\nThe project includes multiple interactive visualizations that include a significant interactive component (cross-filtering, interactive widgets, etc)\n\nAs a rough guideline, you should shoot for something that is 3-4 times as involved as the required assignments."
  },
  {
    "objectID": "assignment/402/final-project.html#grading",
    "href": "assignment/402/final-project.html#grading",
    "title": "Final Project",
    "section": "Grading",
    "text": "Grading\nThe final project is worth 45% of the final grade and will be graded on four criteria:\n\nConcept: Is it sufficiently complex/challenging/sophisticated? Is the final product useful/interesting/creative?\nTechnical implementation: Was it well thought out? Was each step done correctly? Does it work as described? Is it consistent with the proposal?\nVisualization: How well does the data visualization serve its purpose? Does it tell a clear story? Are the colors/layout/titles well-chosen?\nWriteup: Is all of the above explained clearly? The writeup should be a multi-page document that explains in depth all aspects of the project’s implementation as well as the final results."
  },
  {
    "objectID": "assignment/402/final-project.html#examples-from-past-semesters",
    "href": "assignment/402/final-project.html#examples-from-past-semesters",
    "title": "Final Project",
    "section": "Examples from Past Semesters",
    "text": "Examples from Past Semesters\nNote: Previous semesters used a different web-based template for presenting project results, so past projects will appear different. The template used in this semester is the Quarto website template.\n\nAn Analysis System for Taxi Data: A series of planning, visualization and prediction tools around taxi ridership.\nHospitality in the Era of Airbnb: An analysis of the impact of Airbnb on the hospitality industry in New York.\nA Look at Reddit’s Values, IRL Events, and Possible Bad Actors: An analysis of Reddit data to determine what redditors “value”\nOrange Line Shutdown Effects on Bluebike Ridership: An analysis examining the effect of the orange line shutdown on Bluebike ridership in Boston, MA"
  },
  {
    "objectID": "assignment/401/schedule.html",
    "href": "assignment/401/schedule.html",
    "title": "Assignments: Section 401",
    "section": "",
    "text": "Note\n\n\n\nThe schedule is tentative and could change in the future.\n\n\n\n\n\n\n\n\n\n   Assigned on\n\n\n   Due on\n\n\n\n\n\n\nHW #1\n\n\nWednesday, September 6\n\n\nMonday, September 25\n\n\n\n\nHW #2\n\n\nMonday, September 25\n\n\nMonday, October 9\n\n\n\n\nHW #3\n\n\nMonday, October 9\n\n\nMonday, October 23\n\n\n\n\nHW #4\n\n\nMonday, October 23\n\n\nMonday, November 6\n\n\n\n\nHW #5\n\n\nMonday, November 6\n\n\nMonday, November 20\n\n\n\n\nHW #6\n\n\nMonday, November 20\n\n\nMonday, December 4\n\n\n\n\nFinal project proposal\n\n\n\n\nMonday, December 4\n\n\n\n\nFinal project\n\n\n\n\nWednesday, December 20"
  },
  {
    "objectID": "assignment/401/assignment-3.html",
    "href": "assignment/401/assignment-3.html",
    "title": "HW #3",
    "section": "",
    "text": "Assigned on Monday, October 9\n\n\nDue on Monday, October 23 at 11:59 PM"
  },
  {
    "objectID": "assignment/401/assignment-3.html#due-dates",
    "href": "assignment/401/assignment-3.html#due-dates",
    "title": "HW #3",
    "section": "Due Dates",
    "text": "Due Dates\n\nSection 401: October 23 by end of day"
  },
  {
    "objectID": "assignment/401/assignment-3.html#topics-covered",
    "href": "assignment/401/assignment-3.html#topics-covered",
    "title": "HW #3",
    "section": "Topics covered",
    "text": "Topics covered\n\ngeopandas and spatial operations\nhvplot\nRaster data"
  },
  {
    "objectID": "assignment/401/assignment-3.html#description",
    "href": "assignment/401/assignment-3.html#description",
    "title": "HW #3",
    "section": "Description",
    "text": "Description\nThis assignment will include two parts:\nIn Part 1, we’ll explore spatial trends evictions in Philadelphia using data from the Eviction Lab and building code violations using data from OpenDataPhilly.\nWe’ll be exploring the idea that evictions can occur as retaliation against renters for reporting code violations. Spatial correlations between evictions and code violations from the City’s Licenses and Inspections department can offer some insight into this question.\nIn Part 2, we’ll dive into the NDVI in Philadelphia more. Using Landsat data, we’ll calculate the NDVI within the city limits and compare it to the NDVI in the immediate suburbs. We’ll also calculate the NDVI at the locations of trees in Philadelphia, using a dataset of street trees from OpenDataPhilly.\n\nBackground readings\n\nHuffPost article\nPlanPhilly article\nThe Eviction Lab\nData Dictionary for Eviction Lab data available for download in this repository"
  },
  {
    "objectID": "assignment/401/assignment-3.html#assignment-details",
    "href": "assignment/401/assignment-3.html#assignment-details",
    "title": "HW #3",
    "section": "Assignment details",
    "text": "Assignment details\nA skeleton Jupyter notebook is available in this repository that will walk you through the steps of the assignment. The completed notebook should be submitted as your assignment."
  },
  {
    "objectID": "assignment/401/assignment-3.html#submission",
    "href": "assignment/401/assignment-3.html#submission",
    "title": "HW #3",
    "section": "Submission",
    "text": "Submission\nWe’ll be using GitHub for assignment submission again. You can set up your own private repository on GitHub for this assignment using the link below.\nThe invitation link will depend upon your section:\n\nSection 401: https://classroom.github.com/a/_r-fhCLn\n\nThe assignment should be added to this GitHub repository before the deadline. You can add files to the repository through the web (github.com) interface or using the command line locally on your machine."
  },
  {
    "objectID": "assignment/401/assignment-6.html",
    "href": "assignment/401/assignment-6.html",
    "title": "HW #6",
    "section": "",
    "text": "Assigned on Monday, November 20\n\n\nDue on Monday, December 4 at 11:59 PM\n\n\n\n\n View materials: MUSA-550-Fall-2023/assignment-6\n\n\n Submission link: GitHub classroom\n\n\nCheck back later for details!"
  },
  {
    "objectID": "assignment/401/assignment-4.html",
    "href": "assignment/401/assignment-4.html",
    "title": "HW #4",
    "section": "",
    "text": "Assigned on Monday, October 23\n\n\nDue on Monday, November 6 at 11:59 PM"
  },
  {
    "objectID": "assignment/401/assignment-4.html#due-dates",
    "href": "assignment/401/assignment-4.html#due-dates",
    "title": "HW #4",
    "section": "Due Dates",
    "text": "Due Dates\n\nSection 401: November 6 by end of day"
  },
  {
    "objectID": "assignment/401/assignment-4.html#description",
    "href": "assignment/401/assignment-4.html#description",
    "title": "HW #4",
    "section": "Description",
    "text": "Description\n\nPart 1: Visualizing crash data in Philadelphia**\nIn this section, you will use osmnx to analyze the crash incidence in Center City.\n\n\nPart 2: Scraping Craigslist\nIn this section, you will use Selenium and BeautifulSoup to scrape data for hundreds of apartments from Philadelphia’s Craigslist portal."
  },
  {
    "objectID": "assignment/401/assignment-4.html#submission",
    "href": "assignment/401/assignment-4.html#submission",
    "title": "HW #4",
    "section": "Submission",
    "text": "Submission\nWe’ll be using GitHub for assignment submission again. You can set up your own private repository on GitHub for this assignment using the link below.\nThe invitation link will depend upon your section:\n\nSection 401: https://classroom.github.com/a/0M2iqf-N\n\nThe assignment should be added to this GitHub repository before the deadline. You can add files to the repository through the web (github.com) interface or using the command line locally on your machine."
  },
  {
    "objectID": "assignment/401/final-project-proposal.html",
    "href": "assignment/401/final-project-proposal.html",
    "title": "Final Project Proposal",
    "section": "",
    "text": "Due on Monday, December 4 at 11:59 PM\n\n\n\n\n View materials: MUSA-550-Fall-2023/final-project-proposal\n\n\n Submission link: GitHub classroom\n\n\nCheck back later for details!"
  },
  {
    "objectID": "content/week-8/index.html",
    "href": "content/week-8/index.html",
    "title": "Week 8: Analyzing and Visualizing Large Datasets",
    "section": "",
    "text": "Content for lectures 8A and 8B\n\n\n        \n            \n             \n            View materials:\n             \n            MUSA-550-Fall-2023/week-8\n        \n\n        \n            \n             \n            HTML slides:\n             \n            \n                Lecture 8A\n            \n             \n            \n                Lecture 8B\n            \n        \n        \n\n        \n            \n             \n            Executable slides:\n             \n            \n                Lecture 8A\n            \n             \n            \n                Lecture 8B"
  },
  {
    "objectID": "content/week-8/index.html#recommended-readings",
    "href": "content/week-8/index.html#recommended-readings",
    "title": "Week 8: Analyzing and Visualizing Large Datasets",
    "section": "Recommended Readings",
    "text": "Recommended Readings\n\nUnderstanding the datashader algorithm"
  },
  {
    "objectID": "content/week-8/index.html#new-packages",
    "href": "content/week-8/index.html#new-packages",
    "title": "Week 8: Analyzing and Visualizing Large Datasets",
    "section": "New Packages",
    "text": "New Packages\n\nintake\ndask\ndatashader\ncolorcet"
  },
  {
    "objectID": "content/week-8/index.html#useful-links-and-reference-materials",
    "href": "content/week-8/index.html#useful-links-and-reference-materials",
    "title": "Week 8: Analyzing and Visualizing Large Datasets",
    "section": "Useful Links and Reference Materials",
    "text": "Useful Links and Reference Materials\n\nDatashader User Guide\nDatashader Example Use Cases"
  },
  {
    "objectID": "content/week-8/lecture-8A.html",
    "href": "content/week-8/lecture-8A.html",
    "title": "Week 8Analyzing and Visualizing Large Datasets",
    "section": "",
    "text": "Oct 23, 2023\nSection 401"
  },
  {
    "objectID": "content/week-8/lecture-8A.html#this-weeks-agenda-working-with-big-data",
    "href": "content/week-8/lecture-8A.html#this-weeks-agenda-working-with-big-data",
    "title": "Week 8Analyzing and Visualizing Large Datasets",
    "section": "This week’s agenda: working with big data",
    "text": "This week’s agenda: working with big data\nBy example: - Open Street Map data - Census data - NYC taxi cab trips\n\n# Initial imports\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\nimport geopandas as gpd"
  },
  {
    "objectID": "content/week-8/lecture-8A.html#the-holoviz-ecosystem-revisited",
    "href": "content/week-8/lecture-8A.html#the-holoviz-ecosystem-revisited",
    "title": "Week 8Analyzing and Visualizing Large Datasets",
    "section": "The holoViz ecosystem (revisited)",
    "text": "The holoViz ecosystem (revisited)\n3 new packages: - Dask: analyzing large datasets - Intake: loading data sets into Python - Datashader: visualizing large data sets"
  },
  {
    "objectID": "content/week-8/lecture-8A.html#first-up-dask",
    "href": "content/week-8/lecture-8A.html#first-up-dask",
    "title": "Week 8Analyzing and Visualizing Large Datasets",
    "section": "First up: dask",
    "text": "First up: dask\nOut-of-core (larger-than-memory) operations in Python\nExtends the maximum file size from the size of memory to the size of your hard drive\n\nThe key: lazy evaluation\nDask stores does not evaluate expressions immediately — rather it stores a task graph of the necessary calculations.\n\n\nNumpy arrays\n\n# Create an array of normally-distributed random numbers\na = np.random.randn(1000)\n\na[:10] \n\narray([ 1.19762135,  1.83169553,  1.70239442,  1.5931158 , -1.42665936,\n       -0.58410114, -0.95528754, -0.62491725,  1.35811674, -1.47935545])\n\n\n\n# Multiply this array by a factor\nb = a * 4\n\n\n# Find the minimum value\nb_min = b.min()\n\n\nb_min\n\n-11.875423971838202\n\n\nDask arrays mirror the numpy array syntax…but don’t perform the calculation right away.\n\nimport dask.array as da\n\n# Create a dask array from the above array\na_dask = da.from_array(a, chunks=200)\n\n\n# Multiply this array by a factor\nb_dask = a_dask * 4\n\n\n# Find the minimum value\nb_min_dask = b_dask.min()\n\nprint(b_min_dask)\n\ndask.array&lt;amin-aggregate, shape=(), dtype=float64, chunksize=(), chunktype=numpy.ndarray&gt;\n\n\nWe need to explicitly call the compute() function to evaluate the expression. We get the same result as the non-lazy numpy result.\n\nb_min_dask.compute()\n\n-11.875423971838202\n\n\n\n\nDask dataframes\n\nSyntax mirrors the Pandas DataFrame object\nUses the task graph functionality to provides a unified interface to multiple pandas DataFrame objects.\n\n\n\n\n\n\nEnables out-of-core operations\nPandas DataFrames don’t need to fit into memory…when evaluating an expression, dask will load the data into memory when necessary.\nLet’s try it out:\nLoading 1 billion Open Street Map points…\nSource"
  },
  {
    "objectID": "content/week-8/lecture-8A.html#loading-data-with-intake",
    "href": "content/week-8/lecture-8A.html#loading-data-with-intake",
    "title": "Week 8Analyzing and Visualizing Large Datasets",
    "section": "Loading data with intake",
    "text": "Loading data with intake\n\nIntake helps make loading data into Python very easy\nWorks with the holoViz ecosystem, including dask\nWe’ll load the OSM data from Amazon s3:\n\nhttp://s3.amazonaws.com/datashader-data/osm-1billion.snappy.parq.zip\n\n\n\nAn intake “catalog”\n\nMetadata that tells Python where and how to download data\nOn first download, the data is cached locally to avoid repeated downloaded\nCreates a standard way of sharing datasets\n\nSee datasets.yml in this week’s repository.\n\n\nLoad our intake catalog\n\nimport intake\n\n\ndatasets = intake.open_catalog(\"./datasets.yml\")\n\n\n\nWhich datasets do we have?\n\nlist(datasets) \n\n['nyc_taxi_wide', 'census', 'osm']\n\n\n\n\n3 “big data” examples today\n\n1 billion OSM points: http://s3.amazonaws.com/datashader-data/osm-1billion.parq.zip\nNYC taxi trips: https://s3.amazonaws.com/datashader-data/nyc_taxi_wide.parq\n2010 Census data: http://s3.amazonaws.com/datashader-data/census2010.parq.zip"
  },
  {
    "objectID": "content/week-8/lecture-8A.html#example-1-osm-data-points",
    "href": "content/week-8/lecture-8A.html#example-1-osm-data-points",
    "title": "Week 8Analyzing and Visualizing Large Datasets",
    "section": "Example 1: OSM data points",
    "text": "Example 1: OSM data points\n\nConvert the data to a dask array: to_dask()\n\nThis step downloads the data.\nThe first time you run it, you should see a progress bar documenting the download progress.\nGiven the size of the data files (&gt; 1 GB), the download can take several minutes.\n\n\ntype(datasets.osm)\n\nintake_parquet.source.ParquetSource\n\n\n\nosm_ddf = datasets.osm.to_dask()\n\n\n\n\n\nosm_ddf\n\nDask DataFrame Structure:\n\n\n\n\n\n\n\nx\ny\n\n\nnpartitions=119\n\n\n\n\n\n\n\nfloat32\nfloat32\n\n\n\n...\n...\n\n\n...\n...\n...\n\n\n\n...\n...\n\n\n\n...\n...\n\n\n\n\n\nDask Name: read-parquet, 1 graph layer\n\n\n\n\n\n\n\n\nRemember\n\n\n\n\nThe data frame is sub-divided into 119 partitions and only one partition will be loaded into memory at a time.\nNo actual data has been loaded from the file yet!\n\n\n\n\n\nLet’s load the data for the first partition to peek at the head of the file\nOnly the data necessary to see the head of the file will be loaded.\n\n# we can still get the head of the file quickly\nosm_ddf.head(n=10)\n\n\n\n\n\n\n\n\nx\ny\n\n\n\n\n0\n-16274360.0\n-17538778.0\n\n\n1\n-16408889.0\n-16618700.0\n\n\n2\n-16246231.0\n-16106805.0\n\n\n3\n-19098164.0\n-14783157.0\n\n\n4\n-17811662.0\n-13948767.0\n\n\n5\n-17751736.0\n-13926740.0\n\n\n6\n-17711376.0\n-13921245.0\n\n\n7\n-17532738.0\n-13348323.0\n\n\n8\n-19093358.0\n-10380358.0\n\n\n9\n-19077458.0\n-10445329.0\n\n\n\n\n\n\n\n\n\nNote: What geographic coordinates?\n\nData is in Web Mercator (EPSG=3857) coordinates\nUnits are meters\n\n\n\nHow about the size of the data frame?\nAll data partitions must be loaded for this calculation…it will take longer!\n\n# getting the length means all of the data must be loaded though\nnrows = len(osm_ddf)\nprint(f\"number of rows = {nrows}\")\n\nnumber of rows = 1000050363\n\n\n1 billion rows!\n\n\nLet’s do some simple calculations\n\n# mean x/y coordinates\nmean_x = osm_ddf['x'].mean()\nmean_y = osm_ddf['y'].mean()\n\nprint(mean_x, mean_y)\n\ndd.Scalar&lt;series-..., dtype=float32&gt; dd.Scalar&lt;series-..., dtype=float32&gt;\n\n\n\n# evaluate the expressions\nprint(\"mean x = \", mean_x.compute())\n\nmean x =  2731828.836864097\n\n\n\n# evaluate the expressions\nprint(\"mean y = \", mean_y.compute())\n\nmean y =  5801830.125332437\n\n\n\n\nNow let’s visualize the points…but how?\n\n\nNot with matplotlib…\nMatplotlib struggles with only hundreds of points\n\n\nEnter Datashader\n“Turns even the largest data into images, accurately”\nDatashader is a library that produces a “rasterized” image of large datasets, such that the visual color mapping is a fair representation of the underlying data.\n\n\nThe Datashader pipeline\n\nAggregate data onto a pixelized image\nMap aggregated data to colors to properly represent density of data\n\nRecommended reading: Understanding the datashader algorithm\n\n\n# Datashader imports\nimport datashader as ds\nimport datashader.transfer_functions as tf\n\n\n# Color-related imports\nfrom datashader.colors import Greys9, viridis, inferno\nfrom colorcet import fire\n\n\n\nSteps:\n\nInitialize a datashader Canvas() with a specific width & height and x & y ranges (“extent”)\nAggregate the x/y points on the canvas into pixels, using a specified aggregation function\n\n\n\n\n\n\n\nImportant\n\n\n\n\ndatashader requires Web Mercator coordinates (EPSG=3857)\nIn this case, the data is already in the right coordinates so no transformation is needed\n\n\n\nSet up the global datashader canvas:\n\n# Web Mercator bounds\nbound = 20026376.39\nglobal_x_range = (-bound, bound)\nglobal_y_range = (int(-bound*0.4), int(bound*0.6))\n\n# Default width and height\nglobal_plot_width = 900\nglobal_plot_height = int(global_plot_width*0.5)\n\n\n# Step 1: Setup the canvas\ncanvas = ds.Canvas(\n    plot_width=global_plot_width,\n    plot_height=global_plot_height,\n    x_range=global_x_range,\n    y_range=global_y_range,\n)\n \n# Step 2: Aggregate the points into pixels\n# NOTE: Use the \"count()\" function — count number of points per pixel\nagg = canvas.points(osm_ddf, \"x\", \"y\", agg=ds.count())\n\nNote: The aggregated pixels are stored using xarray\n\nagg\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;xarray.DataArray (y: 450, x: 900)&gt;\narray([[0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       ...,\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0]], dtype=uint32)\nCoordinates:\n  * x        (x) float64 -2e+07 -1.996e+07 -1.992e+07 ... 1.996e+07 2e+07\n  * y        (y) float64 -7.988e+06 -7.944e+06 ... 1.195e+07 1.199e+07\nAttributes:\n    x_range:  (-20026376.39, 20026376.39)\n    y_range:  (-8010550, 12015825)xarray.DataArrayy: 450x: 9000 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 ... 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0array([[0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       ...,\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0]], dtype=uint32)Coordinates: (2)x(x)float64-2e+07 -1.996e+07 ... 2e+07array([-20004124.860678, -19959621.802033, -19915118.743389, ...,\n        19915118.743389,  19959621.802033,  20004124.860678])y(y)float64-7.988e+06 -7.944e+06 ... 1.199e+07array([-7988298.472222, -7943795.416667, -7899292.361111, ..., 11904567.361111,\n       11949070.416667, 11993573.472222])Indexes: (2)xPandasIndexPandasIndex(Float64Index([ -20004124.86067778, -19959621.802033335,  -19915118.74338889,\n              -19870615.684744447,      -19826112.6261, -19781609.567455556,\n              -19737106.508811112,  -19692603.45016667, -19648100.391522225,\n               -19603597.33287778,\n              ...\n               19603597.332877774,  19648100.391522218,  19692603.450166665,\n                19737106.50881111,  19781609.567455553,  19826112.626099996,\n                19870615.68474444,  19915118.743388884,   19959621.80203333,\n               20004124.860677775],\n             dtype='float64', name='x', length=900))yPandasIndexPandasIndex(Float64Index([-7988298.472222222, -7943795.416666667, -7899292.361111111,\n              -7854789.305555556,        -7810286.25, -7765783.194444444,\n              -7721280.138888889, -7676777.083333333, -7632274.027777778,\n              -7587770.972222222,\n              ...\n              11593045.972222222, 11637549.027777778, 11682052.083333334,\n              11726555.138888888, 11771058.194444444,        11815561.25,\n              11860064.305555556, 11904567.361111112, 11949070.416666666,\n              11993573.472222222],\n             dtype='float64', name='y', length=450))Attributes: (2)x_range :(-20026376.39, 20026376.39)y_range :(-8010550, 12015825)\n\n\n\n\nSteps (continued)\n\nPerform the “shade” operation — map the pixel values to a color map\n\n\n# Step 3: Perform the shade operation\nimg = tf.shade(agg, cmap=fire)\n\n# Format: set the background of the image to black so it looks better\nimg = tf.set_background(img, \"black\")\n\nimg\n\n\n\n\n\n\nImprovement: Remove noise from pixels with low counts\nRemember: our agg variable is an xarray DataArray.\nSo, we can leverage xarray’s builtin where() function to select a subsample of the pixels based on the pixel counts.\n\nselected = agg.where(agg &gt; 15)\nselected\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;xarray.DataArray (y: 450, x: 900)&gt;\narray([[nan, nan, nan, ..., nan, nan, nan],\n       [nan, nan, nan, ..., nan, nan, nan],\n       [nan, nan, nan, ..., nan, nan, nan],\n       ...,\n       [nan, nan, nan, ..., nan, nan, nan],\n       [nan, nan, nan, ..., nan, nan, nan],\n       [nan, nan, nan, ..., nan, nan, nan]])\nCoordinates:\n  * x        (x) float64 -2e+07 -1.996e+07 -1.992e+07 ... 1.996e+07 2e+07\n  * y        (y) float64 -7.988e+06 -7.944e+06 ... 1.195e+07 1.199e+07\nAttributes:\n    x_range:  (-20026376.39, 20026376.39)\n    y_range:  (-8010550, 12015825)xarray.DataArrayy: 450x: 900nan nan nan nan nan nan nan nan ... nan nan nan nan nan nan nan nanarray([[nan, nan, nan, ..., nan, nan, nan],\n       [nan, nan, nan, ..., nan, nan, nan],\n       [nan, nan, nan, ..., nan, nan, nan],\n       ...,\n       [nan, nan, nan, ..., nan, nan, nan],\n       [nan, nan, nan, ..., nan, nan, nan],\n       [nan, nan, nan, ..., nan, nan, nan]])Coordinates: (2)x(x)float64-2e+07 -1.996e+07 ... 2e+07array([-20004124.860678, -19959621.802033, -19915118.743389, ...,\n        19915118.743389,  19959621.802033,  20004124.860678])y(y)float64-7.988e+06 -7.944e+06 ... 1.199e+07array([-7988298.472222, -7943795.416667, -7899292.361111, ..., 11904567.361111,\n       11949070.416667, 11993573.472222])Indexes: (2)xPandasIndexPandasIndex(Float64Index([ -20004124.86067778, -19959621.802033335,  -19915118.74338889,\n              -19870615.684744447,      -19826112.6261, -19781609.567455556,\n              -19737106.508811112,  -19692603.45016667, -19648100.391522225,\n               -19603597.33287778,\n              ...\n               19603597.332877774,  19648100.391522218,  19692603.450166665,\n                19737106.50881111,  19781609.567455553,  19826112.626099996,\n                19870615.68474444,  19915118.743388884,   19959621.80203333,\n               20004124.860677775],\n             dtype='float64', name='x', length=900))yPandasIndexPandasIndex(Float64Index([-7988298.472222222, -7943795.416666667, -7899292.361111111,\n              -7854789.305555556,        -7810286.25, -7765783.194444444,\n              -7721280.138888889, -7676777.083333333, -7632274.027777778,\n              -7587770.972222222,\n              ...\n              11593045.972222222, 11637549.027777778, 11682052.083333334,\n              11726555.138888888, 11771058.194444444,        11815561.25,\n              11860064.305555556, 11904567.361111112, 11949070.416666666,\n              11993573.472222222],\n             dtype='float64', name='y', length=450))Attributes: (2)x_range :(-20026376.39, 20026376.39)y_range :(-8010550, 12015825)\n\n\n\n\nThis will mask pixels that do not satisfy the where condition — masked pixels are set to NaN\n\n# plot the masked data\ntf.set_background(tf.shade(selected, cmap=fire),\"black\")"
  },
  {
    "objectID": "content/week-8/lecture-8A.html#example-2-revisiting-the-census-dot-map",
    "href": "content/week-8/lecture-8A.html#example-2-revisiting-the-census-dot-map",
    "title": "Week 8Analyzing and Visualizing Large Datasets",
    "section": "Example 2: Revisiting the census dot map",
    "text": "Example 2: Revisiting the census dot map\nWe can use datashader to visualize all 300 million census dots to make a nationwide version of the racial dot map we saw in week 7.\n\n# Load the data\n# REMEMBER: this will take some time to download the first time\ncensus_ddf = datasets.census.to_dask()\n\n\n\n\n\ncensus_ddf\n\nDask DataFrame Structure:\n\n\n\n\n\n\n\neasting\nnorthing\nrace\n\n\nnpartitions=36\n\n\n\n\n\n\n\n\nfloat32\nfloat32\ncategory[unknown]\n\n\n\n...\n...\n...\n\n\n...\n...\n...\n...\n\n\n\n...\n...\n...\n\n\n\n...\n...\n...\n\n\n\n\n\nDask Name: read-parquet, 1 graph layer\n\n\n\ncensus_ddf.head()\n\n\n\n\n\n\n\n\neasting\nnorthing\nrace\n\n\n\n\n0\n-12418767.0\n3697425.00\nh\n\n\n1\n-12418512.0\n3697143.50\nh\n\n\n2\n-12418245.0\n3697584.50\nh\n\n\n3\n-12417703.0\n3697636.75\nw\n\n\n4\n-12418120.0\n3697129.25\nh\n\n\n\n\n\n\n\n\nNote: What geographic coordinates?\n\nOnce again, data is in Web Mercator (EPSG=3857) coordinates\n“easting” is the x coordinate and “northing” is the y coordinate\nUnits are meters\n\n\nprint(\"number of rows =\", len(census_ddf))\n\nnumber of rows = 306675004\n\n\n\n\nRoughly 300 million rows: 1 for each person in the U.S. population\n\n\nSet up bounds for major cities and USA\nImportant: datashader has a utility function to convert from latitude/longitude (EPSG=4326) to Web Mercator (EPSG=3857)\nSee: lnglat_to_meters()\n\nfrom datashader.utils import lnglat_to_meters\n\n\n# Sensible lat/lng coordinates for U.S. cities\n# NOTE: these are in lat/lng so EPSG=4326\nUSA           = [(-124.72,  -66.95), (23.55, 50.06)]\nChicago       = [( -88.29,  -87.30), (41.57, 42.00)]\nNewYorkCity   = [( -74.39,  -73.44), (40.51, 40.91)]\nLosAngeles    = [(-118.53, -117.81), (33.63, 33.96)]\nHouston       = [( -96.05,  -94.68), (29.45, 30.11)]\nAustin        = [( -97.91,  -97.52), (30.17, 30.37)]\nNewOrleans    = [( -90.37,  -89.89), (29.82, 30.05)]\nAtlanta       = [( -84.88,  -84.04), (33.45, 33.84)]\nPhilly        = [( -75.28,  -74.96), (39.86, 40.14)]\n\n\n# Get USA xlim and ylim in meters (EPSG=3857)\nUSA_xlim_meters, USA_ylim_meters = [list(r) for r in lnglat_to_meters(USA[0], USA[1])]\n\n\n# Define some a default plot width & height\nplot_width  = int(900)\nplot_height = int(plot_width*7.0/12)\n\n\n\nFirst, visualize the population density\nHow about a linear color scale?\n\n# Step 1: Setup the canvas\ncvs = ds.Canvas(\n    plot_width, plot_height, x_range=USA_xlim_meters, y_range=USA_ylim_meters\n)\n\n# Step 2: Aggregate the x/y points\nagg = cvs.points(census_ddf, \"easting\", \"northing\")\n\n# Step 3: Shade with a \"Grey\" colormap and \"linear\" colormapping\nimg = tf.shade(agg, cmap=Greys9, how=\"linear\")\n\n# Format: Set the background\ntf.set_background(img, \"black\")\n\n\n\n\nOkay, what about a log scale?\n\n# Step 3: Shade with a \"Grey\" colormap and \"log\" colormapping\nimg = tf.shade(agg, cmap=Greys9, how='log')\n\n# Format: add a black background\nimg = tf.set_background(img, 'black')\nimg\n\n\n\n\nLet’s use a perceptually uniform color map\n\n“A collection of perceptually accurate colormaps”\nSee: https://colorcet.holoviz.org/\n\n## Step 3: Shade with \"fire\" color scale and \"log\" colormapping\nimg = tf.shade(agg, cmap=fire, how='log')\ntf.set_background(img, 'black')\n\n\n\n\n\n\nThe best option: using the equal histogram method for shading\n\nThis is the default shading option for color mapping in datashader\nA common image processing technique for improving contrast and equalizing pixel values across images\n\n\n# Step 3: Shade with fire colormap and equalized histogram mapping\nimg = tf.shade(agg, cmap=fire, how='eq_hist')\ntf.set_background(img, 'black')\n\n\n\n\nHow about viridis?\n\nimg = tf.shade(agg, cmap=viridis, how='eq_hist')\nimg = tf.set_background(img, 'black')\nimg\n\n\n\n\nHow to save?\nUse the export_image() function.\n\nfrom datashader.utils import export_image\n\n\nexport_image(img, 'usa_census_viridis')\n\n\n\n\n\n\nNext, let’s visualize race\nDatashader can plot use different colors for different categories of data.\n\ncensus_ddf.head()\n\n\n\n\n\n\n\n\neasting\nnorthing\nrace\n\n\n\n\n0\n-12418767.0\n3697425.00\nh\n\n\n1\n-12418512.0\n3697143.50\nh\n\n\n2\n-12418245.0\n3697584.50\nh\n\n\n3\n-12417703.0\n3697636.75\nw\n\n\n4\n-12418120.0\n3697129.25\nh\n\n\n\n\n\n\n\n\ncensus_ddf['race'].value_counts().compute()\n\nw    196052887\nh     50317503\nb     37643995\na     13914371\no      8746248\nName: race, dtype: int64\n\n\n\n\nDefine a color scale for each race category\n\ncolor_key = {\"w\": \"aqua\", \"b\": \"lime\", \"a\": \"red\", \"h\": \"fuchsia\", \"o\": \"yellow\"}\n\n\ndef create_census_image(longitude_range, latitude_range, w=plot_width, h=plot_height):\n    \"\"\"\n    A function for plotting the Census data, coloring pixel by race values.\n    \"\"\"\n    # Step 1: Calculate x and y range from lng/lat ranges\n    x_range, y_range = lnglat_to_meters(longitude_range, latitude_range)\n\n    # Step 2: Setup the canvas\n    canvas = ds.Canvas(plot_width=w, plot_height=h, x_range=x_range, y_range=y_range)\n\n    # Step 3: Aggregate, but this time count the \"race\" category\n    # NEW: specify the aggregation method to count the \"race\" values in each pixel\n    agg = canvas.points(census_ddf, \"easting\", \"northing\", agg=ds.count_cat(\"race\"))\n    \n    # Step 4: Shade, using our custom color map\n    img = tf.shade(agg, color_key=color_key, how=\"eq_hist\")\n\n    # Return image with black background\n    return tf.set_background(img, \"black\")\n\n\n\nLet’s visualize all 300 million points\nColor pixel values according to the demographics data in each pixel.\n\ncreate_census_image(USA[0], USA[1])\n\n\n\n\n\nRemember: color scheme\n\nWhite: aqua\nBlack/African American: lime\nAsian: red\nHispanic: fuchsia\nOther: yellow\n\n\n\n\nLet’s zoom in on Philadelphia…\n\ncreate_census_image(Philly[0], Philly[1], w=600, h=600)\n\n\n\n\n\n\nAt home exercise: what about other cities?\nHint: use the bounding boxes provided earlier to explore racial patterns across various major cities\n\nNew York City\n\ncreate_census_image(NewYorkCity[0], NewYorkCity[1])\n\n\n\n\n\n\nAtlanta\n\ncreate_census_image(Atlanta[0], Atlanta[1])\n\n\n\n\n\n\nLos Angeles\n\ncreate_census_image(LosAngeles[0], LosAngeles[1])\n\n\n\n\n\n\nHouston\n\ncreate_census_image(Houston[0], Houston[1])\n\n\n\n\n\n\nChicago\n\ncreate_census_image(Chicago[0], Chicago[1])\n\n\n\n\n\n\nNew Orleans\n\ncreate_census_image(NewOrleans[0], NewOrleans[1])\n\n\n\n\n\n\n\nCan we learn more than just population density and race?\nWe can use xarray to slice the array of aggregated pixel values to examine specific aspects of the data.\n\n\nQuestion: Where do African Americans live?\nUse the sel() function of the xarray array\n\n# Step 1: Setup canvas\ncvs = ds.Canvas(plot_width=plot_width, plot_height=plot_height)\n\n# Step 2: Aggregate and count race category\naggc = cvs.points(census_ddf, \"easting\", \"northing\", agg=ds.count_cat(\"race\"))\n\n# NEW: Select only African Americans (where \"race\" column is equal to \"b\")\nagg_b = aggc.sel(race=\"b\")\n\nagg_b\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;xarray.DataArray (northing: 525, easting: 900)&gt;\narray([[0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       ...,\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0]], dtype=uint32)\nCoordinates:\n  * easting   (easting) float64 -1.388e+07 -1.387e+07 ... -7.464e+06 -7.457e+06\n  * northing  (northing) float64 2.822e+06 2.828e+06 ... 6.326e+06 6.333e+06\n    race      &lt;U1 'b'\nAttributes:\n    x_range:  (-13884029.0, -7453303.5)\n    y_range:  (2818291.5, 6335972.0)xarray.DataArraynorthing: 525easting: 9000 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 ... 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0array([[0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       ...,\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0]], dtype=uint32)Coordinates: (3)easting(easting)float64-1.388e+07 ... -7.457e+06array([-13880456.374722, -13873311.124167, -13866165.873611, ...,\n        -7471166.626389,  -7464021.375833,  -7456876.125278])northing(northing)float642.822e+06 2.828e+06 ... 6.333e+06array([2821641.671905, 2828342.015714, 2835042.359524, ..., 6319221.140476,\n       6325921.484286, 6332621.828095])race()&lt;U1'b'array('b', dtype='&lt;U1')Indexes: (2)eastingPandasIndexPandasIndex(Float64Index([-13880456.374722222, -13873311.124166666, -13866165.873611111,\n              -13859020.623055555, -13851875.372499999, -13844730.121944444,\n              -13837584.871388888, -13830439.620833334, -13823294.370277777,\n              -13816149.119722221,\n              ...\n               -7521183.380277776,  -7514038.129722221, -7506892.8791666655,\n                -7499747.62861111,  -7492602.378055555,  -7485457.127499999,\n               -7478311.876944443,  -7471166.626388888,  -7464021.375833333,\n               -7456876.125277776],\n             dtype='float64', name='easting', length=900))northingPandasIndexPandasIndex(Float64Index([ 2821641.671904762, 2828342.0157142854, 2835042.3595238095,\n               2841742.703333333,  2848443.047142857,  2855143.390952381,\n              2861843.7347619045, 2868544.0785714285,  2875244.422380952,\n              2881944.7661904762,\n              ...\n               6272318.733809524,  6279019.077619048,  6285719.421428571,\n               6292419.765238096,   6299120.10904762,  6305820.452857143,\n               6312520.796666667, 6319221.1404761905,  6325921.484285715,\n               6332621.828095239],\n             dtype='float64', name='northing', length=525))Attributes: (2)x_range :(-13884029.0, -7453303.5)y_range :(2818291.5, 6335972.0)\n\n\n\n# Step 3: Shade and set background\nimg = tf.shade(agg_b, cmap=fire, how=\"eq_hist\")\nimg = tf.set_background(img, \"black\")\n\nimg\n\n\n\n\n\n\nQuestion: How to identify diverse areas?\nGoal: Select pixels where each race has a non-zero count.\n\nbool_sel = aggc.sel(race=['w', 'b', 'a', 'h']) &gt; 0\n\nbool_sel\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;xarray.DataArray (northing: 525, easting: 900, race: 4)&gt;\narray([[[False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False],\n        ...,\n        [False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False]],\n\n       [[False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False],\n        ...,\n        [False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False]],\n\n       [[False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False],\n        ...,\n...\n        ...,\n        [False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False]],\n\n       [[False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False],\n        ...,\n        [False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False]],\n\n       [[False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False],\n        ...,\n        [False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False]]])\nCoordinates:\n  * easting   (easting) float64 -1.388e+07 -1.387e+07 ... -7.464e+06 -7.457e+06\n  * northing  (northing) float64 2.822e+06 2.828e+06 ... 6.326e+06 6.333e+06\n  * race      (race) &lt;U1 'w' 'b' 'a' 'h'xarray.DataArraynorthing: 525easting: 900race: 4False False False False False False ... False False False False Falsearray([[[False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False],\n        ...,\n        [False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False]],\n\n       [[False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False],\n        ...,\n        [False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False]],\n\n       [[False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False],\n        ...,\n...\n        ...,\n        [False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False]],\n\n       [[False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False],\n        ...,\n        [False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False]],\n\n       [[False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False],\n        ...,\n        [False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False]]])Coordinates: (3)easting(easting)float64-1.388e+07 ... -7.457e+06array([-13880456.374722, -13873311.124167, -13866165.873611, ...,\n        -7471166.626389,  -7464021.375833,  -7456876.125278])northing(northing)float642.822e+06 2.828e+06 ... 6.333e+06array([2821641.671905, 2828342.015714, 2835042.359524, ..., 6319221.140476,\n       6325921.484286, 6332621.828095])race(race)&lt;U1'w' 'b' 'a' 'h'array(['w', 'b', 'a', 'h'], dtype='&lt;U1')Indexes: (3)eastingPandasIndexPandasIndex(Float64Index([-13880456.374722222, -13873311.124166666, -13866165.873611111,\n              -13859020.623055555, -13851875.372499999, -13844730.121944444,\n              -13837584.871388888, -13830439.620833334, -13823294.370277777,\n              -13816149.119722221,\n              ...\n               -7521183.380277776,  -7514038.129722221, -7506892.8791666655,\n                -7499747.62861111,  -7492602.378055555,  -7485457.127499999,\n               -7478311.876944443,  -7471166.626388888,  -7464021.375833333,\n               -7456876.125277776],\n             dtype='float64', name='easting', length=900))northingPandasIndexPandasIndex(Float64Index([ 2821641.671904762, 2828342.0157142854, 2835042.3595238095,\n               2841742.703333333,  2848443.047142857,  2855143.390952381,\n              2861843.7347619045, 2868544.0785714285,  2875244.422380952,\n              2881944.7661904762,\n              ...\n               6272318.733809524,  6279019.077619048,  6285719.421428571,\n               6292419.765238096,   6299120.10904762,  6305820.452857143,\n               6312520.796666667, 6319221.1404761905,  6325921.484285715,\n               6332621.828095239],\n             dtype='float64', name='northing', length=525))racePandasIndexPandasIndex(Index(['w', 'b', 'a', 'h'], dtype='object', name='race'))Attributes: (0)\n\n\n\n# Do a \"logical and\" operation across the \"race\" dimension\n# Pixels will be \"True\" if the pixel has a positive count for each race\ndiverse_selection = bool_sel.all(dim='race')\n\ndiverse_selection\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;xarray.DataArray (northing: 525, easting: 900)&gt;\narray([[False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       ...,\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False]])\nCoordinates:\n  * easting   (easting) float64 -1.388e+07 -1.387e+07 ... -7.464e+06 -7.457e+06\n  * northing  (northing) float64 2.822e+06 2.828e+06 ... 6.326e+06 6.333e+06xarray.DataArraynorthing: 525easting: 900False False False False False False ... False False False False Falsearray([[False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       ...,\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False]])Coordinates: (2)easting(easting)float64-1.388e+07 ... -7.457e+06array([-13880456.374722, -13873311.124167, -13866165.873611, ...,\n        -7471166.626389,  -7464021.375833,  -7456876.125278])northing(northing)float642.822e+06 2.828e+06 ... 6.333e+06array([2821641.671905, 2828342.015714, 2835042.359524, ..., 6319221.140476,\n       6325921.484286, 6332621.828095])Indexes: (2)eastingPandasIndexPandasIndex(Float64Index([-13880456.374722222, -13873311.124166666, -13866165.873611111,\n              -13859020.623055555, -13851875.372499999, -13844730.121944444,\n              -13837584.871388888, -13830439.620833334, -13823294.370277777,\n              -13816149.119722221,\n              ...\n               -7521183.380277776,  -7514038.129722221, -7506892.8791666655,\n                -7499747.62861111,  -7492602.378055555,  -7485457.127499999,\n               -7478311.876944443,  -7471166.626388888,  -7464021.375833333,\n               -7456876.125277776],\n             dtype='float64', name='easting', length=900))northingPandasIndexPandasIndex(Float64Index([ 2821641.671904762, 2828342.0157142854, 2835042.3595238095,\n               2841742.703333333,  2848443.047142857,  2855143.390952381,\n              2861843.7347619045, 2868544.0785714285,  2875244.422380952,\n              2881944.7661904762,\n              ...\n               6272318.733809524,  6279019.077619048,  6285719.421428571,\n               6292419.765238096,   6299120.10904762,  6305820.452857143,\n               6312520.796666667, 6319221.1404761905,  6325921.484285715,\n               6332621.828095239],\n             dtype='float64', name='northing', length=525))Attributes: (0)\n\n\n\n# Select the pixel values where our diverse selection criteria is True\nagg2 = aggc.where(diverse_selection).fillna(0)\n\n# and shade using our color key\nimg = tf.shade(agg2, color_key=color_key, how='eq_hist')\nimg = tf.set_background(img,\"black\")\n\nimg \n\n\n\n\n\n\nQuestion: Where is African American population greater than the White population?\n\n# Select where the \"b\" race dimension is greater than the \"w\" race dimension\nselection = aggc.sel(race='b') &gt; aggc.sel(race='w') \n\nselection\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;xarray.DataArray (northing: 525, easting: 900)&gt;\narray([[False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       ...,\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False]])\nCoordinates:\n  * easting   (easting) float64 -1.388e+07 -1.387e+07 ... -7.464e+06 -7.457e+06\n  * northing  (northing) float64 2.822e+06 2.828e+06 ... 6.326e+06 6.333e+06xarray.DataArraynorthing: 525easting: 900False False False False False False ... False False False False Falsearray([[False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       ...,\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False]])Coordinates: (2)easting(easting)float64-1.388e+07 ... -7.457e+06array([-13880456.374722, -13873311.124167, -13866165.873611, ...,\n        -7471166.626389,  -7464021.375833,  -7456876.125278])northing(northing)float642.822e+06 2.828e+06 ... 6.333e+06array([2821641.671905, 2828342.015714, 2835042.359524, ..., 6319221.140476,\n       6325921.484286, 6332621.828095])Indexes: (2)eastingPandasIndexPandasIndex(Float64Index([-13880456.374722222, -13873311.124166666, -13866165.873611111,\n              -13859020.623055555, -13851875.372499999, -13844730.121944444,\n              -13837584.871388888, -13830439.620833334, -13823294.370277777,\n              -13816149.119722221,\n              ...\n               -7521183.380277776,  -7514038.129722221, -7506892.8791666655,\n                -7499747.62861111,  -7492602.378055555,  -7485457.127499999,\n               -7478311.876944443,  -7471166.626388888,  -7464021.375833333,\n               -7456876.125277776],\n             dtype='float64', name='easting', length=900))northingPandasIndexPandasIndex(Float64Index([ 2821641.671904762, 2828342.0157142854, 2835042.3595238095,\n               2841742.703333333,  2848443.047142857,  2855143.390952381,\n              2861843.7347619045, 2868544.0785714285,  2875244.422380952,\n              2881944.7661904762,\n              ...\n               6272318.733809524,  6279019.077619048,  6285719.421428571,\n               6292419.765238096,   6299120.10904762,  6305820.452857143,\n               6312520.796666667, 6319221.1404761905,  6325921.484285715,\n               6332621.828095239],\n             dtype='float64', name='northing', length=525))Attributes: (0)\n\n\n\n# Select based on the selection criteria\nagg3 = aggc.where(selection).fillna(0)\n\nimg = tf.shade(agg3, color_key=color_key, how=\"eq_hist\")\nimg = tf.set_background(img, \"black\")\n\nimg"
  },
  {
    "objectID": "content/week-8/lecture-8A.html#to-be-continued",
    "href": "content/week-8/lecture-8A.html#to-be-continued",
    "title": "Week 8Analyzing and Visualizing Large Datasets",
    "section": "To be continued…",
    "text": "To be continued…"
  },
  {
    "objectID": "content/week-1/lecture-1B.html",
    "href": "content/week-1/lecture-1B.html",
    "title": "Week 1B: Exploratory Data Science in Python",
    "section": "",
    "text": "Section 401\n9/6/2023"
  },
  {
    "objectID": "content/week-1/lecture-1B.html#today",
    "href": "content/week-1/lecture-1B.html#today",
    "title": "Week 1B: Exploratory Data Science in Python",
    "section": "Today",
    "text": "Today\n\nIntroduction to Pandas\nKey data analysis concepts\nExample: Census + Zillow data"
  },
  {
    "objectID": "content/week-1/lecture-1B.html#reminder-the-weekly-workflow",
    "href": "content/week-1/lecture-1B.html#reminder-the-weekly-workflow",
    "title": "Week 1B: Exploratory Data Science in Python",
    "section": "Reminder: The weekly workflow",
    "text": "Reminder: The weekly workflow\n\nYou’ll set up your local Python environment as part of the first homework assignment\nEach week, you will have two options to follow along with lectures:\n\nUsing Binder in the cloud, launching via the button on the week’s repository\nDownload the week’s repository to your laptop and launch the notebook locally\n\nWork on homeworks locally on your laptop — Binder is only a temporary environment (no save features)\n\nTo follow along today, go to https://github.com/MUSA-550-Fall-2023/week-1\n\n\n\n\n\n\n\nReminder: Free DataCamp Courses\n\n\n\nDataCamp is providing 6 months of complimentary access to its courses for students in MUSA 550. Whether you have experience with Python or not, this is a great opportunity to learn the basics of Python and practice your skills.\nIt is strongly recommended that you watch some or all of the introductory videos below to build a stronger Python foundation for the semester. The more advanced, intermediate courses are also great — the more the merrier!\nFor more info, including how to sign up, check out the resources section of the website."
  },
  {
    "objectID": "content/week-1/lecture-1B.html#python-data-analysis-the-pandas-package",
    "href": "content/week-1/lecture-1B.html#python-data-analysis-the-pandas-package",
    "title": "Week 1B: Exploratory Data Science in Python",
    "section": "Python Data Analysis: the pandas package",
    "text": "Python Data Analysis: the pandas package\nDocumentation is available at https://pandas.pydata.org\n\nThe old logo\n\n\n\n\n\nThe new, less fun logo\n\n\n\nThe following line imports the pandas package:\n\nimport pandas as pd"
  },
  {
    "objectID": "content/week-1/lecture-1B.html#basic-pandas-concepts",
    "href": "content/week-1/lecture-1B.html#basic-pandas-concepts",
    "title": "Week 1B: Exploratory Data Science in Python",
    "section": "Basic pandas concepts",
    "text": "Basic pandas concepts\nThe primary objects in pandas are the:\n\nDataFrame, which is very similar to an Excel spreadsheet, and has rows and named columns\nSeries, which represents a single column of data. A DataFrame contains one or more Series and a name for each Series.\n\nThe data frame is a commonly used abstraction for data manipulation. Similar implementations exist in R.\nYou can think Series objects as fancier versions of Python’s built-in list data type.\nTo create a Series object, pass a list of values to the pd.Series() function:\n\n## Philadelphia metro counties and populations\n\ncounty_names = pd.Series(\n    [\n        \"Bucks\",\n        \"Chester\",\n        \"Delaware\",\n        \"Montgomery\",\n        \"Philadelphia\",\n        \"Burlington\",\n        \"Camden\",\n        \"Gloucester\",\n    ]\n)\n\npopulation = pd.Series(\n    [\n        645054.0,\n        545823.0,\n        575182.0,\n        864683.0,\n        1567258.0,\n        466103.0,\n        524907.0,\n        306601.0,\n    ]\n)\n\nDataFrame objects can be created by passing a dict mapping string column names to their respective Series.\n\ncounty_df = pd.DataFrame({\"County Name\": county_names, \"Population\": population})\n\ncounty_df\n\n\n\n\n\n\n\n\nCounty Name\nPopulation\n\n\n\n\n0\nBucks\n645054.0\n\n\n1\nChester\n545823.0\n\n\n2\nDelaware\n575182.0\n\n\n3\nMontgomery\n864683.0\n\n\n4\nPhiladelphia\n1567258.0\n\n\n5\nBurlington\n466103.0\n\n\n6\nCamden\n524907.0\n\n\n7\nGloucester\n306601.0\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nAlways try to give your variables meaningful names. It will help immensely when you are trying to debug problems or when you’re trying to understand the code you’ve written months later.\n\n\n\n1. Accessing data\n\n# Access columns with a dict-like syntax\ncounty_df[\"Population\"]\n\n0     645054.0\n1     545823.0\n2     575182.0\n3     864683.0\n4    1567258.0\n5     466103.0\n6     524907.0\n7     306601.0\nName: Population, dtype: float64\n\n\nRows can be accessed using Python’s syntax for slicing:\n\n## Example: slicing a list slicing\n\n# Get the elements with indices 1 and 2 (but NOT 3)\ncounty_list = [\"Bucks\", \"Philadelphia\", \"Delaware\"]\n\ncounty_list[0:2]  # Same as county_list[:2] (omitting the zero)\n\n['Bucks', 'Philadelphia']\n\n\nUnfortunately the functionality for slicing lists is not that powerful…but pandas will have many more features!\n\n# Slicing a DataFrame is similar...but now we will get rows of the DataFrame back!\n\ncounty_df[0:2]\n\n\n\n\n\n\n\n\nCounty Name\nPopulation\n\n\n\n\n0\nBucks\n645054.0\n\n\n1\nChester\n545823.0\n\n\n\n\n\n\n\npandas includes functionality for many different ways of selecting data. See the documentation for many more examples.\n\n\n2. Manipulating data\n\ncounty_df[\"Population\"].median()\n\n560502.5\n\n\n\ncounty_df[\"Population\"].mean()\n\n686951.375\n\n\nNumPy (Numerical Python) is a popular toolkit for scientific computing. Among other things, it can calculate mathematical functions, like mean, median, min, max, etc.\npandas Series can be used as arguments to most NumPy functions:\n\nimport numpy as np\n\n\n# Calculate the median population value\nnp.median(county_df[\"Population\"])\n\n560502.5\n\n\n\n# Calculate the median population value\nnp.mean(county_df[\"Population\"])\n\n686951.375\n\n\n\n\n\n\n\n\nNote: DataCamp + NumPy\n\n\n\nWe won’t go through the specifics of NumPy in detail in this course. You will see it pop up throughout the course, particularly when we start talking about two-dimensional raster image data. NumPy specializes in multi-dimensional arrays, the same format of multi-band raster data.\nIn the meantime, if you want to know more about NumPy or just build your Python knowledge, check out the DataCamp course on NumPy. To get free access to DataCamp, see the instructions on the course website.\n\n\n\n\n3. Applying a function\nFor more complex single-column transformations, you can use Series.apply. It accepts a function that is applied to each value in the Series.\nAn apply operation allows you to call an arbitrary function to each value in a column. It is a core pandas concept and can be very powerful for complex calculations.\nAs an example, we can find which counties have a population greater than one million:\n\n# Define our function\ndef get_large_counties(population):\n    return population &gt; 1e6\n\n\nlarge_county_sel = county_df[\"Population\"].apply(get_large_counties)\n\n\n# This is a Series where the value is the returned value from the above function\nlarge_county_sel\n\n0    False\n1    False\n2    False\n3    False\n4     True\n5    False\n6    False\n7    False\nName: Population, dtype: bool\n\n\n\n# Add the new computed column to our original data frame\ncounty_df[\"Large Counties\"] = large_county_sel\n\n\ncounty_df\n\n\n\n\n\n\n\n\nCounty Name\nPopulation\nLarge Counties\n\n\n\n\n0\nBucks\n645054.0\nFalse\n\n\n1\nChester\n545823.0\nFalse\n\n\n2\nDelaware\n575182.0\nFalse\n\n\n3\nMontgomery\n864683.0\nFalse\n\n\n4\nPhiladelphia\n1567258.0\nTrue\n\n\n5\nBurlington\n466103.0\nFalse\n\n\n6\nCamden\n524907.0\nFalse\n\n\n7\nGloucester\n306601.0\nFalse\n\n\n\n\n\n\n\nWe could have also used a Python lambda function for our function. These are inline functions that start with a special Python keyword lambda, followed by the function argument, a colon, and then the contents of the function.\n\n\n\n\n\n\nTip\n\n\n\nSee this DataCamp tutorial for more info on lambda functions.\n\n\nAs an example, let’s add a small counties column using a lambda function. The lambda function below is equivalent to the more verbose traditional definition:\n# Equivalent to -&gt; lambda population: population &lt; 1e6\ndef small_counties_func(population):\n    return population &lt; 1e6\n\nsmall_counties_func = lambda population: population &lt; 1e6\n\n# we can also use lambda (unnamed, inline) functions\ncounty_df[\"Small Counties\"] = county_df[\"Population\"].apply(small_counties_func)\n\n# Print out\ncounty_df\n\n\n\n\n\n\n\n\nCounty Name\nPopulation\nLarge Counties\nSmall Counties\n\n\n\n\n0\nBucks\n645054.0\nFalse\nTrue\n\n\n1\nChester\n545823.0\nFalse\nTrue\n\n\n2\nDelaware\n575182.0\nFalse\nTrue\n\n\n3\nMontgomery\n864683.0\nFalse\nTrue\n\n\n4\nPhiladelphia\n1567258.0\nTrue\nFalse\n\n\n5\nBurlington\n466103.0\nFalse\nTrue\n\n\n6\nCamden\n524907.0\nFalse\nTrue\n\n\n7\nGloucester\n306601.0\nFalse\nTrue\n\n\n\n\n\n\n\n\n\n4. Data selection\nWe can select the “large” counties by passing the boolean values to the .loc[] function of a DataFrame:\n\ncounty_df[\"Large Counties\"]\n\n0    False\n1    False\n2    False\n3    False\n4     True\n5    False\n6    False\n7    False\nName: Large Counties, dtype: bool\n\n\n\ncounty_df.loc[ county_df[\"Large Counties\"] ]\n\n\n\n\n\n\n\n\nCounty Name\nPopulation\nLarge Counties\nSmall Counties\n\n\n\n\n4\nPhiladelphia\n1567258.0\nTrue\nFalse\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nBe sure to use square brackets when calling .loc.\n.loc[] ✓\n.loc() ✘\n\n\nBut: there is a faster, more concise, to achieve this!\n\ncounty_df[\"Population\"] &gt; 1e6\n\n0    False\n1    False\n2    False\n3    False\n4     True\n5    False\n6    False\n7    False\nName: Population, dtype: bool\n\n\n\n# We can pass the selection directory the .loc[] —&gt; no need to define a new variable\n\ncounty_df.loc[ county_df[\"Population\"] &gt; 1e6 ] \n\n\n\n\n\n\n\n\nCounty Name\nPopulation\nLarge Counties\nSmall Counties\n\n\n\n\n4\nPhiladelphia\n1567258.0\nTrue\nFalse\n\n\n\n\n\n\n\nQuestion: What about getting rows where “Large Counties” is False?\nAnswer: Use the Python tilde operator to do a logicial not operation:\n\n# Reverse the large counties boolean selection\ncounty_df.loc[ ~large_county_sel ]\n\n\n\n\n\n\n\n\nCounty Name\nPopulation\nLarge Counties\nSmall Counties\n\n\n\n\n0\nBucks\n645054.0\nFalse\nTrue\n\n\n1\nChester\n545823.0\nFalse\nTrue\n\n\n2\nDelaware\n575182.0\nFalse\nTrue\n\n\n3\nMontgomery\n864683.0\nFalse\nTrue\n\n\n5\nBurlington\n466103.0\nFalse\nTrue\n\n\n6\nCamden\n524907.0\nFalse\nTrue\n\n\n7\nGloucester\n306601.0\nFalse\nTrue\n\n\n\n\n\n\n\n\n# or equivalently:\n# NOTE: you need to put the whole expression in () and then apply the tilde!\n\ncounty_df.loc[ ~(county_df[\"Population\"] &gt; 1e6) ]\n\n\n\n\n\n\n\n\nCounty Name\nPopulation\nLarge Counties\nSmall Counties\n\n\n\n\n0\nBucks\n645054.0\nFalse\nTrue\n\n\n1\nChester\n545823.0\nFalse\nTrue\n\n\n2\nDelaware\n575182.0\nFalse\nTrue\n\n\n3\nMontgomery\n864683.0\nFalse\nTrue\n\n\n5\nBurlington\n466103.0\nFalse\nTrue\n\n\n6\nCamden\n524907.0\nFalse\nTrue\n\n\n7\nGloucester\n306601.0\nFalse\nTrue\n\n\n\n\n\n\n\nAh! An even faster way!\nWe can use the pandas query function.\nThe query() function will return a subset of your dataframe based on a string version of the boolean expression.\n\ncounty_df.query(\"Population &lt; 1e6\")\n\n\n\n\n\n\n\n\nCounty Name\nPopulation\nLarge Counties\nSmall Counties\n\n\n\n\n0\nBucks\n645054.0\nFalse\nTrue\n\n\n1\nChester\n545823.0\nFalse\nTrue\n\n\n2\nDelaware\n575182.0\nFalse\nTrue\n\n\n3\nMontgomery\n864683.0\nFalse\nTrue\n\n\n5\nBurlington\n466103.0\nFalse\nTrue\n\n\n6\nCamden\n524907.0\nFalse\nTrue\n\n\n7\nGloucester\n306601.0\nFalse\nTrue\n\n\n\n\n\n\n\nWhat else can .loc[] do? So much!\nOne of the more common uses is use the DataFrame’s index labels to select particular rows. What is the index?\nEach row has a label that idenitifes it. By default the label is an integer ranging from 0 (first row) to 1 less than the number of rows (last row). The label is displayed in bold before each row when you look at a DataFrame:\n\ncounty_df\n\n\n\n\n\n\n\n\nCounty Name\nPopulation\nLarge Counties\nSmall Counties\n\n\n\n\n0\nBucks\n645054.0\nFalse\nTrue\n\n\n1\nChester\n545823.0\nFalse\nTrue\n\n\n2\nDelaware\n575182.0\nFalse\nTrue\n\n\n3\nMontgomery\n864683.0\nFalse\nTrue\n\n\n4\nPhiladelphia\n1567258.0\nTrue\nFalse\n\n\n5\nBurlington\n466103.0\nFalse\nTrue\n\n\n6\nCamden\n524907.0\nFalse\nTrue\n\n\n7\nGloucester\n306601.0\nFalse\nTrue\n\n\n\n\n\n\n\nWe can pass a label to the .loc[] function to select a particular row. For example, to get the Philadelphia row, we could use the “4” label:\n\ncounty_df.loc[4]\n\nCounty Name       Philadelphia\nPopulation           1567258.0\nLarge Counties            True\nSmall Counties           False\nName: 4, dtype: object\n\n\nOr maybe we want the suburb counties in NJ. In this case, we can pass a list of multiple labels (5, 6, 7)”\n\nnj_suburbs = county_df.loc[ [5, 6, 7] ]\n\nnj_suburbs\n\n\n\n\n\n\n\n\nCounty Name\nPopulation\nLarge Counties\nSmall Counties\n\n\n\n\n5\nBurlington\n466103.0\nFalse\nTrue\n\n\n6\nCamden\n524907.0\nFalse\nTrue\n\n\n7\nGloucester\n306601.0\nFalse\nTrue\n\n\n\n\n\n\n\n::: {.callout-important}\nNote that this is different than the .iloc[] function, which can also be used to select rows from a DataFrame. However, it uses the integer value of the row, regardless of what the labels in the index are. For example, the first row of a dataframe can always be accessed using:\ndf.iloc[0]\n\nFor more details on the .iloc[] function, see the documentation on indexing by position.\nIn the case of the nj_suburbs dataframe, we can get the first row, which has a label of “5”, using:\n\nnj_suburbs.iloc[0]\n\nCounty Name       Burlington\nPopulation          466103.0\nLarge Counties         False\nSmall Counties          True\nName: 5, dtype: object\n\n\nWe can also reset the index labels so they range from 0 to the length of the dataframe, using the reset_index() function. For example\n\nnj_suburbs_reset = nj_suburbs.reset_index(drop=True)\n\nnj_suburbs_reset\n\n\n\n\n\n\n\n\nCounty Name\nPopulation\nLarge Counties\nSmall Counties\n\n\n\n\n0\nBurlington\n466103.0\nFalse\nTrue\n\n\n1\nCamden\n524907.0\nFalse\nTrue\n\n\n2\nGloucester\n306601.0\nFalse\nTrue\n\n\n\n\n\n\n\n\n\nNeed more help?\nHow to remember the specifics of all of these functions?\nThe documentation is your best friend: The Pandas user guide\nYou can also use the question mark operator in the notebook!\n\n# Use the question mark\npd.DataFrame.loc?\n\n\nType:        property\nString form: &lt;property object at 0x13712c360&gt;\nDocstring:  \nAccess a group of rows and columns by label(s) or a boolean array.\n``.loc[]`` is primarily label based, but may also be used with a\nboolean array.\nAllowed inputs are:\n- A single label, e.g. ``5`` or ``'a'``, (note that ``5`` is\n  interpreted as a *label* of the index, and **never** as an\n  integer position along the index).\n- A list or array of labels, e.g. ``['a', 'b', 'c']``.\n- A slice object with labels, e.g. ``'a':'f'``.\n  .. warning:: Note that contrary to usual python slices, **both** the\n      start and the stop are included\n- A boolean array of the same length as the axis being sliced,\n  e.g. ``[True, False, True]``.\n- An alignable boolean Series. The index of the key will be aligned before\n  masking.\n- An alignable Index. The Index of the returned selection will be the input.\n- A ``callable`` function with one argument (the calling Series or\n  DataFrame) and that returns valid output for indexing (one of the above)\nSee more at :ref:`Selection by Label &lt;indexing.label&gt;`.\nRaises\n------\nKeyError\n    If any items are not found.\nIndexingError\n    If an indexed key is passed and its index is unalignable to the frame index.\nSee Also\n--------\nDataFrame.at : Access a single value for a row/column label pair.\nDataFrame.iloc : Access group of rows and columns by integer position(s).\nDataFrame.xs : Returns a cross-section (row(s) or column(s)) from the\n    Series/DataFrame.\nSeries.loc : Access group of values using labels.\nExamples\n--------\n**Getting values**\n&gt;&gt;&gt; df = pd.DataFrame([[1, 2], [4, 5], [7, 8]],\n...      index=['cobra', 'viper', 'sidewinder'],\n...      columns=['max_speed', 'shield'])\n&gt;&gt;&gt; df\n            max_speed  shield\ncobra               1       2\nviper               4       5\nsidewinder          7       8\nSingle label. Note this returns the row as a Series.\n&gt;&gt;&gt; df.loc['viper']\nmax_speed    4\nshield       5\nName: viper, dtype: int64\nList of labels. Note using ``[[]]`` returns a DataFrame.\n&gt;&gt;&gt; df.loc[['viper', 'sidewinder']]\n            max_speed  shield\nviper               4       5\nsidewinder          7       8\nSingle label for row and column\n&gt;&gt;&gt; df.loc['cobra', 'shield']\n2\nSlice with labels for row and single label for column. As mentioned\nabove, note that both the start and stop of the slice are included.\n&gt;&gt;&gt; df.loc['cobra':'viper', 'max_speed']\ncobra    1\nviper    4\nName: max_speed, dtype: int64\nBoolean list with the same length as the row axis\n&gt;&gt;&gt; df.loc[[False, False, True]]\n            max_speed  shield\nsidewinder          7       8\nAlignable boolean Series:\n&gt;&gt;&gt; df.loc[pd.Series([False, True, False],\n...        index=['viper', 'sidewinder', 'cobra'])]\n            max_speed  shield\nsidewinder          7       8\nIndex (same behavior as ``df.reindex``)\n&gt;&gt;&gt; df.loc[pd.Index([\"cobra\", \"viper\"], name=\"foo\")]\n       max_speed  shield\nfoo\ncobra          1       2\nviper          4       5\nConditional that returns a boolean Series\n&gt;&gt;&gt; df.loc[df['shield'] &gt; 6]\n            max_speed  shield\nsidewinder          7       8\nConditional that returns a boolean Series with column labels specified\n&gt;&gt;&gt; df.loc[df['shield'] &gt; 6, ['max_speed']]\n            max_speed\nsidewinder          7\nCallable that returns a boolean Series\n&gt;&gt;&gt; df.loc[lambda df: df['shield'] == 8]\n            max_speed  shield\nsidewinder          7       8\n**Setting values**\nSet value for all items matching the list of labels\n&gt;&gt;&gt; df.loc[['viper', 'sidewinder'], ['shield']] = 50\n&gt;&gt;&gt; df\n            max_speed  shield\ncobra               1       2\nviper               4      50\nsidewinder          7      50\nSet value for an entire row\n&gt;&gt;&gt; df.loc['cobra'] = 10\n&gt;&gt;&gt; df\n            max_speed  shield\ncobra              10      10\nviper               4      50\nsidewinder          7      50\nSet value for an entire column\n&gt;&gt;&gt; df.loc[:, 'max_speed'] = 30\n&gt;&gt;&gt; df\n            max_speed  shield\ncobra              30      10\nviper              30      50\nsidewinder         30      50\nSet value for rows matching callable condition\n&gt;&gt;&gt; df.loc[df['shield'] &gt; 35] = 0\n&gt;&gt;&gt; df\n            max_speed  shield\ncobra              30      10\nviper               0       0\nsidewinder          0       0\n**Getting values on a DataFrame with an index that has integer labels**\nAnother example using integers for the index\n&gt;&gt;&gt; df = pd.DataFrame([[1, 2], [4, 5], [7, 8]],\n...      index=[7, 8, 9], columns=['max_speed', 'shield'])\n&gt;&gt;&gt; df\n   max_speed  shield\n7          1       2\n8          4       5\n9          7       8\nSlice with integer labels for rows. As mentioned above, note that both\nthe start and stop of the slice are included.\n&gt;&gt;&gt; df.loc[7:9]\n   max_speed  shield\n7          1       2\n8          4       5\n9          7       8\n**Getting values with a MultiIndex**\nA number of examples using a DataFrame with a MultiIndex\n&gt;&gt;&gt; tuples = [\n...    ('cobra', 'mark i'), ('cobra', 'mark ii'),\n...    ('sidewinder', 'mark i'), ('sidewinder', 'mark ii'),\n...    ('viper', 'mark ii'), ('viper', 'mark iii')\n... ]\n&gt;&gt;&gt; index = pd.MultiIndex.from_tuples(tuples)\n&gt;&gt;&gt; values = [[12, 2], [0, 4], [10, 20],\n...         [1, 4], [7, 1], [16, 36]]\n&gt;&gt;&gt; df = pd.DataFrame(values, columns=['max_speed', 'shield'], index=index)\n&gt;&gt;&gt; df\n                     max_speed  shield\ncobra      mark i           12       2\n           mark ii           0       4\nsidewinder mark i           10      20\n           mark ii           1       4\nviper      mark ii           7       1\n           mark iii         16      36\nSingle label. Note this returns a DataFrame with a single index.\n&gt;&gt;&gt; df.loc['cobra']\n         max_speed  shield\nmark i          12       2\nmark ii          0       4\nSingle index tuple. Note this returns a Series.\n&gt;&gt;&gt; df.loc[('cobra', 'mark ii')]\nmax_speed    0\nshield       4\nName: (cobra, mark ii), dtype: int64\nSingle label for row and column. Similar to passing in a tuple, this\nreturns a Series.\n&gt;&gt;&gt; df.loc['cobra', 'mark i']\nmax_speed    12\nshield        2\nName: (cobra, mark i), dtype: int64\nSingle tuple. Note using ``[[]]`` returns a DataFrame.\n&gt;&gt;&gt; df.loc[[('cobra', 'mark ii')]]\n               max_speed  shield\ncobra mark ii          0       4\nSingle tuple for the index with a single label for the column\n&gt;&gt;&gt; df.loc[('cobra', 'mark i'), 'shield']\n2\nSlice from index tuple to single label\n&gt;&gt;&gt; df.loc[('cobra', 'mark i'):'viper']\n                     max_speed  shield\ncobra      mark i           12       2\n           mark ii           0       4\nsidewinder mark i           10      20\n           mark ii           1       4\nviper      mark ii           7       1\n           mark iii         16      36\nSlice from index tuple to index tuple\n&gt;&gt;&gt; df.loc[('cobra', 'mark i'):('viper', 'mark ii')]\n                    max_speed  shield\ncobra      mark i          12       2\n           mark ii          0       4\nsidewinder mark i          10      20\n           mark ii          1       4\nviper      mark ii          7       1\nPlease see the :ref:`user guide&lt;advanced.advanced_hierarchical&gt;`\nfor more details and explanations of advanced indexing.\n\n\n\n\n# Use the question mark\npd.DataFrame.iloc?\n\n\nType:        property\nString form: &lt;property object at 0x136a307c0&gt;\nDocstring:  \nPurely integer-location based indexing for selection by position.\n``.iloc[]`` is primarily integer position based (from ``0`` to\n``length-1`` of the axis), but may also be used with a boolean\narray.\nAllowed inputs are:\n- An integer, e.g. ``5``.\n- A list or array of integers, e.g. ``[4, 3, 0]``.\n- A slice object with ints, e.g. ``1:7``.\n- A boolean array.\n- A ``callable`` function with one argument (the calling Series or\n  DataFrame) and that returns valid output for indexing (one of the above).\n  This is useful in method chains, when you don't have a reference to the\n  calling object, but would like to base your selection on some value.\n- A tuple of row and column indexes. The tuple elements consist of one of the\n  above inputs, e.g. ``(0, 1)``.\n``.iloc`` will raise ``IndexError`` if a requested indexer is\nout-of-bounds, except *slice* indexers which allow out-of-bounds\nindexing (this conforms with python/numpy *slice* semantics).\nSee more at :ref:`Selection by Position &lt;indexing.integer&gt;`.\nSee Also\n--------\nDataFrame.iat : Fast integer location scalar accessor.\nDataFrame.loc : Purely label-location based indexer for selection by label.\nSeries.iloc : Purely integer-location based indexing for\n               selection by position.\nExamples\n--------\n&gt;&gt;&gt; mydict = [{'a': 1, 'b': 2, 'c': 3, 'd': 4},\n...           {'a': 100, 'b': 200, 'c': 300, 'd': 400},\n...           {'a': 1000, 'b': 2000, 'c': 3000, 'd': 4000 }]\n&gt;&gt;&gt; df = pd.DataFrame(mydict)\n&gt;&gt;&gt; df\n      a     b     c     d\n0     1     2     3     4\n1   100   200   300   400\n2  1000  2000  3000  4000\n**Indexing just the rows**\nWith a scalar integer.\n&gt;&gt;&gt; type(df.iloc[0])\n&lt;class 'pandas.core.series.Series'&gt;\n&gt;&gt;&gt; df.iloc[0]\na    1\nb    2\nc    3\nd    4\nName: 0, dtype: int64\nWith a list of integers.\n&gt;&gt;&gt; df.iloc[[0]]\n   a  b  c  d\n0  1  2  3  4\n&gt;&gt;&gt; type(df.iloc[[0]])\n&lt;class 'pandas.core.frame.DataFrame'&gt;\n&gt;&gt;&gt; df.iloc[[0, 1]]\n     a    b    c    d\n0    1    2    3    4\n1  100  200  300  400\nWith a `slice` object.\n&gt;&gt;&gt; df.iloc[:3]\n      a     b     c     d\n0     1     2     3     4\n1   100   200   300   400\n2  1000  2000  3000  4000\nWith a boolean mask the same length as the index.\n&gt;&gt;&gt; df.iloc[[True, False, True]]\n      a     b     c     d\n0     1     2     3     4\n2  1000  2000  3000  4000\nWith a callable, useful in method chains. The `x` passed\nto the ``lambda`` is the DataFrame being sliced. This selects\nthe rows whose index label even.\n&gt;&gt;&gt; df.iloc[lambda x: x.index % 2 == 0]\n      a     b     c     d\n0     1     2     3     4\n2  1000  2000  3000  4000\n**Indexing both axes**\nYou can mix the indexer types for the index and columns. Use ``:`` to\nselect the entire axis.\nWith scalar integers.\n&gt;&gt;&gt; df.iloc[0, 1]\n2\nWith lists of integers.\n&gt;&gt;&gt; df.iloc[[0, 2], [1, 3]]\n      b     d\n0     2     4\n2  2000  4000\nWith `slice` objects.\n&gt;&gt;&gt; df.iloc[1:3, 0:3]\n      a     b     c\n1   100   200   300\n2  1000  2000  3000\nWith a boolean array whose length matches the columns.\n&gt;&gt;&gt; df.iloc[:, [True, False, True, False]]\n      a     c\n0     1     3\n1   100   300\n2  1000  3000\nWith a callable function that expects the Series or DataFrame.\n&gt;&gt;&gt; df.iloc[:, lambda df: [0, 2]]\n      a     c\n0     1     3\n1   100   300\n2  1000  3000"
  },
  {
    "objectID": "content/week-1/lecture-1B.html#a-more-interesting-example-the-donut-effect",
    "href": "content/week-1/lecture-1B.html#a-more-interesting-example-the-donut-effect",
    "title": "Week 1B: Exploratory Data Science in Python",
    "section": "A more interesting example: The Donut Effect",
    "text": "A more interesting example: The Donut Effect\nThe pandemic and growth in work from home led to a phenomenon known as the “Donut Effect”. With more flexible working options and pandemic-driven density fears, people left urban dense cores and opted for more space in city suburbs, driving home and rental prices up in the suburbs relative to city centers.\n\n1. Population change\nI’ve stored more data on population for Philadelphia and its suburbs in a comma-separated value (CSV) file in the data folder: data/phila-metro-counties-population.csv.\nThis data comes from the Census Population Estimates series for counties in the Philadelphia metropolitan region, which includes Philadelphia County, four suburb counties in PA, and 3 suburb counties in NJ. Later in the course, you’ll learn how to download data from the Census directly using Python, but for now, I’ve downloaded and formatted the data already.\nLet’s use this data to see if the donut effect occurred in Philadelphia and its suburbs.\nGoal: Calculate the percent population change from 2020 to 2022 in Philadelphia and the total percent change in the suburb counties and compare!\nFirst, use the pd.read_csv() function from pandas. The first argument to pd.read_csv() is the file path to load.\n\n# Load the data from the CSV file\npop_df = pd.read_csv(\"./data/phila-metro-counties-population.csv\")\n\n\n# How many rows are in the dataframe? --&gt; use the len() operator\nlen(pop_df)\n\n8\n\n\nPeak at the first 5 rows:\n\npop_df.head()\n\n\n\n\n\n\n\n\ncounty_name\nstate_name\npop_2020\npop_2022\n\n\n\n\n0\nBucks\nPA\n646112.0\n645054.0\n\n\n1\nChester\nPA\n534783.0\n545823.0\n\n\n2\nDelaware\nPA\n576323.0\n575182.0\n\n\n3\nMontgomery\nPA\n856938.0\n864683.0\n\n\n4\nPhiladelphia\nPA\n1600600.0\n1567258.0\n\n\n\n\n\n\n\n\nExercise: Calculate the percent change in population for Philadelphia\nLet’s select the data for Philadelphia to get its population change.\nSteps:\n\nSelect the data for Philadelphia\nSelect the 2020 and 2022 population columns (see the tip below about the squeeze() function)\nCalculate the percent change\n\n\n\n\n\n\n\nTip: The squeeze() function\n\n\n\nIf we select the data for Philadelphia, it will be DataFrame with only a single row. So if we access a column, it will return a Series of length one, rather than just a number.\nWe can use the .squeeze() function to get rid of this extra dimension of length one. It does just one it sounds like: if you have a DataFrame with only one row, it will “squeeze” the row dimension by removing it, returning just a Series object:\n\n\nThe selector for Philadelphia:\n\npop_df[\"county_name\"] == \"Philadelphia\"\n\n0    False\n1    False\n2    False\n3    False\n4     True\n5    False\n6    False\n7    False\nName: county_name, dtype: bool\n\n\nNow, let’s use the .loc[] function to select the data for Philadelphia\n\nphilly_pop = pop_df.loc[ pop_df['county_name'] == 'Philadelphia' ]\n\nphilly_pop\n\n\n\n\n\n\n\n\ncounty_name\nstate_name\npop_2020\npop_2022\n\n\n\n\n4\nPhiladelphia\nPA\n1600600.0\n1567258.0\n\n\n\n\n\n\n\n\nphilly_pop = pop_df.loc[pop_df[\"county_name\"] == \"Philadelphia\"].squeeze()\n\nphilly_pop\n\ncounty_name    Philadelphia\nstate_name               PA\npop_2020          1600600.0\npop_2022          1567258.0\nName: 4, dtype: object\n\n\nNow we can calculate the percent change:\n\nphilly_pop_change = 100 * (philly_pop['pop_2022'] / philly_pop['pop_2020'] - 1)\n\nphilly_pop_change\n\n-2.0830938398100685\n\n\nA little more than 2% decline in population from 2020 to 2022!\nA note about string formatting in Python\nWe can format this into a string using an “f-string”, strings that have an “f” before them.\nLook for curly braces in these strings. The syntax is: {variable_name : format string}. For example:\n\nprint(f\"Philadelphia's percent change in population from 2020 to 2022: {philly_pop_change:.1f}%\")\n\nPhiladelphia's percent change in population from 2020 to 2022: -2.1%\n\n\nIn this case, we told Python to format the philly_pop_change as a floating point number with one decimal using .1f.\n\n\n\n\n\n\nTip\n\n\n\nFor more practice with f-strings, see this DataCamp tutorial.\n\n\nNext up: let’s calculate the total population change across all the suburb counties. First select every county except for Philadelphia, using the != (not equals) operator.\n\n# Now do the selection!\nsuburb_pop = pop_df.loc[ pop_df[\"county_name\"] != 'Philadelphia' ]  # select the valid rows\n\nsuburb_pop\n\n\n\n\n\n\n\n\ncounty_name\nstate_name\npop_2020\npop_2022\n\n\n\n\n0\nBucks\nPA\n646112.0\n645054.0\n\n\n1\nChester\nPA\n534783.0\n545823.0\n\n\n2\nDelaware\nPA\n576323.0\n575182.0\n\n\n3\nMontgomery\nPA\n856938.0\n864683.0\n\n\n5\nBurlington\nNJ\n461648.0\n466103.0\n\n\n6\nCamden\nNJ\n523074.0\n524907.0\n\n\n7\nGloucester\nNJ\n302554.0\n306601.0\n\n\n\n\n\n\n\nTo calculate the total percent change, we can sum up the population in 2020 and 2022 and calculate the percent change.\nIn this case, we can use the built-in .sum() function for a column Series to sum up the values in a column:\n\nsuburb_pop[\"pop_2022\"].sum()\n\n3928353.0\n\n\n\nsuburb_pop_change = 100 * (suburb_pop[\"pop_2022\"].sum() / suburb_pop[\"pop_2020\"].sum() - 1)\n\nsuburb_pop_change\n\n0.6900286869026662\n\n\n\nprint(f\"Percent change in population from 2020 to 2022 in the Philadelphia suburbs: {suburb_pop_change:.1f}%\")\n\nPercent change in population from 2020 to 2022 in the Philadelphia suburbs: 0.7%\n\n\nTakeaway\nA slight 0.7% increase in population change in the suburb counties from 2020 to 2022, compared to a 2.1% decline in Philadelphia.\nThis tracks with the idea of a “donut effect” in Philadelphia during the pandemic!\n\n\n\n2. Home & rental prices\nLet’s investigate changes in home and rental prices in Philadelphia and its suburbs during the pandemic. If there was a strong “donut effect”, we would expect to see higher price appreciation in the suburbs compared to Philadelphia itself.\nFor this part, we will use Zillow data, specifically data by county for the Zillow Observed Rent Index (ZORI) and Zillow Home Value Index (ZHVI).\nI’ve already downloaded the data and stored it in the data/ folder. Let’s read it into pandas using the pd.read_csv() function.\n\nzhvi = pd.read_csv(\"data/County_zhvi_uc_sfrcondo_tier_0.33_0.67_sm_sa_month.csv\")\nzori = pd.read_csv(\"data/County_zori_sm_month.csv\")\n\nPeek at the first few rows of the rent data:\n\nzori.head()\n\n\n\n\n\n\n\n\nRegionID\nSizeRank\nRegionName\nRegionType\nStateName\nState\nMetro\nStateCodeFIPS\nMunicipalCodeFIPS\n2015-01-31\n...\n2022-10-31\n2022-11-30\n2022-12-31\n2023-01-31\n2023-02-28\n2023-03-31\n2023-04-30\n2023-05-31\n2023-06-30\n2023-07-31\n\n\n\n\n0\n3101\n0\nLos Angeles County\ncounty\nCA\nCA\nLos Angeles-Long Beach-Anaheim, CA\n6\n37\n1859.636263\n...\n2884.685434\n2878.934549\n2875.026052\n2871.083085\n2877.814065\n2884.805738\n2898.603156\n2902.637331\n2911.922927\n2918.754134\n\n\n1\n139\n1\nCook County\ncounty\nIL\nIL\nChicago-Naperville-Elgin, IL-IN-WI\n17\n31\n1509.519799\n...\n1953.033934\n1948.209459\n1951.135298\n1957.004902\n1971.312435\n1985.335169\n2003.414964\n2029.555166\n2052.142638\n2065.170019\n\n\n2\n1090\n2\nHarris County\ncounty\nTX\nTX\nHouston-The Woodlands-Sugar Land, TX\n48\n201\n1244.972009\n...\n1605.890305\n1604.357134\n1603.265557\n1612.486921\n1618.611045\n1628.098030\n1630.157224\n1638.558882\n1648.540280\n1655.318245\n\n\n3\n2402\n3\nMaricopa County\ncounty\nAZ\nAZ\nPhoenix-Mesa-Chandler, AZ\n4\n13\n1001.214534\n...\n1937.026071\n1927.513924\n1918.344571\n1913.116142\n1917.415652\n1930.233484\n1939.647281\n1945.676380\n1945.808056\n1948.880852\n\n\n4\n2841\n4\nSan Diego County\ncounty\nCA\nCA\nSan Diego-Chula Vista-Carlsbad, CA\n6\n73\n1797.996849\n...\n3094.460551\n3074.724631\n3061.535358\n3052.480138\n3057.236678\n3079.509599\n3115.522418\n3154.972888\n3185.039118\n3205.105049\n\n\n\n\n5 rows × 112 columns\n\n\n\nAnd do the same for the home price data:\n\nzhvi.head()\n\n\n\n\n\n\n\n\nRegionID\nSizeRank\nRegionName\nRegionType\nStateName\nState\nMetro\nStateCodeFIPS\nMunicipalCodeFIPS\n2000-01-31\n...\n2022-10-31\n2022-11-30\n2022-12-31\n2023-01-31\n2023-02-28\n2023-03-31\n2023-04-30\n2023-05-31\n2023-06-30\n2023-07-31\n\n\n\n\n0\n3101\n0\nLos Angeles County\ncounty\nCA\nCA\nLos Angeles-Long Beach-Anaheim, CA\n6\n37\n205982.244116\n...\n841135.925058\n838631.538883\n835366.307179\n828060.815041\n818172.457895\n809992.297565\n806193.000835\n808305.144458\n815021.466146\n826958.461096\n\n\n1\n139\n1\nCook County\ncounty\nIL\nIL\nChicago-Naperville-Elgin, IL-IN-WI\n17\n31\n136354.916313\n...\n284950.857552\n284143.669431\n283375.276172\n284008.891628\n284769.843988\n286109.760510\n286873.595748\n287996.202478\n290010.594940\n292281.611623\n\n\n2\n1090\n2\nHarris County\ncounty\nTX\nTX\nHouston-The Woodlands-Sugar Land, TX\n48\n201\n107050.239739\n...\n283073.624205\n282597.185986\n281442.805088\n279727.962356\n278170.043854\n277582.191393\n277509.897059\n277852.705574\n278500.865874\n279400.674485\n\n\n3\n2402\n3\nMaricopa County\ncounty\nAZ\nAZ\nPhoenix-Mesa-Chandler, AZ\n4\n13\n146824.674809\n...\n478373.220270\n472003.290822\n465224.903046\n459750.984210\n455757.981512\n454203.508557\n453192.923509\n453262.846630\n454625.973499\n457065.330187\n\n\n4\n2841\n4\nSan Diego County\ncounty\nCA\nCA\nSan Diego-Chula Vista-Carlsbad, CA\n6\n73\n217214.415906\n...\n881918.327354\n873416.861727\n866066.237738\n858962.865592\n854294.612077\n853873.557956\n856932.860092\n862757.750601\n871180.725221\n881746.559143\n\n\n\n\n5 rows × 292 columns\n\n\n\n\nConvert from “wide” to “tidy” format\nCurrently, our data is in wide format: each observation has its own column. This usually results in many columns but few rows.\nUsually it’s better to have data in tidy (also known as long) format. Tidy datasets are arranged such that each variable is a column and each observation is a row.\nIn our case, we want to have a column called ZORI and one called ZHVI and a row for each month that the indices were measured.\npandas provides the melt() function for converting from wide formats to tidy formats. melt() doesn’t aggregate or summarize the data. It transforms it into a different shape, but it contains the exact same information as before.\nImagine you have 6 rows of data (each row is a unique county) with 10 columns of home values (each column is a different month). That is wide data and is the format usually seen in spreadsheets or tables in a report.\nIf you melt() that wide data, you would get a table with 60 rows and 3 columns. Each row would contain the county name, the month, and the home value that county and month. This tidy-formatted data contains the same info as the wide data, but in a different form.\nThis animation shows the transformation from wide to long / long to wide. You can ignore gather() and spread() - those are the R versions of the pandas functions.\n\n\npd.melt?\n\n\n\nSignature:\npd.melt(\n    frame: 'DataFrame',\n    id_vars=None,\n    value_vars=None,\n    var_name=None,\n    value_name='value',\n    col_level=None,\n    ignore_index: 'bool' = True,\n) -&gt; 'DataFrame'\nDocstring:\nUnpivot a DataFrame from wide to long format, optionally leaving identifiers set.\nThis function is useful to massage a DataFrame into a format where one\nor more columns are identifier variables (`id_vars`), while all other\ncolumns, considered measured variables (`value_vars`), are \"unpivoted\" to\nthe row axis, leaving just two non-identifier columns, 'variable' and\n'value'.\nParameters\n----------\nid_vars : tuple, list, or ndarray, optional\n    Column(s) to use as identifier variables.\nvalue_vars : tuple, list, or ndarray, optional\n    Column(s) to unpivot. If not specified, uses all columns that\n    are not set as `id_vars`.\nvar_name : scalar\n    Name to use for the 'variable' column. If None it uses\n    ``frame.columns.name`` or 'variable'.\nvalue_name : scalar, default 'value'\n    Name to use for the 'value' column.\ncol_level : int or str, optional\n    If columns are a MultiIndex then use this level to melt.\nignore_index : bool, default True\n    If True, original index is ignored. If False, the original index is retained.\n    Index labels will be repeated as necessary.\n    .. versionadded:: 1.1.0\nReturns\n-------\nDataFrame\n    Unpivoted DataFrame.\nSee Also\n--------\nDataFrame.melt : Identical method.\npivot_table : Create a spreadsheet-style pivot table as a DataFrame.\nDataFrame.pivot : Return reshaped DataFrame organized\n    by given index / column values.\nDataFrame.explode : Explode a DataFrame from list-like\n        columns to long format.\nNotes\n-----\nReference :ref:`the user guide &lt;reshaping.melt&gt;` for more examples.\nExamples\n--------\n&gt;&gt;&gt; df = pd.DataFrame({'A': {0: 'a', 1: 'b', 2: 'c'},\n...                    'B': {0: 1, 1: 3, 2: 5},\n...                    'C': {0: 2, 1: 4, 2: 6}})\n&gt;&gt;&gt; df\n   A  B  C\n0  a  1  2\n1  b  3  4\n2  c  5  6\n&gt;&gt;&gt; pd.melt(df, id_vars=['A'], value_vars=['B'])\n   A variable  value\n0  a        B      1\n1  b        B      3\n2  c        B      5\n&gt;&gt;&gt; pd.melt(df, id_vars=['A'], value_vars=['B', 'C'])\n   A variable  value\n0  a        B      1\n1  b        B      3\n2  c        B      5\n3  a        C      2\n4  b        C      4\n5  c        C      6\nThe names of 'variable' and 'value' columns can be customized:\n&gt;&gt;&gt; pd.melt(df, id_vars=['A'], value_vars=['B'],\n...         var_name='myVarname', value_name='myValname')\n   A myVarname  myValname\n0  a         B          1\n1  b         B          3\n2  c         B          5\nOriginal index values can be kept around:\n&gt;&gt;&gt; pd.melt(df, id_vars=['A'], value_vars=['B', 'C'], ignore_index=False)\n   A variable  value\n0  a        B      1\n1  b        B      3\n2  c        B      5\n0  a        C      2\n1  b        C      4\n2  c        C      6\nIf you have multi-index columns:\n&gt;&gt;&gt; df.columns = [list('ABC'), list('DEF')]\n&gt;&gt;&gt; df\n   A  B  C\n   D  E  F\n0  a  1  2\n1  b  3  4\n2  c  5  6\n&gt;&gt;&gt; pd.melt(df, col_level=0, id_vars=['A'], value_vars=['B'])\n   A variable  value\n0  a        B      1\n1  b        B      3\n2  c        B      5\n&gt;&gt;&gt; pd.melt(df, id_vars=[('A', 'D')], value_vars=[('B', 'E')])\n  (A, D) variable_0 variable_1  value\n0      a          B          E      1\n1      b          B          E      3\n2      c          B          E      5\nFile:      ~/mambaforge/envs/musa-550-fall-2023/lib/python3.10/site-packages/pandas/core/reshape/melt.py\nType:      function\n\n\n\nThe syntax for pd.melt():\n\n“id_vars”: A list of column names that are the identifier variables, the fields that uniquely identify each observation.\n“value_vars”: A list of column names that get “unpivoted” and become the values in the new dataframe.\n“value_name”: The name to use for the new value column created; by default, this is “value”\n“var_name”: The name of the column that holds the unpivoted column names (the “key” above); by default, this is “variable”\n\nNow let’s look at our dataframes.\nFor “id_vars”, we want to use ‘RegionName’ (county name) and ‘StateName’. That uniquely identifies each row.\nBut what about “value_vars”?\nThe columns holding the values we want to unpivot are the monthly date strings. So…we need to figure out how to select all of the column names that look like dates.\n\nzhvi.columns\n\nIndex(['RegionID', 'SizeRank', 'RegionName', 'RegionType', 'StateName',\n       'State', 'Metro', 'StateCodeFIPS', 'MunicipalCodeFIPS', '2000-01-31',\n       ...\n       '2022-10-31', '2022-11-30', '2022-12-31', '2023-01-31', '2023-02-28',\n       '2023-03-31', '2023-04-30', '2023-05-31', '2023-06-30', '2023-07-31'],\n      dtype='object', length=292)\n\n\nThe filter() function to the rescue!\nThis function will take a function that returns True/False and list of values and return a new list with values that only return True in the function.\n\n\n\n\n\n\nTip\n\n\n\nSee this tutorial for more info on the built-in filter() function.\n\n\nIn our case, let’s write a function that tests if a string column name starts with ‘20’ — this should give us all of the column names that look like dates.\n\ndef looks_like_a_date(column_name):\n    \"\"\"A function that tests if a string starts with '20'\"\"\"\n\n    return column_name.startswith(\"20\")\n\n\nlooks_like_a_date(\"2000-01-31\")\n\nTrue\n\n\n\n## Now do the filter:\n## First argument is the function\n## Second argument is the list of values we want to filter\n\nfilter(looks_like_a_date, zhvi.columns)\n\n&lt;filter at 0x137b5ec80&gt;\n\n\nUgh, this doesn’t look like what we wanted!\nThis is what’s called an “iterable” in Python (something that is ready to be iterated over). In order to actually get the values, we need to explicitly pass this to a list() function.\n\nlist(\n    filter(looks_like_a_date, zhvi.columns)\n)\n\n['2000-01-31',\n '2000-02-29',\n '2000-03-31',\n '2000-04-30',\n '2000-05-31',\n '2000-06-30',\n '2000-07-31',\n '2000-08-31',\n '2000-09-30',\n '2000-10-31',\n '2000-11-30',\n '2000-12-31',\n '2001-01-31',\n '2001-02-28',\n '2001-03-31',\n '2001-04-30',\n '2001-05-31',\n '2001-06-30',\n '2001-07-31',\n '2001-08-31',\n '2001-09-30',\n '2001-10-31',\n '2001-11-30',\n '2001-12-31',\n '2002-01-31',\n '2002-02-28',\n '2002-03-31',\n '2002-04-30',\n '2002-05-31',\n '2002-06-30',\n '2002-07-31',\n '2002-08-31',\n '2002-09-30',\n '2002-10-31',\n '2002-11-30',\n '2002-12-31',\n '2003-01-31',\n '2003-02-28',\n '2003-03-31',\n '2003-04-30',\n '2003-05-31',\n '2003-06-30',\n '2003-07-31',\n '2003-08-31',\n '2003-09-30',\n '2003-10-31',\n '2003-11-30',\n '2003-12-31',\n '2004-01-31',\n '2004-02-29',\n '2004-03-31',\n '2004-04-30',\n '2004-05-31',\n '2004-06-30',\n '2004-07-31',\n '2004-08-31',\n '2004-09-30',\n '2004-10-31',\n '2004-11-30',\n '2004-12-31',\n '2005-01-31',\n '2005-02-28',\n '2005-03-31',\n '2005-04-30',\n '2005-05-31',\n '2005-06-30',\n '2005-07-31',\n '2005-08-31',\n '2005-09-30',\n '2005-10-31',\n '2005-11-30',\n '2005-12-31',\n '2006-01-31',\n '2006-02-28',\n '2006-03-31',\n '2006-04-30',\n '2006-05-31',\n '2006-06-30',\n '2006-07-31',\n '2006-08-31',\n '2006-09-30',\n '2006-10-31',\n '2006-11-30',\n '2006-12-31',\n '2007-01-31',\n '2007-02-28',\n '2007-03-31',\n '2007-04-30',\n '2007-05-31',\n '2007-06-30',\n '2007-07-31',\n '2007-08-31',\n '2007-09-30',\n '2007-10-31',\n '2007-11-30',\n '2007-12-31',\n '2008-01-31',\n '2008-02-29',\n '2008-03-31',\n '2008-04-30',\n '2008-05-31',\n '2008-06-30',\n '2008-07-31',\n '2008-08-31',\n '2008-09-30',\n '2008-10-31',\n '2008-11-30',\n '2008-12-31',\n '2009-01-31',\n '2009-02-28',\n '2009-03-31',\n '2009-04-30',\n '2009-05-31',\n '2009-06-30',\n '2009-07-31',\n '2009-08-31',\n '2009-09-30',\n '2009-10-31',\n '2009-11-30',\n '2009-12-31',\n '2010-01-31',\n '2010-02-28',\n '2010-03-31',\n '2010-04-30',\n '2010-05-31',\n '2010-06-30',\n '2010-07-31',\n '2010-08-31',\n '2010-09-30',\n '2010-10-31',\n '2010-11-30',\n '2010-12-31',\n '2011-01-31',\n '2011-02-28',\n '2011-03-31',\n '2011-04-30',\n '2011-05-31',\n '2011-06-30',\n '2011-07-31',\n '2011-08-31',\n '2011-09-30',\n '2011-10-31',\n '2011-11-30',\n '2011-12-31',\n '2012-01-31',\n '2012-02-29',\n '2012-03-31',\n '2012-04-30',\n '2012-05-31',\n '2012-06-30',\n '2012-07-31',\n '2012-08-31',\n '2012-09-30',\n '2012-10-31',\n '2012-11-30',\n '2012-12-31',\n '2013-01-31',\n '2013-02-28',\n '2013-03-31',\n '2013-04-30',\n '2013-05-31',\n '2013-06-30',\n '2013-07-31',\n '2013-08-31',\n '2013-09-30',\n '2013-10-31',\n '2013-11-30',\n '2013-12-31',\n '2014-01-31',\n '2014-02-28',\n '2014-03-31',\n '2014-04-30',\n '2014-05-31',\n '2014-06-30',\n '2014-07-31',\n '2014-08-31',\n '2014-09-30',\n '2014-10-31',\n '2014-11-30',\n '2014-12-31',\n '2015-01-31',\n '2015-02-28',\n '2015-03-31',\n '2015-04-30',\n '2015-05-31',\n '2015-06-30',\n '2015-07-31',\n '2015-08-31',\n '2015-09-30',\n '2015-10-31',\n '2015-11-30',\n '2015-12-31',\n '2016-01-31',\n '2016-02-29',\n '2016-03-31',\n '2016-04-30',\n '2016-05-31',\n '2016-06-30',\n '2016-07-31',\n '2016-08-31',\n '2016-09-30',\n '2016-10-31',\n '2016-11-30',\n '2016-12-31',\n '2017-01-31',\n '2017-02-28',\n '2017-03-31',\n '2017-04-30',\n '2017-05-31',\n '2017-06-30',\n '2017-07-31',\n '2017-08-31',\n '2017-09-30',\n '2017-10-31',\n '2017-11-30',\n '2017-12-31',\n '2018-01-31',\n '2018-02-28',\n '2018-03-31',\n '2018-04-30',\n '2018-05-31',\n '2018-06-30',\n '2018-07-31',\n '2018-08-31',\n '2018-09-30',\n '2018-10-31',\n '2018-11-30',\n '2018-12-31',\n '2019-01-31',\n '2019-02-28',\n '2019-03-31',\n '2019-04-30',\n '2019-05-31',\n '2019-06-30',\n '2019-07-31',\n '2019-08-31',\n '2019-09-30',\n '2019-10-31',\n '2019-11-30',\n '2019-12-31',\n '2020-01-31',\n '2020-02-29',\n '2020-03-31',\n '2020-04-30',\n '2020-05-31',\n '2020-06-30',\n '2020-07-31',\n '2020-08-31',\n '2020-09-30',\n '2020-10-31',\n '2020-11-30',\n '2020-12-31',\n '2021-01-31',\n '2021-02-28',\n '2021-03-31',\n '2021-04-30',\n '2021-05-31',\n '2021-06-30',\n '2021-07-31',\n '2021-08-31',\n '2021-09-30',\n '2021-10-31',\n '2021-11-30',\n '2021-12-31',\n '2022-01-31',\n '2022-02-28',\n '2022-03-31',\n '2022-04-30',\n '2022-05-31',\n '2022-06-30',\n '2022-07-31',\n '2022-08-31',\n '2022-09-30',\n '2022-10-31',\n '2022-11-30',\n '2022-12-31',\n '2023-01-31',\n '2023-02-28',\n '2023-03-31',\n '2023-04-30',\n '2023-05-31',\n '2023-06-30',\n '2023-07-31']\n\n\nHooray, it worked!\nNow, it’s time to melt our datasets:\n\npd.melt(\n    zhvi,\n    id_vars=[\"RegionName\", \"StateName\"],\n    value_vars=list(\n        filter(looks_like_a_date, zhvi.columns)\n    ),  # Notice I'm filtering zhvi columns here\n    var_name=\"Date\",\n    value_name=\"ZHVI\",\n)\n\n\n\n\n\n\n\n\nRegionName\nStateName\nDate\nZHVI\n\n\n\n\n0\nLos Angeles County\nCA\n2000-01-31\n205982.244116\n\n\n1\nCook County\nIL\n2000-01-31\n136354.916313\n\n\n2\nHarris County\nTX\n2000-01-31\n107050.239739\n\n\n3\nMaricopa County\nAZ\n2000-01-31\n146824.674809\n\n\n4\nSan Diego County\nCA\n2000-01-31\n217214.415906\n\n\n...\n...\n...\n...\n...\n\n\n871069\nThomas County\nNE\n2023-07-31\n133745.901961\n\n\n871070\nMcPherson County\nNE\n2023-07-31\n273759.383253\n\n\n871071\nArthur County\nNE\n2023-07-31\n237980.396932\n\n\n871072\nPetroleum County\nMT\n2023-07-31\n195882.207523\n\n\n871073\nKenedy County\nTX\n2023-07-31\n104976.588235\n\n\n\n\n871074 rows × 4 columns\n\n\n\n\nzhvi_tidy = zhvi.melt(\n    id_vars=[\"RegionName\", \"StateName\"],\n    value_vars=list(filter(looks_like_a_date, zhvi.columns)), # Notice I'm filtering zhvi columns here\n    var_name=\"Date\",\n    value_name=\"ZHVI\",\n)\n\n\nzori_tidy = zori.melt(\n    id_vars=[\"RegionName\", \"StateName\"],\n    value_vars=list(filter(looks_like_a_date, zori.columns)), # Notice I'm filtering zori columns here\n    var_name=\"Date\",\n    value_name=\"ZORI\",\n)\n\nand take a look:\n\nzori_tidy.head()\n\n\n\n\n\n\n\n\nRegionName\nStateName\nDate\nZORI\n\n\n\n\n0\nLos Angeles County\nCA\n2015-01-31\n1859.636263\n\n\n1\nCook County\nIL\n2015-01-31\n1509.519799\n\n\n2\nHarris County\nTX\n2015-01-31\n1244.972009\n\n\n3\nMaricopa County\nAZ\n2015-01-31\n1001.214534\n\n\n4\nSan Diego County\nCA\n2015-01-31\n1797.996849\n\n\n\n\n\n\n\n\nzhvi_tidy.head()\n\n\n\n\n\n\n\n\nRegionName\nStateName\nDate\nZHVI\n\n\n\n\n0\nLos Angeles County\nCA\n2000-01-31\n205982.244116\n\n\n1\nCook County\nIL\n2000-01-31\n136354.916313\n\n\n2\nHarris County\nTX\n2000-01-31\n107050.239739\n\n\n3\nMaricopa County\nAZ\n2000-01-31\n146824.674809\n\n\n4\nSan Diego County\nCA\n2000-01-31\n217214.415906\n\n\n\n\n\n\n\n\n\nMerge the data frames\nAnother common operation is merging, also known as joining, two datasets.\nWe can use the merge() function to merge observations that have the same Date, RegionName, and StateName values.\n\n# Left dataframe is ZORI\n# Right dataframe is ZHVI\n\nzillow_data = pd.merge(\n    zori_tidy, zhvi_tidy, on=[\"Date\", \"RegionName\", \"StateName\"], how=\"outer\"\n)\n\nLet’s sort the data by ‘Date’:\n\nzillow_data = zillow_data.sort_values(\n    by=\"Date\",         # Sort by Data column\n    ascending=True,    # Ascending order\n    ignore_index=True, # Reset the index to 0 to N\n)\n\nLet’s take a peak at the end of the dataframe using the .tail() function:\n\nzillow_data.head(n=20)\n\n\n\n\n\n\n\n\nRegionName\nStateName\nDate\nZORI\nZHVI\n\n\n\n\n0\nDooly County\nGA\n2000-01-31\nNaN\n43205.386681\n\n\n1\nMoniteau County\nMO\n2000-01-31\nNaN\nNaN\n\n\n2\nJefferson County\nGA\n2000-01-31\nNaN\n52304.968485\n\n\n3\nHenry County\nKY\n2000-01-31\nNaN\n83564.841863\n\n\n4\nPawnee County\nOK\n2000-01-31\nNaN\n37124.230106\n\n\n5\nClarke County\nMS\n2000-01-31\nNaN\nNaN\n\n\n6\nFloyd County\nIA\n2000-01-31\nNaN\n65476.850601\n\n\n7\nNottoway County\nVA\n2000-01-31\nNaN\nNaN\n\n\n8\nDewitt County\nIL\n2000-01-31\nNaN\nNaN\n\n\n9\nGrand County\nCO\n2000-01-31\nNaN\n176407.811425\n\n\n10\nSequatchie County\nTN\n2000-01-31\nNaN\n57679.387017\n\n\n11\nBarbour County\nWV\n2000-01-31\nNaN\n41933.827293\n\n\n12\nCarroll County\nIL\n2000-01-31\nNaN\nNaN\n\n\n13\nWashington County\nAL\n2000-01-31\nNaN\nNaN\n\n\n14\nFloyd County\nVA\n2000-01-31\nNaN\nNaN\n\n\n15\nMarquette County\nWI\n2000-01-31\nNaN\nNaN\n\n\n16\nVermillion County\nIN\n2000-01-31\nNaN\nNaN\n\n\n17\nLawrence County\nIL\n2000-01-31\nNaN\n14805.795158\n\n\n18\nBrown County\nIN\n2000-01-31\nNaN\nNaN\n\n\n19\nRedwood County\nMN\n2000-01-31\nNaN\nNaN\n\n\n\n\n\n\n\nMerging is very powerful and the merge can be done in a number of ways. In this case, we did a outer merge in order to keep all parts of each dataframe: even if a county doesn’t have both a ZORI and ZHVI value, the row will be in the merged dataframe with NaN to represent missing values.\nBy contrast, the inner merge only keeps the overlapping intersection of the merge: counties must have both a ZORI and ZHVI value for a given month for the row to make it into the merged dataframe.\nThe below infographic is helpful for figuring out the differences between merge types:\n\n\n\nTrim to the counties we want\nWhen we select the counties in the Philly metro region, we need to be careful because if we select just based on county name, we run the risk of selecting counties with the same name in other states. So let’s do our selection in two parts:\n\nTrim to counties in NJ or PA\nTrim based on county name\n\n\n# Get the rows with state == 'PA' or state == 'NJ'\nin_nj_pa = zillow_data[\"StateName\"].isin([\"PA\", \"NJ\"])\n\n# Save the trimmed dataframe\nzillow_trim_tmp = zillow_data.loc[in_nj_pa]\n\n\ncounty_names = [\n    \"Bucks County\",\n    \"Chester County\",\n    \"Delaware County\",\n    \"Montgomery County\",\n    \"Burlington County\",\n    \"Camden County\",\n    \"Gloucester County\",\n    \"Philadelphia County\",\n]\n\n# Trim based on county name\ncounty_sel = zillow_trim_tmp['RegionName'].isin(county_names)\n\n# Trim temp dataframe from last step\nprices_philly_metro = zillow_trim_tmp.loc[county_sel]\n\n\nprices_philly_metro\n\n\n\n\n\n\n\n\nRegionName\nStateName\nDate\nZORI\nZHVI\n\n\n\n\n1939\nCamden County\nNJ\n2000-01-31\nNaN\n104472.922223\n\n\n1946\nChester County\nPA\n2000-01-31\nNaN\n181113.160285\n\n\n1948\nDelaware County\nPA\n2000-01-31\nNaN\n113558.833735\n\n\n1960\nBucks County\nPA\n2000-01-31\nNaN\n166888.007583\n\n\n2008\nBurlington County\nNJ\n2000-01-31\nNaN\n141309.912108\n\n\n...\n...\n...\n...\n...\n...\n\n\n870781\nCamden County\nNJ\n2023-07-31\n1840.157047\n305607.084299\n\n\n870875\nGloucester County\nNJ\n2023-07-31\n2156.799027\n333625.235271\n\n\n870881\nBucks County\nPA\n2023-07-31\n2165.660642\n464753.874925\n\n\n870987\nMontgomery County\nPA\n2023-07-31\n2058.804292\n443222.467804\n\n\n871037\nPhiladelphia County\nPA\n2023-07-31\n1747.206167\n221021.754706\n\n\n\n\n2264 rows × 5 columns\n\n\n\nLet’s verify it worked…how many unique values in the “RegionName” column?\n\nprices_philly_metro['RegionName'].nunique()\n\n8\n\n\n\n\nGroup by: split-apply-combine\npandas is especially useful for grouping and aggregating data via the groupby() function.\nFrom the pandas documentation, groupby means: - Splitting the data into groups based on some criteria. - Applying a function to each group independently. - Combining the results into a data structure.\n\n\n\n\n\n\nTip\n\n\n\nCheck out the documentation for more info.\n\n\nWe will take advantage of the pandas “group by” to calculate the percent increase in price values from March 2020 to July 2023 (the latest available data) for each county.\nTo do this, we’ll do the following:\n\nGroup by county name (the “RegionName” column)\nApply a function that does the following for each county’s data:\n\nSelect the March 2020 data\nSelect the July 2023 data\nCalculates the percent change for ZHVI and ZORI\n\n\nFirst, do the groupby operation:\n\ngrouped = prices_philly_metro.groupby(\"RegionName\")\n\ngrouped\n\n&lt;pandas.core.groupby.generic.DataFrameGroupBy object at 0x137c4a800&gt;\n\n\nThe groupby() function returns a DataFrameGroupBy object. This object knows what the groups are, but we still need to apply() a function to this object in order to get a DataFrame back!\nLet’s set up our function:\n\ndef calculate_percent_increase(group_df):\n    \"\"\"\n    Calculate the percent increase from 2020-03-31 to 2023-07-31.\n    \n    Note that `group_df` is the DataFrame for each group, in this\n    case, the data for each county.\n    \"\"\"\n    # Create selections for the march 2020 and july 2023 data\n    march_sel = group_df[\"Date\"] == \"2020-03-31\"\n    july_sel = group_df[\"Date\"] == \"2023-07-31\"\n    \n    # Get the data for each month (only 1 row, so squeeze it!)\n    march_2020 = group_df.loc[march_sel].squeeze()\n    july_2023 = group_df.loc[july_sel].squeeze()\n\n    # Columns to calculate percent change for\n    columns = [\"ZORI\", \"ZHVI\"]\n    \n    # Return the percent change for both columns\n    return 100 * (july_2023[columns] / march_2020[columns] - 1)\n\nNow, let’s apply this function to our group object:\n\nresult = grouped.apply(calculate_percent_increase)\n\nresult\n\n\n\n\n\n\n\n\nZORI\nZHVI\n\n\nRegionName\n\n\n\n\n\n\nBucks County\n28.943525\n33.028304\n\n\nBurlington County\n35.053677\n37.403941\n\n\nCamden County\n35.580024\n51.834765\n\n\nChester County\n27.913963\n39.692418\n\n\nDelaware County\n29.269362\n41.453732\n\n\nGloucester County\n36.979221\n44.089155\n\n\nMontgomery County\n27.045037\n39.111692\n\n\nPhiladelphia County\n15.020128\n20.048094\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nNote that the index (shown in bold in the notebook output) is the column that we grouped over. That is always the case when we use groupby() in pandas. The resulting DataFrame’s index is the groupby columns.\n\n\nSort by ZHVI and take a look:\n\nresult.sort_values(by=\"ZHVI\", ascending=True)\n\n\n\n\n\n\n\n\nZORI\nZHVI\n\n\nRegionName\n\n\n\n\n\n\nPhiladelphia County\n15.020128\n20.048094\n\n\nBucks County\n28.943525\n33.028304\n\n\nBurlington County\n35.053677\n37.403941\n\n\nMontgomery County\n27.045037\n39.111692\n\n\nChester County\n27.913963\n39.692418\n\n\nDelaware County\n29.269362\n41.453732\n\n\nGloucester County\n36.979221\n44.089155\n\n\nCamden County\n35.580024\n51.834765\n\n\n\n\n\n\n\nTakeaway\nPhiladelphia has had much lower price appreciation for home values and rent values since the pandemic started compared to its suburbs.\nThis is evidence in favor of the “donut effect”, with higher demand in the suburbs driving prices higher!\n\n\n\n\n\n\nNote\n\n\n\nThere are a number of built-in, convenience functions that we can use on the groupby object, such as .mean(), .sum(), .size(), etc.\n\n\nFor example, if we wanted to calculate the average ZHVI and ZORI values since March 2020 for every county, we could do the following:\n\n# First trim to dates from March 2020 onwards, then group by county name\ngroup_example = prices_philly_metro.query(\"Date &gt;= '2020-03-31'\").groupby(\"RegionName\")\n\n\n# Select the columns we want, and then use the built-in mean function\navg_prices = group_example[['ZHVI', 'ZORI']].mean()\n\navg_prices.sort_values(\"ZHVI\")\n\n\n\n\n\n\n\n\nZHVI\nZORI\n\n\nRegionName\n\n\n\n\n\n\nPhiladelphia County\n208756.603528\n1620.775839\n\n\nCamden County\n255742.478151\n1612.282080\n\n\nGloucester County\n283831.654654\n1868.459836\n\n\nDelaware County\n285825.916694\n1532.245821\n\n\nBurlington County\n315162.461555\n1924.282700\n\n\nMontgomery County\n382385.207204\n1831.782312\n\n\nBucks County\n413498.955059\n1907.576110\n\n\nChester County\n440770.335977\n1880.804478\n\n\n\n\n\n\n\nNote: Philadelphia also had the lowest average price (about $209k), in addition to the lowest growth in prices, since the pandemic started.\n\n\nBonus: a matplotlib preview\nThe week 2 lectures will dive into (probably too much) detail about matplotlib and data visualization in Python. For now, let’s do a quick and dirty plot for illustration purposes only. The matplotlib details here aren’t important\n\n# The import statement matplotlib\nfrom matplotlib import pyplot as plt\n\nWe’ll plot the ZORI/ZHVI values for each county from March 2020 through July 2023. One way to do this is to use the same groupby operation we used earlier.\nAs shown below, if you iterate over the groupby object, you will get two things back each time:\n\nThe value of the thing you grouped over\nThe dataframe holding the data for that group.\n\nWe will use this trick to group by “RegionName” and when we iterate over the groups, we can easily plot the data for each group on the same axes. It will look like this:\n# Iterate over the data, grouped by county name\nfor countyName, group_df in prices_philly_metro.groupby(\"RegionName\"):\n    \n    # Make our plots, each time using group_df\n    ...\nHere we go…plot the ZORI values.\nTo better see the growth since March 2020, we will normalize the y-axis to 1 in March 2020:\n\n# Create the figure and axes\nfig, ax = plt.subplots()\n\n# Iterate over the data, grouped by county name\nfor countyName, group_df in prices_philly_metro.groupby(\"RegionName\"):\n    \n    # Trim to where Date &gt; March 2020\n    # Sort by Date in ascending order\n    group_df = group_df.sort_values(\"Date\").query(\"Date &gt;= '2020-03-01'\")\n\n    # Date vs. ZORI\n    x = group_df[\"Date\"]\n    y = group_df[\"ZORI\"]\n    \n    # Trime\n    ax.plot(x, y / y.iloc[0], label=countyName)\n\n# Format and add a legend\nax.set_title(\"ZORI Values, Normalized to 1 in March 2020\")\nax.set_xticks([\"2020-03-31\", \"2023-07-31\"])\nax.legend(fontsize=10);\n\n\n\n\nPlot the ZHVI values, normalized to 1 in March 2020:\n\n# Create the figure and axes\nfig, ax = plt.subplots()\n\n# Iterate over the data, grouped by county name\nfor countyName, group_df in prices_philly_metro.groupby(\"RegionName\"):\n    \n    # Trim to where Date &gt; March 2020\n    # Sort by Date in ascending order\n    group_df = group_df.sort_values(\"Date\").query(\"Date &gt;= '2020-03-01'\")\n\n    # Date vs. ZHVI\n    x = group_df[\"Date\"]\n    y = group_df[\"ZHVI\"]\n    \n    # Trime\n    ax.plot(x, y / y.iloc[0], label=countyName)\n\n# Format and add a legend\nax.set_title(\"ZHVI Values, Normalized to 1 in March 2020\")\nax.set_xticks([\"2020-03-31\", \"2023-07-31\"])\nax.legend(fontsize=10);\n\n\n\n\nTakeaway: You can clearly see that price growth in Philadelphia significantly lags the growth in its suburb counties."
  },
  {
    "objectID": "content/week-1/lecture-1B.html#first-homework-assignment",
    "href": "content/week-1/lecture-1B.html#first-homework-assignment",
    "title": "Week 1B: Exploratory Data Science in Python",
    "section": "First Homework Assignment",
    "text": "First Homework Assignment\nAvailable on GitHub:\nhttps://github.com/MUSA-550-Fall-2023/assignment-1\nTwo parts:\n\nDownload and install Python locally on your computer. Instructions in the assignment README!\nExplore the “Donut Effect” using Zillow ZHVI data by ZIP code in Philadelphia, and submit your Jupyter notebook.\n\n\n\n\n\n\n\nImportant\n\n\n\nDue date: Monday 9/25 by the end of the day (11:59 PM)"
  },
  {
    "objectID": "content/week-1/lecture-1B.html#thats-it",
    "href": "content/week-1/lecture-1B.html#thats-it",
    "title": "Week 1B: Exploratory Data Science in Python",
    "section": "That’s it!",
    "text": "That’s it!\n\nNext week: Data Visualization Fundamentals\nOffice hours:\n\nNick: Mondays, 8:00PM - 10:00PM, remote\nTeresa: Fridays, 10:30AM - 12:00PM, remote\nSign up for 15-minute time slots on Canvas (Zoom info in calendar invite)\n\nPost any questions on Ed Discussion!\nEmail questions/concerns to nhand@design.upenn.edu"
  },
  {
    "objectID": "content/week-6/index.html",
    "href": "content/week-6/index.html",
    "title": "Week 6: Getting Data, Part 1: Web Scraping",
    "section": "",
    "text": "Content for lectures 6A and 6B\n\n\n        \n            \n             \n            View materials:\n             \n            MUSA-550-Fall-2023/week-6\n        \n\n        \n            \n             \n            HTML slides:\n             \n            \n                Lecture 6A\n            \n             \n            \n                Lecture 6B\n            \n        \n        \n\n        \n            \n             \n            Executable slides:\n             \n            \n                Lecture 6A\n            \n             \n            \n                Lecture 6B"
  },
  {
    "objectID": "content/week-6/index.html#recommended-readings",
    "href": "content/week-6/index.html#recommended-readings",
    "title": "Week 6: Getting Data, Part 1: Web Scraping",
    "section": "Recommended readings",
    "text": "Recommended readings\n\nBeautifulSoup and CSS Selectors\nWeb scraping: a promising tool for geographic data acquisition\nWeb scraping in the news\n\nOpenAI sued by authors (AP News)c\nScraping the Web Is a Powerful Tool. Clearview AI Abused It (Wired)\nWeb scraping is legal, US appeals court reaffirms (Techcrunch)"
  },
  {
    "objectID": "content/week-6/index.html#new-packages",
    "href": "content/week-6/index.html#new-packages",
    "title": "Week 6: Getting Data, Part 1: Web Scraping",
    "section": "New Packages",
    "text": "New Packages\n\nRequests\nBeautiful Soup\nSelenium"
  },
  {
    "objectID": "content/week-6/index.html#useful-links-and-reference-materials",
    "href": "content/week-6/index.html#useful-links-and-reference-materials",
    "title": "Week 6: Getting Data, Part 1: Web Scraping",
    "section": "Useful Links and Reference Materials",
    "text": "Useful Links and Reference Materials\n\nInsights into Housing Markets from Scraping Craigslist\n\nand accompanying academic article\n\nHTML tutorial\n\nsections: introduction, basics, elements, attributes\n\nTutorial on Web Scraping with Requests and BeautifulSoup\nCSS Selectors"
  },
  {
    "objectID": "content/week-6/lecture-6A.html",
    "href": "content/week-6/lecture-6A.html",
    "title": "Week 6AWeb Scraping",
    "section": "",
    "text": "import pandas as pd"
  },
  {
    "objectID": "content/week-6/lecture-6A.html#the-roadmap",
    "href": "content/week-6/lecture-6A.html#the-roadmap",
    "title": "Week 6AWeb Scraping",
    "section": "The roadmap",
    "text": "The roadmap\nMoving in to our “getting data” modules\n\nToday: web scraping\nNext week: APIs, Census data, natural language processing\nThen: big data, geo data science in the wild, dashboarding & web servers, machine learning\n\nThe final project will ask you to combine several of these topics/techniques to analyze a data sets and produce a web-based data visualization"
  },
  {
    "objectID": "content/week-6/lecture-6A.html#today-web-scraping",
    "href": "content/week-6/lecture-6A.html#today-web-scraping",
    "title": "Week 6AWeb Scraping",
    "section": "Today: web scraping",
    "text": "Today: web scraping\n\nWhy web scraping?\nGetting familiar with the Web\nWeb scraping: extracting data from static sites\nHow to deal with dynamic content"
  },
  {
    "objectID": "content/week-6/lecture-6A.html#what-is-web-scraping",
    "href": "content/week-6/lecture-6A.html#what-is-web-scraping",
    "title": "Week 6AWeb Scraping",
    "section": "What is web scraping?",
    "text": "What is web scraping?\nUsing software to gather and extract data/content from websites"
  },
  {
    "objectID": "content/week-6/lecture-6A.html#why-is-web-scraping-useful",
    "href": "content/week-6/lecture-6A.html#why-is-web-scraping-useful",
    "title": "Week 6AWeb Scraping",
    "section": "Why is web scraping useful?",
    "text": "Why is web scraping useful?\n\nNot every data source provides an API\nThe Web contains a lot of information\nUnique data sources that may not be available elsewhere"
  },
  {
    "objectID": "content/week-6/lecture-6A.html#what-is-possible-11-million-rental-listings-from-craigslist",
    "href": "content/week-6/lecture-6A.html#what-is-possible-11-million-rental-listings-from-craigslist",
    "title": "Week 6AWeb Scraping",
    "section": "What is possible: 11 million rental listings from Craigslist",
    "text": "What is possible: 11 million rental listings from Craigslist\n\n\n\nSource: Geoff Boeing"
  },
  {
    "objectID": "content/week-6/lecture-6A.html#why-isnt-web-scraping-incredibly-popular",
    "href": "content/week-6/lecture-6A.html#why-isnt-web-scraping-incredibly-popular",
    "title": "Week 6AWeb Scraping",
    "section": "Why isn’t web scraping incredibly popular?",
    "text": "Why isn’t web scraping incredibly popular?\n\nIt can be time consuming and difficult to extract large volumes\nYou are at the mercy of website maintainers — if the website structure changes, your code breaks\nMost importantly, there are ethical and legal concerns"
  },
  {
    "objectID": "content/week-6/lecture-6A.html#legal-concerns",
    "href": "content/week-6/lecture-6A.html#legal-concerns",
    "title": "Week 6AWeb Scraping",
    "section": "Legal concerns",
    "text": "Legal concerns\nRadPad scraped the entirety of Craiglist, Craigslist sued RadPad, and they were awarded $60 million"
  },
  {
    "objectID": "content/week-6/lecture-6A.html#two-types-of-legal-issues",
    "href": "content/week-6/lecture-6A.html#two-types-of-legal-issues",
    "title": "Week 6AWeb Scraping",
    "section": "Two types of legal issues",
    "text": "Two types of legal issues\n\nCopyright infringement\n\nFor example: pictures, rental listing text\n\nTerms of Use violations\n\nUnauthorized: Is scraping prohibited in the website’s terms of use?\nIntentional: Was the person aware of the terms? Did they check an “I agree to these terms” box?\nCauses damage: Did the scraping overload the website, blocking user access?"
  },
  {
    "objectID": "content/week-6/lecture-6A.html#web-scraping-public-sites-is-legal",
    "href": "content/week-6/lecture-6A.html#web-scraping-public-sites-is-legal",
    "title": "Week 6AWeb Scraping",
    "section": "Web scraping public sites is legal",
    "text": "Web scraping public sites is legal\n\nRuling from 2022 said that scraping data that is publicly accessible on the internet is not a violation of the Computer Fraud and Abuse Act\nLinkedin had sued a competitor for scraping publicly available information from user profiles\n\nMore info on the case"
  },
  {
    "objectID": "content/week-6/lecture-6A.html#some-more-problematic-use-cases",
    "href": "content/week-6/lecture-6A.html#some-more-problematic-use-cases",
    "title": "Week 6AWeb Scraping",
    "section": "Some more problematic use cases",
    "text": "Some more problematic use cases\n\nThe facial recognition startup Clearview AI scraped billions of photos from social media websites. They recently settled a class action lawsuit that alleged they violated privacy laws\nWeb scraping at a massive scale has been a key ingredient in generating the training datasets for generative AI models like ChatGPT. Companies like OpenAI and Meta have been sued by authors and other content creators for violating copyright laws."
  },
  {
    "objectID": "content/week-6/lecture-6A.html#when-is-web-scraping-probably-okay",
    "href": "content/week-6/lecture-6A.html#when-is-web-scraping-probably-okay",
    "title": "Week 6AWeb Scraping",
    "section": "When is web scraping probably okay?",
    "text": "When is web scraping probably okay?\n\n.gov sites and, to a lesser degree, .edu sites\nWebsite owner has no business reason to protect the information\nNot prohibited in terms of use\nLimited number of requests\nNot too many requests all at once\nDone at night, when web traffic is low"
  },
  {
    "objectID": "content/week-6/lecture-6A.html#when-is-it-less-likely-to-be-okay",
    "href": "content/week-6/lecture-6A.html#when-is-it-less-likely-to-be-okay",
    "title": "Week 6AWeb Scraping",
    "section": "When is it less likely to be okay?",
    "text": "When is it less likely to be okay?\n\nsearch engines\nE-commerce sites (e.g. Zillow, Expedia, Amazon)\nSocial media\nProhibited in terms of use\nLarge number of requests\nHigh frequency of requests\n\nWith that being said, let’s do some web scraping…"
  },
  {
    "objectID": "content/week-6/lecture-6A.html#a-primer-on-web-definitions",
    "href": "content/week-6/lecture-6A.html#a-primer-on-web-definitions",
    "title": "Week 6AWeb Scraping",
    "section": "A primer on Web definitions",
    "text": "A primer on Web definitions\nSo many acronyms:\n\nHTML\nThe DOM\nCSS"
  },
  {
    "objectID": "content/week-6/lecture-6A.html#html-hypertext-markup-language",
    "href": "content/week-6/lecture-6A.html#html-hypertext-markup-language",
    "title": "Week 6AWeb Scraping",
    "section": "1. HTML: HyperText Markup Language",
    "text": "1. HTML: HyperText Markup Language\n\nThe language most websites are written in\nThe browser knows how to read this language and renders the output for you\nHTML is what a web crawler will see\n\n\nHTML tags\n\nThere are a standard set of tags to define the different structural components of a webpage\nFor example:\n\n&lt;h1&gt;, &lt;h2&gt; tags define headers\n&lt;p&gt; tags define paragraphs\n&lt;ol&gt; and &lt;ul&gt; are ordered and unordered lists\n\n\n\n\nJupyter notebooks can render HTML\nUse the %%html magic cell command\n\n%%html\n\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;TITLE GOES HERE&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;h3&gt;MAIN CONTENT GOES IN THE BODY TAG&lt;/h3&gt;\n    &lt;p&gt;This is a paragraph tag&lt;/p&gt;\n    &lt;p&gt;This is a second paragraph tag&lt;/p&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n\n\n\n  \n    TITLE GOES HERE\n  \n  \n    MAIN CONTENT GOES IN THE BODY TAG\n    This is a paragraph tag\n    This is a second paragraph tag\n  \n\n\n\n\n\nElements, tags, and attributes\nLearning the notation:\n\n%%html\n\n&lt;a id=\"my-link\" style=\"color: orange;\" href=\"https://www.design.upenn.edu\" target=\"blank_\"&gt;This is my link&lt;/a&gt;\n\n\nThis is my link\n\n\nThe element: \nThe tag: \nThe attributes:\n\n\n\nSome attributes have special meaning\n\nIn particular: id and class\nAllows you to:\n\nselect and manipulate specific elements\napply styling to specific types of elements"
  },
  {
    "objectID": "content/week-6/lecture-6A.html#css-cascading-stylesheets",
    "href": "content/week-6/lecture-6A.html#css-cascading-stylesheets",
    "title": "Week 6AWeb Scraping",
    "section": "2. CSS: Cascading Stylesheets",
    "text": "2. CSS: Cascading Stylesheets\n\nA language for styling HTML pages\nCSS styles (also known as selectors) are applied to HTML tags based on their name, class, or ID.\n\n\n\n\n\nBasic Web selectors\n\nClass\n\ne.g., .red\n\nID\n\ne.g., #some-id\n\nTag\n\ne.g., p, li, div\n\nIDs: unique identifiers\n\nno two elements on a page will have the same ID.\n\nClasses: not unique\n\nmany elements will have the same class\na single element can have multiple classes\n\n\nAnd many more: look up the syntax when you need it\nhttps://www.w3schools.com/cssref/css_selectors.asp"
  },
  {
    "objectID": "content/week-6/lecture-6A.html#the-dom-document-object-model",
    "href": "content/week-6/lecture-6A.html#the-dom-document-object-model",
    "title": "Week 6AWeb Scraping",
    "section": "3. The DOM: Document Object Model",
    "text": "3. The DOM: Document Object Model\n\nAn interactive object tree created from the HTML tag hierarchy on a page\nCreated by the browser\nTracks user interactions\nIt is dynamic: stores the current state of the webpage\n\n\nInspecting a webpage\n\nModern web browsers provide tools for inspecting the source HTML and DOM of websites\nAlso tells you data sources that have been loaded by the page\nThis should also be your first step when starting to scrape a page\n\n\n\n\n\n\n\nTip\n\n\n\nTo load the Web Inspector in most modern browsers, you can simply hit the F12 button\n\n\n\n\n\nThe Elements tab\n\nAllows you to inspect the DOM directly\nThe tool that will allow you to identify what data you want to scrape from a website\n\n\n\n\n\n\n\n\nTip: Viewing an element’s source code\n\n\n\n\nRight click on the element you want to view\nClick on “Inspect”\nThe element will be highlighted in the DOM (in the Elements tab)\n\n\n\n\n\nThe Network tab, or web scraping the easy way\nThe network tab tracks all of the content loaded by a website. Many modern websites that use data will “fetch” the data from an external (possibly nonpublic) data source. The Network tab will show you these sources, potentially allowing you to get the data without writing any scraping code at all.\n\nThe places to look\n\nThe Fetch/XHR filter: all of the external XLM HTTP fetch requests, often used to load external data\nThe JS tab: Javascript files loaded by the site, which can sometimes include data\nIf you’re looking for GeoJSON data, you’ll want to look for .json files\n\n\n\nExample 1: The Prisons Census in Philadelphia\n\n\n\nExample 2: Measles data from the WSJ\n\n\n\nExample 3: Philly 311 Website\n\n\n\n\n\n\n\nTip\n\n\n\nWhen using the Network tab, you can right click on the listed entry in the left. Then, you can either select the “Open in new tab” option or the “Copy response” option. This will let you get the desired data into a new window or copied to your clipboard so you can save it to a file."
  },
  {
    "objectID": "content/week-6/lecture-6A.html#web-scraping-demo-philadelphia-health-inspections",
    "href": "content/week-6/lecture-6A.html#web-scraping-demo-philadelphia-health-inspections",
    "title": "Week 6AWeb Scraping",
    "section": "Web scraping demo: Philadelphia Health Inspections",
    "text": "Web scraping demo: Philadelphia Health Inspections\nLet’s scrape data for restaurant inspections using the searchable database maintained by the Philadelphia Inquirer, available at: https://data.inquirer.com/inspections/\n\n\nGetting the HTML content\nWe’ll use the built-in “requests” module to request the content of the website and load it into Python.\n\nimport requests\n\nUse a “get” request to get the content:\n\nurl = \"https://data.inquirer.com/inspections/\"\nr = requests.get(url)\n\n\ntype(r)\n\nrequests.models.Response\n\n\n\nr.status_code\n\n200\n\n\n\n\nBeautifulSoup makes this much more manageable\nBeautifulSoup makes it much easier to extract out different parts of a website.\n\nfrom bs4 import BeautifulSoup\n\nInitialize the “soup” object, using the content of our get request:\n\nsoup = BeautifulSoup(r.content, 'html.parser')\n\n\n\nMaking the HTML “pretty”\n\nprint(soup.prettify())\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n &lt;head&gt;\n  &lt;meta charset=\"utf-8\"/&gt;\n  &lt;meta content=\"IE=edge,chrome=1\" http-equiv=\"X-UA-Compatible\"/&gt;\n  &lt;meta content=\"initial-scale=1.0, maximum-scale=1.0, user-scalable=1.0\" name=\"viewport\"/&gt;\n  &lt;title&gt;\n   Clean Plates | The Philadelphia Inquirer\n  &lt;/title&gt;\n  &lt;meta content=\"yes\" name=\"apple-mobile-web-app-capable\"/&gt;\n  &lt;meta content=\"black\" name=\"apple-mobile-web-app-status-bar-style\"/&gt;\n  &lt;meta content=\"Philadelphia Inquirer\" name=\"publication\" property=\"og:site_name\"&gt;\n   &lt;meta content=\"noindex\" name=\"robots\"&gt;\n    &lt;meta content=\"summary\" name=\"twitter:card\"/&gt;\n    &lt;meta content=\"@phillyinquirer\" name=\"twitter:site\"/&gt;\n    &lt;meta content=\"Clean Plates | The Philadelphia Inquirer\" name=\"title\"&gt;\n     &lt;meta content=\"Clean Plates | The Philadelphia Inquirer\" name=\"twitter:title\"/&gt;\n     &lt;meta content=\"Clean Plates | The Philadelphia Inquirer\" name=\"contenttitle\" property=\"og:title\"&gt;\n      &lt;meta content=\"Website\" name=\"contenttype\"&gt;\n       &lt;meta content=\"website\" property=\"og:type\"&gt;\n        &lt;meta content=\"https://data.inquirer.com/inspections/\" property=\"og:url\"/&gt;\n        &lt;meta content=\"https://data.inquirer.com/inspections/\" name=\"twitter:url\"/&gt;\n        &lt;meta content=\"https://data.inquirer.com/inspections/\" property=\"al:web:url\"&gt;\n         &lt;meta content=\"always\" name=\"referrer\"/&gt;\n         &lt;meta content=\"local\" name=\"cg\"&gt;\n          &lt;meta content=\"By Rob Kandel\" name=\"byline\"/&gt;\n          &lt;link href=\"//data.inquirer.com/open_data/inspections/media/images/home_icon.png\" rel=\"image_src\"/&gt;\n          &lt;meta content=\"//data.inquirer.com/open_data/inspections/media/images/home_icon.png\" name=\"photourl\" property=\"og:image\"/&gt;\n          &lt;meta content=\"//data.inquirer.com/open_data/inspections/media/images/home_icon.png\" name=\"twitter:image\"/&gt;\n          &lt;meta content=\"Clean Plates: Philadelphia Restaurant Inspections\" name=\"description\" property=\"og:description\"&gt;\n           &lt;meta content=\"Clean Plates: Philadelphia Restaurant Inspections\" name=\"twitter:description\"/&gt;\n           &lt;meta content=\"3x82DC93LZlv0I/hQEBoyVVjlGPtX7VxHFgv1upr+9I=\" name=\"verify-v1\"&gt;\n            &lt;meta content=\"M2AU5FiSubRkBuZol-Gdtsaa8tp0EASDie_y3N-fje4\" name=\"google-site-verification\"/&gt;\n            &lt;meta content=\"29f3cb6efb7e05d5\" name=\"y_key\"/&gt;\n            &lt;meta content=\"ccf0cd67e5f1e33c\" name=\"y_key\"/&gt;\n            &lt;meta content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\" name=\"viewport\"/&gt;\n            &lt;meta content=\"yes\" name=\"apple-mobile-web-app-capable\"&gt;\n             &lt;link href=\"//media.inquirer.com/designimages/inq-favicon.png\" rel=\"icon\" type=\"image/png\"/&gt;\n             &lt;link href=\"//media.inquirer.com/designimages/inq-favicon.ico\" rel=\"icon\" type=\"image/vnd.microsoft.icon\"/&gt;\n             &lt;link href=\"//media.inquirer.com/designimages/inq-favicon.ico\" rel=\"shortcut icon\" type=\"image/vnd.microsoft.icon\"/&gt;\n             &lt;link href=\"//media.inquirer.com/designimages/apple-touch-inquirer-icon.png\" rel=\"apple-touch-icon\" type=\"image/png\"/&gt;\n             &lt;script&gt;\n              var siteURL = 'https://data.inquirer.com/inspections/';\n             &lt;/script&gt;\n             &lt;link href=\"//fonts.googleapis.com/css?family=Roboto:400,400italic,700,300\" rel=\"stylesheet\" type=\"text/css\"/&gt;\n             &lt;link href=\"//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css\" rel=\"stylesheet\"/&gt;\n             &lt;link href=\"//media.inquirer.com/storage/inquirer/script/leaflet/leaflet.css\" rel=\"stylesheet\"&gt;\n              &lt;!--[if lt IE 9]&gt;\n        &lt;link rel=\"stylesheet\" href=\"//media.inquirer.com/storage/inquirer/script/leaflet/leaflet.ie.css\" /&gt;\n        &lt;link rel=\"stylesheet\" href=\"//media.inquirer.com/storage/inquirer/script/leaflet/MarkerCluster.Default.ie.css\" /&gt;\n    &lt;![endif]--&gt;\n              &lt;link href=\"//data.inquirer.com/open_data/inspections/media/css/jquery-ui-1.9.0.custom.min.css\" rel=\"stylesheet\" type=\"text/css\"/&gt;\n              &lt;link href=\"//data.inquirer.com/open_data/inspections/media/css/inspections_global.min.4.0.0.css\" rel=\"stylesheet\" type=\"text/css\"/&gt;\n              &lt;script src=\"//media.inquirer.com/storage/inquirer/script/owl/jquery-1.11.2.min.js\" type=\"text/javascript\"&gt;\n              &lt;/script&gt;\n              &lt;!--[if lt IE 9]&gt;\n        &lt;script type=\"text/javascript\" src=\"https://www.inquirer.com/includes/respond.js\"&gt;&lt;/script&gt;\n    &lt;![endif]--&gt;\n              &lt;script src=\"//data.inquirer.com/open_data/inspections/media/js/modernizr.js\" type=\"text/javascript\"&gt;\n              &lt;/script&gt;\n              &lt;script src=\"//media.inquirer.com/storage/inquirer/script/leaflet/leafletCluster.0.7.2.js\" type=\"text/javascript\"&gt;\n              &lt;/script&gt;\n              &lt;script src=\"//data.inquirer.com/open_data/inspections/media/js/jquery-ui-1.10.3.custom.min.js\" type=\"text/javascript\"&gt;\n              &lt;/script&gt;\n              &lt;link href=\"//media.inquirer.com/storage/inquirer/script/owl/owl.carousel.css\" rel=\"stylesheet\" type=\"text/css\"/&gt;\n              &lt;script src=\"//media.inquirer.com/storage/inquirer/script/owl/owl.carousel.min.js\" type=\"text/javascript\"&gt;\n              &lt;/script&gt;\n              &lt;!-- &lt;script type=\"text/javascript\" src=\"//data.inquirer.com/open_data/inspections/media/js/restaurant_inspections.4.5.0.min.js\"&gt;&lt;/script&gt; --&gt;\n              &lt;script src=\"https://data.inquirer.com//open_data/inspections/media/js/restaurant_inspections.4.5.0.min.js\" type=\"text/javascript\"&gt;\n              &lt;/script&gt;\n             &lt;/link&gt;\n            &lt;/meta&gt;\n           &lt;/meta&gt;\n          &lt;/meta&gt;\n         &lt;/meta&gt;\n        &lt;/meta&gt;\n       &lt;/meta&gt;\n      &lt;/meta&gt;\n     &lt;/meta&gt;\n    &lt;/meta&gt;\n   &lt;/meta&gt;\n  &lt;/meta&gt;\n &lt;/head&gt;\n &lt;body&gt;\n  &lt;div class=\"masterWrapper\"&gt;\n   &lt;div class=\"navigationWrapper\"&gt;\n    &lt;div class=\"navigationInner\"&gt;\n     &lt;div class=\"brandLogo transitionAll\"&gt;\n      &lt;a href=\"https://www.inquirer.com\" target=\"_blank\"&gt;\n       &lt;img src=\"//media.inquirer.com/designimages/InqTheInquirerSmall_140x30.png\"/&gt;\n      &lt;/a&gt;\n     &lt;/div&gt;\n     &lt;div class=\"siteTitle\"&gt;\n      &lt;a href=\"//www.inquirer.com/health/clean-plates/\"&gt;\n       &lt;div class=\"siteLogoText\"&gt;\n        &lt;span class=\"siteLogoTitle transitionAll\"&gt;\n         Clean Plates\n        &lt;/span&gt;\n       &lt;/div&gt;\n      &lt;/a&gt;\n     &lt;/div&gt;\n     &lt;div class=\"menuButton\"&gt;\n      &lt;div class=\"navIcon transitionAll\"&gt;\n       &lt;span&gt;\n       &lt;/span&gt;\n       &lt;span&gt;\n       &lt;/span&gt;\n       &lt;span&gt;\n       &lt;/span&gt;\n       &lt;span&gt;\n       &lt;/span&gt;\n      &lt;/div&gt;\n     &lt;/div&gt;\n     &lt;div class=\"searchWrapper transitionRight\"&gt;\n      &lt;div class=\"buttonItem transitionAll searchButton\" id=\"search_button_search\"&gt;\n       &lt;span class=\"searchButtonSymbol transitionAll\"&gt;\n        &lt;span class=\"transitionAll\"&gt;\n         &lt;i class=\"fa fa-search transitionAll\"&gt;\n         &lt;/i&gt;\n        &lt;/span&gt;\n       &lt;/span&gt;\n       &lt;span class=\"searchButtonText transitionAll\"&gt;\n        Search\n       &lt;/span&gt;\n      &lt;/div&gt;\n      &lt;div class=\"searchDropDownMenu transitionAll\" id=\"search_drop_down_menu\"&gt;\n       &lt;div class=\"searchDropDownMenuInner\"&gt;\n        &lt;div class=\"countySelector\"&gt;\n         &lt;label class=\"searchOptionLabel\"&gt;\n          County\n         &lt;/label&gt;\n         &lt;div class=\"searchOptionInput\"&gt;\n          &lt;select class=\"buttonItem formButton formButtonCounty menuCounty transitionAll\" id=\"menu_dropdown_county\" name=\"county\"&gt;\n           &lt;option selected=\"\" value=\"philly\"&gt;\n            Philadelphia\n           &lt;/option&gt;\n           &lt;option value=\"bucks\"&gt;\n            Bucks\n           &lt;/option&gt;\n           &lt;option value=\"gloucester\"&gt;\n            Gloucester\n           &lt;/option&gt;\n           &lt;option value=\"montgomery\"&gt;\n            Montgomery\n           &lt;/option&gt;\n          &lt;/select&gt;\n         &lt;/div&gt;\n         &lt;div class=\"clearAll\"&gt;\n         &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"searchOptionsWrapper searchOptionsWrapperActive\" id=\"search_options_philadelphia\"&gt;\n         &lt;div class=\"searchOptionRow\"&gt;\n          &lt;label class=\"searchOptionLabel\"&gt;\n           Name\n          &lt;/label&gt;\n          &lt;div class=\"searchOptionInput\"&gt;\n           &lt;input class=\"transitionAll searchInput\" id=\"search_input_nav_philadelphia\" value=\"Ex: Zahav\"/&gt;\n           &lt;span class=\"buttonItem transitionAll searchInputSubmit\" id=\"submit_philadelphia_facility\"&gt;\n            &lt;span&gt;\n             Search\n            &lt;/span&gt;\n           &lt;/span&gt;\n          &lt;/div&gt;\n          &lt;div class=\"clearAll\"&gt;\n          &lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=\"searchOptionRow\"&gt;\n          &lt;label class=\"searchOptionLabel\"&gt;\n           Neighborhood\n          &lt;/label&gt;\n          &lt;div class=\"searchOptionInput\"&gt;\n           &lt;select class=\"buttonItem formButton formButtonCounty menuCounty transitionAll\" id=\"submit_philadelphia_neighborhood\" name=\"neighborhood\"&gt;\n            &lt;option value=\"-\"&gt;\n             —\n            &lt;/option&gt;\n            &lt;option value=\"Allegheny West\"&gt;\n             Allegheny West\n            &lt;/option&gt;\n            &lt;option value=\"Bella Vista/Southwark\"&gt;\n             Bella Vista/Southwark\n            &lt;/option&gt;\n            &lt;option value=\"Bridesburg\"&gt;\n             Bridesburg\n            &lt;/option&gt;\n            &lt;option value=\"Bustleton\"&gt;\n             Bustleton\n            &lt;/option&gt;\n            &lt;option value=\"Cedarbrook/Stenton\"&gt;\n             Cedarbrook/Stenton\n            &lt;/option&gt;\n            &lt;option value=\"Center City\"&gt;\n             Center City\n            &lt;/option&gt;\n            &lt;option value=\"Chestnut Hill\"&gt;\n             Chestnut Hill\n            &lt;/option&gt;\n            &lt;option value=\"East Falls\"&gt;\n             East Falls\n            &lt;/option&gt;\n            &lt;option value=\"East Germantown\"&gt;\n             East Germantown\n            &lt;/option&gt;\n            &lt;option value=\"East Mount Airy\"&gt;\n             East Mount Airy\n            &lt;/option&gt;\n            &lt;option value=\"Eastwick\"&gt;\n             Eastwick\n            &lt;/option&gt;\n            &lt;option value=\"Fairhill\"&gt;\n             Fairhill\n            &lt;/option&gt;\n            &lt;option value=\"Fairmount/Spring Garden\"&gt;\n             Fairmount/Spring Garden\n            &lt;/option&gt;\n            &lt;option value=\"Fox Chase/Burlholme\"&gt;\n             Fox Chase/Burlholme\n            &lt;/option&gt;\n            &lt;option value=\"Frankford\"&gt;\n             Frankford\n            &lt;/option&gt;\n            &lt;option value=\"Germantown\"&gt;\n             Germantown\n            &lt;/option&gt;\n            &lt;option value=\"Grays Ferry\"&gt;\n             Grays Ferry\n            &lt;/option&gt;\n            &lt;option value=\"Holmesburg\"&gt;\n             Holmesburg\n            &lt;/option&gt;\n            &lt;option value=\"Hunting Park\"&gt;\n             Hunting Park\n            &lt;/option&gt;\n            &lt;option value=\"Industrial\"&gt;\n             Industrial\n            &lt;/option&gt;\n            &lt;option value=\"Juniata Park/Feltonville\"&gt;\n             Juniata Park/Feltonville\n            &lt;/option&gt;\n            &lt;option value=\"Kensington\"&gt;\n             Kensington\n            &lt;/option&gt;\n            &lt;option value=\"Kingsessing\"&gt;\n             Kingsessing\n            &lt;/option&gt;\n            &lt;option value=\"Lawncrest\"&gt;\n             Lawncrest\n            &lt;/option&gt;\n            &lt;option value=\"Logan/Ogontz/Fern Rock\"&gt;\n             Logan/Ogontz/Fern Rock\n            &lt;/option&gt;\n            &lt;option value=\"Manayunk\"&gt;\n             Manayunk\n            &lt;/option&gt;\n            &lt;option value=\"Mantua\"&gt;\n             Mantua\n            &lt;/option&gt;\n            &lt;option value=\"Mayfair\"&gt;\n             Mayfair\n            &lt;/option&gt;\n            &lt;option value=\"North Philadelphia/East\"&gt;\n             North Philadelphia/East\n            &lt;/option&gt;\n            &lt;option value=\"North Philadelphia/West\"&gt;\n             North Philadelphia/West\n            &lt;/option&gt;\n            &lt;option value=\"Northeast Philadelphia\"&gt;\n             Northeast Philadelphia\n            &lt;/option&gt;\n            &lt;option value=\"Northern Liberties/Fishtown\"&gt;\n             Northern Liberties/Fishtown\n            &lt;/option&gt;\n            &lt;option value=\"Oak Lane/East Oak Lane\"&gt;\n             Oak Lane/East Oak Lane\n            &lt;/option&gt;\n            &lt;option value=\"Olney\"&gt;\n             Olney\n            &lt;/option&gt;\n            &lt;option value=\"Overbrook\"&gt;\n             Overbrook\n            &lt;/option&gt;\n            &lt;option value=\"Oxford Circle/Castor\"&gt;\n             Oxford Circle/Castor\n            &lt;/option&gt;\n            &lt;option value=\"Parkland\"&gt;\n             Parkland\n            &lt;/option&gt;\n            &lt;option value=\"Point Breeze\"&gt;\n             Point Breeze\n            &lt;/option&gt;\n            &lt;option value=\"Port Richmond\"&gt;\n             Port Richmond\n            &lt;/option&gt;\n            &lt;option value=\"Powelton\"&gt;\n             Powelton\n            &lt;/option&gt;\n            &lt;option value=\"Queen Village/Pennsport\"&gt;\n             Queen Village/Pennsport\n            &lt;/option&gt;\n            &lt;option value=\"Rhawnhurst\"&gt;\n             Rhawnhurst\n            &lt;/option&gt;\n            &lt;option value=\"Roxborough\"&gt;\n             Roxborough\n            &lt;/option&gt;\n            &lt;option value=\"Schuylkill/SW Center City\"&gt;\n             Schuylkill/SW Center City\n            &lt;/option&gt;\n            &lt;option value=\"Somerton\"&gt;\n             Somerton\n            &lt;/option&gt;\n            &lt;option value=\"South Philadelphia/East\"&gt;\n             South Philadelphia/East\n            &lt;/option&gt;\n            &lt;option value=\"South Philadelphia/West\"&gt;\n             South Philadelphia/West\n            &lt;/option&gt;\n            &lt;option value=\"Southwest Philadelphia\"&gt;\n             Southwest Philadelphia\n            &lt;/option&gt;\n            &lt;option value=\"Tacony/Wissinoming\"&gt;\n             Tacony/Wissinoming\n            &lt;/option&gt;\n            &lt;option value=\"Tioga/Nicetown\"&gt;\n             Tioga/Nicetown\n            &lt;/option&gt;\n            &lt;option value=\"Torresdale\"&gt;\n             Torresdale\n            &lt;/option&gt;\n            &lt;option value=\"University City\"&gt;\n             University City\n            &lt;/option&gt;\n            &lt;option value=\"West Mount Airy\"&gt;\n             West Mount Airy\n            &lt;/option&gt;\n            &lt;option value=\"West Oak Lane\"&gt;\n             West Oak Lane\n            &lt;/option&gt;\n            &lt;option value=\"West Philadelphia/Cobbs Creek\"&gt;\n             West Philadelphia/Cobbs Creek\n            &lt;/option&gt;\n            &lt;option value=\"West Philadelphia/Parkside\"&gt;\n             West Philadelphia/Parkside\n            &lt;/option&gt;\n            &lt;option value=\"Wynnefield\"&gt;\n             Wynnefield\n            &lt;/option&gt;\n           &lt;/select&gt;\n          &lt;/div&gt;\n          &lt;div class=\"clearAll\"&gt;\n          &lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=\"searchOptionRow\"&gt;\n          &lt;label class=\"searchOptionLabel\"&gt;\n           Zip Code\n          &lt;/label&gt;\n          &lt;div class=\"searchOptionInput\"&gt;\n           &lt;select class=\"buttonItem formButton formButtonCounty menuCounty transitionAll\" id=\"submit_philadelphia_zip\" name=\"zip\"&gt;\n            &lt;option value=\"-\"&gt;\n             —\n            &lt;/option&gt;\n            &lt;option value=\"19102\"&gt;\n             19102\n            &lt;/option&gt;\n            &lt;option value=\"19103\"&gt;\n             19103\n            &lt;/option&gt;\n            &lt;option value=\"19104\"&gt;\n             19104\n            &lt;/option&gt;\n            &lt;option value=\"19106\"&gt;\n             19106\n            &lt;/option&gt;\n            &lt;option value=\"19107\"&gt;\n             19107\n            &lt;/option&gt;\n            &lt;option value=\"19109\"&gt;\n             19109\n            &lt;/option&gt;\n            &lt;option value=\"19111\"&gt;\n             19111\n            &lt;/option&gt;\n            &lt;option value=\"19112\"&gt;\n             19112\n            &lt;/option&gt;\n            &lt;option value=\"19114\"&gt;\n             19114\n            &lt;/option&gt;\n            &lt;option value=\"19115\"&gt;\n             19115\n            &lt;/option&gt;\n            &lt;option value=\"19116\"&gt;\n             19116\n            &lt;/option&gt;\n            &lt;option value=\"19118\"&gt;\n             19118\n            &lt;/option&gt;\n            &lt;option value=\"19119\"&gt;\n             19119\n            &lt;/option&gt;\n            &lt;option value=\"19120\"&gt;\n             19120\n            &lt;/option&gt;\n            &lt;option value=\"19121\"&gt;\n             19121\n            &lt;/option&gt;\n            &lt;option value=\"19122\"&gt;\n             19122\n            &lt;/option&gt;\n            &lt;option value=\"19123\"&gt;\n             19123\n            &lt;/option&gt;\n            &lt;option value=\"19124\"&gt;\n             19124\n            &lt;/option&gt;\n            &lt;option value=\"19125\"&gt;\n             19125\n            &lt;/option&gt;\n            &lt;option value=\"19126\"&gt;\n             19126\n            &lt;/option&gt;\n            &lt;option value=\"19127\"&gt;\n             19127\n            &lt;/option&gt;\n            &lt;option value=\"19128\"&gt;\n             19128\n            &lt;/option&gt;\n            &lt;option value=\"19129\"&gt;\n             19129\n            &lt;/option&gt;\n            &lt;option value=\"19130\"&gt;\n             19130\n            &lt;/option&gt;\n            &lt;option value=\"19131\"&gt;\n             19131\n            &lt;/option&gt;\n            &lt;option value=\"19132\"&gt;\n             19132\n            &lt;/option&gt;\n            &lt;option value=\"19133\"&gt;\n             19133\n            &lt;/option&gt;\n            &lt;option value=\"19134\"&gt;\n             19134\n            &lt;/option&gt;\n            &lt;option value=\"19135\"&gt;\n             19135\n            &lt;/option&gt;\n            &lt;option value=\"19136\"&gt;\n             19136\n            &lt;/option&gt;\n            &lt;option value=\"19137\"&gt;\n             19137\n            &lt;/option&gt;\n            &lt;option value=\"19138\"&gt;\n             19138\n            &lt;/option&gt;\n            &lt;option value=\"19139\"&gt;\n             19139\n            &lt;/option&gt;\n            &lt;option value=\"19140\"&gt;\n             19140\n            &lt;/option&gt;\n            &lt;option value=\"19141\"&gt;\n             19141\n            &lt;/option&gt;\n            &lt;option value=\"19142\"&gt;\n             19142\n            &lt;/option&gt;\n            &lt;option value=\"19143\"&gt;\n             19143\n            &lt;/option&gt;\n            &lt;option value=\"19144\"&gt;\n             19144\n            &lt;/option&gt;\n            &lt;option value=\"19145\"&gt;\n             19145\n            &lt;/option&gt;\n            &lt;option value=\"19146\"&gt;\n             19146\n            &lt;/option&gt;\n            &lt;option value=\"19147\"&gt;\n             19147\n            &lt;/option&gt;\n            &lt;option value=\"19148\"&gt;\n             19148\n            &lt;/option&gt;\n            &lt;option value=\"19149\"&gt;\n             19149\n            &lt;/option&gt;\n            &lt;option value=\"19150\"&gt;\n             19150\n            &lt;/option&gt;\n            &lt;option value=\"19151\"&gt;\n             19151\n            &lt;/option&gt;\n            &lt;option value=\"19152\"&gt;\n             19152\n            &lt;/option&gt;\n            &lt;option value=\"19153\"&gt;\n             19153\n            &lt;/option&gt;\n            &lt;option value=\"19154\"&gt;\n             19154\n            &lt;/option&gt;\n           &lt;/select&gt;\n          &lt;/div&gt;\n          &lt;div class=\"clearAll\"&gt;\n          &lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=\"clearAll\"&gt;\n         &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"searchOptionsWrapper\" id=\"search_options_bucks\"&gt;\n         &lt;div class=\"searchOptionRow\"&gt;\n          &lt;label class=\"searchOptionLabel\"&gt;\n           Name\n          &lt;/label&gt;\n          &lt;div class=\"searchOptionInput\"&gt;\n           &lt;input class=\"transitionAll searchInput\" id=\"search_input_nav_bucks\" value=\"Ex: Pineville Tavern\"/&gt;\n           &lt;span class=\"buttonItem transitionAll searchInputSubmit\" id=\"submit_bucks_facility\"&gt;\n            &lt;span&gt;\n             Search\n            &lt;/span&gt;\n           &lt;/span&gt;\n          &lt;/div&gt;\n          &lt;div class=\"clearAll\"&gt;\n          &lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=\"searchOptionRow\"&gt;\n          &lt;label class=\"searchOptionLabel\"&gt;\n           City\n          &lt;/label&gt;\n          &lt;div class=\"searchOptionInput\"&gt;\n           &lt;select class=\"buttonItem formButton formButtonCounty menuCounty transitionAll\" id=\"submit_bucks_neighborhood\" name=\"neighborhood\"&gt;\n           &lt;/select&gt;\n          &lt;/div&gt;\n          &lt;div class=\"clearAll\"&gt;\n          &lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=\"searchOptionRow\"&gt;\n          &lt;label class=\"searchOptionLabel\"&gt;\n           Zip Code\n          &lt;/label&gt;\n          &lt;div class=\"searchOptionInput\"&gt;\n           &lt;select class=\"buttonItem formButton formButtonCounty menuCounty transitionAll\" id=\"submit_bucks_zip\" name=\"zip\"&gt;\n           &lt;/select&gt;\n          &lt;/div&gt;\n          &lt;div class=\"clearAll\"&gt;\n          &lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=\"clearAll\"&gt;\n         &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"searchOptionsWrapper\" id=\"search_options_gloucester\"&gt;\n         &lt;div class=\"searchOptionRow\"&gt;\n          &lt;label class=\"searchOptionLabel\"&gt;\n           Name\n          &lt;/label&gt;\n          &lt;div class=\"searchOptionInput\"&gt;\n           &lt;input class=\"transitionAll searchInput\" id=\"search_input_nav_gloucester\" value=\"Ex: La Verde\"/&gt;\n           &lt;span class=\"buttonItem transitionAll searchInputSubmit\" id=\"submit_gloucester_facility\"&gt;\n            &lt;span&gt;\n             Search\n            &lt;/span&gt;\n           &lt;/span&gt;\n          &lt;/div&gt;\n          &lt;div class=\"clearAll\"&gt;\n          &lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=\"searchOptionRow\"&gt;\n          &lt;label class=\"searchOptionLabel\"&gt;\n           City\n          &lt;/label&gt;\n          &lt;div class=\"searchOptionInput\"&gt;\n           &lt;select class=\"buttonItem formButton formButtonCounty menuCounty transitionAll\" id=\"submit_gloucester_neighborhood\" name=\"neighborhood\"&gt;\n           &lt;/select&gt;\n          &lt;/div&gt;\n          &lt;div class=\"clearAll\"&gt;\n          &lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=\"searchOptionRow\"&gt;\n          &lt;label class=\"searchOptionLabel\"&gt;\n           Zip Code\n          &lt;/label&gt;\n          &lt;div class=\"searchOptionInput\"&gt;\n           &lt;select class=\"buttonItem formButton formButtonCounty menuCounty transitionAll\" id=\"submit_gloucester_zip\" name=\"zip\"&gt;\n           &lt;/select&gt;\n          &lt;/div&gt;\n          &lt;div class=\"clearAll\"&gt;\n          &lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=\"clearAll\"&gt;\n         &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"searchOptionsWrapper\" id=\"search_options_montgomery\"&gt;\n         &lt;div class=\"searchOptionRow\"&gt;\n          &lt;label class=\"searchOptionLabel\"&gt;\n           Name\n          &lt;/label&gt;\n          &lt;div class=\"searchOptionInput\"&gt;\n           &lt;input class=\"transitionAll searchInput\" id=\"search_input_nav_montgomery\" value=\"Ex: Merion Cricket Club\"/&gt;\n           &lt;span class=\"buttonItem transitionAll searchInputSubmit\" id=\"submit_montgomery_facility\"&gt;\n            &lt;span&gt;\n             Search\n            &lt;/span&gt;\n           &lt;/span&gt;\n          &lt;/div&gt;\n          &lt;div class=\"clearAll\"&gt;\n          &lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=\"searchOptionRow\"&gt;\n          &lt;label class=\"searchOptionLabel\"&gt;\n           City\n          &lt;/label&gt;\n          &lt;div class=\"searchOptionInput\"&gt;\n           &lt;select class=\"buttonItem formButton formButtonCounty menuCounty transitionAll\" id=\"submit_montgomery_neighborhood\" name=\"neighborhood\"&gt;\n           &lt;/select&gt;\n          &lt;/div&gt;\n          &lt;div class=\"clearAll\"&gt;\n          &lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=\"searchOptionRow\"&gt;\n          &lt;label class=\"searchOptionLabel\"&gt;\n           Zip Code\n          &lt;/label&gt;\n          &lt;div class=\"searchOptionInput\"&gt;\n           &lt;select class=\"buttonItem formButton formButtonCounty menuCounty transitionAll\" id=\"submit_montgomery_zip\" name=\"zip\"&gt;\n           &lt;/select&gt;\n          &lt;/div&gt;\n          &lt;div class=\"clearAll\"&gt;\n          &lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=\"clearAll\"&gt;\n         &lt;/div&gt;\n        &lt;/div&gt;\n       &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\"socialWrapper\"&gt;\n       &lt;div class=\"transitionAll socialButton\"&gt;\n        &lt;a class=\"transitionAll\" href=\"https://data.inquirer.com/inspections/about/\"&gt;\n         &lt;i class=\"fa fa-info-circle fa-2\"&gt;\n         &lt;/i&gt;\n        &lt;/a&gt;\n       &lt;/div&gt;\n       &lt;div class=\"transitionAll socialButton\"&gt;\n        &lt;a class=\"transitionAll\" href=\"https://www.facebook.com/sharer/sharer.php?u=https://data.inquirer.com/inspections/\" target=\"_blank\"&gt;\n         &lt;i class=\"fa fa-facebook-square fa-2\"&gt;\n         &lt;/i&gt;\n        &lt;/a&gt;\n       &lt;/div&gt;\n       &lt;div class=\"transitionAll socialButton\"&gt;\n        &lt;a class=\"transitionAll\" href=\"https://twitter.com/intent/tweet?text=Clean Plates: Philadelphia restaurant inspections%0Ahttps://data.inquirer.com/inspections/&amp;hashtags=CleanPlates\" target=\"_blank\"&gt;\n         &lt;i class=\"fa fa-twitter fa-2\"&gt;\n         &lt;/i&gt;\n        &lt;/a&gt;\n       &lt;/div&gt;\n       &lt;div class=\"clearAll\"&gt;\n       &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\"brandLogoSmall\"&gt;\n       &lt;img src=\"//data.inquirer.com/open_data/inspections/media/images/InquirerflagSmallHeaderBlack.png\"/&gt;\n      &lt;/div&gt;\n      &lt;div class=\"clearAll\"&gt;\n      &lt;/div&gt;\n     &lt;/div&gt;\n     &lt;div class=\"clearAll\"&gt;\n     &lt;/div&gt;\n    &lt;/div&gt;\n   &lt;/div&gt;\n   &lt;div class=\"contentWrapper contentWrapperWhite transitionAll\"&gt;\n    &lt;div class=\"container\"&gt;\n     &lt;div class=\"headerImage transitionAll\"&gt;\n     &lt;/div&gt;\n     &lt;div class=\"searchHeaderWrapper transitionAll\"&gt;\n      &lt;div class=\"searchHeaderTitle transitionAll\"&gt;\n       Clean Plates\n                    : Philadelphia\n       &lt;span&gt;\n        Restaurant Inspections\n       &lt;/span&gt;\n      &lt;/div&gt;\n      &lt;div class=\"formWrapper transitionAll\"&gt;\n       &lt;div class=\"buttonItem formButton formButtonCounty transitionAll\" id=\"form_button_county\"&gt;\n       &lt;/div&gt;\n       &lt;div class=\"formInput transitionAll\"&gt;\n        &lt;span class=\"searchIcon\"&gt;\n         &lt;i class=\"fa fa-search\"&gt;\n         &lt;/i&gt;\n        &lt;/span&gt;\n        &lt;input class=\"transitionAll searchInput\" id=\"search_input\" value=\"Search by restaurant name\"/&gt;\n       &lt;/div&gt;\n       &lt;div class=\"buttonItem formButton formSubmit transitionAll\" id=\"form_button_submit\"&gt;\n        &lt;span class=\"transitionAll\"&gt;\n         Search\n        &lt;/span&gt;\n       &lt;/div&gt;\n       &lt;div class=\"clearAll\"&gt;\n       &lt;/div&gt;\n      &lt;/div&gt;\n     &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"container containerMaxWidth\"&gt;\n     &lt;div class=\"container establishmentWrapper\"&gt;\n      &lt;div class=\"establishmentTitleWrapper\"&gt;\n       &lt;div class=\"establishmentButtonWrapper\"&gt;\n        &lt;div class=\"buttonItem transitionAll rotatorButton rotatorButtonPrev\" id=\"rotator_prev\"&gt;\n         &lt;i class=\"fa fa-chevron-left\"&gt;\n         &lt;/i&gt;\n        &lt;/div&gt;\n        &lt;div class=\"buttonItem transitionAll rotatorButton rotatorButtonNext\" id=\"rotator_next\"&gt;\n         &lt;i class=\"fa fa-chevron-right\"&gt;\n         &lt;/i&gt;\n        &lt;/div&gt;\n        &lt;div class=\"clearAll\"&gt;\n        &lt;/div&gt;\n       &lt;/div&gt;\n       &lt;div class=\"establishmentTitleText\"&gt;\n        Explore popular places and celebrity chefs in Philadelphia\n       &lt;/div&gt;\n       &lt;div class=\"clearAll\"&gt;\n       &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\"establishmentHolder\"&gt;\n       &lt;div class=\"establishmentInner transitionAll owl-carousel\" data-counter=\"0\" id=\"establishment_holder\"&gt;\n        &lt;div class=\"rotatorUnit noSwipe\"&gt;\n         &lt;div class=\"rotatorImage\"&gt;\n          &lt;a href=\"https://data.inquirer.com/inspections/philly/?searchType=reading_terminal\"&gt;\n           &lt;img src=\"//media.inquirer.com/images/300*281/RTMinside.jpg\"/&gt;\n          &lt;/a&gt;\n         &lt;/div&gt;\n         &lt;div class=\"rotatorTitle\"&gt;\n          &lt;a href=\"https://data.inquirer.com/inspections/philly/?searchType=reading_terminal\"&gt;\n           Reading Terminal Market\n          &lt;/a&gt;\n         &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"rotatorUnit noSwipe\"&gt;\n         &lt;div class=\"rotatorImage\"&gt;\n          &lt;a href=\"https://data.inquirer.com/inspections/philly/?searchType=stadiums\"&gt;\n           &lt;img src=\"//media.inquirer.com/images/300*281/clean_plates_CBP.jpg\"/&gt;\n          &lt;/a&gt;\n         &lt;/div&gt;\n         &lt;div class=\"rotatorTitle\"&gt;\n          &lt;a href=\"https://data.inquirer.com/inspections/philly/?searchType=stadiums\"&gt;\n           Sports Stadiums\n          &lt;/a&gt;\n         &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"rotatorUnit noSwipe\"&gt;\n         &lt;div class=\"rotatorImage\"&gt;\n          &lt;a href=\"https://data.inquirer.com/inspections/philly/?searchType=airport\"&gt;\n           &lt;img src=\"//media.inquirer.com/images/300*281/PHLterminal.jpg\"/&gt;\n          &lt;/a&gt;\n         &lt;/div&gt;\n         &lt;div class=\"rotatorTitle\"&gt;\n          &lt;a href=\"https://data.inquirer.com/inspections/philly/?searchType=airport\"&gt;\n           Philadelphia Int'l Airport\n          &lt;/a&gt;\n         &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"rotatorUnit noSwipe\"&gt;\n         &lt;div class=\"rotatorImage\"&gt;\n          &lt;a href=\"https://data.inquirer.com/inspections/philly/?searchType=hospitals\"&gt;\n           &lt;img src=\"//media.inquirer.com/images/300*281/CHOP2.jpg\"/&gt;\n          &lt;/a&gt;\n         &lt;/div&gt;\n         &lt;div class=\"rotatorTitle\"&gt;\n          &lt;a href=\"https://data.inquirer.com/inspections/philly/?searchType=hospitals\"&gt;\n           Hospitals\n          &lt;/a&gt;\n         &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"rotatorUnit noSwipe\"&gt;\n         &lt;div class=\"rotatorImage\"&gt;\n          &lt;a href=\"https://data.inquirer.com/inspections/philly/?searchType=schools\"&gt;\n           &lt;img src=\"//media.inquirer.com/images/300*281/eisenhowerCAFE.jpg\"/&gt;\n          &lt;/a&gt;\n         &lt;/div&gt;\n         &lt;div class=\"rotatorTitle\"&gt;\n          &lt;a href=\"https://data.inquirer.com/inspections/philly/?searchType=schools\"&gt;\n           Schools\n          &lt;/a&gt;\n         &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"rotatorUnit noSwipe\"&gt;\n         &lt;div class=\"rotatorImage\"&gt;\n          &lt;a href=\"https://data.inquirer.com/inspections/philly/?searchType=food_trucks\"&gt;\n           &lt;img src=\"//media.inquirer.com/images/300*281/foodtruck.jpg\"/&gt;\n          &lt;/a&gt;\n         &lt;/div&gt;\n         &lt;div class=\"rotatorTitle\"&gt;\n          &lt;a href=\"https://data.inquirer.com/inspections/philly/?searchType=food_trucks\"&gt;\n           Food Trucks\n          &lt;/a&gt;\n         &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"rotatorUnit noSwipe\"&gt;\n         &lt;div class=\"rotatorImage\"&gt;\n          &lt;a href=\"https://data.inquirer.com/inspections/philly/?searchType=chefs&amp;chef=jose_garces\"&gt;\n           &lt;img src=\"//media.inquirer.com/images/300*281/GARCES.jpg\"/&gt;\n          &lt;/a&gt;\n         &lt;/div&gt;\n         &lt;div class=\"rotatorTitle\"&gt;\n          &lt;a href=\"https://data.inquirer.com/inspections/philly/?searchType=chefs&amp;chef=jose_garces\"&gt;\n           Jose Garces\n          &lt;/a&gt;\n         &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"rotatorUnit noSwipe\"&gt;\n         &lt;div class=\"rotatorImage\"&gt;\n          &lt;a href=\"https://data.inquirer.com/inspections/philly/?searchType=chefs&amp;chef=stephen_starr\"&gt;\n           &lt;img src=\"//media.inquirer.com/images/300*281/STARR.jpg\"/&gt;\n          &lt;/a&gt;\n         &lt;/div&gt;\n         &lt;div class=\"rotatorTitle\"&gt;\n          &lt;a href=\"https://data.inquirer.com/inspections/philly/?searchType=chefs&amp;chef=stephen_starr\"&gt;\n           Stephen Starr\n          &lt;/a&gt;\n         &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"rotatorUnit noSwipe\"&gt;\n         &lt;div class=\"rotatorImage\"&gt;\n          &lt;a href=\"https://data.inquirer.com/inspections/philly/?searchType=chefs&amp;chef=marc_vetri\"&gt;\n           &lt;img src=\"//media.inquirer.com/images/300*281/VETRI.jpg\"/&gt;\n          &lt;/a&gt;\n         &lt;/div&gt;\n         &lt;div class=\"rotatorTitle\"&gt;\n          &lt;a href=\"https://data.inquirer.com/inspections/philly/?searchType=chefs&amp;chef=marc_vetri\"&gt;\n           Marc Vetri\n          &lt;/a&gt;\n         &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"rotatorUnit noSwipe\"&gt;\n         &lt;div class=\"rotatorImage\"&gt;\n          &lt;a href=\"https://data.inquirer.com/inspections/philly/?searchType=chefs&amp;chef=safran__turney\"&gt;\n           &lt;img src=\"//media.inquirer.com/images/300*281/TURNEY.jpg\"/&gt;\n          &lt;/a&gt;\n         &lt;/div&gt;\n         &lt;div class=\"rotatorTitle\"&gt;\n          &lt;a href=\"https://data.inquirer.com/inspections/philly/?searchType=chefs&amp;chef=safran__turney\"&gt;\n           Safran &amp; Turney\n          &lt;/a&gt;\n         &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"rotatorUnit noSwipe\"&gt;\n         &lt;div class=\"rotatorImage\"&gt;\n          &lt;a href=\"https://data.inquirer.com/inspections/philly/?searchType=chefs&amp;chef=michael_solomonov\"&gt;\n           &lt;img src=\"//media.inquirer.com/images/300*281/SOLOMONOV.jpg\"/&gt;\n          &lt;/a&gt;\n         &lt;/div&gt;\n         &lt;div class=\"rotatorTitle\"&gt;\n          &lt;a href=\"https://data.inquirer.com/inspections/philly/?searchType=chefs&amp;chef=michael_solomonov\"&gt;\n           Michael Solomonov\n          &lt;/a&gt;\n         &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"rotatorUnit noSwipe\"&gt;\n         &lt;div class=\"rotatorImage\"&gt;\n          &lt;a href=\"https://data.inquirer.com/inspections/philly/?searchType=chefs&amp;chef=audrey-claire_taichman\"&gt;\n           &lt;img src=\"//media.inquirer.com/images/300*281/Taichman.jpg\"/&gt;\n          &lt;/a&gt;\n         &lt;/div&gt;\n         &lt;div class=\"rotatorTitle\"&gt;\n          &lt;a href=\"https://data.inquirer.com/inspections/philly/?searchType=chefs&amp;chef=audrey-claire_taichman\"&gt;\n           Audrey-Claire Taichman\n          &lt;/a&gt;\n         &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"rotatorUnit noSwipe\"&gt;\n         &lt;div class=\"rotatorImage\"&gt;\n          &lt;a href=\"https://data.inquirer.com/inspections/philly/?searchType=chefs&amp;chef=bobby_flay\"&gt;\n           &lt;img src=\"//media.inquirer.com/images/300*281/FLAY1.jpg\"/&gt;\n          &lt;/a&gt;\n         &lt;/div&gt;\n         &lt;div class=\"rotatorTitle\"&gt;\n          &lt;a href=\"https://data.inquirer.com/inspections/philly/?searchType=chefs&amp;chef=bobby_flay\"&gt;\n           Bobby Flay\n          &lt;/a&gt;\n         &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"rotatorUnit noSwipe\"&gt;\n         &lt;div class=\"rotatorImage\"&gt;\n          &lt;a href=\"https://data.inquirer.com/inspections/philly/?searchType=chefs&amp;chef=masaharu_morimoto\"&gt;\n           &lt;img src=\"//media.inquirer.com/images/300*281/MORIMOTO.jpg\"/&gt;\n          &lt;/a&gt;\n         &lt;/div&gt;\n         &lt;div class=\"rotatorTitle\"&gt;\n          &lt;a href=\"https://data.inquirer.com/inspections/philly/?searchType=chefs&amp;chef=masaharu_morimoto\"&gt;\n           Masaharu Morimoto\n          &lt;/a&gt;\n         &lt;/div&gt;\n        &lt;/div&gt;\n       &lt;/div&gt;\n      &lt;/div&gt;\n     &lt;/div&gt;\n     &lt;div class=\"mostRecentWrapper\"&gt;\n      &lt;div class=\"containerTitle containerTitleIndex\"&gt;\n       &lt;span class=\"containerTitleText\"&gt;\n        Most Recent Inspections:\n       &lt;/span&gt;\n       &lt;a class=\"buttonItem recentButtonOption recentButtonOptionPhilly recentButtonOptionActive transitionAll\" data-value=\"philly\" href=\"https://data.inquirer.com/inspections/philly/\"&gt;\n        Philadelphia\n       &lt;/a&gt;\n       &lt;a class=\"buttonItem recentButtonOption recentButtonOptionBucks transitionAll\" data-value=\"bucks\" href=\"https://data.inquirer.com/inspections/bucks/\"&gt;\n        Bucks County\n       &lt;/a&gt;\n       &lt;a class=\"buttonItem recentButtonOption recentButtonOptionBucks transitionAll\" data-value=\"bucks\" href=\"https://data.inquirer.com/inspections/gloucester/\"&gt;\n        Gloucester County\n       &lt;/a&gt;\n       &lt;a class=\"buttonItem recentButtonOption recentButtonOptionMontgomery transitionAll\" data-value=\"montgomer\" href=\"https://data.inquirer.com/inspections/montgomery/\"&gt;\n        Montgomery County\n       &lt;/a&gt;\n       &lt;div class=\"clearAll\"&gt;\n       &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\"inspectionsHolder\"&gt;\n       &lt;div class=\"inspectionRecentHolder inspectionRecentHolderActive\" id=\"recent_holder_philly\"&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitEven transitionBackground\" id=\"inspection_unit_0\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=E.%20Corner%20Inc.|1360%20S%2051ST%20ST%2019143\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             E. Corner Inc.\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 6, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             1360 S 51ST ST 19143\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountFoodborne inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              2\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              8\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitOdd transitionBackground\" id=\"inspection_unit_1\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Benna%27s%20Cafe|1236%20S%208TH%20ST%2019147\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Benna's Cafe\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 6, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             1236 S 8TH ST 19147\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountFoodborne inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              1\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              5\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitEven transitionBackground\" id=\"inspection_unit_2\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Dunkin%20Donuts|1551%20WASHINGTON%20AVE%2019146\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Dunkin Donuts\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 6, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             1551 WASHINGTON AVE 19146\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountFoodborne inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              1\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              7\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitOdd transitionBackground\" id=\"inspection_unit_3\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Javies|4901%20UMBRIA%20ST%2019128\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Javies\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 6, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             4901 UMBRIA ST 19128\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountFoodborne inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              1\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              5\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitEven transitionBackground\" id=\"inspection_unit_4\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Austin%20Meehan%20Middle%20School|3001%20RYAN%20AVE%2019152\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Austin Meehan Middle School\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 6, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             3001 RYAN AVE 19152\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              5\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitOdd transitionBackground\" id=\"inspection_unit_5\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Bangin%20Grub|3401%20I%20ST%2019134\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Bangin Grub\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 6, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             3401 I ST 19134\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitEven transitionBackground\" id=\"inspection_unit_6\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=CADI|444%20N%2003RD%20ST%20FL%204%2019123\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             CADI\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 6, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             444 N 03RD ST FL 4 19123\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              2\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitOdd transitionBackground\" id=\"inspection_unit_7\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Community%20Partnership%20School|3033%20W%20GLENWOOD%20AVE%2019121\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Community Partnership School\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 6, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             3033 W GLENWOOD AVE 19121\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              3\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitEven transitionBackground\" id=\"inspection_unit_8\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Conoco|7554%20CITY%20AVE%2019151\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Conoco\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 6, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             7554 CITY AVE 19151\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              3\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitOdd transitionBackground\" id=\"inspection_unit_9\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Dollar%20General|9212%20FRANKFORD%20AVE%2019114\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Dollar General\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 6, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             9212 FRANKFORD AVE 19114\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              6\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitEven transitionBackground\" id=\"inspection_unit_10\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Fifth%204938%20%28Signage%3A%205th%20St.%20Live%20Poultry%29|4938%20N%205TH%20ST%2019120\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Fifth 4938 (Signage: 5th St. Live Poultry)\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 6, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             4938 N 5TH ST 19120\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              6\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitOdd transitionBackground\" id=\"inspection_unit_11\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Fork|306%20MARKET%20ST%2019106\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Fork\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 6, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             306 MARKET ST 19106\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              7\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitEven transitionBackground\" id=\"inspection_unit_12\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Franchesca%20Mini%20Market|3071%20C%20ST%2019134\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Franchesca Mini Market\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 6, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             3071 C ST 19134\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              9\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitOdd transitionBackground\" id=\"inspection_unit_13\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Fuj%20News|31%20E%20OREGON%20AVE%2019148\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Fuj News\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 6, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             31 E OREGON AVE 19148\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              4\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitEven transitionBackground\" id=\"inspection_unit_14\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Jefferson%20Pharmacy%20-%20Walnut%20Street|908%20WALNUT%20ST%2019107\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Jefferson Pharmacy - Walnut Street\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 6, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             908 WALNUT ST 19107\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              1\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitOdd transitionBackground\" id=\"inspection_unit_15\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Aladdin%20Market|6247%20ELMWOOD%20AVE%2019142\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Aladdin Market\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             6247 ELMWOOD AVE 19142\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountFoodborne inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              9\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              15\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitEven transitionBackground\" id=\"inspection_unit_16\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=El%20Mictlan|2053%20S%20BEECHWOOD%20ST%2019145\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             El Mictlan\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             2053 S BEECHWOOD ST 19145\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountFoodborne inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              7\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              14\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitOdd transitionBackground\" id=\"inspection_unit_17\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=3737%20Restaurant%20and%20Loung|3737%20N%202ND%20ST%2019140\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             3737 Restaurant and Loung\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             3737 N 2ND ST 19140\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountFoodborne inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              4\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              8\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitEven transitionBackground\" id=\"inspection_unit_18\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=DC%20Donut%20Plus|630%20W%20GIRARD%20AVE%2019123\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             DC Donut Plus\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             630 W GIRARD AVE 19123\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountFoodborne inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              4\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              12\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitOdd transitionBackground\" id=\"inspection_unit_19\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Frankford%20High%20School|4900%20OXFORD%20AVE%2019124\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Frankford High School\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             4900 OXFORD AVE 19124\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountFoodborne inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              3\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              10\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitEven transitionBackground\" id=\"inspection_unit_20\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Galdo%20Catering%20%26%20Entertainment|1933%20W%20MOYAMENSING%20AVE%2019145\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Galdo Catering &amp; Entertainment\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             1933 W MOYAMENSING AVE 19145\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountFoodborne inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              3\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              10\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitOdd transitionBackground\" id=\"inspection_unit_21\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Irwin%27s|1901%20S%209TH%20ST%2019148\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Irwin's\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             1901 S 9TH ST 19148\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountFoodborne inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              3\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              5\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitEven transitionBackground\" id=\"inspection_unit_22\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Andrew%20Hamilton%20School|5640%20SPRUCE%20ST%2019139\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Andrew Hamilton School\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             5640 SPRUCE ST 19139\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountFoodborne inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              2\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              2\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitOdd transitionBackground\" id=\"inspection_unit_23\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Blankenburg%20School|4600%20W%20GIRARD%20AVE%2019104\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Blankenburg School\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             4600 W GIRARD AVE 19104\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountFoodborne inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              2\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              2\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitEven transitionBackground\" id=\"inspection_unit_24\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Celina%20Convenience%20Store%20Inc|7930%20FRANKFORD%20AVE%2019136\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Celina Convenience Store Inc\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             7930 FRANKFORD AVE 19136\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountFoodborne inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              2\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              18\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitOdd transitionBackground\" id=\"inspection_unit_25\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Ella%27s%20Pizza%2C%20Grill%20and%20Seafood|2200%20E%20LEHIGH%20AVE%2019125\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Ella's Pizza, Grill and Seafood\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             2200 E LEHIGH AVE 19125\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountFoodborne inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              2\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              11\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitEven transitionBackground\" id=\"inspection_unit_26\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Frankford%20High%20School%20Culinary%20Arts%20%20325|4900%20OXFORD%20AVE%2019124\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Frankford High School Culinary Arts  325\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             4900 OXFORD AVE 19124\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountFoodborne inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              2\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              4\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitOdd transitionBackground\" id=\"inspection_unit_27\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=A%20PLUS%20%2340143H|2201%20WALNUT%20ST%2019103\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             A PLUS #40143H\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             2201 WALNUT ST 19103\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountFoodborne inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              1\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              3\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitEven transitionBackground\" id=\"inspection_unit_28\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Artisan%20Boulanger%20Patissier|1218%20MIFFLIN%20ST%2019148\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Artisan Boulanger Patissier\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             1218 MIFFLIN ST 19148\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountFoodborne inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              1\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              9\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitOdd transitionBackground\" id=\"inspection_unit_29\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Cinemark%20USA%2C%20Inc%20%28Concessions%29|4012%20WALNUT%20ST%2019104\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Cinemark USA, Inc (Concessions)\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             4012 WALNUT ST 19104\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountFoodborne inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              1\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              7\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitEven transitionBackground\" id=\"inspection_unit_30\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Elvis%20Food%20Market|5931%20W%20GIRARD%20AVE%2019151\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Elvis Food Market\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             5931 W GIRARD AVE 19151\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountFoodborne inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              1\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              5\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitOdd transitionBackground\" id=\"inspection_unit_31\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Aeden%20Food%20Market|3088%20FRANKFORD%20AVE%2019134\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Aeden Food Market\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             3088 FRANKFORD AVE 19134\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              11\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitEven transitionBackground\" id=\"inspection_unit_32\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Apex%20Pharmacy|7200%20FRANKFORD%20AVE%2019136\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Apex Pharmacy\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             7200 FRANKFORD AVE 19136\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              3\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitOdd transitionBackground\" id=\"inspection_unit_33\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Aramark%20At%20Temple%20U%20-%20Morgan%20Retail%20Food%20Court%20Street%20Level|1601%20N%20BROAD%20ST%2019122\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Aramark At Temple U - Morgan Retail Food Court Street Level\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             1601 N BROAD ST 19122\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              4\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitEven transitionBackground\" id=\"inspection_unit_34\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Blankenburg%20Head%20Start|4600%20W%20GIRARD%20AVE%2019131\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Blankenburg Head Start\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             4600 W GIRARD AVE 19131\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              2\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitOdd transitionBackground\" id=\"inspection_unit_35\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Bridesburg%20Annex|4415%20ALMOND%20ST%2019137\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Bridesburg Annex\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             4415 ALMOND ST 19137\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              4\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitEven transitionBackground\" id=\"inspection_unit_36\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Brothers%20Market|1103%20COTTMAN%20AVE%2019111\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Brothers Market\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             1103 COTTMAN AVE 19111\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              6\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitOdd transitionBackground\" id=\"inspection_unit_37\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Chucks%20Helados%20Water%20Ice%20Inc|1835%20SNYDER%20AVE%2019145\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Chucks Helados Water Ice Inc\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             1835 SNYDER AVE 19145\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              4\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitEven transitionBackground\" id=\"inspection_unit_38\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=CVS%20Store%20%232170|3331%20GRANT%20AVE%2019114\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             CVS Store #2170\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             3331 GRANT AVE 19114\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              5\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitOdd transitionBackground\" id=\"inspection_unit_39\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Dollar%20General|2120%20S%2023RD%20ST%2019145\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Dollar General\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             2120 S 23RD ST 19145\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              6\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitEven transitionBackground\" id=\"inspection_unit_40\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Down%20Home%20Diner|45%20N%2012TH%20ST%20SPC%20B2%2019107\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Down Home Diner\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             45 N 12TH ST SPC B2 19107\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              9\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitOdd transitionBackground\" id=\"inspection_unit_41\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Dutch%20Eating%20Place|45%20N%2012TH%20ST%20SPC%20B11%2019107\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Dutch Eating Place\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             45 N 12TH ST SPC B11 19107\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              6\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitEven transitionBackground\" id=\"inspection_unit_42\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Fan%27s%20Cafe%20Indonesian%20Food|1835%20SNYDER%20AVE%2019145\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Fan's Cafe Indonesian Food\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             1835 SNYDER AVE 19145\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              3\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitOdd transitionBackground\" id=\"inspection_unit_43\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Farina%20Di%20Vita|250%20CATHARINE%20ST%2019147\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Farina Di Vita\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             250 CATHARINE ST 19147\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              8\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitEven transitionBackground\" id=\"inspection_unit_44\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Fishadelphia|3401%20I%20ST%20STE%20200%2019134\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Fishadelphia\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             3401 I ST STE 200 19134\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitOdd transitionBackground\" id=\"inspection_unit_45\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Fitzwater%20Cafe|728%20S%207TH%20ST%2019147\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Fitzwater Cafe\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             728 S 7TH ST 19147\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              4\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitEven transitionBackground\" id=\"inspection_unit_46\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Franky%20Bradley%27s%20Lounge|1322%20CHANCELLOR%20ST%2019107\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Franky Bradley's Lounge\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             1322 CHANCELLOR ST 19107\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitOdd transitionBackground\" id=\"inspection_unit_47\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=George%20Washington%20Carver%20H.%20S.%20of%20Engineering%20and%20Science|1600%20W%20NORRIS%20ST%2019121\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             George Washington Carver H. S. of Engineering and Science\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             1600 W NORRIS ST 19121\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              4\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitEven transitionBackground\" id=\"inspection_unit_48\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=Hatville%20Deli|45%20N%2012TH%20ST%20SPC%20A9%2019107\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             Hatville Deli\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             45 N 12TH ST SPC A9 19107\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              6\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"inspectionUnit inspectionUnitOdd transitionBackground\" id=\"inspection_unit_49\"&gt;\n         &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=James%20Rhoads%20School|4923%20PARRISH%20ST%2019139\"&gt;\n          &lt;div class=\"inspectionUnitInner\"&gt;\n           &lt;div class=\"inspectionNameWrapper\"&gt;\n            &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n             James Rhoads School\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitDate\"&gt;\n             &lt;span class=\"inspectionUnitDateTitle\"&gt;\n              Inspection date:\n             &lt;/span&gt;\n             Oct 5, 2023\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n            &lt;div class=\"inspectionUnitAddress\"&gt;\n             4923 PARRISH ST 19139\n            &lt;/div&gt;\n            &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n            &lt;span class=\"inspectionCountLabel\"&gt;\n             Violations\n            &lt;/span&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountZero inspectionUnitCountFirst\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              0\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Foodborne Illness Risk Factors\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n             &lt;span class=\"inspectionCountNumber\"&gt;\n              1\n             &lt;/span&gt;\n             &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n              &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n               Lack of Good Retail Practices\n              &lt;/span&gt;\n             &lt;/span&gt;\n            &lt;/li&gt;\n            &lt;div class=\"clearAll\"&gt;\n            &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;div class=\"clearAll\"&gt;\n           &lt;/div&gt;\n          &lt;/div&gt;\n         &lt;/a&gt;\n        &lt;/div&gt;\n       &lt;/div&gt;\n      &lt;/div&gt;\n     &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"sitePreloader\" id=\"site_preloader\"&gt;\n     &lt;div class=\"spinnerWrapper\"&gt;\n      &lt;img src=\"//data.inquirer.com/open_data/inspections/media/images/preloader.gif\"/&gt;\n     &lt;/div&gt;\n    &lt;/div&gt;\n   &lt;/div&gt;\n   &lt;script type=\"text/javascript\"&gt;\n    jQuery(document).ready(function() {\n            restaurant_inspections.index.init(\"philly\");\n        });\n   &lt;/script&gt;\n   &lt;div class=\"footerWrapper\"&gt;\n    &lt;div class=\"footerInner\"&gt;\n     &lt;div class=\"footerText\" id=\"footer_text\"&gt;\n      © 2023 Philadelphia Media Network |\n      &lt;a href=\"/about.html\"&gt;\n       About\n      &lt;/a&gt;\n     &lt;/div&gt;\n    &lt;/div&gt;\n   &lt;/div&gt;\n   &lt;script type=\"text/javascript\"&gt;\n    (function() { try { var scriptEl = document.createElement('script'); scriptEl.type = 'text/javascript'; scriptEl.async = 'async';\n        scriptEl.src = ('https:' == location.protocol) ? 'https://scdn.cxense.com/cx.js' : 'http://cdn.cxense.com/cx.js';\n        var targetEl = document.getElementsByTagName('script')[0]; targetEl.parentNode.insertBefore(scriptEl, targetEl); } catch (e) {};} ());\n   &lt;/script&gt;\n   &lt;script type=\"text/javascript\"&gt;\n    var googletag = googletag || {};\ngoogletag.cmd = googletag.cmd || [];\n(function() {\nvar gads = document.createElement('script');\ngads.async = true;\ngads.type = 'text/javascript';\nvar useSSL = 'https:' == document.location.protocol;\ngads.src = (useSSL ? 'https:' : 'http:') + \n'//www.googletagservices.com/tag/js/gpt.js';\nvar node = document.getElementsByTagName('script')[0];\nnode.parentNode.insertBefore(gads, node);\n})();\n   &lt;/script&gt;\n   &lt;script&gt;\n    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n\n  ga('create', 'UA-54906410-1', 'auto');\n  ga('send', 'pageview');\n   &lt;/script&gt;\n   &lt;script type=\"text/javascript\"&gt;\n    var cX = cX || {}; cX.callQueue = cX.callQueue || [];\ncX.callQueue.push(['invoke', function() { \n\ngoogletag.cmd.push(function() {\n\nvar iuWidth = jQuery(\".inspectionUnit\").width();\nadSize = 0;\n\nif (iuWidth &gt;= 970){\n    adSize = '[[970,90]]';\n    \n    googletag.defineSlot('/4495/ph.health/clean-plates', [[970,90],[728, 90]], 'div-gpt-ad-1421441558710-0').addService(googletag.pubads());\ngoogletag.defineSlot('/4495/ph.health/clean-plates', [[970,90],[728, 90]], 'div-gpt-ad-1421441558710-1').addService(googletag.pubads());\ngoogletag.defineSlot('/4495/ph.health/clean-plates', [[970,90],[728, 90]], 'div-gpt-ad-1421441558710-2').addService(googletag.pubads());\ngoogletag.defineSlot('/4495/ph.health/clean-plates', [[970,90],[728, 90]], 'div-gpt-ad-1421441558710-3').addService(googletag.pubads());\n\n\n}\nif (iuWidth &lt; 970 && iuWidth &gt;= 728){\n    adSize = '[[728, 90]]';\n    \n    googletag.defineSlot('/4495/ph.health/clean-plates', [[728, 90]], 'div-gpt-ad-1421441558710-0').addService(googletag.pubads());\ngoogletag.defineSlot('/4495/ph.health/clean-plates', [[728, 90]], 'div-gpt-ad-1421441558710-1').addService(googletag.pubads());\ngoogletag.defineSlot('/4495/ph.health/clean-plates', [[728, 90]], 'div-gpt-ad-1421441558710-2').addService(googletag.pubads());\ngoogletag.defineSlot('/4495/ph.health/clean-plates', [[728, 90]], 'div-gpt-ad-1421441558710-3').addService(googletag.pubads());\n\n}\nif (iuWidth &lt; 728 ){\n    adSize = '[[320, 50]]';\n\n    googletag.defineSlot('/4495/ph.health/clean-plates', [[320, 50]], 'div-gpt-ad-1421441558710-0').addService(googletag.pubads());\ngoogletag.defineSlot('/4495/ph.health/clean-plates', [[320, 50]], 'div-gpt-ad-1421441558710-1').addService(googletag.pubads());\ngoogletag.defineSlot('/4495/ph.health/clean-plates', [[320, 50]], 'div-gpt-ad-1421441558710-2').addService(googletag.pubads());\ngoogletag.defineSlot('/4495/ph.health/clean-plates', [[320, 50]], 'div-gpt-ad-1421441558710-3').addService(googletag.pubads());\n\n}\n    googletag.pubads().setTargeting(\"CXSegments\", cX.getUserSegmentIds({persistedQueryId:'526a04ba1c3dbfdee82d93feaa7777b901666b09'}));  \n\ngoogletag.pubads().enableSingleRequest();\ngoogletag.enableServices();\n\n});\n}]);\n   &lt;/script&gt;\n   &lt;script&gt;\n    var iuLen = jQuery(\".inspectionUnit\").length;\nvar adCount = 0;\nfor (xx=0;xx&lt;iuLen;xx++){\n    if (xx == 0||xx == 5||xx == 10||xx == 15){\nvar gDiv = '';\ngDiv += \"&lt;div id='adDiv'&gt;&lt;div id='div-gpt-ad-1421441558710-\"+adCount+\"'&gt;\";\ngDiv += \"&lt;script type='text/javascript'&gt;\";\ngDiv += \"cX.callQueue.push(['invoke', function() {googletag.cmd.push(function() { googletag.display('div-gpt-ad-1421441558710-\"+adCount+\"'); });}]);\";\n\n// gDiv += \"googletag.cmd.push(function() { googletag.display('div-gpt-ad-1421441558710-\"+adCount+\"'); });\";\ngDiv += \"&lt;\\/script&gt;\";\ngDiv += \"&lt;\\/div&gt;&lt;\\/div&gt;\";\njQuery(gDiv).insertAfter(\".inspectionUnit:eq(\"+xx+\")\");\nadCount++;\n}\n\n}\n   &lt;/script&gt;\n  &lt;/div&gt;\n &lt;/body&gt;\n&lt;/html&gt;\n\n\n\nThis is what you’ll see if you use the Web Inspector\n\n\nHow to extract the content we want?\nTwo important functions\n\nsoup.select_one(selector): finds the first element matching the selector query and returns one element\nsoup.select(selector): finds all elements matching the selector\n\nRecommended reading: Note on beautiful soup and css selectors in this week’s repository\n\n\nTo the Web Inspector!\nWe can use the web inspector to understand the structure of the website and identify the HTML tags that we want to extract content from.\n\n\nLet’s select the first row\nWeb browsers will let us copy the CSS selector for individual elements.\nUse: Right Click &gt; Copy &gt; Copy Selector\n\nselector = \"#inspection_unit_0\"\n\n\n# Select the first row\n# NOTE: we are using \"select_one()\" to select only one matching element\nfirst_row = soup.select_one(selector)\n\n\nfirst_row\n\n&lt;div class=\"inspectionUnit inspectionUnitEven transitionBackground\" id=\"inspection_unit_0\"&gt;&lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=E.%20Corner%20Inc.|1360%20S%2051ST%20ST%2019143\"&gt;&lt;div class=\"inspectionUnitInner\"&gt;&lt;div class=\"inspectionNameWrapper\"&gt;&lt;div class=\"inspectionUnitName transitionAll\"&gt;E. Corner Inc.&lt;/div&gt;&lt;div class=\"inspectionUnitDate\"&gt;&lt;span class=\"inspectionUnitDateTitle\"&gt;Inspection date:&lt;/span&gt; Oct 6, 2023&lt;/div&gt;&lt;div class=\"clearAll\"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\"inspectionUnitInfoWrapper\"&gt;&lt;div class=\"inspectionUnitAddress\"&gt;1360 S 51ST ST 19143&lt;/div&gt;&lt;div class=\"inspectionUnitNeigborhood\"&gt;&lt;/div&gt;&lt;div class=\"clearAll\"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\"inspectionUnitCountWrapper\"&gt;&lt;span class=\"inspectionCountLabel\"&gt;Violations&lt;/span&gt;&lt;li class=\"inspectionUnitCount inspectionUnitCountFoodborne inspectionUnitCountFirst\"&gt;&lt;span class=\"inspectionCountNumber\"&gt;2&lt;/span&gt;&lt;span class=\"inspectionUnitInfoItemTitle\"&gt;&lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;Foodborne Illness Risk Factors&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;&lt;span class=\"inspectionCountNumber\"&gt;8&lt;/span&gt;&lt;span class=\"inspectionUnitInfoItemTitle\"&gt;&lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;Lack of Good Retail Practices&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;div class=\"clearAll\"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\"clearAll\"&gt;&lt;/div&gt;&lt;/div&gt;&lt;/a&gt;&lt;/div&gt;\n\n\n\n\nBut we need all of the rows!\n\n\n\n\n\n\nImportant\n\n\n\nWhen you use Copy -&gt; Copy Selector, the copied css selector will only match the specific element you’ve highlighted, no others!\n\n\n\nGeneralizing your selectors\nWe need to generalize the selector to just select all rows from the table, not just the first one. To do this, we’ll need to go back to the web inspector and understand the structure of the website.\n\n\n\n\n\n\nTip\n\n\n\nWhen trying to identify a general selector, try to look for common patterns, like shared class names or id strings, across the tags you want to extract.\n\n\nIn our case, it looks like the “inspectionUnit” class is shared across all of the row div elements\n\n\n# Get all tags with the inspectionUnit class name\n# Note we are using select() to select ALL elements\nrows = soup.select('.inspectionUnit')\n\n\nlen(rows)\n\n50\n\n\n\n# get the first row\nrow = rows[0]\n\nprint(row.prettify())\n\n&lt;div class=\"inspectionUnit inspectionUnitEven transitionBackground\" id=\"inspection_unit_0\"&gt;\n &lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=E.%20Corner%20Inc.|1360%20S%2051ST%20ST%2019143\"&gt;\n  &lt;div class=\"inspectionUnitInner\"&gt;\n   &lt;div class=\"inspectionNameWrapper\"&gt;\n    &lt;div class=\"inspectionUnitName transitionAll\"&gt;\n     E. Corner Inc.\n    &lt;/div&gt;\n    &lt;div class=\"inspectionUnitDate\"&gt;\n     &lt;span class=\"inspectionUnitDateTitle\"&gt;\n      Inspection date:\n     &lt;/span&gt;\n     Oct 6, 2023\n    &lt;/div&gt;\n    &lt;div class=\"clearAll\"&gt;\n    &lt;/div&gt;\n   &lt;/div&gt;\n   &lt;div class=\"inspectionUnitInfoWrapper\"&gt;\n    &lt;div class=\"inspectionUnitAddress\"&gt;\n     1360 S 51ST ST 19143\n    &lt;/div&gt;\n    &lt;div class=\"inspectionUnitNeigborhood\"&gt;\n    &lt;/div&gt;\n    &lt;div class=\"clearAll\"&gt;\n    &lt;/div&gt;\n   &lt;/div&gt;\n   &lt;div class=\"inspectionUnitCountWrapper\"&gt;\n    &lt;span class=\"inspectionCountLabel\"&gt;\n     Violations\n    &lt;/span&gt;\n    &lt;li class=\"inspectionUnitCount inspectionUnitCountFoodborne inspectionUnitCountFirst\"&gt;\n     &lt;span class=\"inspectionCountNumber\"&gt;\n      2\n     &lt;/span&gt;\n     &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n      &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n       Foodborne Illness Risk Factors\n      &lt;/span&gt;\n     &lt;/span&gt;\n    &lt;/li&gt;\n    &lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;\n     &lt;span class=\"inspectionCountNumber\"&gt;\n      8\n     &lt;/span&gt;\n     &lt;span class=\"inspectionUnitInfoItemTitle\"&gt;\n      &lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;\n       Lack of Good Retail Practices\n      &lt;/span&gt;\n     &lt;/span&gt;\n    &lt;/li&gt;\n    &lt;div class=\"clearAll\"&gt;\n    &lt;/div&gt;\n   &lt;/div&gt;\n   &lt;div class=\"clearAll\"&gt;\n   &lt;/div&gt;\n  &lt;/div&gt;\n &lt;/a&gt;\n&lt;/div&gt;\n\n\n\n\n\n\nNow, let’s extract out the content from each row\nWe’ll look for the following items:\n\nThe link to the full inspection report\nThe name of the restaurant\nThe restaurant address\nThe number of food-borne violations\n\n\n1. The report link\nThe link is stored as the “href” attribute of the first “a” element:\n\na = row.select_one(\"a\")\n\na\n\n&lt;a href=\"https://data.inquirer.com/inspections/philly/?detail=E.%20Corner%20Inc.|1360%20S%2051ST%20ST%2019143\"&gt;&lt;div class=\"inspectionUnitInner\"&gt;&lt;div class=\"inspectionNameWrapper\"&gt;&lt;div class=\"inspectionUnitName transitionAll\"&gt;E. Corner Inc.&lt;/div&gt;&lt;div class=\"inspectionUnitDate\"&gt;&lt;span class=\"inspectionUnitDateTitle\"&gt;Inspection date:&lt;/span&gt; Oct 6, 2023&lt;/div&gt;&lt;div class=\"clearAll\"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\"inspectionUnitInfoWrapper\"&gt;&lt;div class=\"inspectionUnitAddress\"&gt;1360 S 51ST ST 19143&lt;/div&gt;&lt;div class=\"inspectionUnitNeigborhood\"&gt;&lt;/div&gt;&lt;div class=\"clearAll\"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\"inspectionUnitCountWrapper\"&gt;&lt;span class=\"inspectionCountLabel\"&gt;Violations&lt;/span&gt;&lt;li class=\"inspectionUnitCount inspectionUnitCountFoodborne inspectionUnitCountFirst\"&gt;&lt;span class=\"inspectionCountNumber\"&gt;2&lt;/span&gt;&lt;span class=\"inspectionUnitInfoItemTitle\"&gt;&lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;Foodborne Illness Risk Factors&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class=\"inspectionUnitCount inspectionUnitCountRetail\"&gt;&lt;span class=\"inspectionCountNumber\"&gt;8&lt;/span&gt;&lt;span class=\"inspectionUnitInfoItemTitle\"&gt;&lt;span class=\"inspectionUnitInfoItemTitleLabel\"&gt;Lack of Good Retail Practices&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;div class=\"clearAll\"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\"clearAll\"&gt;&lt;/div&gt;&lt;/div&gt;&lt;/a&gt;\n\n\nAttributes can be extracted from the “attrs” attribute\n\na.attrs\n\n{'href': 'https://data.inquirer.com/inspections/philly/?detail=E.%20Corner%20Inc.|1360%20S%2051ST%20ST%2019143'}\n\n\n\nlink = a.attrs['href']\n\nlink\n\n'https://data.inquirer.com/inspections/philly/?detail=E.%20Corner%20Inc.|1360%20S%2051ST%20ST%2019143'\n\n\n\n\n2. The restaurant name\nUse the “inspectionUnitName” class name to identify the right element.\n\n\n# Use the . to specify class name\nname_tag = row.select_one(\".inspectionUnitName\")\n\nname_tag\n\n&lt;div class=\"inspectionUnitName transitionAll\"&gt;E. Corner Inc.&lt;/div&gt;\n\n\n\nname = name_tag.text\n\nname\n\n'E. Corner Inc.'\n\n\n\n\n3. The restaurant address\nUse the “inspectionUnitAddress” class name to identify the right element.\n\n\n# Use the . to specify class name\naddr_tag = row.select_one(\".inspectionUnitAddress\")\n\naddr_tag\n\n&lt;div class=\"inspectionUnitAddress\"&gt;1360 S 51ST ST 19143&lt;/div&gt;\n\n\n\naddress = addr_tag.text\n\naddress\n\n'1360 S 51ST ST 19143'\n\n\n\n\n4. The number of food-borne violations\nIt looks like the count number is within an element with class “inspectionCountNumber”. BUT: this class is repeated on the retail violations element as well as the food-borne violations element. So, we’ll need to use nested selectors\nFirst, select elements with the “inspectionUnitCountFoodborne” class name and then the “inspectionCountNumber” class name.\n\n\n# The number of foodborne violations\ncount = row.select_one(\".inspectionUnitCountFoodborne .inspectionCountNumber\")\n\nint(count.text)\n\n2\n\n\n\n\n\n\n\n\nCaution\n\n\n\nIf the violations count is zero, there won’t be any element that matches the above selector (the website instead uses a “inspectionUnitCountZero” class.\nIf the element doesn’t exist, the select_one() function will return “None”\n\n\n\n\n\nPutting it all together\nNow, we can put this code into a for loop and extract out the content from every row on the page:\n\n# Store the data from each row\ndata = []\n\n# Step 1: Get all rows\nrows = soup.select(\".inspectionUnit\")\n\n# Loop over all rows\nfor this_row in rows:\n    \n    # Step 2: Get the report link\n    # Note: we are using the \"this_row\" variable from the for loop\n    a = this_row.select_one(\"a\")\n    url = a.attrs[\"href\"]\n\n    # Step 3: Get the name\n    name_tag = this_row.select_one(\".inspectionUnitName\")\n    name = name_tag.text\n\n    # Step 4: Get the name\n    addr_tag = this_row.select_one(\".inspectionUnitAddress\")\n    address = addr_tag.text\n\n    # Step 5: Get the violation count\n    count_tag = this_row.select_one(\".inspectionUnitCountFoodborne .inspectionCountNumber\")\n\n    # If there were no matches (None was returned), it means the count was zero\n    if count_tag is None:\n        count = 0\n    else:\n        count = int(count_tag.text)\n\n    # Step 6: Save it\n    data.append(\n        {\n            \"name\": name,\n            \"address\": address,\n            \"foodborne_count\": count,\n            \"url\": url,\n        }\n    )\n\n\n\ndata\n\n[{'name': 'E. Corner Inc.',\n  'address': '1360 S 51ST ST 19143',\n  'foodborne_count': 2,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=E.%20Corner%20Inc.|1360%20S%2051ST%20ST%2019143'},\n {'name': \"Benna's Cafe\",\n  'address': '1236 S 8TH ST 19147',\n  'foodborne_count': 1,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Benna%27s%20Cafe|1236%20S%208TH%20ST%2019147'},\n {'name': 'Dunkin Donuts',\n  'address': '1551 WASHINGTON AVE 19146',\n  'foodborne_count': 1,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Dunkin%20Donuts|1551%20WASHINGTON%20AVE%2019146'},\n {'name': 'Javies',\n  'address': '4901 UMBRIA ST 19128',\n  'foodborne_count': 1,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Javies|4901%20UMBRIA%20ST%2019128'},\n {'name': 'Austin Meehan Middle School',\n  'address': '3001 RYAN AVE 19152',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Austin%20Meehan%20Middle%20School|3001%20RYAN%20AVE%2019152'},\n {'name': 'Bangin Grub',\n  'address': '3401 I ST 19134',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Bangin%20Grub|3401%20I%20ST%2019134'},\n {'name': 'CADI',\n  'address': '444 N 03RD ST FL 4 19123',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=CADI|444%20N%2003RD%20ST%20FL%204%2019123'},\n {'name': 'Community Partnership School',\n  'address': '3033 W GLENWOOD AVE 19121',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Community%20Partnership%20School|3033%20W%20GLENWOOD%20AVE%2019121'},\n {'name': 'Conoco',\n  'address': '7554 CITY AVE 19151',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Conoco|7554%20CITY%20AVE%2019151'},\n {'name': 'Dollar General',\n  'address': '9212 FRANKFORD AVE 19114',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Dollar%20General|9212%20FRANKFORD%20AVE%2019114'},\n {'name': 'Fifth 4938 (Signage: 5th St. Live Poultry)',\n  'address': '4938 N 5TH ST 19120',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Fifth%204938%20%28Signage%3A%205th%20St.%20Live%20Poultry%29|4938%20N%205TH%20ST%2019120'},\n {'name': 'Fork',\n  'address': '306 MARKET ST 19106',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Fork|306%20MARKET%20ST%2019106'},\n {'name': 'Franchesca Mini Market',\n  'address': '3071 C ST 19134',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Franchesca%20Mini%20Market|3071%20C%20ST%2019134'},\n {'name': 'Fuj News',\n  'address': '31 E OREGON AVE 19148',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Fuj%20News|31%20E%20OREGON%20AVE%2019148'},\n {'name': 'Jefferson Pharmacy - Walnut Street',\n  'address': '908 WALNUT ST 19107',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Jefferson%20Pharmacy%20-%20Walnut%20Street|908%20WALNUT%20ST%2019107'},\n {'name': 'Aladdin Market',\n  'address': '6247 ELMWOOD AVE 19142',\n  'foodborne_count': 9,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Aladdin%20Market|6247%20ELMWOOD%20AVE%2019142'},\n {'name': 'El Mictlan',\n  'address': '2053 S BEECHWOOD ST 19145',\n  'foodborne_count': 7,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=El%20Mictlan|2053%20S%20BEECHWOOD%20ST%2019145'},\n {'name': '3737 Restaurant and Loung',\n  'address': '3737 N 2ND ST 19140',\n  'foodborne_count': 4,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=3737%20Restaurant%20and%20Loung|3737%20N%202ND%20ST%2019140'},\n {'name': 'DC Donut Plus',\n  'address': '630 W GIRARD AVE 19123',\n  'foodborne_count': 4,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=DC%20Donut%20Plus|630%20W%20GIRARD%20AVE%2019123'},\n {'name': 'Frankford High School',\n  'address': '4900 OXFORD AVE 19124',\n  'foodborne_count': 3,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Frankford%20High%20School|4900%20OXFORD%20AVE%2019124'},\n {'name': 'Galdo Catering & Entertainment',\n  'address': '1933 W MOYAMENSING AVE 19145',\n  'foodborne_count': 3,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Galdo%20Catering%20%26%20Entertainment|1933%20W%20MOYAMENSING%20AVE%2019145'},\n {'name': \"Irwin's\",\n  'address': '1901 S 9TH ST 19148',\n  'foodborne_count': 3,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Irwin%27s|1901%20S%209TH%20ST%2019148'},\n {'name': 'Andrew Hamilton School',\n  'address': '5640 SPRUCE ST 19139',\n  'foodborne_count': 2,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Andrew%20Hamilton%20School|5640%20SPRUCE%20ST%2019139'},\n {'name': 'Blankenburg School',\n  'address': '4600 W GIRARD AVE 19104',\n  'foodborne_count': 2,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Blankenburg%20School|4600%20W%20GIRARD%20AVE%2019104'},\n {'name': 'Celina Convenience Store Inc',\n  'address': '7930 FRANKFORD AVE 19136',\n  'foodborne_count': 2,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Celina%20Convenience%20Store%20Inc|7930%20FRANKFORD%20AVE%2019136'},\n {'name': \"Ella's Pizza, Grill and Seafood\",\n  'address': '2200 E LEHIGH AVE 19125',\n  'foodborne_count': 2,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Ella%27s%20Pizza%2C%20Grill%20and%20Seafood|2200%20E%20LEHIGH%20AVE%2019125'},\n {'name': 'Frankford High School Culinary Arts  325',\n  'address': '4900 OXFORD AVE 19124',\n  'foodborne_count': 2,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Frankford%20High%20School%20Culinary%20Arts%20%20325|4900%20OXFORD%20AVE%2019124'},\n {'name': 'A PLUS #40143H',\n  'address': '2201 WALNUT ST 19103',\n  'foodborne_count': 1,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=A%20PLUS%20%2340143H|2201%20WALNUT%20ST%2019103'},\n {'name': 'Artisan Boulanger Patissier',\n  'address': '1218 MIFFLIN ST 19148',\n  'foodborne_count': 1,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Artisan%20Boulanger%20Patissier|1218%20MIFFLIN%20ST%2019148'},\n {'name': 'Cinemark USA, Inc (Concessions)',\n  'address': '4012 WALNUT ST 19104',\n  'foodborne_count': 1,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Cinemark%20USA%2C%20Inc%20%28Concessions%29|4012%20WALNUT%20ST%2019104'},\n {'name': 'Elvis Food Market',\n  'address': '5931 W GIRARD AVE 19151',\n  'foodborne_count': 1,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Elvis%20Food%20Market|5931%20W%20GIRARD%20AVE%2019151'},\n {'name': 'Aeden Food Market',\n  'address': '3088 FRANKFORD AVE 19134',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Aeden%20Food%20Market|3088%20FRANKFORD%20AVE%2019134'},\n {'name': 'Apex Pharmacy',\n  'address': '7200 FRANKFORD AVE 19136',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Apex%20Pharmacy|7200%20FRANKFORD%20AVE%2019136'},\n {'name': 'Aramark At Temple U - Morgan Retail Food Court Street Level',\n  'address': '1601 N BROAD ST 19122',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Aramark%20At%20Temple%20U%20-%20Morgan%20Retail%20Food%20Court%20Street%20Level|1601%20N%20BROAD%20ST%2019122'},\n {'name': 'Blankenburg Head Start',\n  'address': '4600 W GIRARD AVE 19131',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Blankenburg%20Head%20Start|4600%20W%20GIRARD%20AVE%2019131'},\n {'name': 'Bridesburg Annex',\n  'address': '4415 ALMOND ST 19137',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Bridesburg%20Annex|4415%20ALMOND%20ST%2019137'},\n {'name': 'Brothers Market',\n  'address': '1103 COTTMAN AVE 19111',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Brothers%20Market|1103%20COTTMAN%20AVE%2019111'},\n {'name': 'Chucks Helados Water Ice Inc',\n  'address': '1835 SNYDER AVE 19145',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Chucks%20Helados%20Water%20Ice%20Inc|1835%20SNYDER%20AVE%2019145'},\n {'name': 'CVS Store #2170',\n  'address': '3331 GRANT AVE 19114',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=CVS%20Store%20%232170|3331%20GRANT%20AVE%2019114'},\n {'name': 'Dollar General',\n  'address': '2120 S 23RD ST 19145',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Dollar%20General|2120%20S%2023RD%20ST%2019145'},\n {'name': 'Down Home Diner',\n  'address': '45 N 12TH ST SPC B2 19107',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Down%20Home%20Diner|45%20N%2012TH%20ST%20SPC%20B2%2019107'},\n {'name': 'Dutch Eating Place',\n  'address': '45 N 12TH ST SPC B11 19107',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Dutch%20Eating%20Place|45%20N%2012TH%20ST%20SPC%20B11%2019107'},\n {'name': \"Fan's Cafe Indonesian Food\",\n  'address': '1835 SNYDER AVE 19145',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Fan%27s%20Cafe%20Indonesian%20Food|1835%20SNYDER%20AVE%2019145'},\n {'name': 'Farina Di Vita',\n  'address': '250 CATHARINE ST 19147',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Farina%20Di%20Vita|250%20CATHARINE%20ST%2019147'},\n {'name': 'Fishadelphia',\n  'address': '3401 I ST STE 200 19134',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Fishadelphia|3401%20I%20ST%20STE%20200%2019134'},\n {'name': 'Fitzwater Cafe',\n  'address': '728 S 7TH ST 19147',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Fitzwater%20Cafe|728%20S%207TH%20ST%2019147'},\n {'name': \"Franky Bradley's Lounge\",\n  'address': '1322 CHANCELLOR ST 19107',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Franky%20Bradley%27s%20Lounge|1322%20CHANCELLOR%20ST%2019107'},\n {'name': 'George Washington Carver H. S. of Engineering and Science',\n  'address': '1600 W NORRIS ST 19121',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=George%20Washington%20Carver%20H.%20S.%20of%20Engineering%20and%20Science|1600%20W%20NORRIS%20ST%2019121'},\n {'name': 'Hatville Deli',\n  'address': '45 N 12TH ST SPC A9 19107',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=Hatville%20Deli|45%20N%2012TH%20ST%20SPC%20A9%2019107'},\n {'name': 'James Rhoads School',\n  'address': '4923 PARRISH ST 19139',\n  'foodborne_count': 0,\n  'url': 'https://data.inquirer.com/inspections/philly/?detail=James%20Rhoads%20School|4923%20PARRISH%20ST%2019139'}]\n\n\n\n# Make a dataframe\nscraped_df = pd.DataFrame(data)\n\nSort by violation count:\n\nscraped_df.sort_values(\"foodborne_count\", ascending=False, ignore_index=True)\n\n\n\n\n\n\n\n\nname\naddress\nfoodborne_count\nurl\n\n\n\n\n0\nAladdin Market\n6247 ELMWOOD AVE 19142\n9\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n1\nEl Mictlan\n2053 S BEECHWOOD ST 19145\n7\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n2\nDC Donut Plus\n630 W GIRARD AVE 19123\n4\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n3\n3737 Restaurant and Loung\n3737 N 2ND ST 19140\n4\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n4\nIrwin's\n1901 S 9TH ST 19148\n3\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n5\nGaldo Catering & Entertainment\n1933 W MOYAMENSING AVE 19145\n3\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n6\nFrankford High School\n4900 OXFORD AVE 19124\n3\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n7\nE. Corner Inc.\n1360 S 51ST ST 19143\n2\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n8\nFrankford High School Culinary Arts 325\n4900 OXFORD AVE 19124\n2\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n9\nCelina Convenience Store Inc\n7930 FRANKFORD AVE 19136\n2\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n10\nBlankenburg School\n4600 W GIRARD AVE 19104\n2\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n11\nAndrew Hamilton School\n5640 SPRUCE ST 19139\n2\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n12\nElla's Pizza, Grill and Seafood\n2200 E LEHIGH AVE 19125\n2\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n13\nJavies\n4901 UMBRIA ST 19128\n1\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n14\nElvis Food Market\n5931 W GIRARD AVE 19151\n1\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n15\nCinemark USA, Inc (Concessions)\n4012 WALNUT ST 19104\n1\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n16\nArtisan Boulanger Patissier\n1218 MIFFLIN ST 19148\n1\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n17\nA PLUS #40143H\n2201 WALNUT ST 19103\n1\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n18\nDunkin Donuts\n1551 WASHINGTON AVE 19146\n1\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n19\nBenna's Cafe\n1236 S 8TH ST 19147\n1\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n20\nBridesburg Annex\n4415 ALMOND ST 19137\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n21\nChucks Helados Water Ice Inc\n1835 SNYDER AVE 19145\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n22\nCVS Store #2170\n3331 GRANT AVE 19114\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n23\nDollar General\n2120 S 23RD ST 19145\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n24\nFuj News\n31 E OREGON AVE 19148\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n25\nDown Home Diner\n45 N 12TH ST SPC B2 19107\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n26\nDutch Eating Place\n45 N 12TH ST SPC B11 19107\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n27\nFan's Cafe Indonesian Food\n1835 SNYDER AVE 19145\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n28\nFarina Di Vita\n250 CATHARINE ST 19147\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n29\nFishadelphia\n3401 I ST STE 200 19134\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n30\nFitzwater Cafe\n728 S 7TH ST 19147\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n31\nFranky Bradley's Lounge\n1322 CHANCELLOR ST 19107\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n32\nGeorge Washington Carver H. S. of Engineering ...\n1600 W NORRIS ST 19121\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n33\nHatville Deli\n45 N 12TH ST SPC A9 19107\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n34\nBrothers Market\n1103 COTTMAN AVE 19111\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n35\nAeden Food Market\n3088 FRANKFORD AVE 19134\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n36\nBlankenburg Head Start\n4600 W GIRARD AVE 19131\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n37\nAramark At Temple U - Morgan Retail Food Court...\n1601 N BROAD ST 19122\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n38\nApex Pharmacy\n7200 FRANKFORD AVE 19136\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n39\nJefferson Pharmacy - Walnut Street\n908 WALNUT ST 19107\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n40\nAustin Meehan Middle School\n3001 RYAN AVE 19152\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n41\nBangin Grub\n3401 I ST 19134\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n42\nCADI\n444 N 03RD ST FL 4 19123\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n43\nCommunity Partnership School\n3033 W GLENWOOD AVE 19121\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n44\nConoco\n7554 CITY AVE 19151\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n45\nDollar General\n9212 FRANKFORD AVE 19114\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n46\nFifth 4938 (Signage: 5th St. Live Poultry)\n4938 N 5TH ST 19120\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n47\nFork\n306 MARKET ST 19106\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n48\nFranchesca Mini Market\n3071 C ST 19134\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n49\nJames Rhoads School\n4923 PARRISH ST 19139\n0\nhttps://data.inquirer.com/inspections/philly/?...\n\n\n\n\n\n\n\n\n\nSee any restaurants you recognize?"
  },
  {
    "objectID": "content/week-6/lecture-6A.html#thats-it",
    "href": "content/week-6/lecture-6A.html#thats-it",
    "title": "Week 6AWeb Scraping",
    "section": "That’s it!",
    "text": "That’s it!\nNext time: how to scrape dynamic content!"
  },
  {
    "objectID": "content/week-7/lecture-7A.html",
    "href": "content/week-7/lecture-7A.html",
    "title": "Week 7AGetting Data, Part 2: Working with APIs",
    "section": "",
    "text": "Section 401\nMonday Oct 16, 2023\nWeek #7 Agenda\nimport geopandas as gpd\nimport holoviews as hv\nimport hvplot.pandas\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\nfrom matplotlib import pyplot as plt\n# Show all columns\npd.options.display.max_columns = 999"
  },
  {
    "objectID": "content/week-7/lecture-7A.html#part-1-introduction-to-apis",
    "href": "content/week-7/lecture-7A.html#part-1-introduction-to-apis",
    "title": "Week 7AGetting Data, Part 2: Working with APIs",
    "section": "Part 1: Introduction to APIs",
    "text": "Part 1: Introduction to APIs\nOr, how to pull data from the web using Python\nApplication programming interface (API):\n\n(noun): A particular set of rules and specifications that software programs can follow to communicate with each other and exchange data.\n\nExample APIs\n\nSocrata Open Data: https://dev.socrata.com/\nOpen Data Philly: https://opendataphilly.org\nUS Census Bureau: https://www.census.gov/data/developers/data-sets.html\nBureau of Labor Statistics: https://www.bls.gov/developers/\nUS Geological Survey: https://www.usgs.gov/products/data-and-tools/apis\nUS Environmental Protection Agency: https://www.epa.gov/enviro/web-services\nGoogle APIs: https://console.cloud.google.com/apis/library\nFacebook: https://developers.facebook.com/docs/apis-and-sdks/\nTwitter: https://developer.twitter.com/en/docs/api-reference-index.html (RIP 💀)\nFoursquare: https://developer.foursquare.com/\nInstagram: https://www.instagram.com/developer/\nYelp: https://www.yelp.com/developers\n\n\n\n\n\n\n\nNote\n\n\n\nWhen accessing data via API, many services will require you to register an API key to prevent you from overloading the service with requests.\n\n\n\nExample #1: Automated data feeds\nThe simplest form of API is when data providers maintain data files via a URL that are automatically updated with new data over time.\n\nUSGS real-time earthquake feeds\nThis is an API for near-real-time data about earthquakes, and data is provided in GeoJSON format over the web.\nThe API has a separate endpoint for each version of the data that users might want. No authentication is required.\nAPI documentation:\nhttp://earthquake.usgs.gov/earthquakes/feed/v1.0/geojson.php\nSample API endpoint, for magnitude 4.5+ earthquakes in past day:\nhttp://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/4.5_day.geojson\nGeoPandas can read GeoJSON files from the web directly. Simply pass the URL to the gpd.read_file() function:\n\n# Download data on magnitude 2.5+ quakes from the past week\nendpoint_url = (\n    \"http://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/2.5_week.geojson\"\n)\nearthquakes = gpd.read_file(endpoint_url)\n\n\nearthquakes.head()\n\n\n\n\n\n\n\n\nid\nmag\nplace\ntime\nupdated\ntz\nurl\ndetail\nfelt\ncdi\nmmi\nalert\nstatus\ntsunami\nsig\nnet\ncode\nids\nsources\ntypes\nnst\ndmin\nrms\ngap\nmagType\ntype\ntitle\ngeometry\n\n\n\n\n0\nus6000lg18\n4.50\nMariana Islands region\n1697495094131\n1697496425040\nNaN\nhttps://earthquake.usgs.gov/earthquakes/eventp...\nhttps://earthquake.usgs.gov/earthquakes/feed/v...\nNaN\nNaN\nNaN\nNaN\nreviewed\n0\n312\nus\n6000lg18\n,us6000lg18,\n,us,\n,origin,phase-data,\n27.0\n3.168\n0.46\n165.0\nmb\nearthquake\nM 4.5 - Mariana Islands region\nPOINT Z (147.53230 17.94240 10.00000)\n\n\n1\nak023daay0wr\n2.50\nKodiak Island region, Alaska\n1697491317711\n1697493637040\nNaN\nhttps://earthquake.usgs.gov/earthquakes/eventp...\nhttps://earthquake.usgs.gov/earthquakes/feed/v...\nNaN\nNaN\nNaN\nNaN\nautomatic\n0\n96\nak\n023daay0wr\n,us6000lg02,ak023daay0wr,\n,us,ak,\n,origin,phase-data,\nNaN\nNaN\n1.16\nNaN\nml\nearthquake\nM 2.5 - Kodiak Island region, Alaska\nPOINT Z (-153.12000 57.13730 0.00000)\n\n\n2\nak023daavntz\n2.50\n99 km SE of Old Harbor, Alaska\n1697490628779\n1697493347040\nNaN\nhttps://earthquake.usgs.gov/earthquakes/eventp...\nhttps://earthquake.usgs.gov/earthquakes/feed/v...\nNaN\nNaN\nNaN\nNaN\nreviewed\n0\n96\nak\n023daavntz\n,us6000lg05,ak023daavntz,\n,us,ak,\n,origin,phase-data,\nNaN\nNaN\n1.54\nNaN\nml\nearthquake\nM 2.5 - 99 km SE of Old Harbor, Alaska\nPOINT Z (-152.13590 56.57760 15.00000)\n\n\n3\nhv73610612\n2.86\n21 km W of Volcano, Hawaii\n1697485792740\n1697487909640\nNaN\nhttps://earthquake.usgs.gov/earthquakes/eventp...\nhttps://earthquake.usgs.gov/earthquakes/feed/v...\nNaN\nNaN\nNaN\nNaN\nreviewed\n0\n126\nhv\n73610612\n,us6000lfz9,hv73610612,\n,us,hv,\n,origin,phase-data,\n53.0\nNaN\n0.12\n68.0\nml\nearthquake\nM 2.9 - 21 km W of Volcano, Hawaii\nPOINT Z (-155.44050 19.46667 6.83000)\n\n\n4\nus6000lfyi\n4.30\nLa Rioja-San Juan border region, Argentina\n1697482144060\n1697483277040\nNaN\nhttps://earthquake.usgs.gov/earthquakes/eventp...\nhttps://earthquake.usgs.gov/earthquakes/feed/v...\nNaN\nNaN\nNaN\nNaN\nreviewed\n0\n284\nus\n6000lfyi\n,us6000lfyi,\n,us,\n,moment-tensor,origin,phase-data,\n48.0\n1.728\n1.08\n81.0\nmwr\nearthquake\nM 4.3 - La Rioja-San Juan border region, Argen...\nPOINT Z (-68.25610 -29.32270 39.71600)\n\n\n\n\n\n\n\nLet’s explore the data interactively with Folium:\n\nearthquakes.explore()\n\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\nLots of other automated feeds available, updated every minute:\n \n\n\n\nExample #2: The CARTO API\n\nPhiladelphia hosts the majority of its open data on OpenDataPhilly in the cloud using CARTO\nThey provide an API to download the data\nYou can access the API documentation on the dataset page on OpenDataPhilly\n\nFor example: shooting victims in Philadelphia\nhttps://www.opendataphilly.org/dataset/shooting-victims\nand the API documentation:\nhttps://cityofphiladelphia.github.io/carto-api-explorer/#shootings\nLet’s take a look at the download URL for the data in the GeoJSON format:\n\n\nThe anatomy of an API request\n\n\nBase URL: shown in blue\n?: shown in purple; it separates the base URL from the query parameters\nQuery parameters: underlined in red; these parameters allow the user to customize the data response\n&: underlined in green; the separator between the query parameters\n\nSo, let’s break down the URL into its component parts:\n\n# The API endpoint\ncarto_api_endpoint = \"https://phl.carto.com/api/v2/sql\"\n\n# The query parameters\nparams = {\n    \"q\": \"SELECT * FROM shootings\",\n    \"format\": \"geojson\",\n    \"skipfields\": \"cartodb_id\",\n    # Note: we won't need the filename parameter, since we're not saving the data to a file\n    # \"filename\": \"shootings\"\n}\n\n\n\n\n\n\n\nNote: SQL Queries\n\n\n\nThe q parameter is a SQL query. It allows you to select a specific subset of data from the larger database.\nCARTO API documentation: https://carto.com/developers/sql-api/\nSQL documentation: https://www.postgresql.org/docs/9.1/sql.html\nGeneral Query Syntax\nSELECT [field names] FROM [table name] WHERE [query]\n\n\n\n\nLet’s try it out in Python\nWe’ll use Python’s requests library to use a “get” request to query the API endpoint with our desired query. Similar to our web scraping requests!\n\nimport requests\n\nLet’s make the get request and pass the query parameters via the params keyword:\n\nresponse = requests.get(carto_api_endpoint, params=params)\n\nresponse\n\n&lt;Response [200]&gt;\n\n\n\n# Get the returned data in JSON format\n# This is a dictionary\nfeatures = response.json()\n\n\ntype(features)\n\ndict\n\n\n\n# What are the keys?\nlist(features.keys())\n\n['type', 'features']\n\n\n\nfeatures[\"type\"]\n\n'FeatureCollection'\n\n\n\n# Let's look at the first feature\nfeatures[\"features\"][0]\n\n{'type': 'Feature',\n 'geometry': {'type': 'Point', 'coordinates': [-75.162274, 39.988715]},\n 'properties': {'objectid': 10797984,\n  'year': 2020,\n  'dc_key': '202022062735.0',\n  'code': '411',\n  'date_': '2020-09-12T00:00:00Z',\n  'time': '21:04:00',\n  'race': 'W',\n  'sex': 'M',\n  'age': '53',\n  'wound': 'Foot',\n  'officer_involved': 'N',\n  'offender_injured': 'N',\n  'offender_deceased': 'N',\n  'location': '18TH & DAUPHIN ST',\n  'latino': 1,\n  'point_x': -75.16227376,\n  'point_y': 39.98871456,\n  'dist': '22',\n  'inside': 0,\n  'outside': 1,\n  'fatal': 0}}\n\n\nUse the GeoDataFrame.from_features() function to create a GeoDataFrame.\n\nshootings = gpd.GeoDataFrame.from_features(features, crs=\"EPSG:4326\")\n\n\n\n\n\n\n\nImportant\n\n\n\nDon’t forget to specify the CRS of the input data when using GeoDataFrame.from_features().\n\n\n\nshootings.head()\n\n\n\n\n\n\n\n\ngeometry\nobjectid\nyear\ndc_key\ncode\ndate_\ntime\nrace\nsex\nage\nwound\nofficer_involved\noffender_injured\noffender_deceased\nlocation\nlatino\npoint_x\npoint_y\ndist\ninside\noutside\nfatal\n\n\n\n\n0\nPOINT (-75.16227 39.98871)\n10797984\n2020\n202022062735.0\n411\n2020-09-12T00:00:00Z\n21:04:00\nW\nM\n53\nFoot\nN\nN\nN\n18TH & DAUPHIN ST\n1.0\n-75.162274\n39.988715\n22\n0.0\n1.0\n0.0\n\n\n1\nPOINT (-75.14885 39.98795)\n10797985\n2020\n202022062782.0\n111\n2020-09-13T00:00:00Z\n10:50:00\nW\nM\n22\nMultiple/Head\nN\nN\nN\n1000 BLOCK W ARIZONA ST\n0.0\n-75.148851\n39.987952\n22\n0.0\n1.0\n1.0\n\n\n2\nPOINT (-75.16062 39.98691)\n10797986\n2020\n202022063114.0\n411\n2020-09-14T00:00:00Z\n20:46:00\nB\nM\n42\nMultiple\nN\nN\nN\n1600 BLOCK SUSQUEHANNA AVE\n0.0\n-75.160616\n39.986907\n22\n0.0\n1.0\n0.0\n\n\n3\nPOINT (-75.16062 39.98691)\n10797987\n2020\n202022063126.0\n411\n2020-09-14T00:00:00Z\n20:46:00\nB\nM\n17\nButtocks\nN\nN\nN\n1600 BLOCK SUSQUEHANNA AVE\n0.0\n-75.160616\n39.986907\n22\n0.0\n1.0\n0.0\n\n\n4\nPOINT (-75.15398 39.98373)\n10797988\n2020\n202022063470.0\n111\n2020-09-16T00:00:00Z\n12:10:00\nB\nM\n39\nHead\nN\nN\nN\n2000 BLOCK W SUSQUEHANNA AVE\n0.0\n-75.153980\n39.983726\n22\n0.0\n1.0\n1.0\n\n\n\n\n\n\n\n\n\nAt-Home Exercise: Visualizing shootings data\nStep 1: Prep the data\n\nDrop rows where the geometry is NaN\nConvert to a better CRS (e.g., 3857)\nLoad city limits from Open Data Philly and trim to those only within city limits (some shootings have wrong coordinates, outside Philadelphia!)\n\n\n# make sure we remove missing geometries\nshootings = shootings.dropna(subset=[\"geometry\"])\n\n# convert to a better CRS\nshootings = shootings.to_crs(epsg=3857)\n\n\ncity_limits = gpd.read_file(\n    \"https://opendata.arcgis.com/datasets/405ec3da942d4e20869d4e1449a2be48_0.geojson\"\n).to_crs(epsg=3857)\n\n\n# Remove any shootings that are outside the city limits\nshootings = gpd.sjoin(shootings, city_limits, predicate=\"within\", how=\"inner\").drop(\n    columns=[\"index_right\"]\n)\n\nStep 2: Plot the points\nA quick plot with geopandas to show the shootings as points, and overlay Philadelphia ZIP codes.\n\n# From Open Data Philly\nzip_codes = gpd.read_file(\n    \"https://opendata.arcgis.com/datasets/b54ec5210cee41c3a884c9086f7af1be_0.geojson\"\n).to_crs(epsg=3857)\n\n\nfig, ax = plt.subplots(figsize=(6, 6))\n\n# ZIP Codes\nzip_codes.to_crs(epsg=3857).plot(ax=ax, facecolor=\"none\", edgecolor=\"black\")\n\n# Shootings\nshootings.plot(ax=ax, color=\"crimson\", markersize=10, alpha=0.4)\nax.set_axis_off()\n\n\n\n\nStep 3: Make a (more useful) hex bin map\n\n# Initialize the axes\nfig, ax = plt.subplots(figsize=(10, 10), facecolor=plt.get_cmap(\"viridis\")(0))\n\n# Convert to Web Mercator and plot the hexbins\nx = shootings.geometry.x\ny = shootings.geometry.y\nax.hexbin(x, y, gridsize=40, mincnt=1, cmap=\"viridis\")\n\n# overlay the city limits\nzip_codes.to_crs(epsg=3857).plot(\n    ax=ax, facecolor=\"none\", linewidth=0.5, edgecolor=\"white\"\n)\n\nax.set_axis_off()\n\n\n\n\n\n\nExample: Count the total number of rows in a table\nThe SQL COUNT function can be applied to count all rows.\n\nresponse = requests.get(\n    carto_api_endpoint, params={\"q\": \"SELECT COUNT(*) FROM shootings\"}\n)\n\n\nresponse.json()\n\n{'rows': [{'count': 15096}],\n 'time': 0.006,\n 'fields': {'count': {'type': 'number', 'pgtype': 'int8'}},\n 'total_rows': 1}\n\n\n\n\n\n\n\n\nTip\n\n\n\nIt’s always a good idea to check how many rows you might be downloading before requesting all of the data from an API!\n\n\n\n\nExample: Select all columns, limiting the total number returned\nThe LIMIT function limits the number of returned rows. It is very useful for taking a quick look at the format of a database.\n\n# Limit the returned data to only 1 row\nquery = \"SELECT * FROM shootings LIMIT 1\"\n\n# Make the request\nparams = {\"q\": query, \"format\": \"geojson\"}\nresponse = requests.get(carto_api_endpoint, params=params)\n\nCreate the GeoDataFrame:\n\ndf = gpd.GeoDataFrame.from_features(response.json(), crs=\"EPSG:4326\")\n\ndf\n\n\n\n\n\n\n\n\ngeometry\ncartodb_id\nobjectid\nyear\ndc_key\ncode\ndate_\ntime\nrace\nsex\nage\nwound\nofficer_involved\noffender_injured\noffender_deceased\nlocation\nlatino\npoint_x\npoint_y\ndist\ninside\noutside\nfatal\n\n\n\n\n0\nPOINT (-75.16227 39.98871)\n1\n10797984\n2020\n202022062735.0\n411\n2020-09-12T00:00:00Z\n21:04:00\nW\nM\n53\nFoot\nN\nN\nN\n18TH & DAUPHIN ST\n1\n-75.162274\n39.988715\n22\n0\n1\n0\n\n\n\n\n\n\n\n\n\nExample: Select by specific column values\nUse the WHERE function to select a subset where the logical condition is true.\nExample #1: Select nonfatal shootings only\n\n# Select nonfatal shootings only\nquery = \"SELECT * FROM shootings WHERE fatal = 0\"\n\n\n# Make the request\nparams = {\"q\": query, \"format\": \"geojson\"}\nresponse = requests.get(carto_api_endpoint, params=params)\n\n# Make the GeoDataFrame\nnonfatal = gpd.GeoDataFrame.from_features(response.json(), crs=\"EPSG:4326\")\n\n# Print\nprint(\"number of nonfatal shootings = \", len(nonfatal))\n\nnumber of nonfatal shootings =  11878\n\n\nExample #2: Select shootings in 2023\n\n# Select based on \"date_\"\nquery = \"SELECT * FROM shootings WHERE date_ &gt;= '1/1/23'\"\n\n\n# Make the request\nparams = {\"q\": query, \"format\": \"geojson\"}\nresponse = requests.get(carto_api_endpoint, params=params)\n\n# Make the GeoDataFrame\nshootings_2023 = gpd.GeoDataFrame.from_features(response.json(), crs=\"EPSG:4326\")\n\n# Print\nprint(\"number of shootings in 2023 = \", len(shootings_2023))\n\nnumber of shootings in 2023 =  1413\n\n\n\n\nAt-Home Exercise: Explore trends by month and day of week\n\nStep 1: Convert the date column to DateTime objects\nAdd Month and Day of Week columns\n\n# Condddvert the data column to a datetime object\nshootings[\"date\"] = pd.to_datetime(shootings[\"date_\"])\n\n\n# Add new columns: Month and Day of Week\nshootings[\"Month\"] = shootings[\"date\"].dt.month\nshootings[\"Day of Week\"] = shootings[\"date\"].dt.dayofweek  # Monday is 0, Sunday is 6\n\n\n\nStep 2: Calculate number of shootings by month and day of week\nUse the familiar Groupby –&gt; size()\n\ncount = shootings.groupby([\"Month\", \"Day of Week\"]).size()\ncount = count.reset_index(name=\"Count\")\ncount.head()\n\n\n\n\n\n\n\n\nMonth\nDay of Week\nCount\n\n\n\n\n0\n1\n0\n168\n\n\n1\n1\n1\n157\n\n\n2\n1\n2\n143\n\n\n3\n1\n3\n139\n\n\n4\n1\n4\n143\n\n\n\n\n\n\n\n\n\nStep 3: Make a heatmap using hvplot\n\n# Remember 0 is Monday and 6 is Sunday\ncount.hvplot.heatmap(\n    x=\"Day of Week\",\n    y=\"Month\",\n    C=\"Count\",\n    cmap=\"viridis\",\n    width=400,\n    height=500,\n    flip_yaxis=True,\n)\n\n\n\n\n\n  \n\n\n\n\nTrends: more shootings on the weekends and in the summer months\n\n\n\n\nExample #3: GeoServices\nA GeoService is a standardized format for returning GeoJSON files over the web\nOriginally developed by Esri, in 2010 the specification was transferred to the Open Web Foundation.\nDocumentation: http://geoservices.github.io/\n\nExample: Philadelphia neighborhoods\nOpenDataPhilly provides GeoService API endpoints for the geometry hosted on its platform\nhttps://opendataphilly.org/datasets/philadelphia-neighborhoods/\n\n# The base URL for the neighborhoods layer\nneighborhood_url = \"https://services1.arcgis.com/a6oRSxEw6eIY5Zfb/arcgis/rest/services/Philadelphia_Neighborhoods/FeatureServer/0\"\n\n\nSource: https://geoservices.github.io/resources.html\n\n\nThe query/ endpoint\nLayers have a single endpoint for requesting features: the /query endpoint.\n\nneighborhood_query_endpoint = neighborhood_url + \"/query\"\n\n\nneighborhood_query_endpoint\n\n'https://services1.arcgis.com/a6oRSxEw6eIY5Zfb/arcgis/rest/services/Philadelphia_Neighborhoods/FeatureServer/0/query'\n\n\n\n\nThe allowed parameters\nThe main request parameters are:\n\nwhere: A SQL-like string to select a subset of features; to get all data, use 1=1 (always True)\noutFields: The list of columns to return; to get all, use *\nf: The returned format; for GeoJSON, use “geojson”\noutSR: The desired output CRS\n\n\nparams = {\n    \"where\": \"1=1\",  # Give me all rows\n    \"outFields\": \"*\",  # All fields\n    \"f\": \"geojson\",  # GeoJSON format\n    \"outSR\": \"4326\",  # The desired output CRS\n}\n\nMake the request:\n\nr = requests.get(neighborhood_query_endpoint, params=params)\n\nGet the features and create the GeoDataFrame:\n\njson = r.json()\n\nfeatures = json[\"features\"]\n\n\nhoods = gpd.GeoDataFrame.from_features(features, crs=\"EPSG:4326\")\n\n\nhoods\n\n\n\n\n\n\n\n\ngeometry\nFID\nNAME\nLISTNAME\nMAPNAME\nShape_Leng\nShape__Area\nShape__Length\n\n\n\n\n0\nPOLYGON ((-75.06773 40.00540, -75.06765 40.005...\n1\nBRIDESBURG\nBridesburg\nBridesburg\n27814.546521\n7.066581e+06\n11074.587308\n\n\n1\nPOLYGON ((-75.01560 40.09487, -75.01768 40.092...\n2\nBUSTLETON\nBustleton\nBustleton\n48868.458365\n1.812721e+07\n19485.686530\n\n\n2\nPOLYGON ((-75.18848 40.07273, -75.18846 40.072...\n3\nCEDARBROOK\nCedarbrook\nCedarbrook\n20021.415802\n3.950980e+06\n7980.051802\n\n\n3\nPOLYGON ((-75.21221 40.08603, -75.21211 40.086...\n4\nCHESTNUT_HILL\nChestnut Hill\nChestnut Hill\n56394.297195\n1.265385e+07\n22476.270236\n\n\n4\nPOLYGON ((-75.18479 40.02837, -75.18426 40.027...\n5\nEAST_FALLS\nEast Falls\nEast Falls\n27400.776417\n6.434879e+06\n10907.970158\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n153\nPOLYGON ((-75.18373 39.91351, -75.18194 39.913...\n154\nPACKER_PARK\nPacker Park\nPacker Park\n21816.017948\n4.584862e+06\n8444.679631\n\n\n154\nPOLYGON ((-75.14654 39.93005, -75.14804 39.921...\n155\nPENNSPORT\nPennsport\nPennsport\n11823.233108\n1.026917e+06\n4706.597865\n\n\n155\nPOLYGON ((-75.16986 39.92312, -75.17015 39.921...\n156\nNEWBOLD\nNewbold\nNewbold\n10052.570885\n9.281435e+05\n3994.098029\n\n\n156\nPOLYGON ((-75.17630 39.92425, -75.17798 39.923...\n157\nWEST_PASSYUNK\nWest Passyunk\nWest Passyunk\n10499.291848\n1.027608e+06\n4173.301421\n\n\n157\nPOLYGON ((-75.15684 39.92897, -75.15712 39.927...\n158\nEAST_PASSYUNK\nEast Passyunk\nEast Passyunk\n10987.761846\n1.028395e+06\n4368.384350\n\n\n\n\n158 rows × 8 columns\n\n\n\nNow let’s select data just for East Falls and subset the returned columns:\n\nparams = {\n    \"where\": \"LISTNAME = 'East Falls'\",\n    \"outFields\": [\"LISTNAME\"],\n    \"f\": \"geojson\",\n    \"outSR\": \"4326\",\n}\n\nr = requests.get(neighborhood_query_endpoint, params=params)\n\n\neast_falls = gpd.GeoDataFrame.from_features(r.json()[\"features\"], crs=\"EPSG:4326\")\n\neast_falls\n\n\n\n\n\n\n\n\ngeometry\nLISTNAME\n\n\n\n\n0\nPOLYGON ((-75.18479 40.02837, -75.18426 40.027...\nEast Falls"
  },
  {
    "objectID": "content/week-7/lecture-7A.html#part-2-natural-language-processing-and-the-311-request-api",
    "href": "content/week-7/lecture-7A.html#part-2-natural-language-processing-and-the-311-request-api",
    "title": "Week 7AGetting Data, Part 2: Working with APIs",
    "section": "Part 2: Natural Language Processing and the 311 Request API",
    "text": "Part 2: Natural Language Processing and the 311 Request API\nIn part two, we’ll pull data using the API for the Philly 311 system, available at: https://iframe.publicstuff.com/#?client_id=242\nWe saw this site previously when we talked about web scraping last week:\n\nLet’s take another look at the address where the site is pulling its data from:\nhttps://vc0.publicstuff.com/api/2.0/requests_list?client_id=242&device=iframe&limit=35&page=1\nThis is just an API request! It’s an example of a non-public, internal API, but we can reverse-engineer it to extract the data we want!\nBreak it down into it’s component parts:\n\nBase URL: https://vc0.publicstuff.com/api/2.0/requests_list\nQuery parameters: client_id, device, limit, page\n\nIt looks likes “client_id” identifies data for the City of Philadelphia, which is definitely a required parameter. Otherwise, the other parameters seem optional, returning the requests on a certain device and viewing page.\nLet’s test it out. We’ll grab 2 requests from the first page:\n\nr = requests.get(\n    \"https://vc0.publicstuff.com/api/2.0/requests_list\",\n    params={\"client_id\": 242, \"page\": 1, \"limit\": 2},\n)\n\njson = r.json()\n\njson\n\n{'response': {'requests': [{'request': {'id': 14500812,\n     'image_thumbnail': '',\n     'title': 'Traffic Sign Complaint',\n     'description': 'People speed up the street like they’re all 95 it needs to have street cushions put in or speed bumps whatever you wanna call',\n     'status': 'submitted',\n     'address': '3532 Mercer St,Philadelphia, PA 19134',\n     'location': 'Philadelphia, Pennsylvania',\n     'zipcode': '19134',\n     'foreign_id': '16306373',\n     'date_created': 1697500549,\n     'count_comments': 0,\n     'count_followers': 0,\n     'count_supporters': 0,\n     'lat': 39.98944,\n     'lon': -75.095472,\n     'user_follows': 0,\n     'user_comments': 0,\n     'user_request': 0,\n     'rank': '1',\n     'user': 'Lisa BUCHER'}},\n   {'request': {'primary_attachment': {'id': 4618920,\n      'extension': 'jpeg',\n      'content_type': 'image/jpeg',\n      'url': 'https://d17aqltn7cihbm.cloudfront.net/uploads/021404250e358776466e2a1eed0b37b7',\n      'versions': {'small': 'https://d17aqltn7cihbm.cloudfront.net/uploads/small_021404250e358776466e2a1eed0b37b7',\n       'medium': 'https://d17aqltn7cihbm.cloudfront.net/uploads/medium_021404250e358776466e2a1eed0b37b7',\n       'large': 'https://d17aqltn7cihbm.cloudfront.net/uploads/large_021404250e358776466e2a1eed0b37b7'}},\n     'id': 14500796,\n     'image_thumbnail': 'https://d17aqltn7cihbm.cloudfront.net/uploads/small_021404250e358776466e2a1eed0b37b7',\n     'title': 'Abandoned Automobile',\n     'description': 'This vehicle has been parked on the 5300 block of Sycamore Street. The car appears to be stolen and parts from the vehicle were removed such as Steering wheel – and other items',\n     'status': 'submitted',\n     'address': '5414 B St, Philadelphia, PA 19120, USA',\n     'location': '',\n     'zipcode': None,\n     'foreign_id': '16306368',\n     'date_created': 1697500317,\n     'count_comments': 0,\n     'count_followers': 0,\n     'count_supporters': 0,\n     'lat': 40.0324275675885,\n     'lon': -75.1184703964844,\n     'user_follows': 0,\n     'user_comments': 0,\n     'user_request': 0,\n     'rank': '1',\n     'user': ''}}],\n  'count': '2',\n  'benchmark': 6.994715929031372,\n  'status': {'type': 'success',\n   'message': 'Success',\n   'code': 200,\n   'code_message': 'Ok'}}}\n\n\nNow we need to understand the structure of the response. First, access the list of requests:\n\nrequest_list = json[\"response\"][\"requests\"]\n\nrequest_list\n\n[{'request': {'id': 14500812,\n   'image_thumbnail': '',\n   'title': 'Traffic Sign Complaint',\n   'description': 'People speed up the street like they’re all 95 it needs to have street cushions put in or speed bumps whatever you wanna call',\n   'status': 'submitted',\n   'address': '3532 Mercer St,Philadelphia, PA 19134',\n   'location': 'Philadelphia, Pennsylvania',\n   'zipcode': '19134',\n   'foreign_id': '16306373',\n   'date_created': 1697500549,\n   'count_comments': 0,\n   'count_followers': 0,\n   'count_supporters': 0,\n   'lat': 39.98944,\n   'lon': -75.095472,\n   'user_follows': 0,\n   'user_comments': 0,\n   'user_request': 0,\n   'rank': '1',\n   'user': 'Lisa BUCHER'}},\n {'request': {'primary_attachment': {'id': 4618920,\n    'extension': 'jpeg',\n    'content_type': 'image/jpeg',\n    'url': 'https://d17aqltn7cihbm.cloudfront.net/uploads/021404250e358776466e2a1eed0b37b7',\n    'versions': {'small': 'https://d17aqltn7cihbm.cloudfront.net/uploads/small_021404250e358776466e2a1eed0b37b7',\n     'medium': 'https://d17aqltn7cihbm.cloudfront.net/uploads/medium_021404250e358776466e2a1eed0b37b7',\n     'large': 'https://d17aqltn7cihbm.cloudfront.net/uploads/large_021404250e358776466e2a1eed0b37b7'}},\n   'id': 14500796,\n   'image_thumbnail': 'https://d17aqltn7cihbm.cloudfront.net/uploads/small_021404250e358776466e2a1eed0b37b7',\n   'title': 'Abandoned Automobile',\n   'description': 'This vehicle has been parked on the 5300 block of Sycamore Street. The car appears to be stolen and parts from the vehicle were removed such as Steering wheel – and other items',\n   'status': 'submitted',\n   'address': '5414 B St, Philadelphia, PA 19120, USA',\n   'location': '',\n   'zipcode': None,\n   'foreign_id': '16306368',\n   'date_created': 1697500317,\n   'count_comments': 0,\n   'count_followers': 0,\n   'count_supporters': 0,\n   'lat': 40.0324275675885,\n   'lon': -75.1184703964844,\n   'user_follows': 0,\n   'user_comments': 0,\n   'user_request': 0,\n   'rank': '1',\n   'user': ''}}]\n\n\nWe need to extract out the “request” key of each list entry. Let’s do that and create a DataFrame:\n\ndata = pd.DataFrame([r[\"request\"] for r in request_list])\n\n\ndata.head()\n\n\n\n\n\n\n\n\nid\nimage_thumbnail\ntitle\ndescription\nstatus\naddress\nlocation\nzipcode\nforeign_id\ndate_created\ncount_comments\ncount_followers\ncount_supporters\nlat\nlon\nuser_follows\nuser_comments\nuser_request\nrank\nuser\nprimary_attachment\n\n\n\n\n0\n14500812\n\nTraffic Sign Complaint\nPeople speed up the street like they’re all 95...\nsubmitted\n3532 Mercer St,Philadelphia, PA 19134\nPhiladelphia, Pennsylvania\n19134\n16306373\n1697500549\n0\n0\n0\n39.989440\n-75.095472\n0\n0\n0\n1\nLisa BUCHER\nNaN\n\n\n1\n14500796\nhttps://d17aqltn7cihbm.cloudfront.net/uploads/...\nAbandoned Automobile\nThis vehicle has been parked on the 5300 block...\nsubmitted\n5414 B St, Philadelphia, PA 19120, USA\n\nNone\n16306368\n1697500317\n0\n0\n0\n40.032428\n-75.118470\n0\n0\n0\n1\n\n{'id': 4618920, 'extension': 'jpeg', 'content_...\n\n\n\n\n\n\n\nSuccess! But we want to build up a larger dataset…let’s pull data for the first 3 pages of data. This will take a minute or two…\n\n# Store the data we request\ndata = []\n\n# Total number of pages\ntotal_pages = 3\n\n# Loop over each page\nfor page_num in range(1, total_pages + 1):\n    # Print out the page number\n    print(f\"Getting data for page #{page_num}...\")\n\n    # Make the request\n    r = requests.get(\n        \"https://vc0.publicstuff.com/api/2.0/requests_list\",\n        params={\n            \"client_id\": 242,  # Unique identifier for Philadelphia\n            \"page\": page_num,  # What page of data to pull\n            \"limit\": 200,  # How many rows per page\n        },\n    )\n\n    # Get the json\n    d = r.json()\n\n    # Add the new data to our list and save\n    data = data + [r[\"request\"] for r in d[\"response\"][\"requests\"]]\n\n# Create a dataframe\ndata = pd.DataFrame(data)\n\nGetting data for page #1...\nGetting data for page #2...\nGetting data for page #3...\n\n\n\nlen(data)\n\n600\n\n\n\ndata.head()\n\n\n\n\n\n\n\n\nprimary_attachment\nid\nimage_thumbnail\ntitle\ndescription\nstatus\naddress\nlocation\nzipcode\nforeign_id\ndate_created\ncount_comments\ncount_followers\ncount_supporters\nlat\nlon\nuser_follows\nuser_comments\nuser_request\nrank\nuser\n\n\n\n\n0\n{'id': 4619003, 'extension': 'jpg', 'content_t...\n14500990\nhttps://d17aqltn7cihbm.cloudfront.net/uploads/...\nGraffiti Removal\nOn the side of the house, the side facing Wood...\nsubmitted\n1320 S Markoe St, Philadelphia, PA 19143, USA\n\nNone\n16306421\n1697503690\n0\n0\n0\n39.943466\n-75.209642\n0\n0\n0\n1\nWalkAbout\n\n\n1\nNaN\n14500986\n\nHomeless Encampment\nThere is a growing encampment near my house. T...\nsubmitted\n2037 S Broad St, Philadelphia, PA 19148, USA\n\nNone\n16306417\n1697503541\n0\n0\n0\n39.924470\n-75.169041\n0\n0\n0\n1\njimmy.qaqish\n\n\n2\n{'id': 4618993, 'extension': 'jpg', 'content_t...\n14500969\nhttps://d17aqltn7cihbm.cloudfront.net/uploads/...\nGraffiti Removal\nOn the west side of S. Markoe Street across fr...\nsubmitted\n1305 S Markoe St, Philadelphia, PA 19143, USA\n\nNone\n16306412\n1697503108\n0\n0\n0\n39.943874\n-75.209812\n0\n0\n0\n1\nWalkAbout\n\n\n3\nNaN\n14500967\n\nAbandoned Automobile\nThe trailer has been parked on the corner sinc...\nsubmitted\n2535 E Ontario St, Philadelphia, PA 19134, USA\n\nNone\n16306411\n1697503064\n0\n0\n0\n39.988810\n-75.099584\n0\n0\n0\n1\ncebonfan\n\n\n4\nNaN\n14500963\n\nAbandoned Automobile\nParked on the sidewalk for over 6 months\nsubmitted\n2634 Sears St, Philadelphia, PA 19146, USA\n\nNone\n16306410\n1697502982\n0\n0\n0\n39.936311\n-75.188364\n0\n0\n0\n1\n\n\n\n\n\n\n\n\nLet’s focus on the “description” column. This is the narrative text that the user inputs when entering a 311 request, and it is an example of semi-structured data. For the rest of today, we’ll focus on how to extract information from semi-structured data.\n\nSemi-structured data\nData that contains some elements that cannot be easily consumed by computers\nExamples: human-readable text, audio, images, etc\n\n\nKey challenges\n\nText mining: analyzing blocks of text to extract the relevant pieces of information\nNatural language processing (NLP): programming computers to process and analyze human languages\nSentiment analysis: analyzing blocks of text to derive the attitude or emotional state of the person\n\n\n\n\n\n\n\nNote\n\n\n\nTwitter is one of the main API examples of semi-structured data, but since Elon Musk overhauled the API access, it’s become prohibitively expensive to access (RIP 💀)\n\n\nTo get started, let’s remove any requests where the description is missing:\n\ndata = data.dropna(subset=[\"description\"])\ndata_final = data.loc[data[\"description\"] != \"\"]\n\n\n# Strip out spaces and convert to a list\ndescriptions = data_final[\"description\"].str.strip().tolist()\n\ndescriptions[:10]\n\n['On the side of the house, the side facing Woodland Avenue.',\n 'There is a growing encampment near my house. The people there have broken into a fenced area. They are yelling, leaving trash, defecating, and attempting to open cars on the street.',\n 'On the west side of S. Markoe Street across from #1305.',\n 'The trailer has been parked on the corner since the summer and has not moved. The street facing tires are flat. The trailer seems abandoned.',\n 'Parked on the sidewalk for over 6 months',\n 'The street light in front of 8219 Fayette st was out last night and is still out tonight. It very, very dark!',\n 'On the southwest corner of the intersection of S. 46th Street and Woodland Avenue.',\n \"On the 'No Dumping' street sign on the south side of Cedar Avenue about 11 steps west of S. 46th Street. Next to the tiny park.\",\n 'Apartment complex is dumping trash on our street again! Please help or tell me the proper channels I need to take. Thank you!',\n 'People speed up the street like they’re all 95 it needs to have street cushions put in or speed bumps whatever you wanna call']\n\n\n\n\nUse case #1: calculating word frequencies\nAn example of text mining\n\nText mining and dealing with messy data\nSome steps to clean up our text data:\n\nBreak strings into words\nRemove capitalization\nRemove stop words\nRemove punctuation\n\n1. Break strings into words\nUse the .split() command to break a string into words by splitting on spaces.\n\nexample_string = \"This is an Example\"\n\nexample_string.split()\n\n['This', 'is', 'an', 'Example']\n\n\n\ndescriptions_words = [desc.split() for desc in descriptions]\n\n\ndescriptions_words[0]\n\n['On',\n 'the',\n 'side',\n 'of',\n 'the',\n 'house,',\n 'the',\n 'side',\n 'facing',\n 'Woodland',\n 'Avenue.']\n\n\nThis is a list of lists, e.g., the first element is a list of words. Let’s flatten this into a list of just words:\n\ndescriptions_words_flat = []\n\nfor list_of_words in descriptions_words:\n    for word in list_of_words:\n        descriptions_words_flat.append(word)\n\n\ndescriptions_words_flat[0]\n\n'On'\n\n\n\nlen(descriptions_words_flat)\n\n9370\n\n\n2. Convert all words to lower case\nUse .lower() makes all words lower cased\n\ndescriptions_words_lower = [word.lower() for word in descriptions_words_flat]\n\n\ndescriptions_words_lower[:10]\n\n['on',\n 'the',\n 'side',\n 'of',\n 'the',\n 'house,',\n 'the',\n 'side',\n 'facing',\n 'woodland']\n\n\n\nlen(descriptions_words_lower)\n\n9370\n\n\n3. Remove stop words\nCommon words that do not carry much significance and are often ignored in text analysis.\nWe can use the nltk package.\nThe “Natural Language Toolkit” https://www.nltk.org/\nImport and download the stop words:\n\nimport nltk\n\nnltk.download(\"stopwords\");\n\n[nltk_data] Downloading package stopwords to /Users/nhand/nltk_data...\n[nltk_data]   Package stopwords is already up-to-date!\n\n\nGet the list of common stop words:\n\nstop_words = list(set(nltk.corpus.stopwords.words(\"english\")))\n\nstop_words[:10]\n\n[\"wasn't\",\n 'will',\n 'for',\n 'ourselves',\n 'while',\n 'during',\n 'your',\n 'here',\n 'some',\n \"that'll\"]\n\n\n\nlen(stop_words)\n\n179\n\n\n\ndescriptions_no_stop = []\n\nfor word in descriptions_words_lower:\n    if word not in stop_words:\n        descriptions_no_stop.append(word)\n\n\ndescriptions_no_stop = [\n    word for word in descriptions_words_lower if word not in stop_words\n]\n\n\nlen(descriptions_no_stop)\n\n5439\n\n\n4. Remove punctuation\nGet the list of common punctuation:\n\nimport string\n\n\npunctuation = list(string.punctuation)\n\n\npunctuation[:5]\n\n['!', '\"', '#', '$', '%']\n\n\nRemove punctuation from words:\n\ndescriptions_final = []\n\n# Loop over all words\nfor word in descriptions_no_stop:\n    # Remove any punctuation from the words\n    for p in punctuation:\n        word = word.replace(p, \"\")\n\n    # Save it if the string is not empty\n    if word != \"\":\n        descriptions_final.append(word)\n\nConvert to a Dataframe with one column:\n\nwords = pd.DataFrame({\"words\": descriptions_final})\n\n\nwords.head()\n\n\n\n\n\n\n\n\nwords\n\n\n\n\n0\nside\n\n\n1\nhouse\n\n\n2\nside\n\n\n3\nfacing\n\n\n4\nwoodland\n\n\n\n\n\n\n\nCalculate the word frequencies\nUse a pandas groupby and sort to put in descending order:\n\nN = (\n    words.groupby(\"words\", as_index=False)\n    .size()\n    .sort_values(\"size\", ascending=False, ignore_index=True)\n)\n\nThe top 15 words by frequency:\n\ntop15 = N.head(15)\n\ntop15\n\n\n\n\n\n\n\n\nwords\nsize\n\n\n\n\n0\nstreet\n145\n\n\n1\ntrash\n113\n\n\n2\nside\n66\n\n\n3\nblock\n40\n\n\n4\nvehicle\n39\n\n\n5\nsidewalk\n38\n\n\n6\nplease\n38\n\n\n7\nproperty\n35\n\n\n8\nlot\n35\n\n\n9\ncorner\n34\n\n\n10\ncar\n32\n\n\n11\nfront\n31\n\n\n12\ngraffiti\n30\n\n\n13\nmonths\n30\n\n\n14\nst\n29\n\n\n\n\n\n\n\nPlot the frequencies\nUse seaborn to plot our DataFrame of word counts…\n\nfig, ax = plt.subplots(figsize=(8, 8))\n\n# Plot horizontal bar graph\nsns.barplot(\n    y=\"words\",\n    x=\"size\",\n    data=top15,\n    ax=ax,\n    color=\"#cc3000\",\n    saturation=1.0,\n)\n\nax.set_title(\"Most Common Words Found in 311 Requests\", fontsize=16);\n\n\n\n\nTakeaway: Philly cares about trash! They don’t call it Filthadelphia for nothing…"
  },
  {
    "objectID": "content/week-7/lecture-7A.html#to-be-continued-next-time",
    "href": "content/week-7/lecture-7A.html#to-be-continued-next-time",
    "title": "Week 7AGetting Data, Part 2: Working with APIs",
    "section": "To be continued next time!",
    "text": "To be continued next time!\nSee you on Wednesday!"
  },
  {
    "objectID": "content/week-9/lecture-9B.html",
    "href": "content/week-9/lecture-9B.html",
    "title": "Lecture 9B: From Notebooks to the Web: Panel",
    "section": "",
    "text": "Section 401\nNov 1, 2023"
  },
  {
    "objectID": "content/week-9/lecture-9B.html#web-based-data-viz",
    "href": "content/week-9/lecture-9B.html#web-based-data-viz",
    "title": "Lecture 9B: From Notebooks to the Web: Panel",
    "section": "Web-based Data Viz",
    "text": "Web-based Data Viz\nThis week and next week, we’ll discuss ways to translate our analysis results to the Web in a meaningful way. We’ll cover two methods to do so, each with their own pros and cons:\nLast lecture\n\nEmbedding interactive charts on the Web via Quarto & Github Pages\n\nThis lecture and next week\n\nCreating Web apps & dashboards using the Python library Panel"
  },
  {
    "objectID": "content/week-9/lecture-9B.html#part-1-a-brief-aside-on-web-servers",
    "href": "content/week-9/lecture-9B.html#part-1-a-brief-aside-on-web-servers",
    "title": "Lecture 9B: From Notebooks to the Web: Panel",
    "section": "Part 1: A brief aside on web servers",
    "text": "Part 1: A brief aside on web servers\nA few quick basics before we move on to interactive Web apps with Panel…\n\nSome (oversimplified) basics\n\nThe browser needs a file –&gt; it requests it via a “get” request using the HTTP protocol\nThe web server receives the request, and if the requested file exists, sends it back to the browser using HTTP\n\n\n\n\nTwo main types\nStatic and dynamic\n\nStatic Web Servers\n\nServes hosted HTML files to the browser “as-is”\nResponse from the server is always the same, regardless of what the user does — static\nExample: Our Quarto-generated sites hosted via Github Pages from last lecture\n\n\n\n\n\n\n\nHeads up!\n\n\n\nThe term “static” here is a little confusing! As we saw last week with GitHub Pages, static sites can still contain interactive visualizations. The interactive features are enabled via the underlying Javascript contained in the visualizations.\nMost importantly, static sites can’t execute any Python code to change what is displayed!\n\n\n\n\nDynamic Web Servers\n\nCapable of serving dynamic content to browsers\nExtra software that executes server-side before sending the response back to the browser\nCommon example: APIs\n\nBrowser sends request for data with specific query parameters\nAPI server responds dynamically, sending the requested data\n\n\n\n\n\n\n\n\nDashboards\n\n\n\nAs we will see soon, Python dashboards need to be hosted on dynamic servers. The user will change parameters, the server will execute the necessary Python code, and the dashboard will update.\n\n\nFor more information on Web servers, check out the Mozilla documentation.\n\n\n\nFlashback: The CARTO API\nThis is an example of a dynamic web server\n\n\n\nAPI requests are just like dashboards!\nYou can think of API requests as very similar to hosted Python dashboards, also known as web apps:\nAPIs: API requests include query parameters that the user specifies in order to ask for specific types of data | back.\nDashboards: Dashboards will take input parameters from a user via widgets, the server executes the necessary code, and the dashboard updates to reflect the user input"
  },
  {
    "objectID": "content/week-9/lecture-9B.html#part-2-panel",
    "href": "content/week-9/lecture-9B.html#part-2-panel",
    "title": "Lecture 9B: From Notebooks to the Web: Panel",
    "section": "Part 2: Panel",
    "text": "Part 2: Panel\n\nThe result of Python programmers asking the question: can we build a dashboard just in Python?\n \nThe answer is yes…for the most part.\nYou still need to use some CSS styling and general knowledge about HTML. But everything is coded in Python.\n\nA high-level dashboarding solution in Python\n\nRelatively new: announced in 20190 and they just reached version 1.0 in May 2023\nIn my opinion, one of the most promising dashboard libraries so far\n\nKey Features: - ⭐️ It is designed to be plotting-library agnostic, fully supporting a wide range of Python libraries out of the box - Works just as well in a Jupyter notebook as on a standalone secure web server - ⭐️ Out-of-the-box support for big data libraries datashader and dask - ⭐️ Large set of interactive and aesthetically pleasing widgets` - Support for custom and more complex layouts (e.g., multi-page apps)\nAbove, I’ve put a ⭐️ next to the three features that I think separate Panel from the other dashboarding libraries in Python\n\n\nThe “Big 4”\nRight now, there a four “big” dashboarding libraries in Python (with newer one starting up often!):\n\nDash\nPanel\nVoila\nStreamlit\n\n\n\n\n\n\n\nRecommended Reading\n\n\n\nI recommend reading through this blog article by Quantsight for a great discussion of the current state of Python dashboarding (as well as a little bit of dataviz history).\n\n\nFrom this article by Quantsight:\n\nFrom the Panel FAQs:\n\nKey feature: Panel provides the best support for working in Jupyter notebooks, allowing you to do the entire data wrangling workflow and dashboard deployment in a Jupyter notebook\n\n\nBuilt on top of the HoloViz ecosystem\n\nKey feature: Panel is the only package to support datashader, dask, and visualizing large datasets\n\n\nRecommended Readings/Videos for Panel\n\nPyData talk in Dec 2019 from the creator of Panel\nComponents section of Panel User Guide\nAPI section of Panel User Guide\n\n\n\nDashboard apps in Panel\n\nPanel contains multiple different APIs to create interactive dashboards.\nAllows you to make a dashboard from a single function, or build up more complex dashboards with many components\n\nWhen using Panel, the general workflow will involve the following steps:\n\nUser changes some parameters via widgets\nThe dashboard knows which charts depends on those parameters\nThe necessary functions are executed to properly update the dashboard\n\nThis is a reactive workflow.\n\nThe default panel import\n\n# Load panel and enable interactive features\nimport panel as pn\npn.extension()\n\n\n\n\n\n\n\n\n\n\n\n\n\n  \n\n\n\n\n\n\n\nKey concepts\n1. Panes - A Pane wraps external viewable items like Bokeh, Plotly, Vega/Altair, or HoloViews plots, so they can be embedded in a dashboard. When the wrapped object or any parameter changes, a pane will update the view accordingly. - Check out the Panes section of the component gallery for the full set of available panes – there are many! - See more info on the docs\n2. Widgets - A wrapper for the values the user selects, which determines which Panes get updated and which data is shown in the dashboard - Check out the Widgets section of the component gallery for the full set of available widgets – there are many! - See more info on the docs\n3. Panels - Layout objects allow combining plots into a Row, Column, Tabs or a Grid. - See the Layout section of the component gallery for the full set of available layouts - See more info on the docs\nOverall, there is always a layout piece and a reactive parameter/callback piece.\n\n\nThe Param library\n\n\nWidgets in Panel are implemented using Parameter objects from the Param library\nThese widgets allow you to declare the parameters of a dashboard in a declarative manner.\nParamters have corresponding widgets for the user can change their value\nExample parameters/widget combos are available on the Panel docs\n\nKey things to know about Parameters\n\nParameters drive the reactive nature of Panel dashboards\nThink of Parameters as references to a value, similar to how Excel works\nIn excel, when you reference a particular cell in the formula of another cell, changing the original cell will automatically trigger an update in all cells that reference. The same concept applies to Parameter objects.\n\nFor example:\n\ntext = pn.widgets.TextInput()\ntext\n\n\n\n\n\n\n  \n\n\n\n\n\n# The \"value\" Parameter of this widget reflects the current value at the time the code is executed\ntext.value\n\n''\n\n\n\n# This is the reference to the live value, just like a cell reference in excel\ntext.param.value \n\n&lt;param.parameterized.String at 0x14229a020&gt;\n\n\nMore on this to come!\n\n\nPanel APIs: different ways to use Panel\nThere are three main ways (what they call APIs) to use Panel to create dashboards:\n\nInteract functions: Auto-generates a full UI (including widgets) given a function\nReactive functions: Linking functions or methods to widgets using pn.bind or the equivalent pn.depends decorator, declaring that the function should be re-run when those widget values change\nParameterized classes: Declare parameters and their ranges in Parameterized classes, then get GUIs (and value checking!) for free\n\nReference: See the API section of the User Guide for a more detailed discussion\n\n\nQuick API demo: the “cars” dataset\nWe’ll demonstrate the three Panel APIs by creating the same, small dashboard using the “cars” example dataset. Then, we’ll dive into more complex and realistic examples!\n\nimport hvplot.pandas\nfrom bokeh.sampledata.autompg import autompg # cars dataset\n\n\n\n\n\n\n\n\n\n\n\n\nautompg.head()\n\n\n\n\n\n\n\n\nmpg\ncyl\ndispl\nhp\nweight\naccel\nyr\norigin\nname\n\n\n\n\n0\n18.0\n8\n307.0\n130\n3504\n12.0\n70\n1\nchevrolet chevelle malibu\n\n\n1\n15.0\n8\n350.0\n165\n3693\n11.5\n70\n1\nbuick skylark 320\n\n\n2\n18.0\n8\n318.0\n150\n3436\n11.0\n70\n1\nplymouth satellite\n\n\n3\n16.0\n8\n304.0\n150\n3433\n12.0\n70\n1\namc rebel sst\n\n\n4\n17.0\n8\n302.0\n140\n3449\n10.5\n70\n1\nford torino\n\n\n\n\n\n\n\n\n# Set up a function to plot using hvplot\ndef autompg_plot(x=\"mpg\", y=\"hp\", color=\"#058805\"):\n    return autompg.hvplot.scatter(x, y, c=color, padding=0.1)\n\n# Get the columns to use\ncolumns = list(autompg.columns[:-2])\ncolumns\n\n['mpg', 'cyl', 'displ', 'hp', 'weight', 'accel', 'yr']\n\n\n\n1. Interact Functions\nThe interact function will magically generate a UI (including widgets) automatically by inspecting the arguments of the function given to it.\nIn the case below, we give the autompg_plot() the allowed options for its 3 arguments x, y, and color, and it auto-generates a Panel dashboard.\n\n# Create a widget to select the color of the scatter points\ncolor = pn.widgets.ColorPicker(name=\"Color\", value=\"#4f4fdf\")\n\n# Auto-generate the layout\nlayout = pn.interact(autompg_plot, x=columns, y=columns, color=color)\n\n# Create the dashboard with a Row and Column\ninteract_dashboard = pn.Row(pn.Column(\"## MPG Explorer\", layout[0]), layout[1])\ninteract_dashboard\n\n\n\n\n\n\n\n\n\n  \n\n\n\n\nFor my taste, the interact API is a little too simple. I prefer to have more control over the dashboard. For that reason, I prefer to use the next two APIs the most often.\n\n\n2. Reactive Functions\n\nVery similar to the interact API but is more explicit about widget selection and layout.\nYou must use the pn.bind function to select and configure widgets explicity and to lay out components explicitly.\nThe pn.bind() function explicitly links the values of the widgets to the arguments of a function.\n\n\n\n\n\n\n\nFind out more\n\n\n\nFor more info, see this discussion of the pros and cons of this approach.\n\n\n\n# Create the widgets\nxSelect = pn.widgets.Select(value=\"mpg\", options=columns, name=\"x\")\nySelect = pn.widgets.Select(value=\"hp\", options=columns, name=\"y\")\ncolor = pn.widgets.ColorPicker(name=\"Color\", value=\"#AA0505\")\n\n# Create the dashboard\nreactive_dashboard = pn.Column(\n    pn.Row(\n        pn.Column(\"## MPG Explorer\", color, xSelect, ySelect),  # Title and widgets\n        pn.bind(autompg_plot, x=xSelect, y=ySelect, color=color),  # Main chart\n    ),\n)\n\nreactive_dashboard\n\n\n\n\n\n\n\n\n\n  \n\n\n\n\n\n\n3. Parametrized Classes\nYou are welcome to use any of the APIs to create dashboards with Panel. However, this is my recommended approach when you are building more complex dashboards.\nWe’ll define our app in a declarative fashion using a custom Python class that defines the various components of our dashboard, which include:\n\nThe parameters we want the user to be able to change.\nReactive functions to generate the various charts/maps in our dashboard, based on those input parameters.\nThe dependencies between our chart functions and parameters.\n\nNote: The example apps we’ll talk about next lecture on our course Github page use the class API to define the dashboard.\n\n\n\n\n\n\nFind out more\n\n\n\nFor more info, see this discussion of the pros and cons of this approach.\n\n\n\n\nFirst some quick background: an introduction to Python classes\nLet’s take a quick look at this nice tutorial\n\nimport param\n\n\n# Define the class\nclass MPGExplorer(param.Parameterized):\n    \"\"\"A Panel dashboard class.\"\"\"\n\n    x = param.Selector(default=\"mpg\", objects=columns)\n    y = param.Selector(default=\"hp\", objects=columns)\n    color = param.Color(default=\"#0f0f0f\")\n\n    @param.depends(\"x\", \"y\", \"color\")  # This is a Python \"decorator\"!\n    def make_autompg_plot(self):\n        return autompg_plot(self.x, self.y, self.color)\n\n\n# Initialize the dashboard class object\nexplorer = MPGExplorer()\n\n# Create the dashboard layout\n# Note: widgets are stored in the 'param' attribute by default\nclass_dashboard = pn.Row(explorer.param, explorer.make_autompg_plot)\n\nclass_dashboard\n\n\n\n\n\n\n\n\n\n  \n\n\n\n\nNote that when we change the selections above, the attributes of the explorer object update:\n\nexplorer.x\n\n'mpg'\n\n\n\nexplorer.y\n\n'hp'\n\n\n\nexplorer.color\n\n'#0f0f0f'\n\n\n\n\n\nGreat examples on their documentation\nI’d encourage you to spend some time reading through their documentation…\n\nDocumentation homepage\nCore concepts\n\nAn overview of the core concepts powering Panel dashboards\n\nApp Gallery\n\nExamples of end-to-end apps using Panel\n\nReference Component Gallery\n\nExamples (code snippets) for the many different kinds of components possible in Panel dashboards\n\n\n\n\nNote: Dashboard Templates\nPanel has recently added default layout templates to provide a simple, well-designed layout for the dashboard. They are all very similar and break the layout into various pieces, including the:\n\nTitle\nSidebar\nMain content\n\nExamples: - Bootstrap - React - Material\nSee more: https://panel.holoviz.org/reference/index.html#templates"
  },
  {
    "objectID": "content/week-9/index.html",
    "href": "content/week-9/index.html",
    "title": "Week 9: From Notebooks to the Web: Part 1",
    "section": "",
    "text": "Content for lectures 9A and 9B\n\n\n        \n            \n             \n            View materials:\n             \n            MUSA-550-Fall-2023/week-9\n        \n\n        \n            \n             \n            HTML slides:\n             \n            \n                Lecture 9A\n            \n             \n            \n                Lecture 9B\n            \n        \n        \n\n        \n            \n             \n            Executable slides:\n             \n            \n                Lecture 9A\n            \n             \n            \n                Lecture 9B"
  },
  {
    "objectID": "content/week-9/index.html#topics",
    "href": "content/week-9/index.html#topics",
    "title": "Week 9: From Notebooks to the Web: Part 1",
    "section": "Topics",
    "text": "Topics\n\nQuarto websites\nPanel dashboards"
  },
  {
    "objectID": "content/week-9/index.html#recommended-readingsvideos",
    "href": "content/week-9/index.html#recommended-readingsvideos",
    "title": "Week 9: From Notebooks to the Web: Part 1",
    "section": "Recommended readings/videos",
    "text": "Recommended readings/videos\n\nQuarto\n\nReproducible authoring with Quarto - Mine Çetinkaya-Rundel, Feb 2022 - slides, youtube\nQuarto tutorial for JupyterLab\n\n\n\nPanel\n\nPyData talk in Dec 2019 from the creator of Panel\nComponents section of Panel User Guide\nAPI section of Panel User Guide"
  },
  {
    "objectID": "content/week-9/index.html#references",
    "href": "content/week-9/index.html#references",
    "title": "Week 9: From Notebooks to the Web: Part 1",
    "section": "References",
    "text": "References\n\nQuarto\n\nExample Quarto template repository\nQuarto user guide\nQuarto reference documentation\nQuarto gallery for websites: lots of good examples!\nInstalling Quarto\nGitHub Desktop documentation\n\n\n\nPanel\n\nDocumentation homepage\nCore concepts\n\nAn overview of the core concepts powering Panel dashboards\n\nApp Gallery\n\nExamples of end-to-end apps using Panel\n\nReference Component Gallery\n\nExamples (code snippets) for the many different kinds of components possible in Panel dashboards"
  },
  {
    "objectID": "content/week-5/lecture-5B.html",
    "href": "content/week-5/lecture-5B.html",
    "title": "Week 5BGeospatial Data: Raster",
    "section": "",
    "text": "Section 401\nWednesday October 4, 2023\n# Our usual imports\nimport altair as alt\nimport geopandas as gpd\nimport numpy as np\nimport pandas as pd\nfrom matplotlib import pyplot as plt\n# This will add the .hvplot() function to your DataFrame!\n# Import holoviews too\nimport holoviews as hv\nimport hvplot.pandas\n\nhv.extension(\"bokeh\")"
  },
  {
    "objectID": "content/week-5/lecture-5B.html#weve-already-worked-with-raster-data",
    "href": "content/week-5/lecture-5B.html#weve-already-worked-with-raster-data",
    "title": "Week 5BGeospatial Data: Raster",
    "section": "We’ve already worked with raster data!",
    "text": "We’ve already worked with raster data!\n\nSo far we’ve been working mainly with vector data using geopandas: lines, points, polygons\nThe basemap tiles we’ve been adding to our hvplot maps are an exampe of raster data\nRaster data:\n\nGridded or pixelated\nMaps easily to an array — it’s the representation for digital images"
  },
  {
    "objectID": "content/week-5/lecture-5B.html#continuous-raster-examples",
    "href": "content/week-5/lecture-5B.html#continuous-raster-examples",
    "title": "Week 5BGeospatial Data: Raster",
    "section": "Continuous raster examples",
    "text": "Continuous raster examples\n\nMultispectral satellite imagery, e.g., the Landsat satellite\nDigital Elevation Models (DEMs)\nMaps of canopy height derived from LiDAR data."
  },
  {
    "objectID": "content/week-5/lecture-5B.html#categorical-raster-examples",
    "href": "content/week-5/lecture-5B.html#categorical-raster-examples",
    "title": "Week 5BGeospatial Data: Raster",
    "section": "Categorical raster examples",
    "text": "Categorical raster examples\n\nLand cover or land-use maps.\nTree height maps classified as short, medium, and tall trees.\nSnowcover masks (binary snow or no snow)"
  },
  {
    "objectID": "content/week-5/lecture-5B.html#important-attributes-of-raster-data",
    "href": "content/week-5/lecture-5B.html#important-attributes-of-raster-data",
    "title": "Week 5BGeospatial Data: Raster",
    "section": "Important attributes of raster data",
    "text": "Important attributes of raster data\n\n1. The coordinate reference system\n\n\n\n2. Resolution\nThe spatial distance that a single pixel covers on the ground.\n\n\n\n3. Extent\nThe bounding box that covers the entire extent of the raster data.\n\n\n\n\n4. Affine transformation\nTransform from pixel space to real space\n\nA mapping from pixel space (rows and columns of the image) to the x and y coordinates defined by the CRS\nTypically a six parameter matrix defining the origin, pixel resolution, and rotation of the raster image"
  },
  {
    "objectID": "content/week-5/lecture-5B.html#multi-band-raster-data",
    "href": "content/week-5/lecture-5B.html#multi-band-raster-data",
    "title": "Week 5BGeospatial Data: Raster",
    "section": "Multi-band raster data",
    "text": "Multi-band raster data\nEach band measures the light reflected from different parts of the electromagnetic spectrum.\n\nColor images are multi-band rasters!"
  },
  {
    "objectID": "content/week-5/lecture-5B.html#the-raster-format-geotiff",
    "href": "content/week-5/lecture-5B.html#the-raster-format-geotiff",
    "title": "Week 5BGeospatial Data: Raster",
    "section": "The raster format: GeoTIFF",
    "text": "The raster format: GeoTIFF\n\nA standard .tif image format with additional spatial information embedded in the file, which includes metadata for:\n\nGeotransform, e.g., extent, resolution\nCoordinate Reference System (CRS)\nValues that represent missing data (NoDataValue)"
  },
  {
    "objectID": "content/week-5/lecture-5B.html#tools-for-raster-data",
    "href": "content/week-5/lecture-5B.html#tools-for-raster-data",
    "title": "Week 5BGeospatial Data: Raster",
    "section": "Tools for raster data",
    "text": "Tools for raster data\n\nLots of different options: really just working with arrays\nOne of the first options: Geospatial Data Abstraction Library (GDAL)\n\nLow level and not really user-friendly\n\nA more recent, much more Pythonic package: rasterio\n\nWe’ll use rasterio for the majority of our raster analysis\n\n\n\n\n\n\nRaster data + NumPy\n\n\n\nMulti-band raster data is best represented as multi-dimensional arrays. In Python, that means working with NumPy arrays. We’ll work primarily with rasterio today but see a few examples of NumPy arrays.\nTo learn more about NumPy, we recommend going through the DataCamp course on NumPy. To get free access to DataCamp, see the instructions on the course website."
  },
  {
    "objectID": "content/week-5/lecture-5B.html#part-1-getting-started-with-rasterio",
    "href": "content/week-5/lecture-5B.html#part-1-getting-started-with-rasterio",
    "title": "Week 5BGeospatial Data: Raster",
    "section": "Part 1: Getting started with rasterio",
    "text": "Part 1: Getting started with rasterio\nAnalysis is built around the “open()” command which returns a “dataset” or “file handle”\n\nimport rasterio as rio\n\n\n# Open the file and get a file \"handle\"\nlandsat = rio.open(\"./data/landsat8_philly.tif\")\n\nlandsat\n\n&lt;open DatasetReader name='./data/landsat8_philly.tif' mode='r'&gt;\n\n\n\nLet’s check out the metadata\n\n# The CRS\nlandsat.crs\n\nCRS.from_epsg(32618)\n\n\n\n# The bounds\nlandsat.bounds\n\nBoundingBox(left=476064.3596176505, bottom=4413096.927074196, right=503754.3596176505, top=4443066.927074196)\n\n\n\n# The number of bands available\nlandsat.count\n\n10\n\n\n\n# The band numbers that are available\nlandsat.indexes\n\n(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\n\n\n\n# Number of pixels in the x and y directions\nlandsat.shape\n\n(999, 923)\n\n\n\n# The 6 parameters that map from pixel to real space\nlandsat.transform\n\nAffine(30.0, 0.0, 476064.3596176505,\n       0.0, -30.0, 4443066.927074196)\n\n\n\n# All of the meta data\nlandsat.meta\n\n{'driver': 'GTiff',\n 'dtype': 'uint16',\n 'nodata': None,\n 'width': 923,\n 'height': 999,\n 'count': 10,\n 'crs': CRS.from_epsg(32618),\n 'transform': Affine(30.0, 0.0, 476064.3596176505,\n        0.0, -30.0, 4443066.927074196)}\n\n\n\n\nReading data from a file\nTell the file which band to read, starting with 1\n\n# This is a NumPy array!\ndata = landsat.read(1)\n\ndata\n\narray([[10901, 10618, 10751, ..., 12145, 11540, 14954],\n       [11602, 10718, 10546, ..., 11872, 11982, 12888],\n       [10975, 10384, 10357, ..., 11544, 12318, 12456],\n       ...,\n       [12281, 12117, 12072, ..., 11412, 11724, 11088],\n       [12747, 11866, 11587, ..., 11558, 12028, 10605],\n       [11791, 11677, 10656, ..., 10615, 11557, 11137]], dtype=uint16)\n\n\n\n\nPlotting with imshow\nWe can plot it with matplotlib’s imshow\n\nfig, ax = plt.subplots(figsize=(10, 10))\n\nimg = ax.imshow(data)\n\nplt.colorbar(img);\n\n\n\n\n\n\nTwo improvements\n\nA log-scale colorbar\nAdd the axes extent\n\n\n1. Adding the axes extent\nNote that imshow needs a bounding box of the form: (left, right, bottom, top).\nSee the documentation for imshow if you forget the right ordering…(I often do!)\n\n\n2. Using a log-scale color bar\nMatplotlib has a built in log normalization…\n\nimport matplotlib.colors as mcolors\n\n\n# Initialize\nfig, ax = plt.subplots(figsize=(10, 10))\n\n# Plot the image\nimg = ax.imshow(\n    data,\n    # Use a log colorbar scale\n    norm=mcolors.LogNorm(),\n    # Set the extent of the images\n    extent=[\n        landsat.bounds.left,\n        landsat.bounds.right,\n        landsat.bounds.bottom,\n        landsat.bounds.top,\n    ],\n)\n\n# Add a colorbar\nplt.colorbar(img);\n\n\n\n\n\n\n\nOverlaying vector geometries on raster plots\nTwo requirements:\n\nThe CRS of the two datasets must match\nThe extent of the imshow plot must be set properly\n\n\nExample: Let’s add the city limits\n\ncity_limits = gpd.read_file(\"./data/City_Limits.geojson\")\n\n\n# Convert to the correct CRS!\nprint(landsat.crs.to_epsg())\n\n32618\n\n\n\ncity_limits = city_limits.to_crs(epsg=landsat.crs.to_epsg())\n\n\n# Initialize\nfig, ax = plt.subplots(figsize=(10, 10))\n\n# The extent of the data\nlandsat_extent = [\n    landsat.bounds.left,\n    landsat.bounds.right,\n    landsat.bounds.bottom,\n    landsat.bounds.top,\n]\n\n# Plot!\nimg = ax.imshow(data, norm=mcolors.LogNorm(), extent=landsat_extent)\n\n# Add the city limits\ncity_limits.plot(ax=ax, facecolor=\"none\", edgecolor=\"white\")\n\n# Add a colorbar and turn off axis lines\nplt.colorbar(img)\nax.set_axis_off()\n\n\n\n\nBut wait… What band did we plot??\nLandsat 8 has 11 bands spanning the electromagnetic spectrum from visible to infrared.\n\n\n\n\nHow about a typical RGB color image?\nFirst let’s read the red, blue, and green bands (bands 4, 3, 2):\n\n\n\n\n\n\nNote\n\n\n\nThe .indexes attributes tells us the bands available to be read.\nImportant: they are NOT zero-indexed!\n\n\n\nlandsat.indexes\n\n(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\n\n\n\nrgb_data = landsat.read([4, 3, 2])\n\n\nrgb_data.shape\n\n(3, 999, 923)\n\n\nNote the data has the shape: (bands, height, width)\n\nrgb_data[0]\n\narray([[ 8908,  7860,  8194, ..., 10387,  9995, 15829],\n       [ 9209,  8077,  7657, ...,  9479,  9869, 11862],\n       [ 8556,  7534,  7222, ...,  9140, 10283, 10836],\n       ...,\n       [10514, 10525, 10753, ...,  9760, 10667,  9451],\n       [11503, 10408,  9317, ...,  9646, 10929,  8503],\n       [10089,  9496,  7862, ...,  8222, 10221, 10160]], dtype=uint16)\n\n\n\nfig, axs = plt.subplots(nrows=1, ncols=3, figsize=(12, 6))\n\ncmaps = [\"Reds\", \"Greens\", \"Blues\"]\nfor i in [0, 1, 2]:\n    \n    # This subplot axes\n    ax = axs[i]\n\n    # Plot\n    ax.imshow(rgb_data[i], norm=mcolors.LogNorm(), extent=landsat_extent, cmap=cmaps[i])\n    city_limits.plot(ax=ax, facecolor=\"none\", edgecolor=\"black\")\n\n    # Format\n    ax.set_axis_off()\n    ax.set_title(cmaps[i][:-1])\n\n\n\n\n\n\n\n\n\n\nSide note: using subplots in matplotlib\n\n\n\nYou can specify the subplot layout via the nrows and ncols keywords to plt.subplots. If you have more than one row or column, the function returns: - The figure - The list of axes.\n\n\nAs an example:\n\nfig, axs = plt.subplots(figsize=(10, 3), nrows=1, ncols=3)\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nWhen nrows or ncols &gt; 1, I usually name the returned axes variable “axs” vs. the usual case of just “ax”. It’s useful for remembering we got more than one Axes object back!\n\n\n\n# This has length 3 for each of the 3 columns!\naxs\n\narray([&lt;Axes: &gt;, &lt;Axes: &gt;, &lt;Axes: &gt;], dtype=object)\n\n\n\n# Left axes\naxs[0]\n\n&lt;Axes: &gt;\n\n\n\n# Middle axes\naxs[1]\n\n&lt;Axes: &gt;\n\n\n\n# Right axes\naxs[2]\n\n&lt;Axes: &gt;\n\n\n\n\nUse earthpy to plot the combined color image\nA useful utility package to perform the proper re-scaling of pixel values\n\nimport earthpy.plot as ep\n\n\n# Initialize\nfig, ax = plt.subplots(figsize=(10, 10))\n\n# Plot the RGB bands\nep.plot_rgb(rgb_data, rgb=(0, 1, 2), ax=ax);\n\n\n\n\n\nWe can “stretch” the data to improve the brightness\n\n\n# Initialize\nfig, ax = plt.subplots(figsize=(10, 10))\n\n# Plot the RGB bands\nep.plot_rgb(rgb_data, rgb=(0, 1, 2), ax=ax, stretch=True, extent=landsat_extent)\n\n# Add the city limits\ncity_limits.plot(ax=ax, facecolor=\"none\", edgecolor=\"crimson\", linewidth=4)\n\n# Remove axes\nax.set_axis_off();\n\n\n\n\n\n\n\nConclusion: Working with multi-band data via rasterio is a bit messy\nCan we do better?\nYes!\nHoloViz to the rescue…\nThe xarray package is an alternative way to work with raster data. It’s not as well established as rasterio but has a lot of promising features…\n\n\n\nA quick example with xarray\n\nA fancier version of NumPy arrays\nDesigned for gridded data with multiple dimensions\nFor raster data, those dimensions are: bands, latitude, longitude, pixel values\n\n\nimport rioxarray  # Adds rasterio engine extension to xarray\nimport xarray as xr\n\n\nds = xr.open_dataset(\"./data/landsat8_philly.tif\", engine=\"rasterio\")\n\nds\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;xarray.Dataset&gt;\nDimensions:      (band: 10, x: 923, y: 999)\nCoordinates:\n  * band         (band) int64 1 2 3 4 5 6 7 8 9 10\n  * x            (x) float64 4.761e+05 4.761e+05 ... 5.037e+05 5.037e+05\n  * y            (y) float64 4.443e+06 4.443e+06 ... 4.413e+06 4.413e+06\n    spatial_ref  int64 ...\nData variables:\n    band_data    (band, y, x) float32 ...xarray.DatasetDimensions:band: 10x: 923y: 999Coordinates: (4)band(band)int641 2 3 4 5 6 7 8 9 10array([ 1,  2,  3,  4,  5,  6,  7,  8,  9, 10])x(x)float644.761e+05 4.761e+05 ... 5.037e+05array([476079.359618, 476109.359618, 476139.359618, ..., 503679.359618,\n       503709.359618, 503739.359618])y(y)float644.443e+06 4.443e+06 ... 4.413e+06array([4443051.927074, 4443021.927074, 4442991.927074, ..., 4413171.927074,\n       4413141.927074, 4413111.927074])spatial_ref()int64...crs_wkt :PROJCS[\"WGS 84 / UTM zone 18N\",GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4326\"]],PROJECTION[\"Transverse_Mercator\"],PARAMETER[\"latitude_of_origin\",0],PARAMETER[\"central_meridian\",-75],PARAMETER[\"scale_factor\",0.9996],PARAMETER[\"false_easting\",500000],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AXIS[\"Easting\",EAST],AXIS[\"Northing\",NORTH],AUTHORITY[\"EPSG\",\"32618\"]]semi_major_axis :6378137.0semi_minor_axis :6356752.314245179inverse_flattening :298.257223563reference_ellipsoid_name :WGS 84longitude_of_prime_meridian :0.0prime_meridian_name :Greenwichgeographic_crs_name :WGS 84horizontal_datum_name :World Geodetic System 1984projected_crs_name :WGS 84 / UTM zone 18Ngrid_mapping_name :transverse_mercatorlatitude_of_projection_origin :0.0longitude_of_central_meridian :-75.0false_easting :500000.0false_northing :0.0scale_factor_at_central_meridian :0.9996spatial_ref :PROJCS[\"WGS 84 / UTM zone 18N\",GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4326\"]],PROJECTION[\"Transverse_Mercator\"],PARAMETER[\"latitude_of_origin\",0],PARAMETER[\"central_meridian\",-75],PARAMETER[\"scale_factor\",0.9996],PARAMETER[\"false_easting\",500000],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AXIS[\"Easting\",EAST],AXIS[\"Northing\",NORTH],AUTHORITY[\"EPSG\",\"32618\"]]GeoTransform :476064.3596176505 30.0 0.0 4443066.927074196 0.0 -30.0[1 values with dtype=int64]Data variables: (1)band_data(band, y, x)float32...AREA_OR_POINT :Area[9220770 values with dtype=float32]Indexes: (3)bandPandasIndexPandasIndex(Int64Index([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], dtype='int64', name='band'))xPandasIndexPandasIndex(Float64Index([476079.3596176505, 476109.3596176505, 476139.3596176505,\n              476169.3596176505, 476199.3596176505, 476229.3596176505,\n              476259.3596176505, 476289.3596176505, 476319.3596176505,\n              476349.3596176505,\n              ...\n              503469.3596176505, 503499.3596176505, 503529.3596176505,\n              503559.3596176505, 503589.3596176505, 503619.3596176505,\n              503649.3596176505, 503679.3596176505, 503709.3596176505,\n              503739.3596176505],\n             dtype='float64', name='x', length=923))yPandasIndexPandasIndex(Float64Index([4443051.927074196, 4443021.927074196, 4442991.927074196,\n              4442961.927074196, 4442931.927074196, 4442901.927074196,\n              4442871.927074196, 4442841.927074196, 4442811.927074196,\n              4442781.927074196,\n              ...\n              4413381.927074196, 4413351.927074196, 4413321.927074196,\n              4413291.927074196, 4413261.927074196, 4413231.927074196,\n              4413201.927074196, 4413171.927074196, 4413141.927074196,\n              4413111.927074196],\n             dtype='float64', name='y', length=999))Attributes: (0)\n\n\n\ntype(ds)\n\nxarray.core.dataset.Dataset\n\n\n\n\nNow the magic begins: more hvplot\nStill experimental, but very promising — interactive plots with widgets for each band!\n\nimport hvplot.xarray\n\n\nimg = ds.hvplot.image(width=700, height=500, cmap=\"viridis\")\n\nimg\n\n\n\n\n\n  \n\n\n\n\nMore magic widgets from hvplot!\n\n\nThat’s it for xarray for now…\nMore coming in later weeks when we tackle advanced raster examples…"
  },
  {
    "objectID": "content/week-5/lecture-5B.html#part-2-two-key-raster-concepts",
    "href": "content/week-5/lecture-5B.html#part-2-two-key-raster-concepts",
    "title": "Week 5BGeospatial Data: Raster",
    "section": "Part 2: Two key raster concepts",
    "text": "Part 2: Two key raster concepts\n\nCombining vector + raster data\n\nCropping or masking raster data based on vector polygons\n\nRaster math and zonal statistics\n\nCombining multiple raster data sets\nCalculating statistics within certain vector polygons\n\n\n\nCropping: let’s trim to just the city limits\nUse rasterio’s builtin mask() function:\n\nfrom rasterio.mask import mask\n\n\nlandsat\n\n&lt;open DatasetReader name='./data/landsat8_philly.tif' mode='r'&gt;\n\n\n\nmasked, mask_transform = mask(\n    dataset=landsat,              # The original raster data\n    shapes=city_limits.geometry,  # The vector geometry we want to crop by\n    crop=True,                    # Optional: remove pixels not within boundary\n    all_touched=True,             # Optional: get all pixels that touch the boudnary\n    filled=False,                 # Optional: do not fill cropped pixels with a default value\n)\n\n\nmasked\n\nmasked_array(\n  data=[[[--, --, --, ..., --, --, --],\n         [--, --, --, ..., --, --, --],\n         [--, --, --, ..., --, --, --],\n         ...,\n         [--, --, --, ..., --, --, --],\n         [--, --, --, ..., --, --, --],\n         [--, --, --, ..., --, --, --]],\n\n        [[--, --, --, ..., --, --, --],\n         [--, --, --, ..., --, --, --],\n         [--, --, --, ..., --, --, --],\n         ...,\n         [--, --, --, ..., --, --, --],\n         [--, --, --, ..., --, --, --],\n         [--, --, --, ..., --, --, --]],\n\n        [[--, --, --, ..., --, --, --],\n         [--, --, --, ..., --, --, --],\n         [--, --, --, ..., --, --, --],\n         ...,\n         [--, --, --, ..., --, --, --],\n         [--, --, --, ..., --, --, --],\n         [--, --, --, ..., --, --, --]],\n\n        ...,\n\n        [[--, --, --, ..., --, --, --],\n         [--, --, --, ..., --, --, --],\n         [--, --, --, ..., --, --, --],\n         ...,\n         [--, --, --, ..., --, --, --],\n         [--, --, --, ..., --, --, --],\n         [--, --, --, ..., --, --, --]],\n\n        [[--, --, --, ..., --, --, --],\n         [--, --, --, ..., --, --, --],\n         [--, --, --, ..., --, --, --],\n         ...,\n         [--, --, --, ..., --, --, --],\n         [--, --, --, ..., --, --, --],\n         [--, --, --, ..., --, --, --]],\n\n        [[--, --, --, ..., --, --, --],\n         [--, --, --, ..., --, --, --],\n         [--, --, --, ..., --, --, --],\n         ...,\n         [--, --, --, ..., --, --, --],\n         [--, --, --, ..., --, --, --],\n         [--, --, --, ..., --, --, --]]],\n  mask=[[[ True,  True,  True, ...,  True,  True,  True],\n         [ True,  True,  True, ...,  True,  True,  True],\n         [ True,  True,  True, ...,  True,  True,  True],\n         ...,\n         [ True,  True,  True, ...,  True,  True,  True],\n         [ True,  True,  True, ...,  True,  True,  True],\n         [ True,  True,  True, ...,  True,  True,  True]],\n\n        [[ True,  True,  True, ...,  True,  True,  True],\n         [ True,  True,  True, ...,  True,  True,  True],\n         [ True,  True,  True, ...,  True,  True,  True],\n         ...,\n         [ True,  True,  True, ...,  True,  True,  True],\n         [ True,  True,  True, ...,  True,  True,  True],\n         [ True,  True,  True, ...,  True,  True,  True]],\n\n        [[ True,  True,  True, ...,  True,  True,  True],\n         [ True,  True,  True, ...,  True,  True,  True],\n         [ True,  True,  True, ...,  True,  True,  True],\n         ...,\n         [ True,  True,  True, ...,  True,  True,  True],\n         [ True,  True,  True, ...,  True,  True,  True],\n         [ True,  True,  True, ...,  True,  True,  True]],\n\n        ...,\n\n        [[ True,  True,  True, ...,  True,  True,  True],\n         [ True,  True,  True, ...,  True,  True,  True],\n         [ True,  True,  True, ...,  True,  True,  True],\n         ...,\n         [ True,  True,  True, ...,  True,  True,  True],\n         [ True,  True,  True, ...,  True,  True,  True],\n         [ True,  True,  True, ...,  True,  True,  True]],\n\n        [[ True,  True,  True, ...,  True,  True,  True],\n         [ True,  True,  True, ...,  True,  True,  True],\n         [ True,  True,  True, ...,  True,  True,  True],\n         ...,\n         [ True,  True,  True, ...,  True,  True,  True],\n         [ True,  True,  True, ...,  True,  True,  True],\n         [ True,  True,  True, ...,  True,  True,  True]],\n\n        [[ True,  True,  True, ...,  True,  True,  True],\n         [ True,  True,  True, ...,  True,  True,  True],\n         [ True,  True,  True, ...,  True,  True,  True],\n         ...,\n         [ True,  True,  True, ...,  True,  True,  True],\n         [ True,  True,  True, ...,  True,  True,  True],\n         [ True,  True,  True, ...,  True,  True,  True]]],\n  fill_value=999999,\n  dtype=uint16)\n\n\n\nmasked.shape\n\n(10, 999, 923)\n\n\nLet’s plot the masked data:\n\n# Initialize\nfig, ax = plt.subplots(figsize=(10, 10))\n\n# Plot the first band\nax.imshow(masked[0], cmap=\"viridis\", extent=landsat_extent)\n\n# Format and add the city limits\ncity_limits.boundary.plot(ax=ax, color=\"gray\", linewidth=4)\nax.set_axis_off()\n\n\n\n\n\n\nWriting GeoTIFF files\nLet’s save our cropped raster data. To save raster data, we need both the array of the data and the proper meta-data.\n\n# The original meta dict\nout_meta = landsat.meta\n\n# Call dict.update() to add new key/value pairs\nout_meta.update(\n    {\"height\": masked.shape[1], \"width\": masked.shape[2], \"transform\": mask_transform}\n)\n\n# Print out new meta\nprint(out_meta)\n\n# Write small image to local Geotiff file\nwith rio.open(\"data/cropped_landsat.tif\", \"w\", **out_meta) as dst:\n    \n    print(\"dst = \", dst)\n    dst.write(masked)\n    \n\n\n{'driver': 'GTiff', 'dtype': 'uint16', 'nodata': None, 'width': 923, 'height': 999, 'count': 10, 'crs': CRS.from_epsg(32618), 'transform': Affine(30.0, 0.0, 476064.3596176505,\n       0.0, -30.0, 4443066.927074196)}\ndst =  &lt;open DatasetWriter name='data/cropped_landsat.tif' mode='w'&gt;\n\n\n\n# Note: dst is now closed — we can't access it any more!\ndst\n\n&lt;closed DatasetWriter name='data/cropped_landsat.tif' mode='w'&gt;\n\n\n\n\n\n\n\n\nNote\n\n\n\nWe used a context manager above (the “with” statement) to handle the opening and subsequent closing of our new file.\nFor more info, see this tutorial.\n\n\n\n\nNow, let’s do some raster math\nOften called “map algebra”…\n\n\nThe Normalized Difference Vegetation Index\n\nA normalized index of greenness ranging from -1 to 1, calculated from the red and NIR bands.\nProvides a measure of the amount of live green vegetation in an area\n\nFormula:\nNDVI = (NIR - Red) / (NIR + Red)\nHow to intepret: Healthy vegetation reflects NIR and absorbs visible, so the NDVI for green vegatation is +1\n\nGet the data for the red and NIR bands\nNIR is band 5 and red is band 4\n\nmasked.shape\n\n(10, 999, 923)\n\n\n\n# Note that the indexing here is zero-based, e.g., band 1 is index 0\nred = masked[3]\nnir = masked[4]\n\n\n# Where mask = True, pixels are excluded\nred.mask\n\narray([[ True,  True,  True, ...,  True,  True,  True],\n       [ True,  True,  True, ...,  True,  True,  True],\n       [ True,  True,  True, ...,  True,  True,  True],\n       ...,\n       [ True,  True,  True, ...,  True,  True,  True],\n       [ True,  True,  True, ...,  True,  True,  True],\n       [ True,  True,  True, ...,  True,  True,  True]])\n\n\n\n# Get valid entries\ncheck = np.logical_and(red.mask == False, nir.mask == False)\n\ncheck\n    \n\narray([[False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       ...,\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False]])\n\n\n\ndef calculate_NDVI(nir, red):\n    \"\"\"\n    Calculate the NDVI from the NIR and red landsat bands\n    \"\"\"\n\n    # Convert to floats\n    nir = nir.astype(float)\n    red = red.astype(float)\n\n    # Get valid entries\n    check = np.logical_and(red.mask == False, nir.mask == False)\n\n    # Where the check is True, return the NDVI, else return NaN\n    ndvi = np.where(check, (nir - red) / (nir + red), np.nan)\n    \n    # Return\n    return ndvi\n\n\nNDVI = calculate_NDVI(nir, red)\n\n\nfig, ax = plt.subplots(figsize=(10, 10))\n\n# Plot NDVI\nimg = ax.imshow(NDVI, extent=landsat_extent)\n\n# Format and plot city limits\ncity_limits.plot(ax=ax, edgecolor=\"gray\", facecolor=\"none\", linewidth=4)\nplt.colorbar(img)\nax.set_axis_off()\nax.set_title(\"NDVI in Philadelphia\", fontsize=18);\n\n\n\n\n\n\nLet’s overlay Philly’s parks\n\n# Read in the parks dataset\nparks = gpd.read_file(\"./data/parks.geojson\")\n\n\nparks.head()\n\n\n\n\n\n\n\n\nOBJECTID\nASSET_NAME\nSITE_NAME\nCHILD_OF\nADDRESS\nTYPE\nUSE_\nDESCRIPTION\nSQ_FEET\nACREAGE\nZIPCODE\nALLIAS\nNOTES\nTENANT\nLABEL\nDPP_ASSET_ID\nShape__Area\nShape__Length\ngeometry\n\n\n\n\n0\n7\nWissahickon Valley Park\nWissahickon Valley Park\nWissahickon Valley Park\nNaN\nLAND\nREGIONAL_CONSERVATION_WATERSHED\nNO_PROGRAM\n9.078309e+07\n2084.101326\n19128\n\nMAP\nSITE\nWissahickon Valley Park\n1357\n1.441162e+07\n71462.556702\nMULTIPOLYGON (((-75.18633 40.02954, -75.18635 ...\n\n\n1\n8\nWest Fairmount Park\nWest Fairmount Park\nWest Fairmount Park\n\nLAND\nREGIONAL_CONSERVATION_WATERSHED\nNO_PROGRAM\n6.078159e+07\n1395.358890\n19131\n\nMAP\nSITE\nWest Fairmount Park\n1714\n9.631203e+06\n25967.819064\nMULTIPOLYGON (((-75.20227 40.00944, -75.20236 ...\n\n\n2\n23\nPennypack Park\nPennypack Park\nPennypack Park\n\nLAND\nREGIONAL_CONSERVATION_WATERSHED\nNO_PROGRAM\n6.023748e+07\n1382.867808\n19152\nVerree Rd Interpretive Center\nMAP\nSITE\nPennypack Park\n1651\n9.566914e+06\n41487.394790\nMULTIPOLYGON (((-75.03362 40.06226, -75.03373 ...\n\n\n3\n24\nEast Fairmount Park\nEast Fairmount Park\nEast Fairmount Park\n\nLAND\nREGIONAL_CONSERVATION_WATERSHED\nNO_PROGRAM\n2.871642e+07\n659.240959\n19121\n\nMAP\nSITE\nEast Fairmount Park\n1713\n4.549582e+06\n21499.126097\nPOLYGON ((-75.18103 39.96747, -75.18009 39.967...\n\n\n4\n25\nTacony Creek Park\nTacony Creek Park\nTacony Creek Park\n\nLAND\nREGIONAL_CONSERVATION_WATERSHED\nNO_PROGRAM\n1.388049e+07\n318.653500\n19120\n\nMAP\nSITE\nTacony Creek Park\n1961\n2.201840e+06\n19978.610852\nMULTIPOLYGON (((-75.09711 40.01686, -75.09710 ...\n\n\n\n\n\n\n\nImportant: make sure you convert to the same CRS as the Landsat data!\n\n# Print out the CRS\nparks.crs\n\n&lt;Geographic 2D CRS: EPSG:4326&gt;\nName: WGS 84\nAxis Info [ellipsoidal]:\n- Lat[north]: Geodetic latitude (degree)\n- Lon[east]: Geodetic longitude (degree)\nArea of Use:\n- name: World.\n- bounds: (-180.0, -90.0, 180.0, 90.0)\nDatum: World Geodetic System 1984 ensemble\n- Ellipsoid: WGS 84\n- Prime Meridian: Greenwich\n\n\n\nlandsat.crs\n\nCRS.from_epsg(32618)\n\n\n\nlandsat.crs.to_epsg()\n\n32618\n\n\n\n# Convert to landsat CRS\nparks = parks.to_crs(epsg=landsat.crs.to_epsg())\n\n# Same as: parks = parks.to_crs(epsg=32618)\n\n\nfig, ax = plt.subplots(figsize=(10, 10))\n\n# Plot NDVI\nimg = ax.imshow(NDVI, extent=landsat_extent)\n\n# Add the city limits\ncity_limits.plot(ax=ax, edgecolor=\"gray\", facecolor=\"none\", linewidth=4)\n\n# NEW: add the parks\nparks.plot(ax=ax, edgecolor=\"crimson\", facecolor=\"none\", linewidth=2)\n\n# Format and add colorbar\nplt.colorbar(img)\nax.set_axis_off()\nax.set_title(\"NDVI vs. Parks in Philadelphia\", fontsize=18);\n\n\n\n\nIt looks like it worked pretty well!\n\n\n\nHow about calculating the median NDVI within the park geometries?\nThis is called zonal statistics. We can use the rasterstats package to do this…\n\nfrom rasterstats import zonal_stats\n\n\nstats = zonal_stats(\n    parks,  # The vector data\n    NDVI,  # The array holding the raster data\n    affine=landsat.transform,  # The affine transform for the raster data\n    stats=[\"mean\", \"median\"],  # The stats to compute\n    nodata=np.nan,  # Missing data representation\n)\n\n\nThe zonal_stats function\nZonal statistics of raster values aggregated to vector geometries.\n\nFirst argument: vector data\nSecond argument: raster data to aggregated\nAlso need to pass the affine transform and the names of the stats to compute\n\n\nstats\n\n[{'mean': 0.5051087300747117, 'median': 0.521160491292894},\n {'mean': 0.441677258928841, 'median': 0.47791901454593105},\n {'mean': 0.4885958179164529, 'median': 0.5084981442485412},\n {'mean': 0.3756264171005127, 'median': 0.42356277391080177},\n {'mean': 0.45897667566035816, 'median': 0.49204860985900256},\n {'mean': 0.4220467885671325, 'median': 0.46829433706341134},\n {'mean': 0.38363107808041097, 'median': 0.416380868090128},\n {'mean': 0.4330996771737791, 'median': 0.4772304906066629},\n {'mean': 0.45350534061220404, 'median': 0.5015001304461257},\n {'mean': 0.44505112880627273, 'median': 0.4701653486700216},\n {'mean': 0.5017048095513129, 'median': 0.5108644957689836},\n {'mean': 0.23745576631277313, 'median': 0.24259729272419628},\n {'mean': 0.31577818701756977, 'median': 0.3306512446567765},\n {'mean': 0.5300954792288528, 'median': 0.5286783042394015},\n {'mean': 0.4138823685577781, 'median': 0.4604562737642586},\n {'mean': 0.48518030764354636, 'median': 0.5319950233699855},\n {'mean': 0.3154294503884359, 'median': 0.33626983970826585},\n {'mean': 0.4673660755293326, 'median': 0.49301485937514306},\n {'mean': 0.38810332525412405, 'median': 0.4133657898874572},\n {'mean': 0.4408030558751575, 'median': 0.45596817840957254},\n {'mean': 0.5025746121592748, 'median': 0.5077718684805924},\n {'mean': 0.3694178483720184, 'median': 0.3760657145169406},\n {'mean': 0.501111461720193, 'median': 0.5050854708805356},\n {'mean': 0.5262850765386248, 'median': 0.5356888168557536},\n {'mean': 0.48653727784657114, 'median': 0.5100931149323727},\n {'mean': 0.4687375187461541, 'median': 0.49930407348983946},\n {'mean': 0.4708292376095287, 'median': 0.48082651365503404},\n {'mean': 0.4773326667398458, 'median': 0.5156144807640011},\n {'mean': 0.4787564298905878, 'median': 0.49155885289073287},\n {'mean': 0.44870821225970553, 'median': 0.4532736333178444},\n {'mean': 0.28722653079042143, 'median': 0.2989290105395561},\n {'mean': 0.5168607841969154, 'median': 0.5325215878735168},\n {'mean': 0.4725611895576703, 'median': 0.49921839394549977},\n {'mean': 0.46766118115625893, 'median': 0.49758167570710404},\n {'mean': 0.4886459911745514, 'median': 0.5020622294662287},\n {'mean': 0.46017276593316403, 'median': 0.4758438120450033},\n {'mean': 0.4536300550044786, 'median': 0.49233559560028084},\n {'mean': 0.4239182074098442, 'median': 0.4602468966932257},\n {'mean': 0.31202502605597016, 'median': 0.32572928232562837},\n {'mean': 0.2912164528160494, 'median': 0.2946940937582767},\n {'mean': 0.3967233668480246, 'median': 0.3967233668480246},\n {'mean': 0.3226210938878899, 'median': 0.35272291143510365},\n {'mean': 0.4692543355097313, 'median': 0.502843843019927},\n {'mean': 0.2094971073454244, 'median': 0.2736635627619322},\n {'mean': 0.4429390753150177, 'median': 0.49684622604615747},\n {'mean': 0.532656111900622, 'median': 0.5346870838881491},\n {'mean': 0.5053390017291615, 'median': 0.5413888437144251},\n {'mean': 0.500764874094713, 'median': 0.5121577370584547},\n {'mean': 0.4213318206046151, 'median': 0.46379308008197284},\n {'mean': 0.43340892620907207, 'median': 0.4818377611583778},\n {'mean': 0.5069321976848545, 'median': 0.5160336741725328},\n {'mean': 0.4410269675104542, 'median': 0.4870090058426777},\n {'mean': 0.4923323198113241, 'median': 0.5212096391398666},\n {'mean': 0.45403610108483955, 'median': 0.4947035355619755},\n {'mean': 0.2771909854304859, 'median': 0.2843133053564756},\n {'mean': 0.48502792988760635, 'median': 0.5001936488730003},\n {'mean': 0.45418598340923805, 'median': 0.48402058939985293},\n {'mean': 0.32960811687490216, 'median': 0.3285528031290743},\n {'mean': 0.5260210746257522, 'median': 0.5444229172432882},\n {'mean': 0.4445493328049692, 'median': 0.4630808572279276},\n {'mean': 0.4495963972554633, 'median': 0.4858841111806047},\n {'mean': 0.5240412096213553, 'median': 0.5283402835696414},\n {'mean': 0.13767686126646383, 'median': -0.02153756296999343}]\n\n\n\nlen(stats)\n\n63\n\n\n\nlen(parks)\n\n63\n\n\nThe returned stats object is a list with one entry for each of the vector polygons (the parks dataset)\nLet’s extract out the median value the list of dictionaries:\n\nmedian_stats = [stats_dict[\"median\"] for stats_dict in stats]\n\nNote: the above cell is equivalent to:\nmedian_stats = []\n\nfor stat_dict in stats:\n    median_stats.append(stat_dict['median'])\nNow, we can add it to the original parks GeoDataFrame as a new column:\n\n# Store the median value in the parks data frame\nparks[\"median_NDVI\"] = median_stats\n\n\nparks.head()\n\n\n\n\n\n\n\n\nOBJECTID\nASSET_NAME\nSITE_NAME\nCHILD_OF\nADDRESS\nTYPE\nUSE_\nDESCRIPTION\nSQ_FEET\nACREAGE\nZIPCODE\nALLIAS\nNOTES\nTENANT\nLABEL\nDPP_ASSET_ID\nShape__Area\nShape__Length\ngeometry\nmedian_NDVI\n\n\n\n\n0\n7\nWissahickon Valley Park\nWissahickon Valley Park\nWissahickon Valley Park\nNaN\nLAND\nREGIONAL_CONSERVATION_WATERSHED\nNO_PROGRAM\n9.078309e+07\n2084.101326\n19128\n\nMAP\nSITE\nWissahickon Valley Park\n1357\n1.441162e+07\n71462.556702\nMULTIPOLYGON (((484101.476 4431051.989, 484099...\n0.521160\n\n\n1\n8\nWest Fairmount Park\nWest Fairmount Park\nWest Fairmount Park\n\nLAND\nREGIONAL_CONSERVATION_WATERSHED\nNO_PROGRAM\n6.078159e+07\n1395.358890\n19131\n\nMAP\nSITE\nWest Fairmount Park\n1714\n9.631203e+06\n25967.819064\nMULTIPOLYGON (((482736.681 4428824.579, 482728...\n0.477919\n\n\n2\n23\nPennypack Park\nPennypack Park\nPennypack Park\n\nLAND\nREGIONAL_CONSERVATION_WATERSHED\nNO_PROGRAM\n6.023748e+07\n1382.867808\n19152\nVerree Rd Interpretive Center\nMAP\nSITE\nPennypack Park\n1651\n9.566914e+06\n41487.394790\nMULTIPOLYGON (((497133.192 4434667.950, 497123...\n0.508498\n\n\n3\n24\nEast Fairmount Park\nEast Fairmount Park\nEast Fairmount Park\n\nLAND\nREGIONAL_CONSERVATION_WATERSHED\nNO_PROGRAM\n2.871642e+07\n659.240959\n19121\n\nMAP\nSITE\nEast Fairmount Park\n1713\n4.549582e+06\n21499.126097\nPOLYGON ((484539.743 4424162.545, 484620.184 4...\n0.423563\n\n\n4\n25\nTacony Creek Park\nTacony Creek Park\nTacony Creek Park\n\nLAND\nREGIONAL_CONSERVATION_WATERSHED\nNO_PROGRAM\n1.388049e+07\n318.653500\n19120\n\nMAP\nSITE\nTacony Creek Park\n1961\n2.201840e+06\n19978.610852\nMULTIPOLYGON (((491712.882 4429633.244, 491713...\n0.492049\n\n\n\n\n\n\n\n\n\nMake a quick histogram of the median values\nThey are all positive, indicating an abundance of green vegetation…\n\n# Initialize\nfig, ax = plt.subplots(figsize=(8, 6))\n\n# Plot a quick histogram\nax.hist(parks[\"median_NDVI\"], bins=\"auto\")\nax.axvline(x=0, c=\"k\", lw=2)\n\n# Format\nax.set_xlabel(\"Median NDVI\", fontsize=18)\nax.set_ylabel(\"Number of Parks\", fontsize=18);\n\n\n\n\n\n\nLet’s make a choropleth, too\n\n# Initialize\nfig, ax = plt.subplots(figsize=(10, 10))\n\n# Plot the city limits\ncity_limits.plot(ax=ax, edgecolor=\"black\", facecolor=\"none\", linewidth=4)\n\n# Plot the median NDVI\nparks.plot(column=\"median_NDVI\", legend=True, ax=ax, cmap=\"viridis\")\n\n# Format\nax.set_axis_off()\n\n\n\n\n\n\nLet’s make it interactive!\nMake sure to check the crs!\n\nparks.crs\n\n&lt;Projected CRS: EPSG:32618&gt;\nName: WGS 84 / UTM zone 18N\nAxis Info [cartesian]:\n- E[east]: Easting (metre)\n- N[north]: Northing (metre)\nArea of Use:\n- name: Between 78°W and 72°W, northern hemisphere between equator and 84°N, onshore and offshore. Bahamas. Canada - Nunavut; Ontario; Quebec. Colombia. Cuba. Ecuador. Greenland. Haiti. Jamaica. Panama. Turks and Caicos Islands. United States (USA). Venezuela.\n- bounds: (-78.0, 0.0, -72.0, 84.0)\nCoordinate Operation:\n- name: UTM zone 18N\n- method: Transverse Mercator\nDatum: World Geodetic System 1984 ensemble\n- Ellipsoid: WGS 84\n- Prime Meridian: Greenwich\n\n\n\n\n\n\n\n\nNote\n\n\n\nThe CRS is “EPSG:32618” and since it’s not in 4326, we’ll need to specify the “crs=” keyword when plotting!\n\n\n\n# trim to only the columns we want to plot\ncols = [\"median_NDVI\", \"SITE_NAME\", \"geometry\"]\n\n# Plot the parks colored by median NDVI\np = parks[cols].hvplot.polygons(\n    c=\"median_NDVI\", geo=True, crs=32618, cmap=\"viridis\", hover_cols=[\"SITE_NAME\"]\n)\n\n# Plot the city limit boundary\ncl = city_limits.hvplot.polygons(\n    geo=True,\n    crs=32618,\n    alpha=0,\n    line_alpha=1,\n    line_color=\"black\",\n    hover=False,\n    width=700,\n    height=600,\n)\n\n# combine!\ncl * p"
  },
  {
    "objectID": "content/week-5/lecture-5B.html#exercise-measure-the-median-ndvi-for-each-of-philadelphias-neighborhoods",
    "href": "content/week-5/lecture-5B.html#exercise-measure-the-median-ndvi-for-each-of-philadelphias-neighborhoods",
    "title": "Week 5BGeospatial Data: Raster",
    "section": "Exercise: Measure the median NDVI for each of Philadelphia’s neighborhoods",
    "text": "Exercise: Measure the median NDVI for each of Philadelphia’s neighborhoods\n\nOnce you measure the median value for each neighborhood, try making the following charts:\n\nA histogram of the median values for all neighborhoods\nBar graphs with the neighborhoods with the 20 highest and 20 lowest values\nA choropleth showing the median values across the city\n\n\nYou’re welcome to use matplotlib/geopandas, but encouraged to explore the new hvplot options!\n\n1. Load the neighborhoods data\n\nA GeoJSON file of Philly’s neighborhoods is available in the “data/” folder\n\n\n# Load the neighborhoods\nhoods = gpd.read_file(\"./data/zillow_neighborhoods.geojson\")\n\n\n\n2. Calculate the median NDVI value for each neighborhood\n\n\n\n\n\n\nImportant\n\n\n\nMake sure your neighborhoods GeoDataFrame is in the same CRS as the Landsat data!\n\n\n\n# Convert to the landsat CRS\nhoods = hoods.to_crs(epsg=landsat.crs.to_epsg())\n\n\n# Calculate the zonal statistics\nstats_by_hood = zonal_stats(\n    hoods, # Vector data as GeoDataFrame \n    NDVI, # Raster data as Numpy array\n    affine=landsat.transform, # Geospatial info via affine transform\n    stats=[\"mean\", \"median\"]\n)\n\n/Users/nhand/mambaforge/envs/musa-550-fall-2023/lib/python3.10/site-packages/rasterstats/io.py:328: NodataWarning: Setting nodata to -999; specify nodata explicitly\n  warnings.warn(\n\n\n\nstats_by_hood\n\n[{'mean': 0.31392040334687304, 'median': 0.27856594452047934},\n {'mean': 0.18300929138083402, 'median': 0.15571923768967572},\n {'mean': 0.22468445189501648, 'median': 0.17141970412772856},\n {'mean': 0.43065240779519015, 'median': 0.4617488161141866},\n {'mean': 0.318970809622512, 'median': 0.3006904521671514},\n {'mean': 0.25273468406592925, 'median': 0.2483195384843864},\n {'mean': 0.09587147406959982, 'median': 0.08340007053008469},\n {'mean': 0.17925317272000577, 'median': 0.16159209153091308},\n {'mean': 0.16927437879780147, 'median': 0.14856486796785304},\n {'mean': 0.13315183006110315, 'median': 0.0844147036216485},\n {'mean': 0.3032613180748332, 'median': 0.2991018371406554},\n {'mean': 0.3005145367111285, 'median': 0.2983533036011672},\n {'mean': 0.3520402658092766, 'median': 0.36642977306279395},\n {'mean': 0.06850728352663443, 'median': 0.051313743471153465},\n {'mean': 0.1624992167356467, 'median': 0.14594594594594595},\n {'mean': 0.19406263526762074, 'median': 0.19242101469002704},\n {'mean': 0.2495581274514327, 'median': 0.2257300667883086},\n {'mean': 0.04163000301482944, 'median': 0.037030431957658136},\n {'mean': 0.4201038409217668, 'median': 0.4439358649612553},\n {'mean': 0.04225135200774936, 'median': 0.03853493588670528},\n {'mean': 0.2904211760054823, 'median': 0.26470142185928036},\n {'mean': 0.15363805171709244, 'median': 0.12085003697505158},\n {'mean': 0.17152805040632468, 'median': 0.11496098074558328},\n {'mean': 0.42552495036167076, 'median': 0.421658805187364},\n {'mean': 0.3912762229270476, 'median': 0.42212521910111195},\n {'mean': 0.09404645575651284, 'median': 0.07857622565480188},\n {'mean': 0.16491834928991564, 'median': 0.15021318465070516},\n {'mean': 0.3106049986498808, 'median': 0.32583142201834864},\n {'mean': 0.12919644511512735, 'median': 0.11913371378191145},\n {'mean': 0.2915737313903987, 'median': 0.304774440588728},\n {'mean': 0.31787656779796253, 'median': 0.3952783887473803},\n {'mean': 0.195965777548411, 'median': 0.1770113196079921},\n {'mean': 0.05661083180075057, 'median': 0.0499893639651138},\n {'mean': 0.18515284607314653, 'median': 0.17907100357304717},\n {'mean': 0.29283640801624505, 'median': 0.2877666162286677},\n {'mean': 0.1771635174218309, 'median': 0.14970314171568821},\n {'mean': 0.14716619864818462, 'median': 0.11244390749050742},\n {'mean': 0.12469553617180827, 'median': 0.10742619029157832},\n {'mean': 0.18291214109092946, 'median': 0.1216128609630211},\n {'mean': 0.1859549325760223, 'median': 0.17248164686293802},\n {'mean': 0.09016336981602067, 'median': 0.07756515448942505},\n {'mean': 0.14353818825070166, 'median': 0.12901489323524135},\n {'mean': 0.29371646510388005, 'median': 0.2772895703235984},\n {'mean': 0.14261119894987634, 'median': 0.13165141028503385},\n {'mean': 0.160324108968167, 'median': 0.14247544403334816},\n {'mean': 0.19990495725580412, 'median': 0.12561208543149852},\n {'mean': 0.1404895811639291, 'median': 0.11285189208851981},\n {'mean': 0.20007580613997314, 'median': 0.17488414495175872},\n {'mean': 0.29349378771510654, 'median': 0.27647108771333956},\n {'mean': 0.22719447238709786, 'median': 0.21500827689277635},\n {'mean': 0.2620610489891658, 'median': 0.255177304964539},\n {'mean': 0.2540232182541783, 'median': 0.23457093696574202},\n {'mean': 0.3230085712300897, 'median': 0.3263351749539595},\n {'mean': 0.26093326612377477, 'median': 0.2594112652136994},\n {'mean': 0.30115965232695824, 'median': 0.2881442688809087},\n {'mean': 0.10419469673264953, 'median': 0.06574664149015746},\n {'mean': 0.14459843112390638, 'median': 0.1273132150810105},\n {'mean': 0.09983214655943277, 'median': 0.08794976361471002},\n {'mean': 0.14225336243007766, 'median': 0.12302560186487681},\n {'mean': 0.09946071861930077, 'median': 0.07853215389041533},\n {'mean': 0.1452193922659759, 'median': 0.12790372368526273},\n {'mean': 0.11796940950011613, 'median': 0.0776666911598968},\n {'mean': 0.17070274409635827, 'median': 0.15888826411759982},\n {'mean': 0.19068874563285163, 'median': 0.1720531412171591},\n {'mean': 0.09898339526744644, 'median': 0.08963622358746948},\n {'mean': 0.18061992404502175, 'median': 0.15495696640138285},\n {'mean': 0.16533057021385317, 'median': 0.10399253586284649},\n {'mean': 0.11908729513660037, 'median': 0.0588394720437976},\n {'mean': 0.17329359472117273, 'median': 0.10705735100688761},\n {'mean': 0.2337590931600961, 'median': 0.16357100676045763},\n {'mean': 0.21102276332981473, 'median': 0.19582317265976007},\n {'mean': 0.2484378755666938, 'median': 0.23640730014990935},\n {'mean': 0.21642001147674247, 'median': 0.18099201630711736},\n {'mean': 0.129763301389145, 'median': 0.092685120415709},\n {'mean': 0.054999694456918914, 'median': 0.04555942009022349},\n {'mean': 0.18724649877256527, 'median': 0.18596250718311752},\n {'mean': 0.17647253612174493, 'median': 0.14852174323196993},\n {'mean': 0.178385177079417, 'median': 0.16691988950276243},\n {'mean': 0.18817260737171776, 'median': 0.16271241356413235},\n {'mean': 0.13811770403698734, 'median': 0.10897435897435898},\n {'mean': 0.4355159036631469, 'median': 0.44460500963391136},\n {'mean': 0.28184168594689557, 'median': 0.25374251741396553},\n {'mean': 0.22359597758168365, 'median': 0.19391995334256762},\n {'mean': 0.2878755977585209, 'median': 0.25158715762742606},\n {'mean': 0.26728534727462555, 'median': 0.2410734949827748},\n {'mean': 0.28933947460347065, 'median': 0.25559871643303494},\n {'mean': 0.30402279251992353, 'median': 0.30089000839630564},\n {'mean': 0.3922566238548766, 'median': 0.40705882352941175},\n {'mean': 0.10406705198196901, 'median': 0.04374236571919052},\n {'mean': 0.051218927963353054, 'median': 0.04365235141713119},\n {'mean': 0.1723687820405403, 'median': 0.15059755991957824},\n {'mean': 0.33144340218886986, 'median': 0.3072201540212242},\n {'mean': 0.18000603727544026, 'median': 0.1706375749288419},\n {'mean': 0.29408048899874983, 'median': 0.3036726128016789},\n {'mean': 0.08503955870273701, 'median': 0.07407192525923781},\n {'mean': 0.32241253234016937, 'median': 0.31006926588995215},\n {'mean': 0.18205496347967423, 'median': 0.16134765474074647},\n {'mean': 0.12977836123257955, 'median': 0.08590941601457007},\n {'mean': 0.13443566497928924, 'median': 0.11798494025392971},\n {'mean': 0.2033358456620277, 'median': 0.16576007209122687},\n {'mean': 0.32415498788453834, 'median': 0.32617602427921094},\n {'mean': 0.18749910770539593, 'median': 0.17252747252747253},\n {'mean': 0.3193736682602594, 'median': 0.3373959675453564},\n {'mean': 0.3257517503301688, 'median': 0.29360932475884244},\n {'mean': 0.19620976301968188, 'median': 0.1650986741346869},\n {'mean': 0.07896242289726156, 'median': 0.06548635285469223},\n {'mean': 0.09044969459220685, 'median': 0.07117737003058104},\n {'mean': 0.23577910900495405, 'median': 0.2106886253051269},\n {'mean': 0.49002749329456036, 'median': 0.508513798224709},\n {'mean': 0.2967746028243487, 'median': 0.29078296133448145},\n {'mean': 0.23938081232215558, 'median': 0.20916949997582784},\n {'mean': 0.11612617064064894, 'median': 0.10231888964116452},\n {'mean': 0.12195714494535831, 'median': 0.04300298129912368},\n {'mean': 0.20700090460961312, 'median': 0.2064790288239442},\n {'mean': 0.13647293633345284, 'median': 0.12569427247320197},\n {'mean': 0.22309412347829316, 'median': 0.21101490231903636},\n {'mean': 0.10137747100018765, 'median': 0.06563398497986661},\n {'mean': 0.08273584634594518, 'median': 0.06561233591005096},\n {'mean': 0.04312086703340781, 'median': 0.02541695678217338},\n {'mean': 0.2536093586322431, 'median': 0.2311732524352581},\n {'mean': 0.32332895563886144, 'median': 0.32909180590909004},\n {'mean': 0.2277484811069114, 'median': 0.22431761560720143},\n {'mean': 0.1721841184848715, 'median': 0.16058076512244332},\n {'mean': 0.29942596505649405, 'median': 0.29676670038589786},\n {'mean': 0.15940437606074165, 'median': 0.1358949502071032},\n {'mean': 0.12378472816253742, 'median': 0.11830807853171385},\n {'mean': 0.1877499132271723, 'median': 0.17826751036439015},\n {'mean': 0.11943950844267338, 'median': 0.07476532302595251},\n {'mean': 0.17496298489567105, 'median': 0.1659926732955897},\n {'mean': 0.1920977399165265, 'median': 0.16871625674865026},\n {'mean': 0.16337082044518464, 'median': 0.116828342471531},\n {'mean': 0.13862897874493735, 'median': 0.12335431461369693},\n {'mean': 0.17396050138550698, 'median': 0.14759331143448312},\n {'mean': 0.2398879707943406, 'median': 0.2546650763725905},\n {'mean': 0.14397524759541586, 'median': 0.10151342090234151},\n {'mean': 0.11262226656879762, 'median': 0.08519488018434215},\n {'mean': 0.4105827285256272, 'median': 0.43712943197998555},\n {'mean': 0.12208131944943262, 'median': 0.10823104693140795},\n {'mean': 0.10174770697387744, 'median': 0.07673932517169305},\n {'mean': 0.13941350910672, 'median': 0.11942396096727109},\n {'mean': 0.20263947878478583, 'median': 0.1750341162105868},\n {'mean': 0.42006022571388996, 'median': 0.4711730560719998},\n {'mean': 0.19283089059664163, 'median': 0.12246812581863598},\n {'mean': 0.06900296739992386, 'median': 0.0563680745433852},\n {'mean': 0.16839264609586674, 'median': 0.1653832567997174},\n {'mean': 0.20260798649692677, 'median': 0.17538042425378467},\n {'mean': 0.4514355509481655, 'median': 0.4945924206514285},\n {'mean': 0.08120602841441002, 'median': 0.05459630483539914},\n {'mean': 0.3175258476394397, 'median': 0.3184809770175624},\n {'mean': 0.23161067366700408, 'median': 0.22945830797321973},\n {'mean': 0.32557766938441296, 'median': 0.3120613068393747},\n {'mean': 0.5017692669135977, 'median': 0.5207786535525264},\n {'mean': 0.17652187824323134, 'median': 0.14554151586614233},\n {'mean': 0.32586693646536, 'median': 0.3296868690576704},\n {'mean': 0.2076776587799097, 'median': 0.20473126032547465},\n {'mean': 0.2604215070389401, 'median': 0.24160812708080265},\n {'mean': 0.263077089015587, 'median': 0.25120875995449377},\n {'mean': 0.16880134097818922, 'median': 0.15243747069084695}]\n\n\n\n# Store the median value in the neighborhood data frame\nhoods[\"median_NDVI\"] = [stats_dict[\"median\"] for stats_dict in stats_by_hood]\n\n\nhoods.head()\n\n\n\n\n\n\n\n\nZillowName\ngeometry\nmedian_NDVI\n\n\n\n\n0\nAcademy Gardens\nPOLYGON ((500127.271 4434899.076, 500464.133 4...\n0.278566\n\n\n1\nAirport\nPOLYGON ((483133.506 4415847.150, 483228.716 4...\n0.155719\n\n\n2\nAllegheny West\nPOLYGON ((485837.663 4428133.600, 485834.655 4...\n0.171420\n\n\n3\nAndorra\nPOLYGON ((480844.652 4435202.290, 480737.832 4...\n0.461749\n\n\n4\nAston Woodbridge\nPOLYGON ((499266.779 4433715.944, 499265.975 4...\n0.300690\n\n\n\n\n\n\n\n\n\n3. Make a histogram of median values\n\n# Initialize\nfig, ax = plt.subplots(figsize=(8, 6))\n\n# Plot a quick histogram\nax.hist(hoods[\"median_NDVI\"], bins=\"auto\")\nax.axvline(x=0, c=\"k\", lw=2)\n\n# Format\nax.set_xlabel(\"Median NDVI\", fontsize=18)\nax.set_ylabel(\"Number of Neighborhoods\", fontsize=18);\n\n\n\n\n\n\n4. Plot a (static) choropleth map\n\n# Initialize\nfig, ax = plt.subplots(figsize=(10, 10))\n\n# Plot the city limits\ncity_limits.plot(ax=ax, edgecolor=\"black\", facecolor=\"none\", linewidth=4)\n\n# Plot the median NDVI\nhoods.plot(column=\"median_NDVI\", legend=True, ax=ax)\n\n# Format\nax.set_axis_off()\n\n\n\n\n\n\n5. Plot an (interactive) choropleth map\nYou can use your favorite library: hvplot, altair, or geopandas. Solutions will include examples of all three!\n\nWith hvplot\n\n# trim to only the columns we want to plot\ncols = [\"median_NDVI\", \"ZillowName\", \"geometry\"]\n\n# Plot \nhoods[cols].hvplot.polygons(\n    c=\"median_NDVI\",\n    geo=True,\n    crs=32618,\n    frame_width=600,\n    frame_height=600,\n    cmap=\"viridis\",\n    hover_cols=[\"ZillowName\"],\n)\n\n\n\n\n\n  \n\n\n\n\n\n\nWith geopandas\n\n# Plot the parks colored by median NDVI\nhoods.explore(column=\"median_NDVI\", cmap=\"viridis\", tiles=\"Cartodb positron\")\n\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\n\nWith altair\n\n# trim to only the columns we want to plot\ncols = [\"median_NDVI\", \"ZillowName\", \"geometry\"]\n\n(\n    alt.Chart(hoods[cols].to_crs(epsg=3857))\n    .mark_geoshape()\n    .encode(\n        color=alt.Color(\n            \"median_NDVI\",\n            scale=alt.Scale(scheme=\"viridis\"),\n            legend=alt.Legend(title=\"Median NDVI\"),\n        ),\n        tooltip=[\"ZillowName\", \"median_NDVI\"],\n    )\n    .project(type=\"identity\", reflectY=True)\n)\n\n\n\n\n\n\n\n\n\n\n6. Challenges\nA few extra analysis pieces as an extra challenge. Let’s explore the neighborhoods with the highest and lowest median NDVI values.\n\n6A. Plot a bar chart of the neighborhoods with the top 20 largest median values\nWith hvplot:\n\n# calculate the top 20\ncols = [\"ZillowName\", \"median_NDVI\"]\ntop20 = hoods[cols].sort_values(\"median_NDVI\", ascending=False).head(n=20)\n\ntop20.hvplot.bar(x=\"ZillowName\", y=\"median_NDVI\", rot=90, height=400)\n\n\n\n\n\n  \n\n\n\n\nWith altair:\n\n(\n    alt.Chart(top20)\n    .mark_bar()\n    .encode(\n        x=alt.X(\"ZillowName\", sort=\"-y\"),  # Sort in descending order by y\n        y=\"median_NDVI\",\n        tooltip=[\"ZillowName\", \"median_NDVI\"],\n    )\n    .properties(width=800)\n)\n\n\n\n\n\n\n\n\n\n6B. Plot a bar chart of the neighborhoods with the bottom 20 largest median values\nWith hvplot:\n\ncols = [\"ZillowName\", \"median_NDVI\"]\nbottom20 = hoods[cols].sort_values(\"median_NDVI\", ascending=True).tail(n=20)\n\n\nbottom20.hvplot.bar(x=\"ZillowName\", y=\"median_NDVI\", rot=90, height=300, width=600)\n\n\n\n\n\n  \n\n\n\n\nWith altair:\n\n(\n    alt.Chart(bottom20)\n    .mark_bar()\n    .encode(\n        x=alt.X(\"ZillowName\", sort=\"y\"),  # Sort in ascending order by y\n        y=\"median_NDVI\",\n        tooltip=[\"ZillowName\", \"median_NDVI\"],\n    )\n    .properties(width=800)\n)"
  },
  {
    "objectID": "content/week-5/lecture-5B.html#thats-it",
    "href": "content/week-5/lecture-5B.html#thats-it",
    "title": "Week 5BGeospatial Data: Raster",
    "section": "That’s it!",
    "text": "That’s it!\n\nComing up next: moving on to our “getting data” modules with APIs and web scraping\nSee you on Monday!"
  },
  {
    "objectID": "content/week-5/index.html",
    "href": "content/week-5/index.html",
    "title": "Week 5: More Geospatial Analysis: Street Networks & Raster Data",
    "section": "",
    "text": "Content for lectures 5A and 5B\n\n\n        \n            \n             \n            View materials:\n             \n            MUSA-550-Fall-2023/week-5\n        \n\n        \n            \n             \n            HTML slides:\n             \n            \n                Lecture 5A\n            \n             \n            \n                Lecture 5B\n            \n        \n        \n\n        \n            \n             \n            Executable slides:\n             \n            \n                Lecture 5A\n            \n             \n            \n                Lecture 5B"
  },
  {
    "objectID": "content/week-5/index.html#topics",
    "href": "content/week-5/index.html#topics",
    "title": "Week 5: More Geospatial Analysis: Street Networks & Raster Data",
    "section": "Topics",
    "text": "Topics\n\nAnalyzing OpenStreetMap data with osmnx and pandana\nWorking with raster data in Python with rasterio"
  },
  {
    "objectID": "content/week-5/index.html#reference-additional-readings",
    "href": "content/week-5/index.html#reference-additional-readings",
    "title": "Week 5: More Geospatial Analysis: Street Networks & Raster Data",
    "section": "Reference & Additional Readings",
    "text": "Reference & Additional Readings\n\nOSMnx\n\nGitHub\nIntroductory Blog Post\nJupyter Notebook Examples\nDocumentation\nStreet orientation example\n\nPandana\n\nGitHub\nJupyter Notebook Examples\nDocumentation\n\nOpenStreetMap\n\nOSM Wikipedia\nList of OSM feature types\nList of OSM amenities\n\nBounding box tool\nRasterio documentation\nEarthPy examples gallery\nPlotting with rasterio\nLandSat bands\nTutorial on Landsat data\nXarray overview"
  },
  {
    "objectID": "content/week-2/lecture-2A.html",
    "href": "content/week-2/lecture-2A.html",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "",
    "text": "Section 401\nSep 11, 2023"
  },
  {
    "objectID": "content/week-2/lecture-2A.html#housekeeping",
    "href": "content/week-2/lecture-2A.html#housekeeping",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "Housekeeping",
    "text": "Housekeeping\n\nEd Discussion: https://edstem.org/us/courses/42616/discussion/\nHW #1 due on Wednesday 9/20\nOffice hours:\n\nNick: Mondays, 8PM-10PM\nTeresa: Fridays, 10:30AM to 12:00PM\nSign-up for time slots on Canvas calendar\n\n\nQuestions / concerns? - Email: nhand@design.upenn.edu - Post questions on Ed Discussion"
  },
  {
    "objectID": "content/week-2/lecture-2A.html#guides",
    "href": "content/week-2/lecture-2A.html#guides",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "Guides",
    "text": "Guides\nCheck out the guides section of the course website for\n\nSetting up Python\nUsing mamba\nJupyter notebooks and JupyterLab\nTroubleshooting Python installation issues\nTips for managing the folder structure on your laptop\n\n\n\n\n\n\n\nReminder\n\n\n\nSign up for free DataCamp access if you haven’t yet. See the course website for instructions.\nGood courses for some of the data viz libraries we’ll talk about today:\n\nIntroduction to Data Visualization with matplotlib\nIntroduction to Data Visualization with seaborn\nIntermediate Data Visualization with seaborn"
  },
  {
    "objectID": "content/week-2/lecture-2A.html#git-github-resources",
    "href": "content/week-2/lecture-2A.html#git-github-resources",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "Git & GitHub Resources",
    "text": "Git & GitHub Resources\n\nSetting up git\nManaging files on GitHub"
  },
  {
    "objectID": "content/week-2/lecture-2A.html#reminder-following-along-with-lectures",
    "href": "content/week-2/lecture-2A.html#reminder-following-along-with-lectures",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "Reminder: following along with lectures",
    "text": "Reminder: following along with lectures\n\nEasiest option: use Binder\n\n\n\nHarder option: downloading Github repository contents"
  },
  {
    "objectID": "content/week-2/lecture-2A.html#todays-agenda",
    "href": "content/week-2/lecture-2A.html#todays-agenda",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "Today’s agenda",
    "text": "Today’s agenda\n\nA brief overview of data visualization\nPractical tips on color in data vizualization\nThe Python landscape:\n\nmatplotlib\nseaborn\naltair"
  },
  {
    "objectID": "content/week-2/lecture-2A.html#a-brief-history",
    "href": "content/week-2/lecture-2A.html#a-brief-history",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "A brief history",
    "text": "A brief history\nStarting with two of my favorite historical examples, and their modern renditions…"
  },
  {
    "objectID": "content/week-2/lecture-2A.html#example-1-the-pioneering-work-of-w.-e.-b.-du-bois",
    "href": "content/week-2/lecture-2A.html#example-1-the-pioneering-work-of-w.-e.-b.-du-bois",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "Example 1: the pioneering work of W. E. B. Du Bois",
    "text": "Example 1: the pioneering work of W. E. B. Du Bois\n\n\n\nRe-making the Du Bois Spiral with census data\nUsing the Du Bois spiral to show the demographics of whites in seven states:\n\n \n\nGreen is urban, blue suburban, yellow small town, red rural. Source\n\n\nAdditional references\n\nA 6-part blog series on W. E. B. Du Bois’ Data Visualization\nAn article on historical data visualization\nW. E. B. Du Bois’s Data Portraits: Visualizing Black America"
  },
  {
    "objectID": "content/week-2/lecture-2A.html#example-2-the-statistical-atlas-of-the-united-states",
    "href": "content/week-2/lecture-2A.html#example-2-the-statistical-atlas-of-the-united-states",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "Example 2: the Statistical Atlas of the United States",
    "text": "Example 2: the Statistical Atlas of the United States\n\nFirst census: 1790\nFirst map for the census: 1850\nFirst Statistical Atlas: 1870\nLargely discontinued after 1890, except for the 2000 Census Atlas\n\n\nUsing modern data\nSee http://projects.flowingdata.com/atlas, by Nathan Yau\n\n\nIndustry and Earnings by Sex\n\n\n\nSource: American Community Survey, 5-Year, 2009-2013\n\n\nMedian Household Income\n\n\n\n\n\nMany more examples…"
  },
  {
    "objectID": "content/week-2/lecture-2A.html#more-recentlytwo-main-movements",
    "href": "content/week-2/lecture-2A.html#more-recentlytwo-main-movements",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "More recently…two main movements:",
    "text": "More recently…two main movements:\n\n1st wave: clarity\n2nd wave: the grammar of visualization"
  },
  {
    "objectID": "content/week-2/lecture-2A.html#section",
    "href": "content/week-2/lecture-2A.html#section",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "",
    "text": "Wave 1: Clarity\n\nPioneered by Edward Tufte and his release of The Visual Display of Quantitative Information in 1983\nFocuses on clarity, simplicity, and plain color schemes\nCharts should be immediately accessible and readable\n\n\nThe idea of “Chartjunk”\n\nCoined by Tufte in Visual Display\nAny unnecessary information on a chart\n\n\n\nSome extreme examples\n\n\n\n\n\n\n\n\n\nWave 2: the grammar of visualization\n\nInfluenced by The Grammar of Graphics by Leland Wilkinson in 1999\nFocuses on encoding data via channels onto geometry\nMapping data attributes on to graphical channels, e.g., length, angle, color, or position (or any other graphical character)\nLess focus on clarity, more on the encoding system\nLeads to many, many (perhaps confusing) ways of visualizing data\nggplot2 provides an R implementation of The Grammar of Graphics\nA few different Python libraries available\n\n\n\nWhere are we now?\n\nBoth movements converging together\nMore visualization libraries available now than ever\n\n\n\nA survey of common tools\n\n\n\n\nFrom a 2017 survey by Elijah Meeks\nFormer data visualization engineer at Apple, Netflix; now at Noteable\nExcellent data viz resource\nFind him on Twitter or Medium: @Elijah_Meeks\nExecutive director of the Data Visualization Society\n\n\n\nCommunity-based data viz organization\nGreat resources for beginners\nCheck out the Nightingale: The Data Visualization Society’s Blog"
  },
  {
    "objectID": "content/week-2/lecture-2A.html#the-7-kinds-of-data-viz-people",
    "href": "content/week-2/lecture-2A.html#the-7-kinds-of-data-viz-people",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "The 7 kinds of data viz people",
    "text": "The 7 kinds of data viz people\n\nFrom this blog post\nIllustrations by Susie Lu\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSee, e.g. Data Sketches"
  },
  {
    "objectID": "content/week-2/lecture-2A.html#data-visualization-as-communication",
    "href": "content/week-2/lecture-2A.html#data-visualization-as-communication",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "Data visualization as communication",
    "text": "Data visualization as communication\n\nData visualization is primarily a communication and design problem, not a technical one\nTwo main modes:\n\nFast: quickly understood or quickly made (or both!)\nSlow: more advanced, focus on design, takes longer to understand and/or longer to make"
  },
  {
    "objectID": "content/week-2/lecture-2A.html#fast-visualization",
    "href": "content/week-2/lecture-2A.html#fast-visualization",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "Fast visualization",
    "text": "Fast visualization\n\nClassic trope: a report for busy executives created by subject experts \\(\\rightarrow\\) as clear and simplified as possible\nLeads readers to think that if the chart is not immediately understood then it must be a failure\nThe dominant method of data visualization\n\nE.g., Create a Tableau Dashboard in Just 10 Minutes"
  },
  {
    "objectID": "content/week-2/lecture-2A.html#moving-beyond-fast-visualizations",
    "href": "content/week-2/lecture-2A.html#moving-beyond-fast-visualizations",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "Moving beyond fast visualizations",
    "text": "Moving beyond fast visualizations\n\nThinking about what charts say, beyond what is immediately clear\nFocusing on colors, design choices"
  },
  {
    "objectID": "content/week-2/lecture-2A.html#example-fatalities-in-the-iraq-war",
    "href": "content/week-2/lecture-2A.html#example-fatalities-in-the-iraq-war",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "Example: Fatalities in the Iraq War",
    "text": "Example: Fatalities in the Iraq War\nby Simon Scarr in 2011\n\n\n\nQuestion: What design choices drive home the implicit message?"
  },
  {
    "objectID": "content/week-2/lecture-2A.html#data-visualization-as-storytelling",
    "href": "content/week-2/lecture-2A.html#data-visualization-as-storytelling",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "Data Visualization as Storytelling",
    "text": "Data Visualization as Storytelling\nThe same data, but different design choices…\n\nA negative portrayal\n\n\n\n\n\nA positive portrayal"
  },
  {
    "objectID": "content/week-2/lecture-2A.html#design-choices-matter-data-viz-has-never-been-more-important",
    "href": "content/week-2/lecture-2A.html#design-choices-matter-data-viz-has-never-been-more-important",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "Design choices matter & data viz has never been more important",
    "text": "Design choices matter & data viz has never been more important\nSome examples from the past few years…\n\n\n\nData Viz’s Breakthrough Moment in the COVID-19 Crisis\nInterview with John Burn-Murdoch About his COVID Data Viz\nJohn Burn-Murdoch’s Twitter\nCOVID-19 Data Viz from the Financial Times\n\nCoronavirus Tracker\nGlobal Economic Recovery Tracker"
  },
  {
    "objectID": "content/week-2/lecture-2A.html#data-viz-style-guides",
    "href": "content/week-2/lecture-2A.html#data-viz-style-guides",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "Data Viz Style Guides",
    "text": "Data Viz Style Guides\nLots of companies, cities, institutions, etc. have started design guidelines to improve and standardize their data visualizations.\nOne I particularly like: City of London Data Design Guidelines\nFirst few pages are listed in the “Recommended Reading” portion of this week’s README.\nLondon’s style guide includes some basic data viz principles that everyone should know and includes the following example:\n\nCity of London Data Design Guidelines\n\nCity of London Data Design Guidelines"
  },
  {
    "objectID": "content/week-2/lecture-2A.html#good-rules",
    "href": "content/week-2/lecture-2A.html#good-rules",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "Good rules",
    "text": "Good rules\n\nLess is more — minimize “chartjunk”\nDon’t use legends if you can label directly\nUse color / line weight to focus the reader on the data you want to emphasize\nDon’t make the viewer tilt their head — Use titles/subtitles to explain what is being plotted"
  },
  {
    "objectID": "content/week-2/lecture-2A.html#now-onto-colors",
    "href": "content/week-2/lecture-2A.html#now-onto-colors",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "Now onto colors…",
    "text": "Now onto colors…\nChoose your colors carefully:\n\nSequential schemes: for continuous data that progresses from low to high\nDiverging schemes: for continuous data that emphasizes positive or negative deviations from a central value\nQualitative schemes: for data that has no inherent ordering, where color is used only to distinguish categories"
  },
  {
    "objectID": "content/week-2/lecture-2A.html#colorbrewer-2.0",
    "href": "content/week-2/lecture-2A.html#colorbrewer-2.0",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "ColorBrewer 2.0",
    "text": "ColorBrewer 2.0\n\nThe classic tool for color selection\nHandles all three types of color schemes and provides a map-based visualization\nProvides explanations from Cynthia Brewer’s published works on color theory\n\n\n\n\n\nTests whether colors are colorblind safe, printer friendly, and photocopy safe\nColorBrewer palettes are included by default in matplotlib\n\nSee: http://colorbrewer2.org"
  },
  {
    "objectID": "content/week-2/lecture-2A.html#perceptually-uniform-color-maps",
    "href": "content/week-2/lecture-2A.html#perceptually-uniform-color-maps",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "Perceptually uniform color maps",
    "text": "Perceptually uniform color maps\n\nCreated for matplotlib and available by default\nperceptually uniform: equal steps in data are perceived as equal steps in the color space\nrobust to color blindness\ncolorful and beautiful\n\nFor quantitative data, these color maps are very strong options"
  },
  {
    "objectID": "content/week-2/lecture-2A.html#need-more-colors",
    "href": "content/week-2/lecture-2A.html#need-more-colors",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "Need more colors?",
    "text": "Need more colors?\nAlmost too many tools available…"
  },
  {
    "objectID": "content/week-2/lecture-2A.html#some-of-my-favorites",
    "href": "content/week-2/lecture-2A.html#some-of-my-favorites",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "Some of my favorites",
    "text": "Some of my favorites\n\nAdobe Color CC: allows you to explore other people’s color palettes and create new ones\nPaletton: similar to Adobe Color, but slightly more advanced\nChroma.js Color Scale Helper: create color palettes by interpolating between named HTML colors\nColorpicker for data: automatically generate new color palettes, but they aren’t always useful"
  },
  {
    "objectID": "content/week-2/lecture-2A.html#making-sure-your-colors-work-viz-palette",
    "href": "content/week-2/lecture-2A.html#making-sure-your-colors-work-viz-palette",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "Making sure your colors work: Viz Palette",
    "text": "Making sure your colors work: Viz Palette"
  },
  {
    "objectID": "content/week-2/lecture-2A.html#wrapping-up-some-good-rules-to-live-by",
    "href": "content/week-2/lecture-2A.html#wrapping-up-some-good-rules-to-live-by",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "Wrapping up: some good rules to live by",
    "text": "Wrapping up: some good rules to live by\n\nOptimize your color map for your dataset\nThink about who your audience is\nAvoid palettes with too many colors: ColorBrewer stops at ~9 for a reason\nMaintain a theme and make it pretty\nThink about how color interacts with the other parts of the visualization\n\nNote: no easy way to get legend added to the plot in this case…"
  },
  {
    "objectID": "content/week-2/lecture-2A.html#thats-it",
    "href": "content/week-2/lecture-2A.html#thats-it",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "That’s it!",
    "text": "That’s it!\nSee you on Wednesday when we continue Data Viz Fundamentals"
  },
  {
    "objectID": "content/week-3/lecture-3A.html",
    "href": "content/week-3/lecture-3A.html",
    "title": "Week 3A: More Interactive Data Viz",
    "section": "",
    "text": "Section 401\nSep 18, 2023"
  },
  {
    "objectID": "content/week-3/lecture-3A.html#housekeeping",
    "href": "content/week-3/lecture-3A.html#housekeeping",
    "title": "Week 3A: More Interactive Data Viz",
    "section": "Housekeeping",
    "text": "Housekeeping\n\nHomework #1 due on Monday, 9/25\nHomework #2 will be assigned same day\nChoose a dataset to visualize and explore\n\nOpenDataPhilly or one your choosing\nEmail me if you want to analyze one that’s not on OpenDataPhilly"
  },
  {
    "objectID": "content/week-3/lecture-3A.html#agenda-for-week-3",
    "href": "content/week-3/lecture-3A.html#agenda-for-week-3",
    "title": "Week 3A: More Interactive Data Viz",
    "section": "Agenda for Week #3",
    "text": "Agenda for Week #3\nTwo parts:\n\nPart 1: More interactive data visualization: the HoloViz ecosystem\nPart 2: Getting started with geospatial data analysis in Python"
  },
  {
    "objectID": "content/week-3/lecture-3A.html#part-1-more-interactive-data-viz",
    "href": "content/week-3/lecture-3A.html#part-1-more-interactive-data-viz",
    "title": "Week 3A: More Interactive Data Viz",
    "section": "Part 1: More interactive data viz",
    "text": "Part 1: More interactive data viz\n\nRecap: The Python data viz landscape\n\n\n\n\n\nWhat have we learned so far\n\nMatplotlib\n\nThe classic, most flexible library\nCan handle geographic data well\nOverly verbose syntax, syntax is not declarative\n\n\n\nPandas\n\nQuick, built-in interface\nNot as many features as other libraries\n\n\n\nSeaborn\n\nBest for visualizing complex relationships between variables\nImproves matplotlib’s syntax: more declarative\n\n\n\nAltair\n\nEasy, declarative syntax\nLots of interactive features\nComplex visualizations with minimal amounts of code\n\n\n\n\nWe’ll learn one more today…\n\n\n\n\n\nHoloViz: A set of coordinated visualization libraries in Python\n\n  \n\n\n\nThe motivation behind HoloViz mirrors the goals of this course\nProper data visualization is crucial throughout all of the steps of the data science pipeline: data wrangling, modeling, and storytelling\n\n\n\n\n\n\nToday: hvPlot, Holoviews, Geoviews\n\n\nLater in the course: Datashader, Param, Panel\n\n\nHoloViz: A quick overview\n\nBokeh: creating interactive visualizations using Javascript using Python\nHoloViews: a declarative, high-level library for creating bokeh visualizations\n\nNote: The relationship between Bokeh and Holoviews is similar to Altair and Vega\n\nA significant pro\nGeoViews builds on HoloViews to add support for geographic data\n\n\nThe major cons\n\nAll are relatively new\nBokeh is the most well-tested\nHoloViews, GeoViews, hvPlot are being actively developed but are very promising\n\n\n\n\nHow does hvPlot fit in?\nHigh-level visualization library designed to help you quickly create interactive charts during your data wrangling\nMain uses: - Quickly generate interactive plots from your data - Seamlessly handles pandas and geopandas data - Relies on Holoviews and Geoviews under the hood\nIt provides an interface just like the pandas plot() function, but much more useful.\n\n\nExample: let’s return to the measles dataset\n\n# Our usual imports\nimport numpy as np\nimport pandas as pd\nfrom matplotlib import pyplot as plt\n\n%matplotlib inline\n\n\n# Let's load the measles data from week 2\n\nurl = \"https://raw.githubusercontent.com/MUSA-550-Fall-2023/week-2/main/data/measles_incidence.csv\"\nmeasles_data_raw = pd.read_csv(url, skiprows=2, na_values=\"-\")\n\n\nmeasles_data_raw.head()\n\n\n\n\n\n\n\n\nYEAR\nWEEK\nALABAMA\nALASKA\nARIZONA\nARKANSAS\nCALIFORNIA\nCOLORADO\nCONNECTICUT\nDELAWARE\n...\nSOUTH DAKOTA\nTENNESSEE\nTEXAS\nUTAH\nVERMONT\nVIRGINIA\nWASHINGTON\nWEST VIRGINIA\nWISCONSIN\nWYOMING\n\n\n\n\n0\n1928\n1\n3.67\nNaN\n1.90\n4.11\n1.38\n8.38\n4.50\n8.58\n...\n5.69\n22.03\n1.18\n0.4\n0.28\nNaN\n14.83\n3.36\n1.54\n0.91\n\n\n1\n1928\n2\n6.25\nNaN\n6.40\n9.91\n1.80\n6.02\n9.00\n7.30\n...\n6.57\n16.96\n0.63\nNaN\n0.56\nNaN\n17.34\n4.19\n0.96\nNaN\n\n\n2\n1928\n3\n7.95\nNaN\n4.50\n11.15\n1.31\n2.86\n8.81\n15.88\n...\n2.04\n24.66\n0.62\n0.2\n1.12\nNaN\n15.67\n4.19\n4.79\n1.36\n\n\n3\n1928\n4\n12.58\nNaN\n1.90\n13.75\n1.87\n13.71\n10.40\n4.29\n...\n2.19\n18.86\n0.37\n0.2\n6.70\nNaN\n12.77\n4.66\n1.64\n3.64\n\n\n4\n1928\n5\n8.03\nNaN\n0.47\n20.79\n2.38\n5.13\n16.80\n5.58\n...\n3.94\n20.05\n1.57\n0.4\n6.70\nNaN\n18.83\n7.37\n2.91\n0.91\n\n\n\n\n5 rows × 53 columns\n\n\n\n\nConvert from wide to long formats…\n\nmeasles_data = measles_data_raw.melt(\n    id_vars=[\"YEAR\", \"WEEK\"], value_name=\"incidence\", var_name=\"state\"\n)\n\n\nmeasles_data.head()\n\n\n\n\n\n\n\n\nYEAR\nWEEK\nstate\nincidence\n\n\n\n\n0\n1928\n1\nALABAMA\n3.67\n\n\n1\n1928\n2\nALABAMA\n6.25\n\n\n2\n1928\n3\nALABAMA\n7.95\n\n\n3\n1928\n4\nALABAMA\n12.58\n\n\n4\n1928\n5\nALABAMA\n8.03\n\n\n\n\n\n\n\n\n\nReminder: plotting with pandas\nThe default .plot() doesn’t know which variables to plot.\n\nfig, ax = plt.subplots(figsize=(10, 6))\nmeasles_data.plot(ax=ax)\n\n&lt;Axes: &gt;\n\n\n\n\n\nBut we can group by the year, and plot the national average each year\n\nby_year = measles_data.groupby(\"YEAR\", as_index=False)[\"incidence\"].sum()\nby_year.head()\n\n\n\n\n\n\n\n\nYEAR\nincidence\n\n\n\n\n0\n1928\n16924.34\n\n\n1\n1929\n12060.96\n\n\n2\n1930\n14575.11\n\n\n3\n1931\n15427.67\n\n\n4\n1932\n14481.11\n\n\n\n\n\n\n\n\nfig, ax = plt.subplots(figsize=(10, 6))\n\n# Plot the annual average by year\nby_year.plot(x='YEAR', y='incidence', ax=ax)\n\n# Add the vaccine year and label\nax.axvline(x=1963, c='k', linewidth=2)\nax.text(1963, 27000, \" Vaccine introduced\", ha='left', fontsize=18);\n\n\n\n\n\n\nAdding interactivity with hvplot\nUse the .hvplot() function to create interactive plots.\n\n# This will add the .hvplot() function to your DataFrame!\n# Import holoviews too\nimport holoviews as hv\nimport hvplot.pandas\n\n# Load bokeh\nhv.extension(\"bokeh\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimg = by_year.hvplot(x='YEAR', y='incidence', kind=\"line\")\n\nimg\n\n\n\n\n\n  \n\n\n\n\nIn this case, .hvplot() creates a Holoviews Curve object.\nNot unlike altair Chart objects, it’s an object that knows how to translate from your DataFrame data to a visualization.\n\nprint(img)\n\n:Curve   [YEAR]   (incidence)\n\n\n\n\nMany different chart types are available…\n\nby_year.hvplot(x=\"YEAR\", y=\"incidence\", kind=\"scatter\")\n\n\n\n\n\n  \n\n\n\n\n\nby_year.hvplot(x='YEAR', y='incidence', kind=\"bar\", rot=90, width=1000)\n\n\n\n\n\n  \n\n\n\n\n\n\nJust like in altair, we can also layer chart elements together\nUse the * operator to layer together chart elements.\nNote: the same thing can be accomplished in altair, but with the + operator.\n\n# The line chart of incidence vs year\nincidence = by_year.hvplot(x='YEAR', y='incidence', kind=\"line\")\n\n# Vertical line + label for vaccine year\nvline = hv.VLine(1963).opts(color=\"black\")\nlabel = hv.Text(1963, 27000, \" Vaccine introduced\", halign=\"left\")\n\nfinal_chart = incidence * vline * label\nfinal_chart\n\n\n\n\n\n  \n\n\n\n\n\n\nWe can group charts by a specific column, with automatic widget selectors\nThis is some powerful magic.\nLet’s calculate the annual measles incidence for each year and state:\n\nby_state = measles_data.groupby([\"YEAR\", \"state\"], as_index=False)[\"incidence\"].sum()\n\nby_state.head()\n\n\n\n\n\n\n\n\nYEAR\nstate\nincidence\n\n\n\n\n0\n1928\nALABAMA\n334.99\n\n\n1\n1928\nALASKA\n0.00\n\n\n2\n1928\nARIZONA\n200.75\n\n\n3\n1928\nARKANSAS\n481.77\n\n\n4\n1928\nCALIFORNIA\n69.22\n\n\n\n\n\n\n\nNow, tell hvplot to plot produce a chart of incidence over time for each state:\n\nby_state_chart = by_state.hvplot(\n    x=\"YEAR\", y=\"incidence\", groupby=\"state\", width=400, kind=\"line\"\n)\n\nby_state_chart\n\n\n\n\n\n  \n\n\n\n\n\n\nWe can select out individual charts from the set of grouped objects\nUse the dict-like selection syntax: [key]\n\nPA = by_state_chart[\"PENNSYLVANIA\"].relabel(\"PA\") # .relabel() is optional — it just changes the title\nNJ = by_state_chart[\"NEW JERSEY\"].relabel(\"NJ\")\n\n\n\nCombine charts as subplots with the + operator\n\ncombined = PA + NJ\n\ncombined\n\n\n\n\n\n  \n\n\n\n\n\nprint(combined)\n\n:Layout\n   .Curve.PA :Curve   [YEAR]   (incidence)\n   .Curve.NJ :Curve   [YEAR]   (incidence)\n\n\nThe charts are side-by-side by default. You can also specify the number of rows/columns explicitly.\n\n# one column\ncombined.cols(1)\n\n\n\n\n\n  \n\n\n\n\n\n\nWe can also show overlay lines on the same plot\nFirst, select a subset of states we want to highlight using the .isin() function:\n\nstates = [\"NEW YORK\", \"NEW JERSEY\", \"CALIFORNIA\", \"PENNSYLVANIA\"]\nsub_states = by_state.loc[ by_state['state'].isin(states) ]\n\n\nsub_states.head(n=10)\n\n\n\n\n\n\n\n\nYEAR\nstate\nincidence\n\n\n\n\n4\n1928\nCALIFORNIA\n69.22\n\n\n30\n1928\nNEW JERSEY\n797.14\n\n\n32\n1928\nNEW YORK\n649.97\n\n\n38\n1928\nPENNSYLVANIA\n583.95\n\n\n55\n1929\nCALIFORNIA\n72.80\n\n\n81\n1929\nNEW JERSEY\n181.86\n\n\n83\n1929\nNEW YORK\n249.09\n\n\n89\n1929\nPENNSYLVANIA\n489.56\n\n\n106\n1930\nCALIFORNIA\n760.24\n\n\n132\n1930\nNEW JERSEY\n602.87\n\n\n\n\n\n\n\nNow, use the by keyword to show multiple plots on the same axes:\n\nsub_state_chart = sub_states.hvplot(\n    x=\"YEAR\",  # year on x axis\n    y=\"incidence\",  # total incidence on y axis\n    by=\"state\",  # NEW: multiple states on same axes\n    kind=\"line\",\n)\n\nsub_state_chart * vline\n\n\n\n\n\n  \n\n\n\n\n\n\nWe can also show faceted plots\nWe can explicitly map variables to rows/columns of our visualization. This is similar to the functionality we saw in altair, when we used the alt.Chart().facet(column='state') syntax\nBelow, we specify the state column should be mapped to each column of the chart:\n\nimg = sub_states.reset_index().hvplot(\n    x=\"YEAR\",  # year on x axis\n    y=\"incidence\",  # total incidence on y axis\n    col=\"state\",  # NEW: map the \"state\" value to each column in the chart\n    kind=\"line\",\n    rot=90,\n    frame_width=200,\n)\n\nimg * vline\n\n\n\n\n\n  \n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nFunctions for each kind of chart type are available too. Try tab complete on df.hvplot. to see the options. You can use these functions directly or use pass the kind='chart type' keyword to the .hvplot() function.\n\n\n\n# Tab complete\nby_state.hvplot.scatter?\n\n\n\nSignature:\nby_state.hvplot.scatter(\n    x=None,\n    y=None,\n    *,\n    alpha,\n    angle,\n    cmap,\n    color,\n    fill_alpha,\n    fill_color,\n    hover_alpha,\n    hover_color,\n    hover_fill_alpha,\n    hover_fill_color,\n    hover_line_alpha,\n    hover_line_cap,\n    hover_line_color,\n    hover_line_dash,\n    hover_line_join,\n    hover_line_width,\n    line_alpha,\n    line_cap,\n    line_color,\n    line_dash,\n    line_join,\n    line_width,\n    marker,\n    muted,\n    muted_alpha,\n    muted_color,\n    muted_fill_alpha,\n    muted_fill_color,\n    muted_line_alpha,\n    muted_line_cap,\n    muted_line_color,\n    muted_line_dash,\n    muted_line_join,\n    muted_line_width,\n    nonselection_alpha,\n    nonselection_color,\n    nonselection_fill_alpha,\n    nonselection_fill_color,\n    nonselection_line_alpha,\n    nonselection_line_cap,\n    nonselection_line_color,\n    nonselection_line_dash,\n    nonselection_line_join,\n    nonselection_line_width,\n    palette,\n    selection_alpha,\n    selection_color,\n    selection_fill_alpha,\n    selection_fill_color,\n    selection_line_alpha,\n    selection_line_cap,\n    selection_line_color,\n    selection_line_dash,\n    selection_line_join,\n    selection_line_width,\n    size,\n    visible,\n    s,\n    c,\n    scale,\n    logz,\n    width,\n    height,\n    shared_axes,\n    grid,\n    legend,\n    rot,\n    xlim,\n    ylim,\n    xticks,\n    yticks,\n    colorbar,\n    invert,\n    title,\n    logx,\n    logy,\n    loglog,\n    xaxis,\n    yaxis,\n    xformatter,\n    yformatter,\n    xlabel,\n    ylabel,\n    clabel,\n    padding,\n    responsive,\n    max_height,\n    max_width,\n    min_height,\n    min_width,\n    frame_height,\n    frame_width,\n    aspect,\n    data_aspect,\n    fontscale,\n    datashade,\n    rasterize,\n    x_sampling,\n    y_sampling,\n    aggregator,\n    **kwargs,\n)\nDocstring:\nThe `scatter` plot visualizes your points as markers in 2D space. You can visualize\none more dimension by using colors.\nThe `scatter` plot is a good first way to plot data with non continuous axes.\nReference: https://hvplot.holoviz.org/reference/pandas/scatter.html\nParameters\n----------\nx : string, optional\n    Field name(s) to draw x-positions from. If not specified, the index is\n    used. Can refer to continous and categorical data.\ny : string or list, optional\n    Field name(s) to draw y-positions from. If not specified, all numerical\n    fields are used.\nmarker : string, optional\n    The marker shape specified above can be any supported by matplotlib, e.g. s, d, o etc.\n    See https://matplotlib.org/stable/api/markers_api.html.\nc : string, optional\n    A color or a Field name to draw the color of the marker from\ns : int, optional, also available as 'size'\n    The size of the marker\nby : string, optional\n    A single field or list of fields to group by. All the subgroups are visualized.\ngroupby: string, list, optional\n    A single field or list of fields to group and filter by. Adds one or more widgets to\n    select the subgroup(s) to visualize.\nscale: number, optional\n    Scaling factor to apply to point scaling.\nlogz : bool\n    Whether to apply log scaling to the z-axis. Default is False.\ncolor : str or array-like, optional.\n    The color for each of the series. Possible values are:\n    A single color string referred to by name, RGB or RGBA code, for instance 'red' or\n    '#a98d19.\n    A sequence of color strings referred to by name, RGB or RGBA code, which will be used\n    for each series recursively. For instance ['green','yellow'] each field’s line will be\n    filled in green or yellow, alternatively. If there is only a single series to be\n    plotted, then only the first color from the color list will be used.\n**kwds : optional\n    Additional keywords arguments are documented in `hvplot.help('scatter')`.\nReturns\n-------\nA Holoviews object. You can `print` the object to study its composition and run\n.. code-block::\n    import holoviews as hv\n    hv.help(the_holoviews_object)\nto learn more about its parameters and options.\nExample\n-------\n.. code-block::\n    import hvplot.pandas\n    import pandas as pd\n    df = pd.DataFrame(\n        {\n            \"actual\": [100, 150, 125, 140, 145, 135, 123],\n            \"forecast\": [90, 160, 125, 150, 141, 141, 120],\n            \"numerical\": [1.1, 1.9, 3.2, 3.8, 4.3, 5.0, 5.5],\n            \"date\": pd.date_range(\"2022-01-03\", \"2022-01-09\"),\n            \"string\": [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"],\n        },\n    )\n    scatter = df.hvplot.scatter(\n        x=\"numerical\",\n        y=[\"actual\", \"forecast\"],\n        ylabel=\"value\",\n        legend=\"bottom\",\n        height=500,\n        color=[\"#f16a6f\", \"#1e85f7\"],\n        size=100,\n    )\n    scatter\nYou can overlay the `scatter` markers on for example a `line` plot\n.. code-block::\n    line = df.hvplot.line(\n        x=\"numerical\", y=[\"actual\", \"forecast\"], color=[\"#f16a6f\", \"#1e85f7\"], line_width=5\n    )\n    scatter * line\nReferences\n----------\n- Bokeh: https://docs.bokeh.org/en/latest/docs/user_guide/plotting.html#scatter-markers\n- HoloViews: https://holoviews.org/reference/elements/matplotlib/Scatter.html\n- Pandas: https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.scatter.html\n- Plotly: https://plotly.com/python/line-and-scatter/\n- Matplotlib:  https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.scatter.html\n- Seaborn: https://seaborn.pydata.org/generated/seaborn.scatterplot.html\n- Wiki: https://en.wikipedia.org/wiki/Scatter_plot\nGeneric options\n---------------\nclim: tuple\n    Lower and upper bound of the color scale\ncnorm (default='linear'): str\n    Color scaling which must be one of 'linear', 'log' or 'eq_hist'\ncolorbar (default=False): boolean\n    Enables a colorbar\nfontscale: number\n    Scales the size of all fonts by the same amount, e.g. fontscale=1.5\n    enlarges all fonts (title, xticks, labels etc.) by 50%\nfontsize: number or dict\n    Set title, label and legend text to the same fontsize. Finer control\n    by using a dict: {'title': '15pt', 'ylabel': '5px', 'ticks': 20}\nflip_xaxis/flip_yaxis: boolean\n    Whether to flip the axis left to right or up and down respectively\ngrid (default=False): boolean\n    Whether to show a grid\nhover : boolean\n    Whether to show hover tooltips, default is True unless datashade is\n    True in which case hover is False by default\nhover_cols (default=[]): list or str\n    Additional columns to add to the hover tool or 'all' which will\n    includes all columns (including indexes if use_index is True).\ninvert (default=False): boolean\n    Swaps x- and y-axis\nframe_width/frame_height: int\n    The width and height of the data area of the plot\nlegend (default=True): boolean or str\n    Whether to show a legend, or a legend position\n    ('top', 'bottom', 'left', 'right')\nlogx/logy (default=False): boolean\n    Enables logarithmic x- and y-axis respectively\nlogz (default=False): boolean\n    Enables logarithmic colormapping\nloglog (default=False): boolean\n    Enables logarithmic x- and y-axis\nmax_width/max_height: int\n    The maximum width and height of the plot for responsive modes\nmin_width/min_height: int\n    The minimum width and height of the plot for responsive modes\npadding: number or tuple\n    Fraction by which to increase auto-ranged extents to make\n    datapoints more visible around borders. Supports tuples to\n    specify different amount of padding for x- and y-axis and\n    tuples of tuples to specify different amounts of padding for\n    upper and lower bounds.\nrescale_discrete_levels (default=True): boolean\n    If `cnorm='eq_hist'` and there are only a few discrete values,\n    then `rescale_discrete_levels=True` (the default) decreases\n    the lower limit of the autoranged span so that the values are\n    rendering towards the (more visible) top of the `cmap` range,\n    thus avoiding washout of the lower values.  Has no effect if\n    `cnorm!=`eq_hist`.\nresponsive: boolean\n    Whether the plot should responsively resize depending on the\n    size of the browser. Responsive mode will only work if at\n    least one dimension of the plot is left undefined, e.g. when\n    width and height or width and aspect are set the plot is set\n    to a fixed size, ignoring any responsive option.\nrot: number\n    Rotates the axis ticks along the x-axis by the specified\n    number of degrees.\nshared_axes (default=True): boolean\n    Whether to link axes between plots\ntransforms (default={}): dict\n    A dictionary of HoloViews dim transforms to apply before plotting\ntitle (default=''): str\n    Title for the plot\ntools (default=[]): list\n    List of tool instances or strings (e.g. ['tap', 'box_select'])\nxaxis/yaxis: str or None\n    Whether to show the x/y-axis and whether to place it at the\n    'top'/'bottom' and 'left'/'right' respectively.\nxformatter/yformatter (default=None): str or TickFormatter\n    Formatter for the x-axis and y-axis (accepts printf formatter,\n    e.g. '%.3f', and bokeh TickFormatter)\nxlabel/ylabel/clabel (default=None): str\n    Axis labels for the x-axis, y-axis, and colorbar\nxlim/ylim (default=None): tuple or list\n    Plot limits of the x- and y-axis\nxticks/yticks (default=None): int or list\n    Ticks along x- and y-axis specified as an integer, list of\n    ticks positions, or list of tuples of the tick positions and labels\nwidth (default=700)/height (default=300): int\n    The width and height of the plot in pixels\nattr_labels (default=None): bool\n    Whether to use an xarray object's attributes as labels, defaults to\n    None to allow best effort without throwing a warning. Set to True\n    to see warning if the attrs can't be found, set to False to disable\n    the behavior.\nsort_date (default=True): bool\n    Whether to sort the x-axis by date before plotting\nsymmetric (default=None): bool\n    Whether the data are symmetric around zero. If left unset, the data\n    will be checked for symmetry as long as the size is less than\n    ``check_symmetric_max``.\ncheck_symmetric_max (default=1000000):\n    Size above which to stop checking for symmetry by default on the data.\nDatashader options\n------------------\naggregator (default=None):\n    Aggregator to use when applying rasterize or datashade operation\n    (valid options include 'mean', 'count', 'min', 'max' and more, and\n    datashader reduction objects)\ndynamic (default=True):\n    Whether to return a dynamic plot which sends updates on widget and\n    zoom/pan events or whether all the data should be embedded\n    (warning: for large groupby operations embedded data can become\n    very large if dynamic=False)\ndatashade (default=False):\n    Whether to apply rasterization and shading (colormapping) using\n    the Datashader library, returning an RGB object instead of\n    individual points\ndynspread (default=False):\n    For plots generated with datashade=True or rasterize=True,\n    automatically increase the point size when the data is sparse\n    so that individual points become more visible\nrasterize (default=False):\n    Whether to apply rasterization using the Datashader library,\n    returning an aggregated Image (to be colormapped by the\n    plotting backend) instead of individual points\nx_sampling/y_sampling (default=None):\n    Specifies the smallest allowed sampling interval along the x/y axis.\nGeographic options\n------------------\ncoastline (default=False):\n    Whether to display a coastline on top of the plot, setting\n    coastline='10m'/'50m'/'110m' specifies a specific scale.\ncrs (default=None):\n    Coordinate reference system of the data specified as Cartopy\n    CRS object, proj.4 string or EPSG code.\nfeatures (default=None): dict or list\n    A list of features or a dictionary of features and the scale\n    at which to render it. Available features include 'borders',\n    'coastline', 'lakes', 'land', 'ocean', 'rivers' and 'states'.\n    Available scales include '10m'/'50m'/'110m'.\ngeo (default=False):\n    Whether the plot should be treated as geographic (and assume\n    PlateCarree, i.e. lat/lon coordinates).\nglobal_extent (default=False):\n    Whether to expand the plot extent to span the whole globe.\nproject (default=False):\n    Whether to project the data before plotting (adds initial\n    overhead but avoids projecting data when plot is dynamically\n    updated).\nprojection (default=None): str or Cartopy CRS\n    Coordinate reference system of the plot specified as Cartopy\n    CRS object or class name.\ntiles (default=False):\n    Whether to overlay the plot on a tile source. Tiles sources\n    can be selected by name or a tiles object or class can be passed,\n    the default is 'Wikipedia'.\nStyle options\n-------------\nalpha\nangle\ncmap\ncolor\nfill_alpha\nfill_color\nhover_alpha\nhover_color\nhover_fill_alpha\nhover_fill_color\nhover_line_alpha\nhover_line_cap\nhover_line_color\nhover_line_dash\nhover_line_join\nhover_line_width\nline_alpha\nline_cap\nline_color\nline_dash\nline_join\nline_width\nmarker\nmuted\nmuted_alpha\nmuted_color\nmuted_fill_alpha\nmuted_fill_color\nmuted_line_alpha\nmuted_line_cap\nmuted_line_color\nmuted_line_dash\nmuted_line_join\nmuted_line_width\nnonselection_alpha\nnonselection_color\nnonselection_fill_alpha\nnonselection_fill_color\nnonselection_line_alpha\nnonselection_line_cap\nnonselection_line_color\nnonselection_line_dash\nnonselection_line_join\nnonselection_line_width\npalette\nselection_alpha\nselection_color\nselection_fill_alpha\nselection_fill_color\nselection_line_alpha\nselection_line_cap\nselection_line_color\nselection_line_dash\nselection_line_join\nselection_line_width\nsize\nvisible\nFile:      ~/mambaforge/envs/musa-550-fall-2023/lib/python3.10/site-packages/hvplot/plotting/core.py\nType:      method\n\n\n\n\n\nFor example, we could plot a bar chart for these four states\nLet’s select a subset by both year and state:\n\n# Two selections\nsel_year = by_state[\"YEAR\"].isin(range(1960, 1970))\nsel_state = by_state[\"state\"].isin(states)\n\n# Use the boolean AND operator: &\nsel = sel_year & sel_state\n\n# Grouped bar chart for the desired states and years\nby_state.loc[sel].hvplot.bar(x=\"YEAR\", y=\"incidence\", by=\"state\", rot=90)\n\n\n\n\n\n  \n\n\n\n\nChange bar() to line() and we get the same thing as before.\n\nby_state.loc[sel].hvplot.line(x=\"YEAR\", y=\"incidence\", by=\"state\", rot=90)\n\n\n\n\n\n  \n\n\n\n\n\n\nCustomizing charts\nSee the help message for explicit hvplot functions:\n\nby_state.hvplot.line?\n\n\n\nSignature:\nby_state.hvplot.line(\n    x=None,\n    y=None,\n    *,\n    alpha,\n    color,\n    hover_alpha,\n    hover_color,\n    hover_line_alpha,\n    hover_line_cap,\n    hover_line_color,\n    hover_line_dash,\n    hover_line_join,\n    hover_line_width,\n    line_alpha,\n    line_cap,\n    line_color,\n    line_dash,\n    line_join,\n    line_width,\n    muted,\n    muted_alpha,\n    muted_color,\n    muted_line_alpha,\n    muted_line_cap,\n    muted_line_color,\n    muted_line_dash,\n    muted_line_join,\n    muted_line_width,\n    nonselection_alpha,\n    nonselection_color,\n    nonselection_line_alpha,\n    nonselection_line_cap,\n    nonselection_line_color,\n    nonselection_line_dash,\n    nonselection_line_join,\n    nonselection_line_width,\n    selection_alpha,\n    selection_color,\n    selection_line_alpha,\n    selection_line_cap,\n    selection_line_color,\n    selection_line_dash,\n    selection_line_join,\n    selection_line_width,\n    visible,\n    width,\n    height,\n    shared_axes,\n    grid,\n    legend,\n    rot,\n    xlim,\n    ylim,\n    xticks,\n    yticks,\n    colorbar,\n    invert,\n    title,\n    logx,\n    logy,\n    loglog,\n    xaxis,\n    yaxis,\n    xformatter,\n    yformatter,\n    xlabel,\n    ylabel,\n    clabel,\n    padding,\n    responsive,\n    max_height,\n    max_width,\n    min_height,\n    min_width,\n    frame_height,\n    frame_width,\n    aspect,\n    data_aspect,\n    fontscale,\n    datashade,\n    rasterize,\n    x_sampling,\n    y_sampling,\n    aggregator,\n    **kwargs,\n)\nDocstring:\nThe `line` plot connects the points with a continous curve.\nReference: https://hvplot.holoviz.org/reference/pandas/line.html\nParameters\n----------\nx : string, optional\n    Field name(s) to draw x-positions from. If not specified, the index is\n    used. Can refer to continous and categorical data.\ny : string or list, optional\n    Field name(s) to draw y-positions from. If not specified, all numerical\n    fields are used.\nby : string, optional\n    A single column or list of columns to group by. All the subgroups are visualized.\ngroupby: string, list, optional\n    A single field or list of fields to group and filter by. Adds one or more widgets to\n    select the subgroup(s) to visualize.\ncolor : str or array-like, optional.\n    The color for each of the series. Possible values are:\n    A single color string referred to by name, RGB or RGBA code, for instance 'red' or\n    '#a98d19.\n    A sequence of color strings referred to by name, RGB or RGBA code, which will be used\n    for each series recursively. For instance ['green','yellow'] each field’s line will be\n    filled in green or yellow, alternatively. If there is only a single series to be\n    plotted, then only the first color from the color list will be used.\n**kwds : optional\n    Additional keywords arguments are documented in `hvplot.help('line')`.\nReturns\n-------\nA Holoviews object. You can `print` the object to study its composition and run\n.. code-block::\n    import holoviews as hv\n    hv.help(the_holoviews_object)\nto learn more about its parameters and options.\nExamples\n--------\n.. code-block::\n    import hvplot.pandas\n    import pandas as pd\n    df = pd.DataFrame(\n        {\n            \"actual\": [100, 150, 125, 140, 145, 135, 123],\n            \"forecast\": [90, 160, 125, 150, 141, 141, 120],\n            \"numerical\": [1.1, 1.9, 3.2, 3.8, 4.3, 5.0, 5.5],\n            \"date\": pd.date_range(\"2022-01-03\", \"2022-01-09\"),\n            \"string\": [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"],\n        },\n    )\n    line = df.hvplot.line(\n        x=\"numerical\",\n        y=[\"actual\", \"forecast\"],\n        ylabel=\"value\",\n        legend=\"bottom\",\n        height=500,\n        color=[\"steelblue\", \"teal\"],\n        alpha=0.7,\n        line_width=5,\n    )\n    line\nYou can can add *markers* to a `line` plot by overlaying with a `scatter` plot.\n.. code-block::\n    markers = df.hvplot.scatter(\n        x=\"numerical\", y=[\"actual\", \"forecast\"], color=[\"steelblue\", \"teal\"], size=50\n    )\n    line * markers\nPlease note that you can pass widgets or reactive functions as arguments instead of\nliteral values, c.f. https://hvplot.holoviz.org/user_guide/Widgets.html.\nReferences\n----------\n- Bokeh: https://docs.bokeh.org/en/latest/docs/reference/models/glyphs/line.html\n- HoloViews: https://holoviews.org/reference/elements/bokeh/Curve.html\n- Pandas: https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.line.html\n- Plotly: https://plotly.com/python/line-charts/\n- Matplotlib: https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.plot.html\n- Seaborn: https://seaborn.pydata.org/generated/seaborn.lineplot.html\n- Wiki: https://en.wikipedia.org/wiki/Line_chart\nGeneric options\n---------------\nclim: tuple\n    Lower and upper bound of the color scale\ncnorm (default='linear'): str\n    Color scaling which must be one of 'linear', 'log' or 'eq_hist'\ncolorbar (default=False): boolean\n    Enables a colorbar\nfontscale: number\n    Scales the size of all fonts by the same amount, e.g. fontscale=1.5\n    enlarges all fonts (title, xticks, labels etc.) by 50%\nfontsize: number or dict\n    Set title, label and legend text to the same fontsize. Finer control\n    by using a dict: {'title': '15pt', 'ylabel': '5px', 'ticks': 20}\nflip_xaxis/flip_yaxis: boolean\n    Whether to flip the axis left to right or up and down respectively\ngrid (default=False): boolean\n    Whether to show a grid\nhover : boolean\n    Whether to show hover tooltips, default is True unless datashade is\n    True in which case hover is False by default\nhover_cols (default=[]): list or str\n    Additional columns to add to the hover tool or 'all' which will\n    includes all columns (including indexes if use_index is True).\ninvert (default=False): boolean\n    Swaps x- and y-axis\nframe_width/frame_height: int\n    The width and height of the data area of the plot\nlegend (default=True): boolean or str\n    Whether to show a legend, or a legend position\n    ('top', 'bottom', 'left', 'right')\nlogx/logy (default=False): boolean\n    Enables logarithmic x- and y-axis respectively\nlogz (default=False): boolean\n    Enables logarithmic colormapping\nloglog (default=False): boolean\n    Enables logarithmic x- and y-axis\nmax_width/max_height: int\n    The maximum width and height of the plot for responsive modes\nmin_width/min_height: int\n    The minimum width and height of the plot for responsive modes\npadding: number or tuple\n    Fraction by which to increase auto-ranged extents to make\n    datapoints more visible around borders. Supports tuples to\n    specify different amount of padding for x- and y-axis and\n    tuples of tuples to specify different amounts of padding for\n    upper and lower bounds.\nrescale_discrete_levels (default=True): boolean\n    If `cnorm='eq_hist'` and there are only a few discrete values,\n    then `rescale_discrete_levels=True` (the default) decreases\n    the lower limit of the autoranged span so that the values are\n    rendering towards the (more visible) top of the `cmap` range,\n    thus avoiding washout of the lower values.  Has no effect if\n    `cnorm!=`eq_hist`.\nresponsive: boolean\n    Whether the plot should responsively resize depending on the\n    size of the browser. Responsive mode will only work if at\n    least one dimension of the plot is left undefined, e.g. when\n    width and height or width and aspect are set the plot is set\n    to a fixed size, ignoring any responsive option.\nrot: number\n    Rotates the axis ticks along the x-axis by the specified\n    number of degrees.\nshared_axes (default=True): boolean\n    Whether to link axes between plots\ntransforms (default={}): dict\n    A dictionary of HoloViews dim transforms to apply before plotting\ntitle (default=''): str\n    Title for the plot\ntools (default=[]): list\n    List of tool instances or strings (e.g. ['tap', 'box_select'])\nxaxis/yaxis: str or None\n    Whether to show the x/y-axis and whether to place it at the\n    'top'/'bottom' and 'left'/'right' respectively.\nxformatter/yformatter (default=None): str or TickFormatter\n    Formatter for the x-axis and y-axis (accepts printf formatter,\n    e.g. '%.3f', and bokeh TickFormatter)\nxlabel/ylabel/clabel (default=None): str\n    Axis labels for the x-axis, y-axis, and colorbar\nxlim/ylim (default=None): tuple or list\n    Plot limits of the x- and y-axis\nxticks/yticks (default=None): int or list\n    Ticks along x- and y-axis specified as an integer, list of\n    ticks positions, or list of tuples of the tick positions and labels\nwidth (default=700)/height (default=300): int\n    The width and height of the plot in pixels\nattr_labels (default=None): bool\n    Whether to use an xarray object's attributes as labels, defaults to\n    None to allow best effort without throwing a warning. Set to True\n    to see warning if the attrs can't be found, set to False to disable\n    the behavior.\nsort_date (default=True): bool\n    Whether to sort the x-axis by date before plotting\nsymmetric (default=None): bool\n    Whether the data are symmetric around zero. If left unset, the data\n    will be checked for symmetry as long as the size is less than\n    ``check_symmetric_max``.\ncheck_symmetric_max (default=1000000):\n    Size above which to stop checking for symmetry by default on the data.\nDatashader options\n------------------\naggregator (default=None):\n    Aggregator to use when applying rasterize or datashade operation\n    (valid options include 'mean', 'count', 'min', 'max' and more, and\n    datashader reduction objects)\ndynamic (default=True):\n    Whether to return a dynamic plot which sends updates on widget and\n    zoom/pan events or whether all the data should be embedded\n    (warning: for large groupby operations embedded data can become\n    very large if dynamic=False)\ndatashade (default=False):\n    Whether to apply rasterization and shading (colormapping) using\n    the Datashader library, returning an RGB object instead of\n    individual points\ndynspread (default=False):\n    For plots generated with datashade=True or rasterize=True,\n    automatically increase the point size when the data is sparse\n    so that individual points become more visible\nrasterize (default=False):\n    Whether to apply rasterization using the Datashader library,\n    returning an aggregated Image (to be colormapped by the\n    plotting backend) instead of individual points\nx_sampling/y_sampling (default=None):\n    Specifies the smallest allowed sampling interval along the x/y axis.\nGeographic options\n------------------\ncoastline (default=False):\n    Whether to display a coastline on top of the plot, setting\n    coastline='10m'/'50m'/'110m' specifies a specific scale.\ncrs (default=None):\n    Coordinate reference system of the data specified as Cartopy\n    CRS object, proj.4 string or EPSG code.\nfeatures (default=None): dict or list\n    A list of features or a dictionary of features and the scale\n    at which to render it. Available features include 'borders',\n    'coastline', 'lakes', 'land', 'ocean', 'rivers' and 'states'.\n    Available scales include '10m'/'50m'/'110m'.\ngeo (default=False):\n    Whether the plot should be treated as geographic (and assume\n    PlateCarree, i.e. lat/lon coordinates).\nglobal_extent (default=False):\n    Whether to expand the plot extent to span the whole globe.\nproject (default=False):\n    Whether to project the data before plotting (adds initial\n    overhead but avoids projecting data when plot is dynamically\n    updated).\nprojection (default=None): str or Cartopy CRS\n    Coordinate reference system of the plot specified as Cartopy\n    CRS object or class name.\ntiles (default=False):\n    Whether to overlay the plot on a tile source. Tiles sources\n    can be selected by name or a tiles object or class can be passed,\n    the default is 'Wikipedia'.\nStyle options\n-------------\nalpha\ncolor\nhover_alpha\nhover_color\nhover_line_alpha\nhover_line_cap\nhover_line_color\nhover_line_dash\nhover_line_join\nhover_line_width\nline_alpha\nline_cap\nline_color\nline_dash\nline_join\nline_width\nmuted\nmuted_alpha\nmuted_color\nmuted_line_alpha\nmuted_line_cap\nmuted_line_color\nmuted_line_dash\nmuted_line_join\nmuted_line_width\nnonselection_alpha\nnonselection_color\nnonselection_line_alpha\nnonselection_line_cap\nnonselection_line_color\nnonselection_line_dash\nnonselection_line_join\nnonselection_line_width\nselection_alpha\nselection_color\nselection_line_alpha\nselection_line_cap\nselection_line_color\nselection_line_dash\nselection_line_join\nselection_line_width\nvisible\nFile:      ~/mambaforge/envs/musa-550-fall-2023/lib/python3.10/site-packages/hvplot/plotting/core.py\nType:      method\n\n\n\n\n\n\nCan we reproduce the WSJ measles heatmap?\nLast week, we reproduced the WSJ measles heatmap using altair….can we do it with hvplot too?\nTake a look at the help function for the .hvplot.heatmap() function:\n\nmeasles_data.hvplot.heatmap?\n\n\n\nSignature:\nmeasles_data.hvplot.heatmap(\n    x=None,\n    y=None,\n    C=None,\n    colorbar=True,\n    *,\n    alpha,\n    annular_alpha,\n    annular_color,\n    annular_fill_alpha,\n    annular_fill_color,\n    annular_hover_alpha,\n    annular_hover_color,\n    annular_hover_fill_alpha,\n    annular_hover_fill_color,\n    annular_hover_line_alpha,\n    annular_hover_line_cap,\n    annular_hover_line_color,\n    annular_hover_line_dash,\n    annular_hover_line_join,\n    annular_hover_line_width,\n    annular_line_alpha,\n    annular_line_cap,\n    annular_line_color,\n    annular_line_dash,\n    annular_line_join,\n    annular_line_width,\n    annular_muted,\n    annular_muted_alpha,\n    annular_muted_color,\n    annular_muted_fill_alpha,\n    annular_muted_fill_color,\n    annular_muted_line_alpha,\n    annular_muted_line_cap,\n    annular_muted_line_color,\n    annular_muted_line_dash,\n    annular_muted_line_join,\n    annular_muted_line_width,\n    annular_nonselection_alpha,\n    annular_nonselection_color,\n    annular_nonselection_fill_alpha,\n    annular_nonselection_fill_color,\n    annular_nonselection_line_alpha,\n    annular_nonselection_line_cap,\n    annular_nonselection_line_color,\n    annular_nonselection_line_dash,\n    annular_nonselection_line_join,\n    annular_nonselection_line_width,\n    annular_selection_alpha,\n    annular_selection_color,\n    annular_selection_fill_alpha,\n    annular_selection_fill_color,\n    annular_selection_line_alpha,\n    annular_selection_line_cap,\n    annular_selection_line_color,\n    annular_selection_line_dash,\n    annular_selection_line_join,\n    annular_selection_line_width,\n    annular_visible,\n    cmap,\n    color,\n    dilate,\n    fill_alpha,\n    fill_color,\n    hover_alpha,\n    hover_color,\n    hover_fill_alpha,\n    hover_fill_color,\n    hover_line_alpha,\n    hover_line_cap,\n    hover_line_color,\n    hover_line_dash,\n    hover_line_join,\n    hover_line_width,\n    line_alpha,\n    line_cap,\n    line_color,\n    line_dash,\n    line_join,\n    line_width,\n    muted,\n    muted_alpha,\n    muted_color,\n    muted_fill_alpha,\n    muted_fill_color,\n    muted_line_alpha,\n    muted_line_cap,\n    muted_line_color,\n    muted_line_dash,\n    muted_line_join,\n    muted_line_width,\n    nonselection_alpha,\n    nonselection_color,\n    nonselection_fill_alpha,\n    nonselection_fill_color,\n    nonselection_line_alpha,\n    nonselection_line_cap,\n    nonselection_line_color,\n    nonselection_line_dash,\n    nonselection_line_join,\n    nonselection_line_width,\n    selection_alpha,\n    selection_color,\n    selection_fill_alpha,\n    selection_fill_color,\n    selection_line_alpha,\n    selection_line_cap,\n    selection_line_color,\n    selection_line_dash,\n    selection_line_join,\n    selection_line_width,\n    ticks_text_align,\n    ticks_text_alpha,\n    ticks_text_baseline,\n    ticks_text_color,\n    ticks_text_font,\n    ticks_text_font_size,\n    ticks_text_font_style,\n    visible,\n    xmarks_alpha,\n    xmarks_color,\n    xmarks_hover_alpha,\n    xmarks_hover_color,\n    xmarks_hover_line_alpha,\n    xmarks_hover_line_cap,\n    xmarks_hover_line_color,\n    xmarks_hover_line_dash,\n    xmarks_hover_line_join,\n    xmarks_hover_line_width,\n    xmarks_line_alpha,\n    xmarks_line_cap,\n    xmarks_line_color,\n    xmarks_line_dash,\n    xmarks_line_join,\n    xmarks_line_width,\n    xmarks_muted,\n    xmarks_muted_alpha,\n    xmarks_muted_color,\n    xmarks_muted_line_alpha,\n    xmarks_muted_line_cap,\n    xmarks_muted_line_color,\n    xmarks_muted_line_dash,\n    xmarks_muted_line_join,\n    xmarks_muted_line_width,\n    xmarks_nonselection_alpha,\n    xmarks_nonselection_color,\n    xmarks_nonselection_line_alpha,\n    xmarks_nonselection_line_cap,\n    xmarks_nonselection_line_color,\n    xmarks_nonselection_line_dash,\n    xmarks_nonselection_line_join,\n    xmarks_nonselection_line_width,\n    xmarks_selection_alpha,\n    xmarks_selection_color,\n    xmarks_selection_line_alpha,\n    xmarks_selection_line_cap,\n    xmarks_selection_line_color,\n    xmarks_selection_line_dash,\n    xmarks_selection_line_join,\n    xmarks_selection_line_width,\n    xmarks_visible,\n    ymarks_alpha,\n    ymarks_color,\n    ymarks_hover_alpha,\n    ymarks_hover_color,\n    ymarks_hover_line_alpha,\n    ymarks_hover_line_cap,\n    ymarks_hover_line_color,\n    ymarks_hover_line_dash,\n    ymarks_hover_line_join,\n    ymarks_hover_line_width,\n    ymarks_line_alpha,\n    ymarks_line_cap,\n    ymarks_line_color,\n    ymarks_line_dash,\n    ymarks_line_join,\n    ymarks_line_width,\n    ymarks_muted,\n    ymarks_muted_alpha,\n    ymarks_muted_color,\n    ymarks_muted_line_alpha,\n    ymarks_muted_line_cap,\n    ymarks_muted_line_color,\n    ymarks_muted_line_dash,\n    ymarks_muted_line_join,\n    ymarks_muted_line_width,\n    ymarks_nonselection_alpha,\n    ymarks_nonselection_color,\n    ymarks_nonselection_line_alpha,\n    ymarks_nonselection_line_cap,\n    ymarks_nonselection_line_color,\n    ymarks_nonselection_line_dash,\n    ymarks_nonselection_line_join,\n    ymarks_nonselection_line_width,\n    ymarks_selection_alpha,\n    ymarks_selection_color,\n    ymarks_selection_line_alpha,\n    ymarks_selection_line_cap,\n    ymarks_selection_line_color,\n    ymarks_selection_line_dash,\n    ymarks_selection_line_join,\n    ymarks_selection_line_width,\n    ymarks_visible,\n    reduce_function,\n    logz,\n    width,\n    height,\n    shared_axes,\n    grid,\n    legend,\n    rot,\n    xlim,\n    ylim,\n    xticks,\n    yticks,\n    invert,\n    title,\n    logx,\n    logy,\n    loglog,\n    xaxis,\n    yaxis,\n    xformatter,\n    yformatter,\n    xlabel,\n    ylabel,\n    clabel,\n    padding,\n    responsive,\n    max_height,\n    max_width,\n    min_height,\n    min_width,\n    frame_height,\n    frame_width,\n    aspect,\n    data_aspect,\n    fontscale,\n    datashade,\n    rasterize,\n    x_sampling,\n    y_sampling,\n    aggregator,\n    **kwargs,\n)\nDocstring:\n`heatmap` visualises tabular data indexed by two key dimensions as a grid of colored values.\nThis allows spotting correlations in multivariate data and provides a high-level overview\nof how the two variables are plotted.\nReference: https://hvplot.holoviz.org/reference/pandas/heatmap.html\nParameters\n----------\nx : string, optional\n    Field name to draw x coordinates from. If not specified, the index is used. Can refer\n    to continous and categorical data.\ny : string\n    Field name to draw y-positions from. Can refer to continous and categorical data.\nC : string, optional\n    Field to draw heatmap color from. If not specified a simple count will be used.\ncolorbar: boolean, optional\n    Whether to display a colorbar. Default is True.\nlogz : bool\n    Whether to apply log scaling to the z-axis. Default is False.\nreduce_function : function, optional\n    Function to compute statistics for heatmap, for example `np.mean`.\n**kwds : optional\n    Additional keywords arguments are documented in `hvplot.help('heatmap')`.\nReturns\n-------\nA Holoviews object. You can `print` the object to study its composition and run\n.. code-block::\n    import holoviews as hv\n    hv.help(the_holoviews_object)\nto learn more about its parameters and options.\nExample\n-------\n.. code-block::\n    import hvplot.pandas\n    import numpy as np\n    from bokeh.sampledata import sea_surface_temperature as sst\n    df = sst.sea_surface_temperature\n    df.hvplot.heatmap(\n        x=\"time.month\", y=\"time.day\", C=\"temperature\", reduce_function=np.mean,\n        height=500, width=500, colorbar=False, cmap=\"blues\"\n    )\nReferences\n----------\n- Bokeh: https://docs.bokeh.org/en/latest/docs/gallery/categorical_heatmap.html\n- HoloViews: https://holoviews.org/reference/elements/bokeh/HeatMap.html\n- Matplotlib: https://matplotlib.org/stable/gallery/images_contours_and_fields/image_annotated_heatmap.html\n- Plotly: https://plotly.com/python/heatmaps/\n- Wiki: https://en.wikipedia.org/wiki/Heat_map\nGeneric options\n---------------\nclim: tuple\n    Lower and upper bound of the color scale\ncnorm (default='linear'): str\n    Color scaling which must be one of 'linear', 'log' or 'eq_hist'\ncolorbar (default=False): boolean\n    Enables a colorbar\nfontscale: number\n    Scales the size of all fonts by the same amount, e.g. fontscale=1.5\n    enlarges all fonts (title, xticks, labels etc.) by 50%\nfontsize: number or dict\n    Set title, label and legend text to the same fontsize. Finer control\n    by using a dict: {'title': '15pt', 'ylabel': '5px', 'ticks': 20}\nflip_xaxis/flip_yaxis: boolean\n    Whether to flip the axis left to right or up and down respectively\ngrid (default=False): boolean\n    Whether to show a grid\nhover : boolean\n    Whether to show hover tooltips, default is True unless datashade is\n    True in which case hover is False by default\nhover_cols (default=[]): list or str\n    Additional columns to add to the hover tool or 'all' which will\n    includes all columns (including indexes if use_index is True).\ninvert (default=False): boolean\n    Swaps x- and y-axis\nframe_width/frame_height: int\n    The width and height of the data area of the plot\nlegend (default=True): boolean or str\n    Whether to show a legend, or a legend position\n    ('top', 'bottom', 'left', 'right')\nlogx/logy (default=False): boolean\n    Enables logarithmic x- and y-axis respectively\nlogz (default=False): boolean\n    Enables logarithmic colormapping\nloglog (default=False): boolean\n    Enables logarithmic x- and y-axis\nmax_width/max_height: int\n    The maximum width and height of the plot for responsive modes\nmin_width/min_height: int\n    The minimum width and height of the plot for responsive modes\npadding: number or tuple\n    Fraction by which to increase auto-ranged extents to make\n    datapoints more visible around borders. Supports tuples to\n    specify different amount of padding for x- and y-axis and\n    tuples of tuples to specify different amounts of padding for\n    upper and lower bounds.\nrescale_discrete_levels (default=True): boolean\n    If `cnorm='eq_hist'` and there are only a few discrete values,\n    then `rescale_discrete_levels=True` (the default) decreases\n    the lower limit of the autoranged span so that the values are\n    rendering towards the (more visible) top of the `cmap` range,\n    thus avoiding washout of the lower values.  Has no effect if\n    `cnorm!=`eq_hist`.\nresponsive: boolean\n    Whether the plot should responsively resize depending on the\n    size of the browser. Responsive mode will only work if at\n    least one dimension of the plot is left undefined, e.g. when\n    width and height or width and aspect are set the plot is set\n    to a fixed size, ignoring any responsive option.\nrot: number\n    Rotates the axis ticks along the x-axis by the specified\n    number of degrees.\nshared_axes (default=True): boolean\n    Whether to link axes between plots\ntransforms (default={}): dict\n    A dictionary of HoloViews dim transforms to apply before plotting\ntitle (default=''): str\n    Title for the plot\ntools (default=[]): list\n    List of tool instances or strings (e.g. ['tap', 'box_select'])\nxaxis/yaxis: str or None\n    Whether to show the x/y-axis and whether to place it at the\n    'top'/'bottom' and 'left'/'right' respectively.\nxformatter/yformatter (default=None): str or TickFormatter\n    Formatter for the x-axis and y-axis (accepts printf formatter,\n    e.g. '%.3f', and bokeh TickFormatter)\nxlabel/ylabel/clabel (default=None): str\n    Axis labels for the x-axis, y-axis, and colorbar\nxlim/ylim (default=None): tuple or list\n    Plot limits of the x- and y-axis\nxticks/yticks (default=None): int or list\n    Ticks along x- and y-axis specified as an integer, list of\n    ticks positions, or list of tuples of the tick positions and labels\nwidth (default=700)/height (default=300): int\n    The width and height of the plot in pixels\nattr_labels (default=None): bool\n    Whether to use an xarray object's attributes as labels, defaults to\n    None to allow best effort without throwing a warning. Set to True\n    to see warning if the attrs can't be found, set to False to disable\n    the behavior.\nsort_date (default=True): bool\n    Whether to sort the x-axis by date before plotting\nsymmetric (default=None): bool\n    Whether the data are symmetric around zero. If left unset, the data\n    will be checked for symmetry as long as the size is less than\n    ``check_symmetric_max``.\ncheck_symmetric_max (default=1000000):\n    Size above which to stop checking for symmetry by default on the data.\nDatashader options\n------------------\naggregator (default=None):\n    Aggregator to use when applying rasterize or datashade operation\n    (valid options include 'mean', 'count', 'min', 'max' and more, and\n    datashader reduction objects)\ndynamic (default=True):\n    Whether to return a dynamic plot which sends updates on widget and\n    zoom/pan events or whether all the data should be embedded\n    (warning: for large groupby operations embedded data can become\n    very large if dynamic=False)\ndatashade (default=False):\n    Whether to apply rasterization and shading (colormapping) using\n    the Datashader library, returning an RGB object instead of\n    individual points\ndynspread (default=False):\n    For plots generated with datashade=True or rasterize=True,\n    automatically increase the point size when the data is sparse\n    so that individual points become more visible\nrasterize (default=False):\n    Whether to apply rasterization using the Datashader library,\n    returning an aggregated Image (to be colormapped by the\n    plotting backend) instead of individual points\nx_sampling/y_sampling (default=None):\n    Specifies the smallest allowed sampling interval along the x/y axis.\nGeographic options\n------------------\ncoastline (default=False):\n    Whether to display a coastline on top of the plot, setting\n    coastline='10m'/'50m'/'110m' specifies a specific scale.\ncrs (default=None):\n    Coordinate reference system of the data specified as Cartopy\n    CRS object, proj.4 string or EPSG code.\nfeatures (default=None): dict or list\n    A list of features or a dictionary of features and the scale\n    at which to render it. Available features include 'borders',\n    'coastline', 'lakes', 'land', 'ocean', 'rivers' and 'states'.\n    Available scales include '10m'/'50m'/'110m'.\ngeo (default=False):\n    Whether the plot should be treated as geographic (and assume\n    PlateCarree, i.e. lat/lon coordinates).\nglobal_extent (default=False):\n    Whether to expand the plot extent to span the whole globe.\nproject (default=False):\n    Whether to project the data before plotting (adds initial\n    overhead but avoids projecting data when plot is dynamically\n    updated).\nprojection (default=None): str or Cartopy CRS\n    Coordinate reference system of the plot specified as Cartopy\n    CRS object or class name.\ntiles (default=False):\n    Whether to overlay the plot on a tile source. Tiles sources\n    can be selected by name or a tiles object or class can be passed,\n    the default is 'Wikipedia'.\nStyle options\n-------------\nalpha\nannular_alpha\nannular_color\nannular_fill_alpha\nannular_fill_color\nannular_hover_alpha\nannular_hover_color\nannular_hover_fill_alpha\nannular_hover_fill_color\nannular_hover_line_alpha\nannular_hover_line_cap\nannular_hover_line_color\nannular_hover_line_dash\nannular_hover_line_join\nannular_hover_line_width\nannular_line_alpha\nannular_line_cap\nannular_line_color\nannular_line_dash\nannular_line_join\nannular_line_width\nannular_muted\nannular_muted_alpha\nannular_muted_color\nannular_muted_fill_alpha\nannular_muted_fill_color\nannular_muted_line_alpha\nannular_muted_line_cap\nannular_muted_line_color\nannular_muted_line_dash\nannular_muted_line_join\nannular_muted_line_width\nannular_nonselection_alpha\nannular_nonselection_color\nannular_nonselection_fill_alpha\nannular_nonselection_fill_color\nannular_nonselection_line_alpha\nannular_nonselection_line_cap\nannular_nonselection_line_color\nannular_nonselection_line_dash\nannular_nonselection_line_join\nannular_nonselection_line_width\nannular_selection_alpha\nannular_selection_color\nannular_selection_fill_alpha\nannular_selection_fill_color\nannular_selection_line_alpha\nannular_selection_line_cap\nannular_selection_line_color\nannular_selection_line_dash\nannular_selection_line_join\nannular_selection_line_width\nannular_visible\ncmap\ncolor\ndilate\nfill_alpha\nfill_color\nhover_alpha\nhover_color\nhover_fill_alpha\nhover_fill_color\nhover_line_alpha\nhover_line_cap\nhover_line_color\nhover_line_dash\nhover_line_join\nhover_line_width\nline_alpha\nline_cap\nline_color\nline_dash\nline_join\nline_width\nmuted\nmuted_alpha\nmuted_color\nmuted_fill_alpha\nmuted_fill_color\nmuted_line_alpha\nmuted_line_cap\nmuted_line_color\nmuted_line_dash\nmuted_line_join\nmuted_line_width\nnonselection_alpha\nnonselection_color\nnonselection_fill_alpha\nnonselection_fill_color\nnonselection_line_alpha\nnonselection_line_cap\nnonselection_line_color\nnonselection_line_dash\nnonselection_line_join\nnonselection_line_width\nselection_alpha\nselection_color\nselection_fill_alpha\nselection_fill_color\nselection_line_alpha\nselection_line_cap\nselection_line_color\nselection_line_dash\nselection_line_join\nselection_line_width\nticks_text_align\nticks_text_alpha\nticks_text_baseline\nticks_text_color\nticks_text_font\nticks_text_font_size\nticks_text_font_style\nvisible\nxmarks_alpha\nxmarks_color\nxmarks_hover_alpha\nxmarks_hover_color\nxmarks_hover_line_alpha\nxmarks_hover_line_cap\nxmarks_hover_line_color\nxmarks_hover_line_dash\nxmarks_hover_line_join\nxmarks_hover_line_width\nxmarks_line_alpha\nxmarks_line_cap\nxmarks_line_color\nxmarks_line_dash\nxmarks_line_join\nxmarks_line_width\nxmarks_muted\nxmarks_muted_alpha\nxmarks_muted_color\nxmarks_muted_line_alpha\nxmarks_muted_line_cap\nxmarks_muted_line_color\nxmarks_muted_line_dash\nxmarks_muted_line_join\nxmarks_muted_line_width\nxmarks_nonselection_alpha\nxmarks_nonselection_color\nxmarks_nonselection_line_alpha\nxmarks_nonselection_line_cap\nxmarks_nonselection_line_color\nxmarks_nonselection_line_dash\nxmarks_nonselection_line_join\nxmarks_nonselection_line_width\nxmarks_selection_alpha\nxmarks_selection_color\nxmarks_selection_line_alpha\nxmarks_selection_line_cap\nxmarks_selection_line_color\nxmarks_selection_line_dash\nxmarks_selection_line_join\nxmarks_selection_line_width\nxmarks_visible\nymarks_alpha\nymarks_color\nymarks_hover_alpha\nymarks_hover_color\nymarks_hover_line_alpha\nymarks_hover_line_cap\nymarks_hover_line_color\nymarks_hover_line_dash\nymarks_hover_line_join\nymarks_hover_line_width\nymarks_line_alpha\nymarks_line_cap\nymarks_line_color\nymarks_line_dash\nymarks_line_join\nymarks_line_width\nymarks_muted\nymarks_muted_alpha\nymarks_muted_color\nymarks_muted_line_alpha\nymarks_muted_line_cap\nymarks_muted_line_color\nymarks_muted_line_dash\nymarks_muted_line_join\nymarks_muted_line_width\nymarks_nonselection_alpha\nymarks_nonselection_color\nymarks_nonselection_line_alpha\nymarks_nonselection_line_cap\nymarks_nonselection_line_color\nymarks_nonselection_line_dash\nymarks_nonselection_line_join\nymarks_nonselection_line_width\nymarks_selection_alpha\nymarks_selection_color\nymarks_selection_line_alpha\nymarks_selection_line_cap\nymarks_selection_line_color\nymarks_selection_line_dash\nymarks_selection_line_join\nymarks_selection_line_width\nymarks_visible\nFile:      ~/mambaforge/envs/musa-550-fall-2023/lib/python3.10/site-packages/hvplot/plotting/core.py\nType:      method\n\n\n\n\n\nTwo methods:\nWe want to plot ‘YEAR’ on the x axis, ‘state’ on the y axis, and specify ‘incidence’ as the values begin plotted in each heatmap bin.\n\nYou can use the by_state data frame which has already summed over weeks for each state\nUse the original, tidy data (measles_data) with columns for state, week, year, and incidence\n\nYou will need to use the reduce_function keyword to sum over weeks\n\n\n\nMethod #1\nUse our aggregated dataframe: by_state\n\nby_state.head()\n\n\n\n\n\n\n\n\nYEAR\nstate\nincidence\n\n\n\n\n0\n1928\nALABAMA\n334.99\n\n\n1\n1928\nALASKA\n0.00\n\n\n2\n1928\nARIZONA\n200.75\n\n\n3\n1928\nARKANSAS\n481.77\n\n\n4\n1928\nCALIFORNIA\n69.22\n\n\n\n\n\n\n\n\n# METHOD #1: just plot the incidence\nheatmap = by_state.hvplot.heatmap(\n    x=\"YEAR\",  # x-axis\n    y=\"state\",  # y-axis\n    C=\"incidence\",  # color in each heatmap box\n    cmap=\"viridis\",  # color map to use\n    height=500,\n    width=800,\n    flip_yaxis=True,\n    rot=90,\n)\n\n# Turn off tools\nheatmap = heatmap.opts(default_tools=[])\n\n# Change the axes labels\nheatmap = heatmap.redim(\n    state=\"State\",\n    YEAR=\"Year\",\n)\n\nheatmap\n\n\n\n\n\n  \n\n\n\n\n\n\nMethod #2\nPass in the original data and have hvplot do the aggregation for us, using the reduce_function keyword:\n\nmeasles_data.head()\n\n\n\n\n\n\n\n\nYEAR\nWEEK\nstate\nincidence\n\n\n\n\n0\n1928\n1\nALABAMA\n3.67\n\n\n1\n1928\n2\nALABAMA\n6.25\n\n\n2\n1928\n3\nALABAMA\n7.95\n\n\n3\n1928\n4\nALABAMA\n12.58\n\n\n4\n1928\n5\nALABAMA\n8.03\n\n\n\n\n\n\n\n\n## METHOD 2: hvplot does the aggregation\nheatmap = measles_data.hvplot.heatmap(\n    x=\"YEAR\",\n    y=\"state\",\n    C=\"incidence\",\n    cmap=\"viridis\",\n    reduce_function=np.sum,  # NEW: Aggregate and sum incidence\n    height=500,\n    width=800,\n    flip_yaxis=True,\n    rot=90,\n)\n\n# Turn off tools\nheatmap = heatmap.opts(default_tools=[])\n\n# Relabel axes\nheatmap = heatmap.redim(state=\"State\", YEAR=\"Year\")\n\nheatmap\n\n\n\n\n\n  \n\n\n\n\n\n\nJust like altair: save the file as html\n\nimport hvplot\n\nhvplot.save(heatmap, \"measles.html\")\n\n\n# load the html file and display it\nfrom IPython.display import HTML\n\nHTML(\"measles.html\")\n\n\n\n\n  \n    \n    measles\n    \n      \n\n\n\n\n\n\n  \n  \n    \n  \n    \n    \n  \n\n\n\n\n\n\nTwo more useful features:\n\nScatter matrix plots\nExplorer mode\n\n\n1. Scatter matrix plots\nVisualizing relationships between variables, as we have seen in seaborn and altair\nLet’s load the penguins data set from week 2\n\nurl = \"https://raw.githubusercontent.com/MUSA-550-Fall-2023/week-2/main/data/penguins.csv\"\npenguins = pd.read_csv(url)\n\n\npenguins.head()\n\n\n\n\n\n\n\n\nspecies\nisland\nbill_length_mm\nbill_depth_mm\nflipper_length_mm\nbody_mass_g\nsex\nyear\n\n\n\n\n0\nAdelie\nTorgersen\n39.1\n18.7\n181.0\n3750.0\nmale\n2007\n\n\n1\nAdelie\nTorgersen\n39.5\n17.4\n186.0\n3800.0\nfemale\n2007\n\n\n2\nAdelie\nTorgersen\n40.3\n18.0\n195.0\n3250.0\nfemale\n2007\n\n\n3\nAdelie\nTorgersen\nNaN\nNaN\nNaN\nNaN\nNaN\n2007\n\n\n4\nAdelie\nTorgersen\n36.7\n19.3\n193.0\n3450.0\nfemale\n2007\n\n\n\n\n\n\n\nUse the hvplot.scatter_matrix() function:\n\npenguins.hvplot.scatter?\n\n\n\nSignature:\npenguins.hvplot.scatter(\n    x=None,\n    y=None,\n    *,\n    alpha,\n    angle,\n    cmap,\n    color,\n    fill_alpha,\n    fill_color,\n    hover_alpha,\n    hover_color,\n    hover_fill_alpha,\n    hover_fill_color,\n    hover_line_alpha,\n    hover_line_cap,\n    hover_line_color,\n    hover_line_dash,\n    hover_line_join,\n    hover_line_width,\n    line_alpha,\n    line_cap,\n    line_color,\n    line_dash,\n    line_join,\n    line_width,\n    marker,\n    muted,\n    muted_alpha,\n    muted_color,\n    muted_fill_alpha,\n    muted_fill_color,\n    muted_line_alpha,\n    muted_line_cap,\n    muted_line_color,\n    muted_line_dash,\n    muted_line_join,\n    muted_line_width,\n    nonselection_alpha,\n    nonselection_color,\n    nonselection_fill_alpha,\n    nonselection_fill_color,\n    nonselection_line_alpha,\n    nonselection_line_cap,\n    nonselection_line_color,\n    nonselection_line_dash,\n    nonselection_line_join,\n    nonselection_line_width,\n    palette,\n    selection_alpha,\n    selection_color,\n    selection_fill_alpha,\n    selection_fill_color,\n    selection_line_alpha,\n    selection_line_cap,\n    selection_line_color,\n    selection_line_dash,\n    selection_line_join,\n    selection_line_width,\n    size,\n    visible,\n    s,\n    c,\n    scale,\n    logz,\n    width,\n    height,\n    shared_axes,\n    grid,\n    legend,\n    rot,\n    xlim,\n    ylim,\n    xticks,\n    yticks,\n    colorbar,\n    invert,\n    title,\n    logx,\n    logy,\n    loglog,\n    xaxis,\n    yaxis,\n    xformatter,\n    yformatter,\n    xlabel,\n    ylabel,\n    clabel,\n    padding,\n    responsive,\n    max_height,\n    max_width,\n    min_height,\n    min_width,\n    frame_height,\n    frame_width,\n    aspect,\n    data_aspect,\n    fontscale,\n    datashade,\n    rasterize,\n    x_sampling,\n    y_sampling,\n    aggregator,\n    **kwargs,\n)\nDocstring:\nThe `scatter` plot visualizes your points as markers in 2D space. You can visualize\none more dimension by using colors.\nThe `scatter` plot is a good first way to plot data with non continuous axes.\nReference: https://hvplot.holoviz.org/reference/pandas/scatter.html\nParameters\n----------\nx : string, optional\n    Field name(s) to draw x-positions from. If not specified, the index is\n    used. Can refer to continous and categorical data.\ny : string or list, optional\n    Field name(s) to draw y-positions from. If not specified, all numerical\n    fields are used.\nmarker : string, optional\n    The marker shape specified above can be any supported by matplotlib, e.g. s, d, o etc.\n    See https://matplotlib.org/stable/api/markers_api.html.\nc : string, optional\n    A color or a Field name to draw the color of the marker from\ns : int, optional, also available as 'size'\n    The size of the marker\nby : string, optional\n    A single field or list of fields to group by. All the subgroups are visualized.\ngroupby: string, list, optional\n    A single field or list of fields to group and filter by. Adds one or more widgets to\n    select the subgroup(s) to visualize.\nscale: number, optional\n    Scaling factor to apply to point scaling.\nlogz : bool\n    Whether to apply log scaling to the z-axis. Default is False.\ncolor : str or array-like, optional.\n    The color for each of the series. Possible values are:\n    A single color string referred to by name, RGB or RGBA code, for instance 'red' or\n    '#a98d19.\n    A sequence of color strings referred to by name, RGB or RGBA code, which will be used\n    for each series recursively. For instance ['green','yellow'] each field’s line will be\n    filled in green or yellow, alternatively. If there is only a single series to be\n    plotted, then only the first color from the color list will be used.\n**kwds : optional\n    Additional keywords arguments are documented in `hvplot.help('scatter')`.\nReturns\n-------\nA Holoviews object. You can `print` the object to study its composition and run\n.. code-block::\n    import holoviews as hv\n    hv.help(the_holoviews_object)\nto learn more about its parameters and options.\nExample\n-------\n.. code-block::\n    import hvplot.pandas\n    import pandas as pd\n    df = pd.DataFrame(\n        {\n            \"actual\": [100, 150, 125, 140, 145, 135, 123],\n            \"forecast\": [90, 160, 125, 150, 141, 141, 120],\n            \"numerical\": [1.1, 1.9, 3.2, 3.8, 4.3, 5.0, 5.5],\n            \"date\": pd.date_range(\"2022-01-03\", \"2022-01-09\"),\n            \"string\": [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"],\n        },\n    )\n    scatter = df.hvplot.scatter(\n        x=\"numerical\",\n        y=[\"actual\", \"forecast\"],\n        ylabel=\"value\",\n        legend=\"bottom\",\n        height=500,\n        color=[\"#f16a6f\", \"#1e85f7\"],\n        size=100,\n    )\n    scatter\nYou can overlay the `scatter` markers on for example a `line` plot\n.. code-block::\n    line = df.hvplot.line(\n        x=\"numerical\", y=[\"actual\", \"forecast\"], color=[\"#f16a6f\", \"#1e85f7\"], line_width=5\n    )\n    scatter * line\nReferences\n----------\n- Bokeh: https://docs.bokeh.org/en/latest/docs/user_guide/plotting.html#scatter-markers\n- HoloViews: https://holoviews.org/reference/elements/matplotlib/Scatter.html\n- Pandas: https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.scatter.html\n- Plotly: https://plotly.com/python/line-and-scatter/\n- Matplotlib:  https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.scatter.html\n- Seaborn: https://seaborn.pydata.org/generated/seaborn.scatterplot.html\n- Wiki: https://en.wikipedia.org/wiki/Scatter_plot\nGeneric options\n---------------\nclim: tuple\n    Lower and upper bound of the color scale\ncnorm (default='linear'): str\n    Color scaling which must be one of 'linear', 'log' or 'eq_hist'\ncolorbar (default=False): boolean\n    Enables a colorbar\nfontscale: number\n    Scales the size of all fonts by the same amount, e.g. fontscale=1.5\n    enlarges all fonts (title, xticks, labels etc.) by 50%\nfontsize: number or dict\n    Set title, label and legend text to the same fontsize. Finer control\n    by using a dict: {'title': '15pt', 'ylabel': '5px', 'ticks': 20}\nflip_xaxis/flip_yaxis: boolean\n    Whether to flip the axis left to right or up and down respectively\ngrid (default=False): boolean\n    Whether to show a grid\nhover : boolean\n    Whether to show hover tooltips, default is True unless datashade is\n    True in which case hover is False by default\nhover_cols (default=[]): list or str\n    Additional columns to add to the hover tool or 'all' which will\n    includes all columns (including indexes if use_index is True).\ninvert (default=False): boolean\n    Swaps x- and y-axis\nframe_width/frame_height: int\n    The width and height of the data area of the plot\nlegend (default=True): boolean or str\n    Whether to show a legend, or a legend position\n    ('top', 'bottom', 'left', 'right')\nlogx/logy (default=False): boolean\n    Enables logarithmic x- and y-axis respectively\nlogz (default=False): boolean\n    Enables logarithmic colormapping\nloglog (default=False): boolean\n    Enables logarithmic x- and y-axis\nmax_width/max_height: int\n    The maximum width and height of the plot for responsive modes\nmin_width/min_height: int\n    The minimum width and height of the plot for responsive modes\npadding: number or tuple\n    Fraction by which to increase auto-ranged extents to make\n    datapoints more visible around borders. Supports tuples to\n    specify different amount of padding for x- and y-axis and\n    tuples of tuples to specify different amounts of padding for\n    upper and lower bounds.\nrescale_discrete_levels (default=True): boolean\n    If `cnorm='eq_hist'` and there are only a few discrete values,\n    then `rescale_discrete_levels=True` (the default) decreases\n    the lower limit of the autoranged span so that the values are\n    rendering towards the (more visible) top of the `cmap` range,\n    thus avoiding washout of the lower values.  Has no effect if\n    `cnorm!=`eq_hist`.\nresponsive: boolean\n    Whether the plot should responsively resize depending on the\n    size of the browser. Responsive mode will only work if at\n    least one dimension of the plot is left undefined, e.g. when\n    width and height or width and aspect are set the plot is set\n    to a fixed size, ignoring any responsive option.\nrot: number\n    Rotates the axis ticks along the x-axis by the specified\n    number of degrees.\nshared_axes (default=True): boolean\n    Whether to link axes between plots\ntransforms (default={}): dict\n    A dictionary of HoloViews dim transforms to apply before plotting\ntitle (default=''): str\n    Title for the plot\ntools (default=[]): list\n    List of tool instances or strings (e.g. ['tap', 'box_select'])\nxaxis/yaxis: str or None\n    Whether to show the x/y-axis and whether to place it at the\n    'top'/'bottom' and 'left'/'right' respectively.\nxformatter/yformatter (default=None): str or TickFormatter\n    Formatter for the x-axis and y-axis (accepts printf formatter,\n    e.g. '%.3f', and bokeh TickFormatter)\nxlabel/ylabel/clabel (default=None): str\n    Axis labels for the x-axis, y-axis, and colorbar\nxlim/ylim (default=None): tuple or list\n    Plot limits of the x- and y-axis\nxticks/yticks (default=None): int or list\n    Ticks along x- and y-axis specified as an integer, list of\n    ticks positions, or list of tuples of the tick positions and labels\nwidth (default=700)/height (default=300): int\n    The width and height of the plot in pixels\nattr_labels (default=None): bool\n    Whether to use an xarray object's attributes as labels, defaults to\n    None to allow best effort without throwing a warning. Set to True\n    to see warning if the attrs can't be found, set to False to disable\n    the behavior.\nsort_date (default=True): bool\n    Whether to sort the x-axis by date before plotting\nsymmetric (default=None): bool\n    Whether the data are symmetric around zero. If left unset, the data\n    will be checked for symmetry as long as the size is less than\n    ``check_symmetric_max``.\ncheck_symmetric_max (default=1000000):\n    Size above which to stop checking for symmetry by default on the data.\nDatashader options\n------------------\naggregator (default=None):\n    Aggregator to use when applying rasterize or datashade operation\n    (valid options include 'mean', 'count', 'min', 'max' and more, and\n    datashader reduction objects)\ndynamic (default=True):\n    Whether to return a dynamic plot which sends updates on widget and\n    zoom/pan events or whether all the data should be embedded\n    (warning: for large groupby operations embedded data can become\n    very large if dynamic=False)\ndatashade (default=False):\n    Whether to apply rasterization and shading (colormapping) using\n    the Datashader library, returning an RGB object instead of\n    individual points\ndynspread (default=False):\n    For plots generated with datashade=True or rasterize=True,\n    automatically increase the point size when the data is sparse\n    so that individual points become more visible\nrasterize (default=False):\n    Whether to apply rasterization using the Datashader library,\n    returning an aggregated Image (to be colormapped by the\n    plotting backend) instead of individual points\nx_sampling/y_sampling (default=None):\n    Specifies the smallest allowed sampling interval along the x/y axis.\nGeographic options\n------------------\ncoastline (default=False):\n    Whether to display a coastline on top of the plot, setting\n    coastline='10m'/'50m'/'110m' specifies a specific scale.\ncrs (default=None):\n    Coordinate reference system of the data specified as Cartopy\n    CRS object, proj.4 string or EPSG code.\nfeatures (default=None): dict or list\n    A list of features or a dictionary of features and the scale\n    at which to render it. Available features include 'borders',\n    'coastline', 'lakes', 'land', 'ocean', 'rivers' and 'states'.\n    Available scales include '10m'/'50m'/'110m'.\ngeo (default=False):\n    Whether the plot should be treated as geographic (and assume\n    PlateCarree, i.e. lat/lon coordinates).\nglobal_extent (default=False):\n    Whether to expand the plot extent to span the whole globe.\nproject (default=False):\n    Whether to project the data before plotting (adds initial\n    overhead but avoids projecting data when plot is dynamically\n    updated).\nprojection (default=None): str or Cartopy CRS\n    Coordinate reference system of the plot specified as Cartopy\n    CRS object or class name.\ntiles (default=False):\n    Whether to overlay the plot on a tile source. Tiles sources\n    can be selected by name or a tiles object or class can be passed,\n    the default is 'Wikipedia'.\nStyle options\n-------------\nalpha\nangle\ncmap\ncolor\nfill_alpha\nfill_color\nhover_alpha\nhover_color\nhover_fill_alpha\nhover_fill_color\nhover_line_alpha\nhover_line_cap\nhover_line_color\nhover_line_dash\nhover_line_join\nhover_line_width\nline_alpha\nline_cap\nline_color\nline_dash\nline_join\nline_width\nmarker\nmuted\nmuted_alpha\nmuted_color\nmuted_fill_alpha\nmuted_fill_color\nmuted_line_alpha\nmuted_line_cap\nmuted_line_color\nmuted_line_dash\nmuted_line_join\nmuted_line_width\nnonselection_alpha\nnonselection_color\nnonselection_fill_alpha\nnonselection_fill_color\nnonselection_line_alpha\nnonselection_line_cap\nnonselection_line_color\nnonselection_line_dash\nnonselection_line_join\nnonselection_line_width\npalette\nselection_alpha\nselection_color\nselection_fill_alpha\nselection_fill_color\nselection_line_alpha\nselection_line_cap\nselection_line_color\nselection_line_dash\nselection_line_join\nselection_line_width\nsize\nvisible\nFile:      ~/mambaforge/envs/musa-550-fall-2023/lib/python3.10/site-packages/hvplot/plotting/core.py\nType:      method\n\n\n\n\ncolumns = [\"flipper_length_mm\", \"bill_length_mm\", \"body_mass_g\", \"species\"]\nhvplot.scatter_matrix(penguins[columns], c=\"species\")\n\n\n\n\n\n\n  \n\n\n\n\nNote the “box select” and “lasso” features on the tool bar for interactions\n\n\n2. Explorer mode\n\nAn interactive interface that allows you to easily generate customized plots, which makes it easy to explore both your data and hvPlot’s options, parameters, etc.\nNew feature just released!\n\n\npenguins.head()\n\n\n\n\n\n\n\n\nspecies\nisland\nbill_length_mm\nbill_depth_mm\nflipper_length_mm\nbody_mass_g\nsex\nyear\n\n\n\n\n0\nAdelie\nTorgersen\n39.1\n18.7\n181.0\n3750.0\nmale\n2007\n\n\n1\nAdelie\nTorgersen\n39.5\n17.4\n186.0\n3800.0\nfemale\n2007\n\n\n2\nAdelie\nTorgersen\n40.3\n18.0\n195.0\n3250.0\nfemale\n2007\n\n\n3\nAdelie\nTorgersen\nNaN\nNaN\nNaN\nNaN\nNaN\n2007\n\n\n4\nAdelie\nTorgersen\n36.7\n19.3\n193.0\n3450.0\nfemale\n2007\n\n\n\n\n\n\n\n\nhvexplorer = hvplot.explorer(penguins)\nhvexplorer\n\n\n\n\n\n\n\n\n\n  \n\n\n\n\nGet the code for your customized plot!\nYou can export the current state of the explorer by running hvexplorer.plot_code()\n\nhvexplorer.plot_code()\n\n\"df.hvplot(x='index')\"\n\n\n\npenguins.hvplot(\n    by=[\"species\"],\n    colorbar=True,\n    kind=\"scatter\",\n    title=\"Bill Depth vs. Bill Length by Species\",\n    x=\"bill_depth_mm\",\n    xlabel=\"Bill Depth (mm)\",\n    y=[\"bill_length_mm\"],\n    ylabel=\"Bill Length (mm)\",\n)\n\n\n\n\n\n  \n\n\n\n\n\n\n\nRecap: altair vs hvplot\n\nBoth use a declarative syntax (altair more so than hvplot)\nUsers of ggplot might be more familiar with altair’s syntax\nhvplot integrates directly into pandas dataframes via the .hvplot() function\nBoth have support for cross-filtering and interactions\nBoth can be incorporated into web-based dashboard via HTML (later in course)\nhvplot has better support for large data (later in course)\n\nIt’s largely up to you which one you feel is easier to use"
  },
  {
    "objectID": "content/week-3/lecture-3A.html#documentation-references",
    "href": "content/week-3/lecture-3A.html#documentation-references",
    "title": "Week 3A: More Interactive Data Viz",
    "section": "Documentation references",
    "text": "Documentation references\n\nHvplot user guide\nHoloViz tutorial: introduction to the HoloViz ecosystem\nHoloViews user guide and gallery\n\nSome very cool examples available in the galleries"
  },
  {
    "objectID": "content/week-3/lecture-3A.html#thats-it",
    "href": "content/week-3/lecture-3A.html#thats-it",
    "title": "Week 3A: More Interactive Data Viz",
    "section": "That’s it!",
    "text": "That’s it!\n\nWe’ll get started with geopandas and geospatial data analysis next time\nSee you on Wednesday!"
  },
  {
    "objectID": "content/week-3/index.html",
    "href": "content/week-3/index.html",
    "title": "Week 3: More Interactive Data Viz, Intro to Vector Data & GeoPandas",
    "section": "",
    "text": "Content for lectures 3A and 3B\n\n\n        \n            \n             \n            View materials:\n             \n            MUSA-550-Fall-2023/week-3\n        \n\n        \n            \n             \n            HTML slides:\n             \n            \n                Lecture 3A\n            \n             \n            \n                Lecture 3B\n            \n        \n        \n\n        \n            \n             \n            Executable slides:\n             \n            \n                Lecture 3A\n            \n             \n            \n                Lecture 3B"
  },
  {
    "objectID": "content/week-3/index.html#topics",
    "href": "content/week-3/index.html#topics",
    "title": "Week 3: More Interactive Data Viz, Intro to Vector Data & GeoPandas",
    "section": "Topics",
    "text": "Topics\n\nInteractive data viz with the holoviz ecosystem\nVector data and introduction to GeoPandas\nSpatial relationships and joins\nDemo: 311 requests by neighborhood in Philadelphia"
  },
  {
    "objectID": "content/week-3/index.html#general-background-reading",
    "href": "content/week-3/index.html#general-background-reading",
    "title": "Week 3: More Interactive Data Viz, Intro to Vector Data & GeoPandas",
    "section": "General Background Reading",
    "text": "General Background Reading\nSome general background readings that will help establish the foundation for this week’s work. From Python for Data Analysis by Wes McKinney:\n\nChatper 2: Python Basics\nChapter 3: Built-in Python Features\nChapter 4: NumPy Basics\nChapter 5: Intro to pandas\nChapter 9: Plotting & visualization"
  },
  {
    "objectID": "content/week-3/index.html#documentation",
    "href": "content/week-3/index.html#documentation",
    "title": "Week 3: More Interactive Data Viz, Intro to Vector Data & GeoPandas",
    "section": "Documentation",
    "text": "Documentation\n\nGeoPandas\n\nConverting DataFrames to GeoDataFrames\nManaging Projections\nMerging Data"
  },
  {
    "objectID": "content/week-3/index.html#further-reading-references",
    "href": "content/week-3/index.html#further-reading-references",
    "title": "Week 3: More Interactive Data Viz, Intro to Vector Data & GeoPandas",
    "section": "Further Reading / References",
    "text": "Further Reading / References\n\nWest Wing and the Gall-Peters Projections\nxkcd Comic on Projections\nThe True Size Of\nCoordinate Reference Systems\nEPSG Codes\nHoloViz tutorial: introduction to the HoloViz ecosystem"
  },
  {
    "objectID": "content/week-4/lecture-4B.html",
    "href": "content/week-4/lecture-4B.html",
    "title": "Week 4B: Interactive Web Maps",
    "section": "",
    "text": "Section 401\nWednesday, September 27, 2023\nimport geopandas as gpd\nimport pandas as pd"
  },
  {
    "objectID": "content/week-4/lecture-4B.html#interactive-maps-in-python",
    "href": "content/week-4/lecture-4B.html#interactive-maps-in-python",
    "title": "Week 4B: Interactive Web Maps",
    "section": "Interactive maps in Python",
    "text": "Interactive maps in Python\nHaven’t we already done this?\nYes! So far, we’ve used hvplot, geopandas, & altair to create interactive map-based visualizations."
  },
  {
    "objectID": "content/week-4/lecture-4B.html#why-do-we-need-something-more",
    "href": "content/week-4/lecture-4B.html#why-do-we-need-something-more",
    "title": "Week 4B: Interactive Web Maps",
    "section": "Why do we need something more?",
    "text": "Why do we need something more?\n\nLeaflet documentation"
  },
  {
    "objectID": "content/week-4/lecture-4B.html#the-benefits-of-leaflet",
    "href": "content/week-4/lecture-4B.html#the-benefits-of-leaflet",
    "title": "Week 4B: Interactive Web Maps",
    "section": "The benefits of Leaflet",
    "text": "The benefits of Leaflet\n\nThe leading open-source mapping library\nSimple and powerful\nLeverage the open-source community and lots of powerful plugins"
  },
  {
    "objectID": "content/week-4/lecture-4B.html#folium-leaflet-in-python",
    "href": "content/week-4/lecture-4B.html#folium-leaflet-in-python",
    "title": "Week 4B: Interactive Web Maps",
    "section": "Folium: Leaflet in Python",
    "text": "Folium: Leaflet in Python\nPros - Create Leaflet.js maps directly from Python - Combine power of Leaflet.js with the data wrangling ease of Python\nCons - A wrapper for most, but not all of Leaflet’s functionality - Can be difficult to debug and find errors\n\n\n\n\n\n\nReference\n\n\n\nCheck out the Folium docs for more info."
  },
  {
    "objectID": "content/week-4/lecture-4B.html#weve-already-seen-choropleth-maps-with-folium",
    "href": "content/week-4/lecture-4B.html#weve-already-seen-choropleth-maps-with-folium",
    "title": "Week 4B: Interactive Web Maps",
    "section": "We’ve already seen choropleth maps with Folium",
    "text": "We’ve already seen choropleth maps with Folium\nThe geopandas .explore() function, which makes interactive choropleth maps, produces Folium maps!\nLet’s load the median property assessment data by neighborhood from last lecture’s exercise:\n\n# Load the data from a CSV file into a pandas DataFrame\ntrash_requests_df = pd.read_csv(\n    \"data/trash_311_requests_2020.csv\",  # Use the file path relative to the current folder\n)\n\n# Remove rows with missing geometry\ntrash_requests_df = trash_requests_df.dropna(subset=[\"lat\", \"lon\"])\n\n\n# Create our GeoDataFrame with geometry column created from lon/lat\ntrash_requests = gpd.GeoDataFrame(\n    trash_requests_df,\n    geometry=gpd.points_from_xy(trash_requests_df[\"lon\"], trash_requests_df[\"lat\"]),\n    crs=\"EPSG:4326\",\n)\n\nLoad neighborhoods and do the spatial join to associate a neighborhood with each ticket:\n\n# Load the neighborhoods\nneighborhoods = gpd.read_file(\"data/zillow_neighborhoods.geojson\")\n\n# Do the spatial join to add the \"ZillowName\" column\nrequests_with_hood = gpd.sjoin(\n    trash_requests,\n    neighborhoods.to_crs(trash_requests.crs),\n    predicate=\"within\",\n)\n\nGroup by neighborhood, calculate the number of tickets per neighborhood, and then merge neighborhood geometries.\n\nrequests_by_hood = pd.merge(\n    # GeoDataFrame is left\n    neighborhoods,\n    # DataFrame is right: This is the number of tickets per neighborhood\n    requests_with_hood.groupby(\"ZillowName\", as_index=False).size(),\n    # Merge column,\n    on=\"ZillowName\",\n).rename(\n    # Rename size column\n    columns={\"size\": \"num_tickets\"}\n)\n\n# Get the area of each geometry in sq. meters\n# NOTE: we are converting to EPSG:3857 which has units of meters\narea = requests_by_hood.to_crs(epsg=3857).geometry.area\n\n\n# Normalize by area\nrequests_by_hood[\"num_tickets_per_area\"] = requests_by_hood[\"num_tickets\"] / area * 1e4\n\n\nrequests_by_hood.head()\n\n\n\n\n\n\n\n\nZillowName\ngeometry\nnum_tickets\nnum_tickets_per_area\n\n\n\n\n0\nAcademy Gardens\nPOLYGON ((-74.99851 40.06435, -74.99456 40.061...\n84\n0.350561\n\n\n1\nAllegheny West\nPOLYGON ((-75.16592 40.00327, -75.16596 40.003...\n330\n0.646749\n\n\n2\nAndorra\nPOLYGON ((-75.22463 40.06686, -75.22588 40.065...\n83\n0.212905\n\n\n3\nAston Woodbridge\nPOLYGON ((-75.00860 40.05369, -75.00861 40.053...\n110\n0.486609\n\n\n4\nBartram Village\nPOLYGON ((-75.20733 39.93350, -75.20733 39.933...\n35\n0.155914\n\n\n\n\n\n\n\nThe .explore() function is a wrapper around Folium/leaflet.js\n\nm = requests_by_hood.explore(column=\"num_tickets_per_area\", tiles=\"Cartodb positron\")\n\nm\n\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\nThe object returned by .explore() a Folium map!\n\ntype(m)\n\nfolium.folium.Map\n\n\n\nThe explore() function\nThe .explore() function is a powerful wrapper around folium with a lot of the same functionality of the plot() function in geopandas. In my experience, it is much easier to work with than folium directly. My recommendation is to use the .explore() function when you can.\n\nClassification schemes\nYou can use the same classification schemes to bin your data when using the explore() function. For example:\n\nm = requests_by_hood.explore(\n    column=\"num_tickets_per_area\",\n    tiles=\"Cartodb positron\",\n    scheme=\"FisherJenks\",  # NEW: the classification scheme\n    k=5,  # NEW: the number of bins\n)\n\nm\n\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\n\nStyle options\nThe explore() function allows you to specify dictionaries with style keywords for the GeoJSON. The allowed options come directly from the leaflet.js library. Check out the documentation for the .explore() function for more info. You can see the allowed values for GeoJSON on the leaflet documentation.\nFor example, let’s plot our neighborhood GeoJSON and apply a default style, as well as as a style for when the user hover (highlights) a polygon.\n\nm = hoods.explore(\n    tiles=\"Cartodb dark matter\",\n    # NEW: The style dictionary\n    style_kwds={\n        \"weight\": 2,\n        \"color\": \"lightblue\",\n        \"fillOpacity\": 0.1,\n    },\n    highlight=True,  # NEW: turn on highlighting\n    # NEW: The style dict to apply when hovering\n    highlight_kwds={\n        \"weight\": 2,\n        \"color\": \"red\",\n    },\n)\n\nm\n\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\nYou can also perform styling via functions that take in a GeoJSON feature and return a dictionary of style options. This allows you to style GeoJSON features differently based on the .properties attribute of the GeoJSON feature.\nFor example:\n\ndef my_style_function(feature):\n    \"\"\"Change the style based on whether the number of tickets &gt; 500.\"\"\"\n\n    # Data attributes stored in properties dict\n    properties = feature[\"properties\"]\n\n    # Shared style\n    style = {\"weight\": 2, \"fillOpacity\": 0.8, \"color\": \"white\"}\n\n    # Change fillColor\n    if properties[\"num_tickets\"] &gt; 500:\n        style[\"fillColor\"] = \"red\"\n    else:\n        style[\"fillColor\"] = \"lightblue\"\n\n    # Return style dict\n    return style\n\n\nm = requests_by_hood.explore(\n    tiles=\"Cartodb dark matter\",\n    style_kwds={\"style_function\": my_style_function},  # NEW: The style function\n)\n\nm\n\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook"
  },
  {
    "objectID": "content/week-4/lecture-4B.html#more-folium-features",
    "href": "content/week-4/lecture-4B.html#more-folium-features",
    "title": "Week 4B: Interactive Web Maps",
    "section": "More Folium features",
    "text": "More Folium features\nWe’ll cover a few more of the key features of Folium today…\nThings we’ll cover: 1. Creating a base map with tiles 1. Overlaying GeoJSON features with layer control 1. Examples of Folium plugins\n\nimport folium\n\n\n1. Creating a Folium map\nKey function: folium.Map\n\nLots of configuration options\nSome key ones: - location: the center location of the map - zoom_start: the initial zoom level of the map - tiles: the name of the tile provider\nLet’s take a look at the help message:\n\nfolium.Map?\n\n\nInit signature:\nfolium.Map(\n    location=None,\n    width='100%',\n    height='100%',\n    left='0%',\n    top='0%',\n    position='relative',\n    tiles='OpenStreetMap',\n    attr=None,\n    min_zoom=0,\n    max_zoom=18,\n    zoom_start=10,\n    min_lat=-90,\n    max_lat=90,\n    min_lon=-180,\n    max_lon=180,\n    max_bounds=False,\n    crs='EPSG3857',\n    control_scale=False,\n    prefer_canvas=False,\n    no_touch=False,\n    disable_3d=False,\n    png_enabled=False,\n    zoom_control=True,\n    **kwargs,\n)\nDocstring:     \nCreate a Map with Folium and Leaflet.js\nGenerate a base map of given width and height with either default\ntilesets or a custom tileset URL. The following tilesets are built-in\nto Folium. Pass any of the following to the \"tiles\" keyword:\n    - \"OpenStreetMap\"\n    - \"Mapbox Bright\" (Limited levels of zoom for free tiles)\n    - \"Mapbox Control Room\" (Limited levels of zoom for free tiles)\n    - \"Stamen\" (Terrain, Toner, and Watercolor)\n    - \"Cloudmade\" (Must pass API key)\n    - \"Mapbox\" (Must pass API key)\n    - \"CartoDB\" (positron and dark_matter)\nYou can pass a custom tileset to Folium by passing a\n:class:`xyzservices.TileProvider` or a Leaflet-style\nURL to the tiles parameter: ``http://{s}.yourtiles.com/{z}/{x}/{y}.png``.\nYou can find a list of free tile providers here:\n``http://leaflet-extras.github.io/leaflet-providers/preview/``.\nBe sure to check their terms and conditions and to provide attribution\nwith the `attr` keyword.\nParameters\n----------\nlocation: tuple or list, default None\n    Latitude and Longitude of Map (Northing, Easting).\nwidth: pixel int or percentage string (default: '100%')\n    Width of the map.\nheight: pixel int or percentage string (default: '100%')\n    Height of the map.\ntiles: str or TileLayer or :class:`xyzservices.TileProvider`, default 'OpenStreetMap'\n    Map tileset to use. Can choose from a list of built-in tiles,\n    pass a :class:`xyzservices.TileProvider`,\n    pass a custom URL, pass a TileLayer object,\n    or pass `None` to create a map without tiles.\n    For more advanced tile layer options, use the `TileLayer` class.\nmin_zoom: int, default 0\n    Minimum allowed zoom level for the tile layer that is created.\nmax_zoom: int, default 18\n    Maximum allowed zoom level for the tile layer that is created.\nzoom_start: int, default 10\n    Initial zoom level for the map.\nattr: string, default None\n    Map tile attribution; only required if passing custom tile URL.\ncrs : str, default 'EPSG3857'\n    Defines coordinate reference systems for projecting geographical points\n    into pixel (screen) coordinates and back.\n    You can use Leaflet's values :\n    * EPSG3857 : The most common CRS for online maps, used by almost all\n    free and commercial tile providers. Uses Spherical Mercator projection.\n    Set in by default in Map's crs option.\n    * EPSG4326 : A common CRS among GIS enthusiasts.\n    Uses simple Equirectangular projection.\n    * EPSG3395 : Rarely used by some commercial tile providers.\n    Uses Elliptical Mercator projection.\n    * Simple : A simple CRS that maps longitude and latitude into\n    x and y directly. May be used for maps of flat surfaces\n    (e.g. game maps). Note that the y axis should still be inverted\n    (going from bottom to top).\ncontrol_scale : bool, default False\n    Whether to add a control scale on the map.\nprefer_canvas : bool, default False\n    Forces Leaflet to use the Canvas back-end (if available) for\n    vector layers instead of SVG. This can increase performance\n    considerably in some cases (e.g. many thousands of circle\n    markers on the map).\nno_touch : bool, default False\n    Forces Leaflet to not use touch events even if it detects them.\ndisable_3d : bool, default False\n    Forces Leaflet to not use hardware-accelerated CSS 3D\n    transforms for positioning (which may cause glitches in some\n    rare environments) even if they're supported.\nzoom_control : bool, default True\n    Display zoom controls on the map.\n**kwargs\n    Additional keyword arguments are passed to Leaflets Map class:\n    https://leafletjs.com/reference.html#map\nReturns\n-------\nFolium Map Object\nExamples\n--------\n&gt;&gt;&gt; m = folium.Map(location=[45.523, -122.675], width=750, height=500)\n&gt;&gt;&gt; m = folium.Map(location=[45.523, -122.675], tiles=\"cartodb positron\")\n&gt;&gt;&gt; m = folium.Map(\n...     location=[45.523, -122.675],\n...     zoom_start=2,\n...     tiles=\"https://api.mapbox.com/v4/mapbox.streets/{z}/{x}/{y}.png?access_token=mytoken\",\n...     attr=\"Mapbox attribution\",\n... )\nFile:           ~/mambaforge/envs/musa-550-fall-2023/lib/python3.10/site-packages/folium/folium.py\nType:           type\nSubclasses:     \n\n\n\n\n\nThe default tiles: OpenStreetMap\n\n# let's center the map on Philadelphia\nm = folium.Map(location=[39.99, -75.13], zoom_start=11)\n\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\nm = folium.Map(location=[39.99, -75.13], zoom_start=11, tiles=\"StamenWaterColor\")\n\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\n\nOther tile providers\nCheck out the xyzservices.providers for all of the available options. You can pass any of these built-in tile providers to Folium.Map() or the .explore() function.\n\n\n\n\n\n\nTip\n\n\n\nHere is a very useful demo of common tile providers: https://leaflet-extras.github.io/leaflet-providers/preview\n\n\n\nimport xyzservices\n\n\nxyzservices.providers\n\n\n        \n        \n            \n                \n                    xyzservices.Bunch\n                    40 items\n                \n                \n                    \n                        \n            \n                \n                OpenStreetMap xyzservices.Bunch\n                \n                    \n        \n        \n            \n                \n                    xyzservices.Bunch\n                    7 items\n                \n                \n                    \n                        \n            \n                \n                Mapnik xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OpenStreetMap.Mapnik\n                \n                \n                    \n                        urlhttps://tile.openstreetmap.org/{z}/{x}/{y}.pngmax_zoom19html_attribution© OpenStreetMap contributorsattribution(C) OpenStreetMap contributors\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                DE xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OpenStreetMap.DE\n                \n                \n                    \n                        urlhttps://tile.openstreetmap.de/{z}/{x}/{y}.pngmax_zoom18html_attribution© OpenStreetMap contributorsattribution(C) OpenStreetMap contributors\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                CH xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OpenStreetMap.CH\n                \n                \n                    \n                        urlhttps://tile.osm.ch/switzerland/{z}/{x}/{y}.pngmax_zoom18html_attribution© OpenStreetMap contributorsattribution(C) OpenStreetMap contributorsbounds[[45, 5], [48, 11]]\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                France xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OpenStreetMap.France\n                \n                \n                    \n                        urlhttps://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.pngmax_zoom20html_attribution© OpenStreetMap France | © OpenStreetMap contributorsattribution(C) OpenStreetMap France | (C) OpenStreetMap contributors\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                HOT xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OpenStreetMap.HOT\n                \n                \n                    \n                        urlhttps://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.pngmax_zoom19html_attribution© OpenStreetMap contributors, Tiles style by Humanitarian OpenStreetMap Team hosted by OpenStreetMap Franceattribution(C) OpenStreetMap contributors, Tiles style by Humanitarian OpenStreetMap Team hosted by OpenStreetMap France\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                BZH xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OpenStreetMap.BZH\n                \n                \n                    \n                        urlhttps://tile.openstreetmap.bzh/br/{z}/{x}/{y}.pngmax_zoom19html_attribution© OpenStreetMap contributors, Tiles courtesy of Breton OpenStreetMap Teamattribution(C) OpenStreetMap contributors, Tiles courtesy of Breton OpenStreetMap Teambounds[[46.2, -5.5], [50, 0.7]]\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                BlackAndWhite xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OpenStreetMap.BlackAndWhite\n                \n                \n                    \n                        urlhttp://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.pngmax_zoom18attribution(C) OpenStreetMap contributorshtml_attribution© OpenStreetMap contributors\n                    \n                \n            \n        \n        \n                \n            \n            \n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                MapTilesAPI xyzservices.Bunch\n                \n                    \n        \n        \n            \n                \n                    xyzservices.Bunch\n                    3 items\n                \n                \n                    \n                        \n            \n                \n                OSMEnglish xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    MapTilesAPI.OSMEnglish\n                \n                \n                    \n                        urlhttps://maptiles.p.rapidapi.com/{variant}/{z}/{x}/{y}.png?rapidapi-key={apikey}html_attribution© MapTiles API, © OpenStreetMap contributorsattribution(C) MapTiles API, (C) OpenStreetMap contributorsvarianten/map/v1apikeymax_zoom19\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                OSMFrancais xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    MapTilesAPI.OSMFrancais\n                \n                \n                    \n                        urlhttps://maptiles.p.rapidapi.com/{variant}/{z}/{x}/{y}.png?rapidapi-key={apikey}html_attribution© MapTiles API, © OpenStreetMap contributorsattribution(C) MapTiles API, (C) OpenStreetMap contributorsvariantfr/map/v1apikeymax_zoom19\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                OSMEspagnol xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    MapTilesAPI.OSMEspagnol\n                \n                \n                    \n                        urlhttps://maptiles.p.rapidapi.com/{variant}/{z}/{x}/{y}.png?rapidapi-key={apikey}html_attribution© MapTiles API, © OpenStreetMap contributorsattribution(C) MapTiles API, (C) OpenStreetMap contributorsvariantes/map/v1apikeymax_zoom19\n                    \n                \n            \n        \n        \n                \n            \n            \n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                OpenSeaMap xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OpenSeaMap\n                \n                \n                    \n                        urlhttps://tiles.openseamap.org/seamark/{z}/{x}/{y}.pnghtml_attributionMap data: © OpenSeaMap contributorsattributionMap data: (C) OpenSeaMap contributors\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                OPNVKarte xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OPNVKarte\n                \n                \n                    \n                        urlhttps://tileserver.memomaps.de/tilegen/{z}/{x}/{y}.pngmax_zoom18html_attributionMap memomaps.de CC-BY-SA, map data © OpenStreetMap contributorsattributionMap memomaps.de CC-BY-SA, map data (C) OpenStreetMap contributors\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                OpenTopoMap xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OpenTopoMap\n                \n                \n                    \n                        urlhttps://{s}.tile.opentopomap.org/{z}/{x}/{y}.pngmax_zoom17html_attributionMap data: © OpenStreetMap contributors, SRTM | Map style: © OpenTopoMap (CC-BY-SA)attributionMap data: (C) OpenStreetMap contributors, SRTM | Map style: (C) OpenTopoMap (CC-BY-SA)\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                OpenRailwayMap xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OpenRailwayMap\n                \n                \n                    \n                        urlhttps://{s}.tiles.openrailwaymap.org/standard/{z}/{x}/{y}.pngmax_zoom19html_attributionMap data: © OpenStreetMap contributors | Map style: © OpenRailwayMap (CC-BY-SA)attributionMap data: (C) OpenStreetMap contributors | Map style: (C) OpenRailwayMap (CC-BY-SA)\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                OpenFireMap xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OpenFireMap\n                \n                \n                    \n                        urlhttp://openfiremap.org/hytiles/{z}/{x}/{y}.pngmax_zoom19html_attributionMap data: © OpenStreetMap contributors | Map style: © OpenFireMap (CC-BY-SA)attributionMap data: (C) OpenStreetMap contributors | Map style: (C) OpenFireMap (CC-BY-SA)\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                SafeCast xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    SafeCast\n                \n                \n                    \n                        urlhttps://s3.amazonaws.com/te512.safecast.org/{z}/{x}/{y}.pngmax_zoom16html_attributionMap data: © OpenStreetMap contributors | Map style: © SafeCast (CC-BY-SA)attributionMap data: (C) OpenStreetMap contributors | Map style: (C) SafeCast (CC-BY-SA)\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Stadia xyzservices.Bunch\n                \n                    \n        \n        \n            \n                \n                    xyzservices.Bunch\n                    4 items\n                \n                \n                    \n                        \n            \n                \n                AlidadeSmooth xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Stadia.AlidadeSmooth\n                \n                \n                    \n                        urlhttps://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.pngmax_zoom20html_attribution© Stadia Maps, © OpenMapTiles © OpenStreetMap contributorsattribution(C) Stadia Maps, (C) OpenMapTiles (C) OpenStreetMap contributors\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                AlidadeSmoothDark xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Stadia.AlidadeSmoothDark\n                \n                \n                    \n                        urlhttps://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.pngmax_zoom20html_attribution© Stadia Maps, © OpenMapTiles © OpenStreetMap contributorsattribution(C) Stadia Maps, (C) OpenMapTiles (C) OpenStreetMap contributors\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                OSMBright xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Stadia.OSMBright\n                \n                \n                    \n                        urlhttps://tiles.stadiamaps.com/tiles/osm_bright/{z}/{x}/{y}{r}.pngmax_zoom20html_attribution© Stadia Maps, © OpenMapTiles © OpenStreetMap contributorsattribution(C) Stadia Maps, (C) OpenMapTiles (C) OpenStreetMap contributors\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Outdoors xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Stadia.Outdoors\n                \n                \n                    \n                        urlhttps://tiles.stadiamaps.com/tiles/outdoors/{z}/{x}/{y}{r}.pngmax_zoom20html_attribution© Stadia Maps, © OpenMapTiles © OpenStreetMap contributorsattribution(C) Stadia Maps, (C) OpenMapTiles (C) OpenStreetMap contributors\n                    \n                \n            \n        \n        \n                \n            \n            \n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Thunderforest xyzservices.Bunch\n                \n                    \n        \n        \n            \n                \n                    xyzservices.Bunch\n                    9 items\n                \n                \n                    \n                        \n            \n                \n                OpenCycleMap xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Thunderforest.OpenCycleMap\n                \n                \n                    \n                        urlhttps://{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png?apikey={apikey}html_attribution© Thunderforest, © OpenStreetMap contributorsattribution(C) Thunderforest, (C) OpenStreetMap contributorsvariantcycleapikeymax_zoom22\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Transport xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Thunderforest.Transport\n                \n                \n                    \n                        urlhttps://{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png?apikey={apikey}html_attribution© Thunderforest, © OpenStreetMap contributorsattribution(C) Thunderforest, (C) OpenStreetMap contributorsvarianttransportapikeymax_zoom22\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                TransportDark xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Thunderforest.TransportDark\n                \n                \n                    \n                        urlhttps://{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png?apikey={apikey}html_attribution© Thunderforest, © OpenStreetMap contributorsattribution(C) Thunderforest, (C) OpenStreetMap contributorsvarianttransport-darkapikeymax_zoom22\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                SpinalMap xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Thunderforest.SpinalMap\n                \n                \n                    \n                        urlhttps://{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png?apikey={apikey}html_attribution© Thunderforest, © OpenStreetMap contributorsattribution(C) Thunderforest, (C) OpenStreetMap contributorsvariantspinal-mapapikeymax_zoom22\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landscape xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Thunderforest.Landscape\n                \n                \n                    \n                        urlhttps://{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png?apikey={apikey}html_attribution© Thunderforest, © OpenStreetMap contributorsattribution(C) Thunderforest, (C) OpenStreetMap contributorsvariantlandscapeapikeymax_zoom22\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Outdoors xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Thunderforest.Outdoors\n                \n                \n                    \n                        urlhttps://{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png?apikey={apikey}html_attribution© Thunderforest, © OpenStreetMap contributorsattribution(C) Thunderforest, (C) OpenStreetMap contributorsvariantoutdoorsapikeymax_zoom22\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Pioneer xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Thunderforest.Pioneer\n                \n                \n                    \n                        urlhttps://{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png?apikey={apikey}html_attribution© Thunderforest, © OpenStreetMap contributorsattribution(C) Thunderforest, (C) OpenStreetMap contributorsvariantpioneerapikeymax_zoom22\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                MobileAtlas xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Thunderforest.MobileAtlas\n                \n                \n                    \n                        urlhttps://{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png?apikey={apikey}html_attribution© Thunderforest, © OpenStreetMap contributorsattribution(C) Thunderforest, (C) OpenStreetMap contributorsvariantmobile-atlasapikeymax_zoom22\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Neighbourhood xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Thunderforest.Neighbourhood\n                \n                \n                    \n                        urlhttps://{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png?apikey={apikey}html_attribution© Thunderforest, © OpenStreetMap contributorsattribution(C) Thunderforest, (C) OpenStreetMap contributorsvariantneighbourhoodapikeymax_zoom22\n                    \n                \n            \n        \n        \n                \n            \n            \n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                CyclOSM xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    CyclOSM\n                \n                \n                    \n                        urlhttps://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.pngmax_zoom20html_attributionCyclOSM | Map data: © OpenStreetMap contributorsattributionCyclOSM | Map data: (C) OpenStreetMap contributors\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Jawg xyzservices.Bunch\n                \n                    \n        \n        \n            \n                \n                    xyzservices.Bunch\n                    6 items\n                \n                \n                    \n                        \n            \n                \n                Streets xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Jawg.Streets\n                \n                \n                    \n                        urlhttps://{s}.tile.jawg.io/{variant}/{z}/{x}/{y}{r}.png?access-token={accessToken}html_attribution© JawgMaps © OpenStreetMap contributorsattribution(C) **Jawg** Maps (C) OpenStreetMap contributorsmin_zoom0max_zoom22subdomainsabcdvariantjawg-streetsaccessToken\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Terrain xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Jawg.Terrain\n                \n                \n                    \n                        urlhttps://{s}.tile.jawg.io/{variant}/{z}/{x}/{y}{r}.png?access-token={accessToken}html_attribution© JawgMaps © OpenStreetMap contributorsattribution(C) **Jawg** Maps (C) OpenStreetMap contributorsmin_zoom0max_zoom22subdomainsabcdvariantjawg-terrainaccessToken\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Sunny xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Jawg.Sunny\n                \n                \n                    \n                        urlhttps://{s}.tile.jawg.io/{variant}/{z}/{x}/{y}{r}.png?access-token={accessToken}html_attribution© JawgMaps © OpenStreetMap contributorsattribution(C) **Jawg** Maps (C) OpenStreetMap contributorsmin_zoom0max_zoom22subdomainsabcdvariantjawg-sunnyaccessToken\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Dark xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Jawg.Dark\n                \n                \n                    \n                        urlhttps://{s}.tile.jawg.io/{variant}/{z}/{x}/{y}{r}.png?access-token={accessToken}html_attribution© JawgMaps © OpenStreetMap contributorsattribution(C) **Jawg** Maps (C) OpenStreetMap contributorsmin_zoom0max_zoom22subdomainsabcdvariantjawg-darkaccessToken\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Light xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Jawg.Light\n                \n                \n                    \n                        urlhttps://{s}.tile.jawg.io/{variant}/{z}/{x}/{y}{r}.png?access-token={accessToken}html_attribution© JawgMaps © OpenStreetMap contributorsattribution(C) **Jawg** Maps (C) OpenStreetMap contributorsmin_zoom0max_zoom22subdomainsabcdvariantjawg-lightaccessToken\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Matrix xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Jawg.Matrix\n                \n                \n                    \n                        urlhttps://{s}.tile.jawg.io/{variant}/{z}/{x}/{y}{r}.png?access-token={accessToken}html_attribution© JawgMaps © OpenStreetMap contributorsattribution(C) **Jawg** Maps (C) OpenStreetMap contributorsmin_zoom0max_zoom22subdomainsabcdvariantjawg-matrixaccessToken\n                    \n                \n            \n        \n        \n                \n            \n            \n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                MapBox xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    MapBox\n                \n                \n                    \n                        urlhttps://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}{r}?access_token={accessToken}html_attribution© Mapbox © OpenStreetMap contributors Improve this mapattribution(C) Mapbox (C) OpenStreetMap contributors Improve this maptileSize512max_zoom18zoomOffset-1idmapbox/streets-v11accessToken\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                MapTiler xyzservices.Bunch\n                \n                    \n        \n        \n            \n                \n                    xyzservices.Bunch\n                    15 items\n                \n                \n                    \n                        \n            \n                \n                Streets xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    MapTiler.Streets\n                \n                \n                    \n                        urlhttps://api.maptiler.com/maps/{variant}/{z}/{x}/{y}{r}.{ext}?key={key}html_attribution© MapTiler © OpenStreetMap contributorsattribution(C) MapTiler (C) OpenStreetMap contributorsvariantstreetsextpngkeytileSize512zoomOffset-1min_zoom0max_zoom21\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Basic xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    MapTiler.Basic\n                \n                \n                    \n                        urlhttps://api.maptiler.com/maps/{variant}/{z}/{x}/{y}{r}.{ext}?key={key}html_attribution© MapTiler © OpenStreetMap contributorsattribution(C) MapTiler (C) OpenStreetMap contributorsvariantbasicextpngkeytileSize512zoomOffset-1min_zoom0max_zoom21\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Bright xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    MapTiler.Bright\n                \n                \n                    \n                        urlhttps://api.maptiler.com/maps/{variant}/{z}/{x}/{y}{r}.{ext}?key={key}html_attribution© MapTiler © OpenStreetMap contributorsattribution(C) MapTiler (C) OpenStreetMap contributorsvariantbrightextpngkeytileSize512zoomOffset-1min_zoom0max_zoom21\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Pastel xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    MapTiler.Pastel\n                \n                \n                    \n                        urlhttps://api.maptiler.com/maps/{variant}/{z}/{x}/{y}{r}.{ext}?key={key}html_attribution© MapTiler © OpenStreetMap contributorsattribution(C) MapTiler (C) OpenStreetMap contributorsvariantpastelextpngkeytileSize512zoomOffset-1min_zoom0max_zoom21\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Positron xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    MapTiler.Positron\n                \n                \n                    \n                        urlhttps://api.maptiler.com/maps/{variant}/{z}/{x}/{y}{r}.{ext}?key={key}html_attribution© MapTiler © OpenStreetMap contributorsattribution(C) MapTiler (C) OpenStreetMap contributorsvariantpositronextpngkeytileSize512zoomOffset-1min_zoom0max_zoom21\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Hybrid xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    MapTiler.Hybrid\n                \n                \n                    \n                        urlhttps://api.maptiler.com/maps/{variant}/{z}/{x}/{y}{r}.{ext}?key={key}html_attribution© MapTiler © OpenStreetMap contributorsattribution(C) MapTiler (C) OpenStreetMap contributorsvarianthybridextjpgkeytileSize512zoomOffset-1min_zoom0max_zoom21\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Toner xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    MapTiler.Toner\n                \n                \n                    \n                        urlhttps://api.maptiler.com/maps/{variant}/{z}/{x}/{y}{r}.{ext}?key={key}html_attribution© MapTiler © OpenStreetMap contributorsattribution(C) MapTiler (C) OpenStreetMap contributorsvarianttonerextpngkeytileSize512zoomOffset-1min_zoom0max_zoom21\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Topo xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    MapTiler.Topo\n                \n                \n                    \n                        urlhttps://api.maptiler.com/maps/{variant}/{z}/{x}/{y}{r}.{ext}?key={key}html_attribution© MapTiler © OpenStreetMap contributorsattribution(C) MapTiler (C) OpenStreetMap contributorsvarianttopoextpngkeytileSize512zoomOffset-1min_zoom0max_zoom21\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Voyager xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    MapTiler.Voyager\n                \n                \n                    \n                        urlhttps://api.maptiler.com/maps/{variant}/{z}/{x}/{y}{r}.{ext}?key={key}html_attribution© MapTiler © OpenStreetMap contributorsattribution(C) MapTiler (C) OpenStreetMap contributorsvariantvoyagerextpngkeytileSize512zoomOffset-1min_zoom0max_zoom21\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Basic4326 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    MapTiler.Basic4326\n                \n                \n                    \n                        urlhttps://api.maptiler.com/maps/{variant}/{z}/{x}/{y}{r}.{ext}?key={key}html_attribution© MapTiler © OpenStreetMap contributorsattribution(C) MapTiler (C) OpenStreetMap contributorsvariantbasic-4326extpngkeytileSize512zoomOffset-1min_zoom0max_zoom21crsEPSG:4326\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Outdoor xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    MapTiler.Outdoor\n                \n                \n                    \n                        urlhttps://api.maptiler.com/maps/{variant}/{z}/{x}/{y}{r}.{ext}?key={key}html_attribution© MapTiler © OpenStreetMap contributorsattribution(C) MapTiler (C) OpenStreetMap contributorsvariantoutdoorextpngkeytileSize512zoomOffset-1min_zoom0max_zoom21\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Topographique xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    MapTiler.Topographique\n                \n                \n                    \n                        urlhttps://api.maptiler.com/maps/{variant}/{z}/{x}/{y}{r}.{ext}?key={key}html_attribution© MapTiler © OpenStreetMap contributorsattribution(C) MapTiler (C) OpenStreetMap contributorsvarianttopographiqueextpngkeytileSize512zoomOffset-1min_zoom0max_zoom21\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Winter xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    MapTiler.Winter\n                \n                \n                    \n                        urlhttps://api.maptiler.com/maps/{variant}/{z}/{x}/{y}{r}.{ext}?key={key}html_attribution© MapTiler © OpenStreetMap contributorsattribution(C) MapTiler (C) OpenStreetMap contributorsvariantwinterextpngkeytileSize512zoomOffset-1min_zoom0max_zoom21\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Satellite xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    MapTiler.Satellite\n                \n                \n                    \n                        urlhttps://api.maptiler.com/tiles/{variant}/{z}/{x}/{y}.{ext}?key={key}html_attribution© MapTiler © OpenStreetMap contributorsattribution(C) MapTiler (C) OpenStreetMap contributorsvariantsatellite-v2extjpgkeymin_zoom0max_zoom20\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Terrain xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    MapTiler.Terrain\n                \n                \n                    \n                        urlhttps://api.maptiler.com/tiles/{variant}/{z}/{x}/{y}.{ext}?key={key}html_attribution© MapTiler © OpenStreetMap contributorsattribution(C) MapTiler (C) OpenStreetMap contributorsvariantterrain-rgbextpngkeymin_zoom0max_zoom12\n                    \n                \n            \n        \n        \n                \n            \n            \n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Stamen xyzservices.Bunch\n                \n                    \n        \n        \n            \n                \n                    xyzservices.Bunch\n                    12 items\n                \n                \n                    \n                        \n            \n                \n                Toner xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Stamen.Toner\n                \n                \n                    \n                        urlhttps://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}{r}.{ext}html_attributionMap tiles by Stamen Design, CC BY 3.0 — Map data © OpenStreetMap contributorsattributionMap tiles by Stamen Design, CC BY 3.0 -- Map data (C) OpenStreetMap contributorssubdomainsabcdmin_zoom0max_zoom20varianttonerextpng\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                TonerBackground xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Stamen.TonerBackground\n                \n                \n                    \n                        urlhttps://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}{r}.{ext}html_attributionMap tiles by Stamen Design, CC BY 3.0 — Map data © OpenStreetMap contributorsattributionMap tiles by Stamen Design, CC BY 3.0 -- Map data (C) OpenStreetMap contributorssubdomainsabcdmin_zoom0max_zoom20varianttoner-backgroundextpng\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                TonerHybrid xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Stamen.TonerHybrid\n                \n                \n                    \n                        urlhttps://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}{r}.{ext}html_attributionMap tiles by Stamen Design, CC BY 3.0 — Map data © OpenStreetMap contributorsattributionMap tiles by Stamen Design, CC BY 3.0 -- Map data (C) OpenStreetMap contributorssubdomainsabcdmin_zoom0max_zoom20varianttoner-hybridextpng\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                TonerLines xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Stamen.TonerLines\n                \n                \n                    \n                        urlhttps://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}{r}.{ext}html_attributionMap tiles by Stamen Design, CC BY 3.0 — Map data © OpenStreetMap contributorsattributionMap tiles by Stamen Design, CC BY 3.0 -- Map data (C) OpenStreetMap contributorssubdomainsabcdmin_zoom0max_zoom20varianttoner-linesextpng\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                TonerLabels xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Stamen.TonerLabels\n                \n                \n                    \n                        urlhttps://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}{r}.{ext}html_attributionMap tiles by Stamen Design, CC BY 3.0 — Map data © OpenStreetMap contributorsattributionMap tiles by Stamen Design, CC BY 3.0 -- Map data (C) OpenStreetMap contributorssubdomainsabcdmin_zoom0max_zoom20varianttoner-labelsextpng\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                TonerLite xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Stamen.TonerLite\n                \n                \n                    \n                        urlhttps://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}{r}.{ext}html_attributionMap tiles by Stamen Design, CC BY 3.0 — Map data © OpenStreetMap contributorsattributionMap tiles by Stamen Design, CC BY 3.0 -- Map data (C) OpenStreetMap contributorssubdomainsabcdmin_zoom0max_zoom20varianttoner-liteextpng\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Watercolor xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Stamen.Watercolor\n                \n                \n                    \n                        urlhttps://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}html_attributionMap tiles by Stamen Design, CC BY 3.0 — Map data © OpenStreetMap contributorsattributionMap tiles by Stamen Design, CC BY 3.0 -- Map data (C) OpenStreetMap contributorssubdomainsabcdmin_zoom1max_zoom16variantwatercolorextjpg\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Terrain xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Stamen.Terrain\n                \n                \n                    \n                        urlhttps://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}{r}.{ext}html_attributionMap tiles by Stamen Design, CC BY 3.0 — Map data © OpenStreetMap contributorsattributionMap tiles by Stamen Design, CC BY 3.0 -- Map data (C) OpenStreetMap contributorssubdomainsabcdmin_zoom0max_zoom18variantterrainextpng\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                TerrainBackground xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Stamen.TerrainBackground\n                \n                \n                    \n                        urlhttps://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}{r}.{ext}html_attributionMap tiles by Stamen Design, CC BY 3.0 — Map data © OpenStreetMap contributorsattributionMap tiles by Stamen Design, CC BY 3.0 -- Map data (C) OpenStreetMap contributorssubdomainsabcdmin_zoom0max_zoom18variantterrain-backgroundextpng\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                TerrainLabels xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Stamen.TerrainLabels\n                \n                \n                    \n                        urlhttps://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}{r}.{ext}html_attributionMap tiles by Stamen Design, CC BY 3.0 — Map data © OpenStreetMap contributorsattributionMap tiles by Stamen Design, CC BY 3.0 -- Map data (C) OpenStreetMap contributorssubdomainsabcdmin_zoom0max_zoom18variantterrain-labelsextpng\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                TopOSMRelief xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Stamen.TopOSMRelief\n                \n                \n                    \n                        urlhttps://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}html_attributionMap tiles by Stamen Design, CC BY 3.0 — Map data © OpenStreetMap contributorsattributionMap tiles by Stamen Design, CC BY 3.0 -- Map data (C) OpenStreetMap contributorssubdomainsabcdmin_zoom0max_zoom20varianttoposm-color-reliefextjpgbounds[[22, -132], [51, -56]]\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                TopOSMFeatures xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Stamen.TopOSMFeatures\n                \n                \n                    \n                        urlhttps://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}{r}.{ext}html_attributionMap tiles by Stamen Design, CC BY 3.0 — Map data © OpenStreetMap contributorsattributionMap tiles by Stamen Design, CC BY 3.0 -- Map data (C) OpenStreetMap contributorssubdomainsabcdmin_zoom0max_zoom20varianttoposm-featuresextpngbounds[[22, -132], [51, -56]]opacity0.9\n                    \n                \n            \n        \n        \n                \n            \n            \n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                TomTom xyzservices.Bunch\n                \n                    \n        \n        \n            \n                \n                    xyzservices.Bunch\n                    3 items\n                \n                \n                    \n                        \n            \n                \n                Basic xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    TomTom.Basic\n                \n                \n                    \n                        urlhttps://{s}.api.tomtom.com/map/1/tile/{variant}/{style}/{z}/{x}/{y}.{ext}?key={apikey}variantbasicmax_zoom22html_attribution©  1992 - 2023 TomTom. attribution(C) 1992 - 2023 TomTom.subdomainsabcdstylemainextpngapikey\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Hybrid xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    TomTom.Hybrid\n                \n                \n                    \n                        urlhttps://{s}.api.tomtom.com/map/1/tile/{variant}/{style}/{z}/{x}/{y}.{ext}?key={apikey}varianthybridmax_zoom22html_attribution©  1992 - 2023 TomTom. attribution(C) 1992 - 2023 TomTom.subdomainsabcdstylemainextpngapikey\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Labels xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    TomTom.Labels\n                \n                \n                    \n                        urlhttps://{s}.api.tomtom.com/map/1/tile/{variant}/{style}/{z}/{x}/{y}.{ext}?key={apikey}variantlabelsmax_zoom22html_attribution©  1992 - 2023 TomTom. attribution(C) 1992 - 2023 TomTom.subdomainsabcdstylemainextpngapikey\n                    \n                \n            \n        \n        \n                \n            \n            \n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Esri xyzservices.Bunch\n                \n                    \n        \n        \n            \n                \n                    xyzservices.Bunch\n                    15 items\n                \n                \n                    \n                        \n            \n                \n                WorldStreetMap xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Esri.WorldStreetMap\n                \n                \n                    \n                        urlhttps://server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}variantWorld_Street_Maphtml_attributionTiles © Esri — Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012attributionTiles (C) Esri -- Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                DeLorme xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Esri.DeLorme\n                \n                \n                    \n                        urlhttps://server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}variantSpecialty/DeLorme_World_Base_Maphtml_attributionTiles © Esri — Copyright: ©2012 DeLormeattributionTiles (C) Esri -- Copyright: (C)2012 DeLormemin_zoom1max_zoom11\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                WorldTopoMap xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Esri.WorldTopoMap\n                \n                \n                    \n                        urlhttps://server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}variantWorld_Topo_Maphtml_attributionTiles © Esri — Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User CommunityattributionTiles (C) Esri -- Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                WorldImagery xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Esri.WorldImagery\n                \n                \n                    \n                        urlhttps://server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}variantWorld_Imageryhtml_attributionTiles © Esri — Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User CommunityattributionTiles (C) Esri -- Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                WorldTerrain xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Esri.WorldTerrain\n                \n                \n                    \n                        urlhttps://server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}variantWorld_Terrain_Basehtml_attributionTiles © Esri — Source: USGS, Esri, TANA, DeLorme, and NPSattributionTiles (C) Esri -- Source: USGS, Esri, TANA, DeLorme, and NPSmax_zoom13\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                WorldShadedRelief xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Esri.WorldShadedRelief\n                \n                \n                    \n                        urlhttps://server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}variantWorld_Shaded_Reliefhtml_attributionTiles © Esri — Source: EsriattributionTiles (C) Esri -- Source: Esrimax_zoom13\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                WorldPhysical xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Esri.WorldPhysical\n                \n                \n                    \n                        urlhttps://server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}variantWorld_Physical_Maphtml_attributionTiles © Esri — Source: US National Park ServiceattributionTiles (C) Esri -- Source: US National Park Servicemax_zoom8\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                OceanBasemap xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Esri.OceanBasemap\n                \n                \n                    \n                        urlhttps://server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}variantOcean/World_Ocean_Basehtml_attributionTiles © Esri — Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and EsriattributionTiles (C) Esri -- Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esrimax_zoom13\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                NatGeoWorldMap xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Esri.NatGeoWorldMap\n                \n                \n                    \n                        urlhttps://server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}variantNatGeo_World_Maphtml_attributionTiles © Esri — National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPCattributionTiles (C) Esri -- National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPCmax_zoom16\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                WorldGrayCanvas xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Esri.WorldGrayCanvas\n                \n                \n                    \n                        urlhttps://server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}variantCanvas/World_Light_Gray_Basehtml_attributionTiles © Esri — Esri, DeLorme, NAVTEQattributionTiles (C) Esri -- Esri, DeLorme, NAVTEQmax_zoom16\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                ArcticImagery xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Esri.ArcticImagery\n                \n                \n                    \n                        urlhttp://server.arcgisonline.com/ArcGIS/rest/services/Polar/Arctic_Imagery/MapServer/tile/{z}/{y}/{x}variantArctic_Imageryhtml_attributionEarthstar GeographicsattributionEarthstar Geographicsmax_zoom24crsEPSG:5936bounds[[-2623285.8808999993, -2623285.8808999993], [6623285.8803, 6623285.8803]]\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                ArcticOceanBase xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Esri.ArcticOceanBase\n                \n                \n                    \n                        urlhttp://server.arcgisonline.com/ArcGIS/rest/services/Polar/Arctic_Ocean_Base/MapServer/tile/{z}/{y}/{x}variantArctic_Ocean_Basehtml_attributionTiles © Esri — Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User CommunityattributionTiles © Esri — Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Communitymax_zoom24crsEPSG:5936bounds[[-2623285.8808999993, -2623285.8808999993], [6623285.8803, 6623285.8803]]\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                ArcticOceanReference xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Esri.ArcticOceanReference\n                \n                \n                    \n                        urlhttp://server.arcgisonline.com/ArcGIS/rest/services/Polar/Arctic_Ocean_Reference/MapServer/tile/{z}/{y}/{x}variantArctic_Ocean_Referencehtml_attributionTiles © Esri — Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User CommunityattributionTiles © Esri — Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Communitymax_zoom24crsEPSG:5936bounds[[-2623285.8808999993, -2623285.8808999993], [6623285.8803, 6623285.8803]]\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                AntarcticImagery xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Esri.AntarcticImagery\n                \n                \n                    \n                        urlhttp://server.arcgisonline.com/ArcGIS/rest/services/Polar/Antarctic_Imagery/MapServer/tile/{z}/{y}/{x}variantAntarctic_Imageryhtml_attributionEarthstar GeographicsattributionEarthstar Geographicsmax_zoom24crsEPSG:3031bounds[[-9913957.327914657, -5730886.461772691], [9913957.327914657, 5730886.461773157]]\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                AntarcticBasemap xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Esri.AntarcticBasemap\n                \n                \n                    \n                        urlhttps://tiles.arcgis.com/tiles/C8EMgrsFcRFL6LrL/arcgis/rest/services/Antarctic_Basemap/MapServer/tile/{z}/{y}/{x}variantAntarctic_Basemaphtml_attributionImagery provided by NOAA National Centers for Environmental Information (NCEI); International Bathymetric Chart of the Southern Ocean (IBCSO); General Bathymetric Chart of the Oceans (GEBCO).attributionImagery provided by NOAA National Centers for Environmental Information (NCEI); International Bathymetric Chart of the Southern Ocean (IBCSO); General Bathymetric Chart of the Oceans (GEBCO).max_zoom9crsEPSG:3031bounds[[-4524583.19363305, -4524449.487765655], [4524449.4877656475, 4524583.193633042]]\n                    \n                \n            \n        \n        \n                \n            \n            \n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                OpenWeatherMap xyzservices.Bunch\n                \n                    \n        \n        \n            \n                \n                    xyzservices.Bunch\n                    11 items\n                \n                \n                    \n                        \n            \n                \n                Clouds xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OpenWeatherMap.Clouds\n                \n                \n                    \n                        urlhttp://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png?appid={apiKey}max_zoom19html_attributionMap data © OpenWeatherMapattributionMap data (C) OpenWeatherMapapiKeyopacity0.5variantclouds\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                CloudsClassic xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OpenWeatherMap.CloudsClassic\n                \n                \n                    \n                        urlhttp://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png?appid={apiKey}max_zoom19html_attributionMap data © OpenWeatherMapattributionMap data (C) OpenWeatherMapapiKeyopacity0.5variantclouds_cls\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Precipitation xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OpenWeatherMap.Precipitation\n                \n                \n                    \n                        urlhttp://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png?appid={apiKey}max_zoom19html_attributionMap data © OpenWeatherMapattributionMap data (C) OpenWeatherMapapiKeyopacity0.5variantprecipitation\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                PrecipitationClassic xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OpenWeatherMap.PrecipitationClassic\n                \n                \n                    \n                        urlhttp://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png?appid={apiKey}max_zoom19html_attributionMap data © OpenWeatherMapattributionMap data (C) OpenWeatherMapapiKeyopacity0.5variantprecipitation_cls\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Rain xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OpenWeatherMap.Rain\n                \n                \n                    \n                        urlhttp://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png?appid={apiKey}max_zoom19html_attributionMap data © OpenWeatherMapattributionMap data (C) OpenWeatherMapapiKeyopacity0.5variantrain\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                RainClassic xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OpenWeatherMap.RainClassic\n                \n                \n                    \n                        urlhttp://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png?appid={apiKey}max_zoom19html_attributionMap data © OpenWeatherMapattributionMap data (C) OpenWeatherMapapiKeyopacity0.5variantrain_cls\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Pressure xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OpenWeatherMap.Pressure\n                \n                \n                    \n                        urlhttp://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png?appid={apiKey}max_zoom19html_attributionMap data © OpenWeatherMapattributionMap data (C) OpenWeatherMapapiKeyopacity0.5variantpressure\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                PressureContour xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OpenWeatherMap.PressureContour\n                \n                \n                    \n                        urlhttp://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png?appid={apiKey}max_zoom19html_attributionMap data © OpenWeatherMapattributionMap data (C) OpenWeatherMapapiKeyopacity0.5variantpressure_cntr\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Wind xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OpenWeatherMap.Wind\n                \n                \n                    \n                        urlhttp://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png?appid={apiKey}max_zoom19html_attributionMap data © OpenWeatherMapattributionMap data (C) OpenWeatherMapapiKeyopacity0.5variantwind\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Temperature xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OpenWeatherMap.Temperature\n                \n                \n                    \n                        urlhttp://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png?appid={apiKey}max_zoom19html_attributionMap data © OpenWeatherMapattributionMap data (C) OpenWeatherMapapiKeyopacity0.5varianttemp\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Snow xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OpenWeatherMap.Snow\n                \n                \n                    \n                        urlhttp://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png?appid={apiKey}max_zoom19html_attributionMap data © OpenWeatherMapattributionMap data (C) OpenWeatherMapapiKeyopacity0.5variantsnow\n                    \n                \n            \n        \n        \n                \n            \n            \n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                HERE xyzservices.Bunch\n                \n                    \n        \n        \n            \n                \n                    xyzservices.Bunch\n                    30 items\n                \n                \n                    \n                        \n            \n                \n                normalDay xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.normalDay\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebasebasevariantnormal.daymax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                normalDayCustom xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.normalDayCustom\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebasebasevariantnormal.day.custommax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                normalDayGrey xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.normalDayGrey\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebasebasevariantnormal.day.greymax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                normalDayMobile xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.normalDayMobile\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebasebasevariantnormal.day.mobilemax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                normalDayGreyMobile xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.normalDayGreyMobile\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebasebasevariantnormal.day.grey.mobilemax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                normalDayTransit xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.normalDayTransit\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebasebasevariantnormal.day.transitmax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                normalDayTransitMobile xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.normalDayTransitMobile\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebasebasevariantnormal.day.transit.mobilemax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                normalDayTraffic xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.normalDayTraffic\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebasetrafficvariantnormal.traffic.daymax_zoom20typetraffictilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                normalNight xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.normalNight\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebasebasevariantnormal.nightmax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                normalNightMobile xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.normalNightMobile\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebasebasevariantnormal.night.mobilemax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                normalNightGrey xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.normalNightGrey\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebasebasevariantnormal.night.greymax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                normalNightGreyMobile xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.normalNightGreyMobile\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebasebasevariantnormal.night.grey.mobilemax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                normalNightTransit xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.normalNightTransit\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebasebasevariantnormal.night.transitmax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                normalNightTransitMobile xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.normalNightTransitMobile\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebasebasevariantnormal.night.transit.mobilemax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                reducedDay xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.reducedDay\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebasebasevariantreduced.daymax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                reducedNight xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.reducedNight\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebasebasevariantreduced.nightmax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                basicMap xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.basicMap\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebasebasevariantnormal.daymax_zoom20typebasetilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                mapLabels xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.mapLabels\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebasebasevariantnormal.daymax_zoom20typelabeltilelanguageengformatpngsize256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                trafficFlow xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.trafficFlow\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebasetrafficvariantnormal.daymax_zoom20typeflowtilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                carnavDayGrey xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.carnavDayGrey\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebasebasevariantcarnav.day.greymax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                hybridDay xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.hybridDay\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebaseaerialvarianthybrid.daymax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                hybridDayMobile xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.hybridDayMobile\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebaseaerialvarianthybrid.day.mobilemax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                hybridDayTransit xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.hybridDayTransit\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebaseaerialvarianthybrid.day.transitmax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                hybridDayGrey xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.hybridDayGrey\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebaseaerialvarianthybrid.grey.daymax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                hybridDayTraffic xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.hybridDayTraffic\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebasetrafficvarianthybrid.traffic.daymax_zoom20typetraffictilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                pedestrianDay xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.pedestrianDay\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebasebasevariantpedestrian.daymax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                pedestrianNight xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.pedestrianNight\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebasebasevariantpedestrian.nightmax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                satelliteDay xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.satelliteDay\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebaseaerialvariantsatellite.daymax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                terrainDay xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.terrainDay\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebaseaerialvariantterrain.daymax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                terrainDayMobile xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HERE.terrainDayMobile\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapp_idapp_codebaseaerialvariantterrain.day.mobilemax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                HEREv3 xyzservices.Bunch\n                \n                    \n        \n        \n            \n                \n                    xyzservices.Bunch\n                    28 items\n                \n                \n                    \n                        \n            \n                \n                normalDay xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HEREv3.normalDay\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapiKeybasebasevariantnormal.daymax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                normalDayCustom xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HEREv3.normalDayCustom\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapiKeybasebasevariantnormal.day.custommax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                normalDayGrey xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HEREv3.normalDayGrey\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapiKeybasebasevariantnormal.day.greymax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                normalDayMobile xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HEREv3.normalDayMobile\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapiKeybasebasevariantnormal.day.mobilemax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                normalDayGreyMobile xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HEREv3.normalDayGreyMobile\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapiKeybasebasevariantnormal.day.grey.mobilemax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                normalDayTransit xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HEREv3.normalDayTransit\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapiKeybasebasevariantnormal.day.transitmax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                normalDayTransitMobile xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HEREv3.normalDayTransitMobile\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapiKeybasebasevariantnormal.day.transit.mobilemax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                normalNight xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HEREv3.normalNight\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapiKeybasebasevariantnormal.nightmax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                normalNightMobile xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HEREv3.normalNightMobile\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapiKeybasebasevariantnormal.night.mobilemax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                normalNightGrey xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HEREv3.normalNightGrey\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapiKeybasebasevariantnormal.night.greymax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                normalNightGreyMobile xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HEREv3.normalNightGreyMobile\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapiKeybasebasevariantnormal.night.grey.mobilemax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                normalNightTransit xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HEREv3.normalNightTransit\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapiKeybasebasevariantnormal.night.transitmax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                normalNightTransitMobile xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HEREv3.normalNightTransitMobile\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapiKeybasebasevariantnormal.night.transit.mobilemax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                reducedDay xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HEREv3.reducedDay\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapiKeybasebasevariantreduced.daymax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                reducedNight xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HEREv3.reducedNight\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapiKeybasebasevariantreduced.nightmax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                basicMap xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HEREv3.basicMap\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapiKeybasebasevariantnormal.daymax_zoom20typebasetilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                mapLabels xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HEREv3.mapLabels\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapiKeybasebasevariantnormal.daymax_zoom20typelabeltilelanguageengformatpngsize256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                trafficFlow xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HEREv3.trafficFlow\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapiKeybasetrafficvariantnormal.daymax_zoom20typeflowtilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                carnavDayGrey xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HEREv3.carnavDayGrey\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapiKeybasebasevariantcarnav.day.greymax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                hybridDay xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HEREv3.hybridDay\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapiKeybaseaerialvarianthybrid.daymax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                hybridDayMobile xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HEREv3.hybridDayMobile\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapiKeybaseaerialvarianthybrid.day.mobilemax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                hybridDayTransit xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HEREv3.hybridDayTransit\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapiKeybaseaerialvarianthybrid.day.transitmax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                hybridDayGrey xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HEREv3.hybridDayGrey\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapiKeybaseaerialvarianthybrid.grey.daymax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                pedestrianDay xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HEREv3.pedestrianDay\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapiKeybasebasevariantpedestrian.daymax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                pedestrianNight xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HEREv3.pedestrianNight\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapiKeybasebasevariantpedestrian.nightmax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                satelliteDay xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HEREv3.satelliteDay\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapiKeybaseaerialvariantsatellite.daymax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                terrainDay xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HEREv3.terrainDay\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapiKeybaseaerialvariantterrain.daymax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                terrainDayMobile xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HEREv3.terrainDayMobile\n                \n                \n                    \n                        urlhttps://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}html_attributionMap © 1987-2023 HEREattributionMap (C) 1987-2023 HEREsubdomains1234mapIDnewestapiKeybaseaerialvariantterrain.day.mobilemax_zoom20typemaptilelanguageengformatpng8size256\n                    \n                \n            \n        \n        \n                \n            \n            \n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                FreeMapSK xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    FreeMapSK\n                \n                \n                    \n                        urlhttps://{s}.freemap.sk/T/{z}/{x}/{y}.jpegmin_zoom8max_zoom16subdomainsabcdbounds[[47.204642, 15.996093], [49.830896, 22.576904]]html_attribution© OpenStreetMap contributors, visualization CC-By-SA 2.0 Freemap.skattribution(C) OpenStreetMap contributors, visualization CC-By-SA 2.0 Freemap.sk\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                MtbMap xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    MtbMap\n                \n                \n                    \n                        urlhttp://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.pnghtml_attribution© OpenStreetMap contributors & USGSattribution(C) OpenStreetMap contributors & USGS\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                CartoDB xyzservices.Bunch\n                \n                    \n        \n        \n            \n                \n                    xyzservices.Bunch\n                    10 items\n                \n                \n                    \n                        \n            \n                \n                Positron xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    CartoDB.Positron\n                \n                \n                    \n                        urlhttps://{s}.basemaps.cartocdn.com/{variant}/{z}/{x}/{y}{r}.pnghtml_attribution© OpenStreetMap contributors © CARTOattribution(C) OpenStreetMap contributors (C) CARTOsubdomainsabcdmax_zoom20variantlight_all\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                PositronNoLabels xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    CartoDB.PositronNoLabels\n                \n                \n                    \n                        urlhttps://{s}.basemaps.cartocdn.com/{variant}/{z}/{x}/{y}{r}.pnghtml_attribution© OpenStreetMap contributors © CARTOattribution(C) OpenStreetMap contributors (C) CARTOsubdomainsabcdmax_zoom20variantlight_nolabels\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                PositronOnlyLabels xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    CartoDB.PositronOnlyLabels\n                \n                \n                    \n                        urlhttps://{s}.basemaps.cartocdn.com/{variant}/{z}/{x}/{y}{r}.pnghtml_attribution© OpenStreetMap contributors © CARTOattribution(C) OpenStreetMap contributors (C) CARTOsubdomainsabcdmax_zoom20variantlight_only_labels\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                DarkMatter xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    CartoDB.DarkMatter\n                \n                \n                    \n                        urlhttps://{s}.basemaps.cartocdn.com/{variant}/{z}/{x}/{y}{r}.pnghtml_attribution© OpenStreetMap contributors © CARTOattribution(C) OpenStreetMap contributors (C) CARTOsubdomainsabcdmax_zoom20variantdark_all\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                DarkMatterNoLabels xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    CartoDB.DarkMatterNoLabels\n                \n                \n                    \n                        urlhttps://{s}.basemaps.cartocdn.com/{variant}/{z}/{x}/{y}{r}.pnghtml_attribution© OpenStreetMap contributors © CARTOattribution(C) OpenStreetMap contributors (C) CARTOsubdomainsabcdmax_zoom20variantdark_nolabels\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                DarkMatterOnlyLabels xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    CartoDB.DarkMatterOnlyLabels\n                \n                \n                    \n                        urlhttps://{s}.basemaps.cartocdn.com/{variant}/{z}/{x}/{y}{r}.pnghtml_attribution© OpenStreetMap contributors © CARTOattribution(C) OpenStreetMap contributors (C) CARTOsubdomainsabcdmax_zoom20variantdark_only_labels\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Voyager xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    CartoDB.Voyager\n                \n                \n                    \n                        urlhttps://{s}.basemaps.cartocdn.com/{variant}/{z}/{x}/{y}{r}.pnghtml_attribution© OpenStreetMap contributors © CARTOattribution(C) OpenStreetMap contributors (C) CARTOsubdomainsabcdmax_zoom20variantrastertiles/voyager\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                VoyagerNoLabels xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    CartoDB.VoyagerNoLabels\n                \n                \n                    \n                        urlhttps://{s}.basemaps.cartocdn.com/{variant}/{z}/{x}/{y}{r}.pnghtml_attribution© OpenStreetMap contributors © CARTOattribution(C) OpenStreetMap contributors (C) CARTOsubdomainsabcdmax_zoom20variantrastertiles/voyager_nolabels\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                VoyagerOnlyLabels xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    CartoDB.VoyagerOnlyLabels\n                \n                \n                    \n                        urlhttps://{s}.basemaps.cartocdn.com/{variant}/{z}/{x}/{y}{r}.pnghtml_attribution© OpenStreetMap contributors © CARTOattribution(C) OpenStreetMap contributors (C) CARTOsubdomainsabcdmax_zoom20variantrastertiles/voyager_only_labels\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                VoyagerLabelsUnder xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    CartoDB.VoyagerLabelsUnder\n                \n                \n                    \n                        urlhttps://{s}.basemaps.cartocdn.com/{variant}/{z}/{x}/{y}{r}.pnghtml_attribution© OpenStreetMap contributors © CARTOattribution(C) OpenStreetMap contributors (C) CARTOsubdomainsabcdmax_zoom20variantrastertiles/voyager_labels_under\n                    \n                \n            \n        \n        \n                \n            \n            \n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                HikeBike xyzservices.Bunch\n                \n                    \n        \n        \n            \n                \n                    xyzservices.Bunch\n                    2 items\n                \n                \n                    \n                        \n            \n                \n                HikeBike xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HikeBike.HikeBike\n                \n                \n                    \n                        urlhttps://tiles.wmflabs.org/{variant}/{z}/{x}/{y}.pngmax_zoom19html_attribution© OpenStreetMap contributorsattribution(C) OpenStreetMap contributorsvarianthikebike\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                HillShading xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    HikeBike.HillShading\n                \n                \n                    \n                        urlhttps://tiles.wmflabs.org/{variant}/{z}/{x}/{y}.pngmax_zoom15html_attribution© OpenStreetMap contributorsattribution(C) OpenStreetMap contributorsvarianthillshading\n                    \n                \n            \n        \n        \n                \n            \n            \n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                BasemapAT xyzservices.Bunch\n                \n                    \n        \n        \n            \n                \n                    xyzservices.Bunch\n                    7 items\n                \n                \n                    \n                        \n            \n                \n                basemap xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    BasemapAT.basemap\n                \n                \n                    \n                        urlhttps://maps{s}.wien.gv.at/basemap/{variant}/{type}/google3857/{z}/{y}/{x}.{format}max_zoom20html_attributionDatenquelle: basemap.atattributionDatenquelle: basemap.atsubdomains['', '1', '2', '3', '4']typenormalformatpngbounds[[46.35877, 8.782379], [49.037872, 17.189532]]variantgeolandbasemap\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                grau xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    BasemapAT.grau\n                \n                \n                    \n                        urlhttps://maps{s}.wien.gv.at/basemap/{variant}/{type}/google3857/{z}/{y}/{x}.{format}max_zoom19html_attributionDatenquelle: basemap.atattributionDatenquelle: basemap.atsubdomains['', '1', '2', '3', '4']typenormalformatpngbounds[[46.35877, 8.782379], [49.037872, 17.189532]]variantbmapgrau\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                overlay xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    BasemapAT.overlay\n                \n                \n                    \n                        urlhttps://maps{s}.wien.gv.at/basemap/{variant}/{type}/google3857/{z}/{y}/{x}.{format}max_zoom19html_attributionDatenquelle: basemap.atattributionDatenquelle: basemap.atsubdomains['', '1', '2', '3', '4']typenormalformatpngbounds[[46.35877, 8.782379], [49.037872, 17.189532]]variantbmapoverlay\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                terrain xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    BasemapAT.terrain\n                \n                \n                    \n                        urlhttps://maps{s}.wien.gv.at/basemap/{variant}/{type}/google3857/{z}/{y}/{x}.{format}max_zoom19html_attributionDatenquelle: basemap.atattributionDatenquelle: basemap.atsubdomains['', '1', '2', '3', '4']typegrauformatjpegbounds[[46.35877, 8.782379], [49.037872, 17.189532]]variantbmapgelaende\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                surface xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    BasemapAT.surface\n                \n                \n                    \n                        urlhttps://maps{s}.wien.gv.at/basemap/{variant}/{type}/google3857/{z}/{y}/{x}.{format}max_zoom19html_attributionDatenquelle: basemap.atattributionDatenquelle: basemap.atsubdomains['', '1', '2', '3', '4']typegrauformatjpegbounds[[46.35877, 8.782379], [49.037872, 17.189532]]variantbmapoberflaeche\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                highdpi xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    BasemapAT.highdpi\n                \n                \n                    \n                        urlhttps://maps{s}.wien.gv.at/basemap/{variant}/{type}/google3857/{z}/{y}/{x}.{format}max_zoom19html_attributionDatenquelle: basemap.atattributionDatenquelle: basemap.atsubdomains['', '1', '2', '3', '4']typenormalformatjpegbounds[[46.35877, 8.782379], [49.037872, 17.189532]]variantbmaphidpi\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                orthofoto xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    BasemapAT.orthofoto\n                \n                \n                    \n                        urlhttps://maps{s}.wien.gv.at/basemap/{variant}/{type}/google3857/{z}/{y}/{x}.{format}max_zoom20html_attributionDatenquelle: basemap.atattributionDatenquelle: basemap.atsubdomains['', '1', '2', '3', '4']typenormalformatjpegbounds[[46.35877, 8.782379], [49.037872, 17.189532]]variantbmaporthofoto30cm\n                    \n                \n            \n        \n        \n                \n            \n            \n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                nlmaps xyzservices.Bunch\n                \n                    \n        \n        \n            \n                \n                    xyzservices.Bunch\n                    5 items\n                \n                \n                    \n                        \n            \n                \n                standaard xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    nlmaps.standaard\n                \n                \n                    \n                        urlhttps://service.pdok.nl/brt/achtergrondkaart/wmts/v2_0/{variant}/EPSG:3857/{z}/{x}/{y}.pngmin_zoom6max_zoom19bounds[[50.5, 3.25], [54, 7.6]]html_attributionKaartgegevens © KadasterattributionKaartgegevens (C) Kadastervariantstandaard\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                pastel xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    nlmaps.pastel\n                \n                \n                    \n                        urlhttps://service.pdok.nl/brt/achtergrondkaart/wmts/v2_0/{variant}/EPSG:3857/{z}/{x}/{y}.pngmin_zoom6max_zoom19bounds[[50.5, 3.25], [54, 7.6]]html_attributionKaartgegevens © KadasterattributionKaartgegevens (C) Kadastervariantpastel\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                grijs xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    nlmaps.grijs\n                \n                \n                    \n                        urlhttps://service.pdok.nl/brt/achtergrondkaart/wmts/v2_0/{variant}/EPSG:3857/{z}/{x}/{y}.pngmin_zoom6max_zoom19bounds[[50.5, 3.25], [54, 7.6]]html_attributionKaartgegevens © KadasterattributionKaartgegevens (C) Kadastervariantgrijs\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                water xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    nlmaps.water\n                \n                \n                    \n                        urlhttps://service.pdok.nl/brt/achtergrondkaart/wmts/v2_0/{variant}/EPSG:3857/{z}/{x}/{y}.pngmin_zoom6max_zoom19bounds[[50.5, 3.25], [54, 7.6]]html_attributionKaartgegevens © KadasterattributionKaartgegevens (C) Kadastervariantwater\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                luchtfoto xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    nlmaps.luchtfoto\n                \n                \n                    \n                        urlhttps://service.pdok.nl/hwh/luchtfotorgb/wmts/v1_0/Actueel_ortho25/EPSG:3857/{z}/{x}/{y}.jpegmin_zoom6max_zoom19bounds[[50.5, 3.25], [54, 7.6]]html_attributionKaartgegevens © KadasterattributionKaartgegevens (C) Kadaster\n                    \n                \n            \n        \n        \n                \n            \n            \n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                NASAGIBS xyzservices.Bunch\n                \n                    \n        \n        \n            \n                \n                    xyzservices.Bunch\n                    15 items\n                \n                \n                    \n                        \n            \n                \n                ModisTerraTrueColorCR xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    NASAGIBS.ModisTerraTrueColorCR\n                \n                \n                    \n                        urlhttps://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}{max_zoom}/{z}/{y}/{x}.{format}html_attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.bounds[[-85.0511287776, -179.999999975], [85.0511287776, 179.999999975]]min_zoom1max_zoom9formatjpgtimetilematrixsetGoogleMapsCompatible_LevelvariantMODIS_Terra_CorrectedReflectance_TrueColor\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                ModisTerraBands367CR xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    NASAGIBS.ModisTerraBands367CR\n                \n                \n                    \n                        urlhttps://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}{max_zoom}/{z}/{y}/{x}.{format}html_attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.bounds[[-85.0511287776, -179.999999975], [85.0511287776, 179.999999975]]min_zoom1max_zoom9formatjpgtimetilematrixsetGoogleMapsCompatible_LevelvariantMODIS_Terra_CorrectedReflectance_Bands367\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                ViirsEarthAtNight2012 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    NASAGIBS.ViirsEarthAtNight2012\n                \n                \n                    \n                        urlhttps://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}{max_zoom}/{z}/{y}/{x}.{format}html_attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.bounds[[-85.0511287776, -179.999999975], [85.0511287776, 179.999999975]]min_zoom1max_zoom8formatjpgtimetilematrixsetGoogleMapsCompatible_LevelvariantVIIRS_CityLights_2012\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                ModisTerraLSTDay xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    NASAGIBS.ModisTerraLSTDay\n                \n                \n                    \n                        urlhttps://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}{max_zoom}/{z}/{y}/{x}.{format}html_attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.bounds[[-85.0511287776, -179.999999975], [85.0511287776, 179.999999975]]min_zoom1max_zoom7formatpngtimetilematrixsetGoogleMapsCompatible_LevelvariantMODIS_Terra_Land_Surface_Temp_Dayopacity0.75\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                ModisTerraSnowCover xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    NASAGIBS.ModisTerraSnowCover\n                \n                \n                    \n                        urlhttps://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}{max_zoom}/{z}/{y}/{x}.{format}html_attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.bounds[[-85.0511287776, -179.999999975], [85.0511287776, 179.999999975]]min_zoom1max_zoom8formatpngtimetilematrixsetGoogleMapsCompatible_LevelvariantMODIS_Terra_NDSI_Snow_Coveropacity0.75\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                ModisTerraAOD xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    NASAGIBS.ModisTerraAOD\n                \n                \n                    \n                        urlhttps://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}{max_zoom}/{z}/{y}/{x}.{format}html_attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.bounds[[-85.0511287776, -179.999999975], [85.0511287776, 179.999999975]]min_zoom1max_zoom6formatpngtimetilematrixsetGoogleMapsCompatible_LevelvariantMODIS_Terra_Aerosolopacity0.75\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                ModisTerraChlorophyll xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    NASAGIBS.ModisTerraChlorophyll\n                \n                \n                    \n                        urlhttps://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}{max_zoom}/{z}/{y}/{x}.{format}html_attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.bounds[[-85.0511287776, -179.999999975], [85.0511287776, 179.999999975]]min_zoom1max_zoom7formatpngtimetilematrixsetGoogleMapsCompatible_LevelvariantMODIS_Terra_Chlorophyll_Aopacity0.75\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                ModisTerraBands721CR xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    NASAGIBS.ModisTerraBands721CR\n                \n                \n                    \n                        urlhttps://gibs.earthdata.nasa.gov/wmts/epsg3857/best/MODIS_Terra_CorrectedReflectance_Bands721/default/{time}/GoogleMapsCompatible_Level9/{z}/{y}/{x}.jpgmax_zoom9attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.html_attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.time\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                ModisAquaTrueColorCR xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    NASAGIBS.ModisAquaTrueColorCR\n                \n                \n                    \n                        urlhttps://gibs.earthdata.nasa.gov/wmts/epsg3857/best/MODIS_Aqua_CorrectedReflectance_TrueColor/default/{time}/GoogleMapsCompatible_Level9/{z}/{y}/{x}.jpgmax_zoom9attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.html_attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.time\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                ModisAquaBands721CR xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    NASAGIBS.ModisAquaBands721CR\n                \n                \n                    \n                        urlhttps://gibs.earthdata.nasa.gov/wmts/epsg3857/best/MODIS_Aqua_CorrectedReflectance_Bands721/default/{time}/GoogleMapsCompatible_Level9/{z}/{y}/{x}.jpgmax_zoom9attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.html_attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.time\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                ViirsTrueColorCR xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    NASAGIBS.ViirsTrueColorCR\n                \n                \n                    \n                        urlhttps://gibs.earthdata.nasa.gov/wmts/epsg3857/best/VIIRS_SNPP_CorrectedReflectance_TrueColor/default/{time}/GoogleMapsCompatible_Level9/{z}/{y}/{x}.jpgmax_zoom9attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.html_attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.time\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                BlueMarble3413 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    NASAGIBS.BlueMarble3413\n                \n                \n                    \n                        urlhttps://gibs.earthdata.nasa.gov/wmts/epsg3413/best/BlueMarble_NextGeneration/default/EPSG3413_500m/{z}/{y}/{x}.jpegmax_zoom5attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.html_attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.crsEPSG:3413\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                BlueMarble3031 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    NASAGIBS.BlueMarble3031\n                \n                \n                    \n                        urlhttps://gibs.earthdata.nasa.gov/wmts/epsg3031/best/BlueMarble_NextGeneration/default/EPSG3031_500m/{z}/{y}/{x}.jpegmax_zoom5attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.html_attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.crsEPSG:3031\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                BlueMarble xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    NASAGIBS.BlueMarble\n                \n                \n                    \n                        urlhttps://gibs.earthdata.nasa.gov/wmts/epsg3857/best/BlueMarble_NextGeneration/default/EPSG3857_500m/{z}/{y}/{x}.jpegmax_zoom8attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.html_attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                ASTER_GDEM_Greyscale_Shaded_Relief xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    NASAGIBS.ASTER_GDEM_Greyscale_Shaded_Relief\n                \n                \n                    \n                        urlhttps://gibs.earthdata.nasa.gov/wmts/epsg3857/best/ASTER_GDEM_Greyscale_Shaded_Relief/default/GoogleMapsCompatible_Level12/{z}/{y}/{x}.jpgmax_zoom12attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.html_attributionImagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (ESDIS) with funding provided by NASA/HQ.\n                    \n                \n            \n        \n        \n                \n            \n            \n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                NLS xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    NLS\n                \n                \n                    \n                        urlhttps://nls-{s}.tileserver.com/nls/{z}/{x}/{y}.jpghtml_attributionNational Library of Scotland Historic MapsattributionNational Library of Scotland Historic Mapsbounds[[49.6, -12], [61.7, 3]]min_zoom1max_zoom18subdomains0123\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                JusticeMap xyzservices.Bunch\n                \n                    \n        \n        \n            \n                \n                    xyzservices.Bunch\n                    9 items\n                \n                \n                    \n                        \n            \n                \n                income xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    JusticeMap.income\n                \n                \n                    \n                        urlhttps://www.justicemap.org/tile/{size}/{variant}/{z}/{x}/{y}.pnghtml_attributionJustice MapattributionJustice Mapsizecountybounds[[14, -180], [72, -56]]variantincome\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                americanIndian xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    JusticeMap.americanIndian\n                \n                \n                    \n                        urlhttps://www.justicemap.org/tile/{size}/{variant}/{z}/{x}/{y}.pnghtml_attributionJustice MapattributionJustice Mapsizecountybounds[[14, -180], [72, -56]]variantindian\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                asian xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    JusticeMap.asian\n                \n                \n                    \n                        urlhttps://www.justicemap.org/tile/{size}/{variant}/{z}/{x}/{y}.pnghtml_attributionJustice MapattributionJustice Mapsizecountybounds[[14, -180], [72, -56]]variantasian\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                black xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    JusticeMap.black\n                \n                \n                    \n                        urlhttps://www.justicemap.org/tile/{size}/{variant}/{z}/{x}/{y}.pnghtml_attributionJustice MapattributionJustice Mapsizecountybounds[[14, -180], [72, -56]]variantblack\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                hispanic xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    JusticeMap.hispanic\n                \n                \n                    \n                        urlhttps://www.justicemap.org/tile/{size}/{variant}/{z}/{x}/{y}.pnghtml_attributionJustice MapattributionJustice Mapsizecountybounds[[14, -180], [72, -56]]varianthispanic\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                multi xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    JusticeMap.multi\n                \n                \n                    \n                        urlhttps://www.justicemap.org/tile/{size}/{variant}/{z}/{x}/{y}.pnghtml_attributionJustice MapattributionJustice Mapsizecountybounds[[14, -180], [72, -56]]variantmulti\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                nonWhite xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    JusticeMap.nonWhite\n                \n                \n                    \n                        urlhttps://www.justicemap.org/tile/{size}/{variant}/{z}/{x}/{y}.pnghtml_attributionJustice MapattributionJustice Mapsizecountybounds[[14, -180], [72, -56]]variantnonwhite\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                white xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    JusticeMap.white\n                \n                \n                    \n                        urlhttps://www.justicemap.org/tile/{size}/{variant}/{z}/{x}/{y}.pnghtml_attributionJustice MapattributionJustice Mapsizecountybounds[[14, -180], [72, -56]]variantwhite\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                plurality xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    JusticeMap.plurality\n                \n                \n                    \n                        urlhttps://www.justicemap.org/tile/{size}/{variant}/{z}/{x}/{y}.pnghtml_attributionJustice MapattributionJustice Mapsizecountybounds[[14, -180], [72, -56]]variantplural\n                    \n                \n            \n        \n        \n                \n            \n            \n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                GeoportailFrance xyzservices.Bunch\n                \n                    \n        \n        \n            \n                \n                    xyzservices.Bunch\n                    271 items\n                \n                \n                    \n                        \n            \n                \n                plan xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.plan\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-85.0, -175.0], [85.0, 175.0]]min_zoom0max_zoom19apikeyessentielsformatimage/pngstylenormalvariantGEOGRAPHICALGRIDSYSTEMS.PLANIGNV2TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                parcels xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.parcels\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom0max_zoom19apikeyessentielsformatimage/pngstylenormalvariantCADASTRALPARCELS.PARCELLAIRE_EXPRESSTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                orthos xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.orthos\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom0max_zoom21apikeyorthoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOSTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Adminexpress_cog_carto_Latest xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Adminexpress_cog_carto_Latest\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyadministratifformatimage/pngstylenormalvariantADMINEXPRESS-COG-CARTO.LATESTTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Adminexpress_cog_Latest xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Adminexpress_cog_Latest\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyadministratifformatimage/pngstylenormalvariantADMINEXPRESS-COG.LATESTTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Limites_administratives_express_Latest xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Limites_administratives_express_Latest\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyadministratifformatimage/pngstylenormalvariantLIMITES_ADMINISTRATIVES_EXPRESS.LATESTTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Geographicalgridsystems_Slopes_Pac xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Geographicalgridsystems_Slopes_Pac\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.5446, -63.1614], [51.0991, 56.0018]]min_zoom0max_zoom15apikeyagricultureformatimage/pngstylenormalvariantGEOGRAPHICALGRIDSYSTEMS.SLOPES.PACTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Hydrography_Bcae_Latest xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Hydrography_Bcae_Latest\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.3252, -5.15047], [51.0991, 9.57054]]min_zoom6max_zoom17apikeyagricultureformatimage/pngstylenormalvariantHYDROGRAPHY.BCAE.LATESTTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landuse_Agriculture_Latest xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landuse_Agriculture_Latest\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyagricultureformatimage/pngstylenormalvariantLANDUSE.AGRICULTURE.LATESTTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landuse_Agriculture2007 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landuse_Agriculture2007\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.419, -63.2635], [51.2203, 56.0237]]min_zoom6max_zoom16apikeyagricultureformatimage/pngstylenormalvariantLANDUSE.AGRICULTURE2007TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landuse_Agriculture2008 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landuse_Agriculture2008\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.419, -63.2635], [51.2203, 56.0237]]min_zoom6max_zoom16apikeyagricultureformatimage/pngstylenormalvariantLANDUSE.AGRICULTURE2008TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landuse_Agriculture2009 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landuse_Agriculture2009\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.419, -63.2635], [51.2203, 56.0237]]min_zoom6max_zoom16apikeyagricultureformatimage/pngstylenormalvariantLANDUSE.AGRICULTURE2009TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landuse_Agriculture2010 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landuse_Agriculture2010\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyagricultureformatimage/pngstylenormalvariantLANDUSE.AGRICULTURE2010TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landuse_Agriculture2011 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landuse_Agriculture2011\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyagricultureformatimage/pngstylenormalvariantLANDUSE.AGRICULTURE2011TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landuse_Agriculture2012 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landuse_Agriculture2012\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom0max_zoom16apikeyagricultureformatimage/pngstylenormalvariantLANDUSE.AGRICULTURE2012TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landuse_Agriculture2013 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landuse_Agriculture2013\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom0max_zoom16apikeyagricultureformatimage/pngstylenormalvariantLANDUSE.AGRICULTURE2013TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landuse_Agriculture2014 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landuse_Agriculture2014\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom0max_zoom16apikeyagricultureformatimage/pngstylenormalvariantLANDUSE.AGRICULTURE2014TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landuse_Agriculture2015 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landuse_Agriculture2015\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyagricultureformatimage/pngstylenormalvariantLANDUSE.AGRICULTURE2015TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landuse_Agriculture2016 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landuse_Agriculture2016\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyagricultureformatimage/pngstylenormalvariantLANDUSE.AGRICULTURE2016TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landuse_Agriculture2017 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landuse_Agriculture2017\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom6max_zoom16apikeyagricultureformatimage/pngstylenormalvariantLANDUSE.AGRICULTURE2017TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landuse_Agriculture2018 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landuse_Agriculture2018\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyagricultureformatimage/pngstylenormalvariantLANDUSE.AGRICULTURE2018TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landuse_Agriculture2019 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landuse_Agriculture2019\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyagricultureformatimage/pngstylenormalvariantLANDUSE.AGRICULTURE2019TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landuse_Agriculture2020 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landuse_Agriculture2020\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyagricultureformatimage/pngstylenormalvariantLANDUSE.AGRICULTURE2020TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landuse_Agriculture2021 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landuse_Agriculture2021\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyagricultureformatimage/pngstylenormalvariantLANDUSE.AGRICULTURE2021TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Prairies_Sensibles_Bcae xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Prairies_Sensibles_Bcae\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.3252, -5.15047], [51.0991, 9.57054]]min_zoom6max_zoom16apikeyagricultureformatimage/pngstylenolegendvariantPRAIRIES.SENSIBLES.BCAETileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Elevation_Contour_Line xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Elevation_Contour_Line\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom18apikeyaltimetrieformatimage/pngstylenormalvariantELEVATION.CONTOUR.LINETileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Elevation_Elevationgridcoverage_Shadow xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Elevation_Elevationgridcoverage_Shadow\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4069, -63.187], [50.9218, 55.8884]]min_zoom0max_zoom15apikeyaltimetrieformatimage/pngstyleestompage_grayscalevariantELEVATION.ELEVATIONGRIDCOVERAGE.SHADOWTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Elevation_Elevationgridcoverage_Threshold xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Elevation_Elevationgridcoverage_Threshold\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.3252, -5.15047], [51.0991, 9.57054]]min_zoom3max_zoom17apikeyaltimetrieformatimage/pngstyleELEVATION.ELEVATIONGRIDCOVERAGE.THRESHOLDvariantELEVATION.ELEVATIONGRIDCOVERAGE.THRESHOLDTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Elevation_Level0 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Elevation_Level0\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.51, -63.2529], [51.1388, 55.9472]]min_zoom6max_zoom18apikeyaltimetrieformatimage/pngstylenormalvariantELEVATION.LEVEL0TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Elevation_Slopes xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Elevation_Slopes\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-22.5952, -178.206], [50.9308, 167.432]]min_zoom6max_zoom14apikeyaltimetrieformatimage/jpegstylenormalvariantELEVATION.SLOPESTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Elevationgridcoverage_Highres_Quality xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Elevationgridcoverage_Highres_Quality\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyaltimetrieformatimage/pngstyleGraphe de source du RGE AltivariantELEVATIONGRIDCOVERAGE.HIGHRES.QUALITYTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Geographicalgridsystems_Slopes_Mountain xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Geographicalgridsystems_Slopes_Mountain\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.5446, -63.1614], [51.0991, 56.0018]]min_zoom0max_zoom17apikeyaltimetrieformatimage/pngstylenormalvariantGEOGRAPHICALGRIDSYSTEMS.SLOPES.MOUNTAINTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Geographicalgridsystems_1900typemaps xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Geographicalgridsystems_1900typemaps\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[48.4726, 1.62941], [49.1548, 3.0]]min_zoom10max_zoom15apikeycartesformatimage/jpegstylenormalvariantGEOGRAPHICALGRIDSYSTEMS.1900TYPEMAPSTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Geographicalgridsystems_Bonne xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Geographicalgridsystems_Bonne\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-0.49941, -55.9127], [7.88966, -50.0835]]min_zoom0max_zoom10apikeycartesformatimage/jpegstylenormalvariantGEOGRAPHICALGRIDSYSTEMS.BONNETileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Geographicalgridsystems_Etatmajor10 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Geographicalgridsystems_Etatmajor10\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[48.3847, 1.82682], [49.5142, 2.79738]]min_zoom6max_zoom16apikeycartesformatimage/jpegstylenormalvariantGEOGRAPHICALGRIDSYSTEMS.ETATMAJOR10TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Geographicalgridsystems_Etatmajor40 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Geographicalgridsystems_Etatmajor40\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.1844, -6.08889], [51.2745, 10.961]]min_zoom6max_zoom15apikeycartesformatimage/jpegstylenormalvariantGEOGRAPHICALGRIDSYSTEMS.ETATMAJOR40TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Geographicalgridsystems_Maps_Bduni_J1 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Geographicalgridsystems_Maps_Bduni_J1\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom0max_zoom18apikeycartesformatimage/pngstylenormalvariantGEOGRAPHICALGRIDSYSTEMS.MAPS.BDUNI.J1TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Geographicalgridsystems_Maps_Overview xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Geographicalgridsystems_Maps_Overview\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom1max_zoom8apikeycartesformatimage/jpegstylenormalvariantGEOGRAPHICALGRIDSYSTEMS.MAPS.OVERVIEWTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Geographicalgridsystems_Maps_Scan50_1950 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Geographicalgridsystems_Maps_Scan50_1950\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom3max_zoom15apikeycartesformatimage/jpegstyleSCAN50_1950variantGEOGRAPHICALGRIDSYSTEMS.MAPS.SCAN50.1950TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Geographicalgridsystems_Terrier_v1 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Geographicalgridsystems_Terrier_v1\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.2568, 8.36284], [43.1174, 9.75281]]min_zoom6max_zoom18apikeycartesformatimage/pngstylenolegendvariantGEOGRAPHICALGRIDSYSTEMS.TERRIER_V1TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Geographicalgridsystems_Terrier_v2 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Geographicalgridsystems_Terrier_v2\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.2568, 8.36284], [43.1174, 9.75282]]min_zoom6max_zoom18apikeycartesformatimage/pngstylenolegendvariantGEOGRAPHICALGRIDSYSTEMS.TERRIER_V2TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Cha00_fr xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Cha00_fr\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[40.576, -9.88147], [51.4428, 11.6781]]min_zoom0max_zoom16apikeyclcformatimage/pngstyleCORINE Land Cover - France métropolitainevariantLANDCOVER.CHA00_FRTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Cha06_dom xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Cha06_dom\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [47.1747, 55.9259]]min_zoom0max_zoom16apikeyclcformatimage/pngstyleCORINE Land Cover - DOMvariantLANDCOVER.CHA06_DOMTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Cha06_fr xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Cha06_fr\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[40.576, -9.88147], [51.4428, 11.6781]]min_zoom0max_zoom16apikeyclcformatimage/pngstyleCORINE Land Cover - France métropolitainevariantLANDCOVER.CHA06_FRTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Cha12_dom xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Cha12_dom\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [47.1747, 55.9259]]min_zoom0max_zoom16apikeyclcformatimage/pngstyleCORINE Land Cover - DOMvariantLANDCOVER.CHA12_DOMTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Cha12_fr xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Cha12_fr\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[40.576, -9.88147], [51.4428, 11.6781]]min_zoom0max_zoom16apikeyclcformatimage/pngstyleCORINE Land Cover - France métropolitainevariantLANDCOVER.CHA12_FRTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Cha18 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Cha18\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.4428, 55.9259]]min_zoom0max_zoom16apikeyclcformatimage/pngstyleCORINE Land CovervariantLANDCOVER.CHA18TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Cha18_dom xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Cha18_dom\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [47.1747, 55.9259]]min_zoom0max_zoom16apikeyclcformatimage/pngstyleCORINE Land Cover - DOMvariantLANDCOVER.CHA18_DOMTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Cha18_fr xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Cha18_fr\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[40.576, -9.88147], [51.4428, 11.6781]]min_zoom0max_zoom16apikeyclcformatimage/pngstyleCORINE Land Cover - France métropolitainevariantLANDCOVER.CHA18_FRTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Clc00r_fr xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Clc00r_fr\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[40.576, -9.88147], [51.4428, 11.6781]]min_zoom0max_zoom16apikeyclcformatimage/pngstyleCORINE Land Cover - France métropolitainevariantLANDCOVER.CLC00R_FRTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Clc00_dom xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Clc00_dom\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [47.1747, 55.9259]]min_zoom0max_zoom16apikeyclcformatimage/pngstyleCORINE Land Cover - DOMvariantLANDCOVER.CLC00_DOMTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Clc00_fr xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Clc00_fr\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[40.576, -9.88147], [51.4428, 11.6781]]min_zoom0max_zoom16apikeyclcformatimage/pngstyleCORINE Land Cover - France métropolitainevariantLANDCOVER.CLC00_FRTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Clc06r_dom xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Clc06r_dom\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [47.1747, 55.9259]]min_zoom0max_zoom16apikeyclcformatimage/pngstyleCORINE Land Cover - DOMvariantLANDCOVER.CLC06R_DOMTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Clc06r_fr xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Clc06r_fr\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[40.576, -9.88147], [51.4428, 11.6781]]min_zoom0max_zoom16apikeyclcformatimage/pngstyleCORINE Land Cover - France métropolitainevariantLANDCOVER.CLC06R_FRTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Clc06_dom xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Clc06_dom\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [47.1747, 55.9259]]min_zoom0max_zoom16apikeyclcformatimage/pngstyleCORINE Land Cover - DOMvariantLANDCOVER.CLC06_DOMTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Clc06_fr xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Clc06_fr\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[40.576, -9.88147], [51.4428, 11.6781]]min_zoom0max_zoom16apikeyclcformatimage/pngstyleCORINE Land Cover - France métropolitainevariantLANDCOVER.CLC06_FRTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Clc12 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Clc12\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.4428, 55.9259]]min_zoom0max_zoom16apikeyclcformatimage/pngstyleCORINE Land Cover - DOMvariantLANDCOVER.CLC12TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Clc12r xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Clc12r\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.4428, 55.9259]]min_zoom0max_zoom16apikeyclcformatimage/pngstyleCORINE Land CovervariantLANDCOVER.CLC12RTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Clc12r_dom xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Clc12r_dom\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [47.1747, 55.9259]]min_zoom0max_zoom16apikeyclcformatimage/pngstyleCORINE Land Cover - DOMvariantLANDCOVER.CLC12R_DOMTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Clc12r_fr xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Clc12r_fr\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[40.576, -9.88147], [51.4428, 11.6781]]min_zoom0max_zoom16apikeyclcformatimage/pngstyleCORINE Land Cover - France métropolitainevariantLANDCOVER.CLC12R_FRTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Clc12_dom xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Clc12_dom\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [47.1747, 55.9259]]min_zoom0max_zoom16apikeyclcformatimage/pngstyleCORINE Land Cover - DOMvariantLANDCOVER.CLC12_DOMTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Clc12_fr xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Clc12_fr\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[40.576, -9.88147], [51.4428, 11.6781]]min_zoom0max_zoom16apikeyclcformatimage/pngstyleCORINE Land Cover - France métropolitainevariantLANDCOVER.CLC12_FRTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Clc18 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Clc18\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.4428, 55.9259]]min_zoom0max_zoom16apikeyclcformatimage/pngstyleCORINE Land CovervariantLANDCOVER.CLC18TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Clc18_dom xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Clc18_dom\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [47.1747, 55.9259]]min_zoom0max_zoom16apikeyclcformatimage/pngstyleCORINE Land Cover - DOMvariantLANDCOVER.CLC18_DOMTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Clc18_fr xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Clc18_fr\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[40.576, -9.88147], [51.4428, 11.6781]]min_zoom0max_zoom16apikeyclcformatimage/pngstyleCORINE Land Cover - France métropolitainevariantLANDCOVER.CLC18_FRTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Clc90_fr xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Clc90_fr\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[40.576, -9.88147], [51.4428, 11.6781]]min_zoom0max_zoom16apikeyclcformatimage/pngstyleCORINE Land Cover - France métropolitainevariantLANDCOVER.CLC90_FRTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Grid_Clc00 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Grid_Clc00\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4825, -61.9063], [51.1827, 55.9362]]min_zoom0max_zoom13apikeyclcformatimage/pngstyleCORINE Land CovervariantLANDCOVER.GRID.CLC00TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Grid_Clc00r_fr xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Grid_Clc00r_fr\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.1779, -5.68494], [51.1827, 10.8556]]min_zoom0max_zoom13apikeyclcformatimage/pngstyleCORINE Land Cover - France métropolitainevariantLANDCOVER.GRID.CLC00R_FRTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Grid_Clc00_dom xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Grid_Clc00_dom\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4825, -61.9063], [16.6077, 55.9362]]min_zoom0max_zoom12apikeyclcformatimage/pngstyleCORINE Land Cover - DOMvariantLANDCOVER.GRID.CLC00_DOMTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Grid_Clc00_fr xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Grid_Clc00_fr\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.1779, -5.68494], [51.1827, 10.8556]]min_zoom0max_zoom12apikeyclcformatimage/pngstyleCORINE Land Cover - France métropolitainevariantLANDCOVER.GRID.CLC00_FRTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Grid_Clc06 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Grid_Clc06\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4825, -61.9063], [51.1827, 55.9362]]min_zoom0max_zoom13apikeyclcformatimage/pngstyleCORINE Land CovervariantLANDCOVER.GRID.CLC06TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Grid_Clc06r xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Grid_Clc06r\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4825, -61.9063], [51.2963, 55.9362]]min_zoom0max_zoom13apikeyclcformatimage/pngstyleCORINE Land CovervariantLANDCOVER.GRID.CLC06RTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Grid_Clc06r_dom xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Grid_Clc06r_dom\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4825, -61.9063], [16.6077, 55.9362]]min_zoom0max_zoom12apikeyclcformatimage/pngstyleCORINE Land Cover - DOMvariantLANDCOVER.GRID.CLC06R_DOMTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Grid_Clc06r_fr xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Grid_Clc06r_fr\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.0278, -5.91689], [51.2963, 11.0883]]min_zoom0max_zoom12apikeyclcformatimage/pngstyleCORINE Land Cover - France métropolitainevariantLANDCOVER.GRID.CLC06R_FRTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Grid_Clc06_dom xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Grid_Clc06_dom\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4825, -61.9063], [16.6077, 55.9362]]min_zoom0max_zoom12apikeyclcformatimage/pngstyleCORINE Land Cover - DOMvariantLANDCOVER.GRID.CLC06_DOMTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Grid_Clc06_fr xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Grid_Clc06_fr\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.1779, -5.68494], [51.1827, 10.8556]]min_zoom0max_zoom12apikeyclcformatimage/pngstyleCORINE Land Cover - France métropolitainevariantLANDCOVER.GRID.CLC06_FRTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Grid_Clc12 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Grid_Clc12\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4825, -61.9063], [51.2963, 55.9362]]min_zoom0max_zoom13apikeyclcformatimage/pngstyleCORINE Land CovervariantLANDCOVER.GRID.CLC12TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Grid_Clc90_fr xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Grid_Clc90_fr\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.1779, -5.68494], [51.1827, 10.8556]]min_zoom0max_zoom13apikeyclcformatimage/pngstyleCORINE Land Cover - France métropolitainevariantLANDCOVER.GRID.CLC90_FRTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Hr_Dlt_Clc12 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Hr_Dlt_Clc12\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.572, -62.3602], [51.4949, 55.8441]]min_zoom0max_zoom13apikeyclcformatimage/pngstyleCORINE Land Cover - HR - type de forêtsvariantLANDCOVER.HR.DLT.CLC12TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Hr_Dlt_Clc15 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Hr_Dlt_Clc15\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.572, -62.3602], [51.4949, 55.8441]]min_zoom0max_zoom13apikeyclcformatimage/pngstyleCORINE Land Cover - HR - type de forêtsvariantLANDCOVER.HR.DLT.CLC15TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Hr_Gra_Clc15 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Hr_Gra_Clc15\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.3925, -61.8133], [51.4949, 55.84]]min_zoom0max_zoom13apikeyclcformatimage/pngstyleCORINE Land Cover - HR - prairiesvariantLANDCOVER.HR.GRA.CLC15TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Hr_Imd_Clc12 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Hr_Imd_Clc12\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.5758, -62.3609], [51.4952, 56.1791]]min_zoom0max_zoom13apikeyclcformatimage/pngstyleCORINE Land Cover - HR - taux d'imperméabilisation des solsvariantLANDCOVER.HR.IMD.CLC12TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Hr_Imd_Clc15 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Hr_Imd_Clc15\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.5758, -62.3609], [51.4952, 56.1791]]min_zoom0max_zoom13apikeyclcformatimage/pngstyleCORINE Land Cover - HR - taux d'imperméabilisation des solsvariantLANDCOVER.HR.IMD.CLC15TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Hr_Tcd_Clc12 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Hr_Tcd_Clc12\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.572, -62.3602], [51.4949, 55.8441]]min_zoom0max_zoom13apikeyclcformatimage/pngstyleCORINE Land Cover - HR - taux de couvert arborévariantLANDCOVER.HR.TCD.CLC12TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Hr_Tcd_Clc15 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Hr_Tcd_Clc15\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.572, -62.3602], [51.4949, 55.8441]]min_zoom0max_zoom13apikeyclcformatimage/pngstyleCORINE Land Cover - HR - taux de couvert arborévariantLANDCOVER.HR.TCD.CLC15TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Hr_Waw_Clc15 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Hr_Waw_Clc15\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.572, -62.3602], [51.4949, 55.8441]]min_zoom0max_zoom13apikeyclcformatimage/pngstyleCORINE Land Cover - HR - zones humides et surfaces en eaux permanentesvariantLANDCOVER.HR.WAW.CLC15TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Areamanagement_Zfu xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Areamanagement_Zfu\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyeconomieformatimage/pngstylenormalvariantAREAMANAGEMENT.ZFUTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Areamanagement_Zus xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Areamanagement_Zus\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyeconomieformatimage/pngstylenormalvariantAREAMANAGEMENT.ZUSTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Communes_Prioritydisctrict xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Communes_Prioritydisctrict\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom17apikeyeconomieformatimage/pngstylenormalvariantCOMMUNES.PRIORITYDISCTRICTTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Dreal_Zonage_pinel xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Dreal_Zonage_pinel\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[47.2719, -5.15012], [48.9064, -1.00687]]min_zoom6max_zoom18apikeyeconomieformatimage/pngstylenormalvariantDREAL.ZONAGE_PINELTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Insee_Filosofi_Enfants_0_17_Ans_Secret xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Insee_Filosofi_Enfants_0_17_Ans_Secret\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyeconomieformatimage/pngstyleINSEEvariantINSEE.FILOSOFI.ENFANTS.0.17.ANS.SECRETTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Insee_Filosofi_Logements_Surface_Moyenne_Secret xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Insee_Filosofi_Logements_Surface_Moyenne_Secret\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyeconomieformatimage/pngstyleINSEEvariantINSEE.FILOSOFI.LOGEMENTS.SURFACE.MOYENNE.SECRETTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Insee_Filosofi_Niveau_De_Vie_Secret xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Insee_Filosofi_Niveau_De_Vie_Secret\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyeconomieformatimage/pngstyleINSEEvariantINSEE.FILOSOFI.NIVEAU.DE.VIE.SECRETTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Insee_Filosofi_Part_Familles_Monoparentales_Secret xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Insee_Filosofi_Part_Familles_Monoparentales_Secret\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyeconomieformatimage/pngstyleINSEEvariantINSEE.FILOSOFI.PART.FAMILLES.MONOPARENTALES.SECRETTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Insee_Filosofi_Part_Individus_25_39_Ans_Secret xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Insee_Filosofi_Part_Individus_25_39_Ans_Secret\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyeconomieformatimage/pngstyleINSEEvariantINSEE.FILOSOFI.PART.INDIVIDUS.25.39.ANS.SECRETTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Insee_Filosofi_Part_Individus_40_54_Ans_Secret xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Insee_Filosofi_Part_Individus_40_54_Ans_Secret\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyeconomieformatimage/pngstyleINSEEvariantINSEE.FILOSOFI.PART.INDIVIDUS.40.54.ANS.SECRETTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Insee_Filosofi_Part_Individus_55_64_Ans_Secret xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Insee_Filosofi_Part_Individus_55_64_Ans_Secret\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyeconomieformatimage/pngstyleINSEEvariantINSEE.FILOSOFI.PART.INDIVIDUS.55.64.ANS.SECRETTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Insee_Filosofi_Part_Logements_Apres_1990_Secret xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Insee_Filosofi_Part_Logements_Apres_1990_Secret\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyeconomieformatimage/pngstyleINSEEvariantINSEE.FILOSOFI.PART.LOGEMENTS.APRES.1990.SECRETTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Insee_Filosofi_Part_Logements_Avant_1945_Secret xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Insee_Filosofi_Part_Logements_Avant_1945_Secret\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyeconomieformatimage/pngstyleINSEEvariantINSEE.FILOSOFI.PART.LOGEMENTS.AVANT.1945.SECRETTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Insee_Filosofi_Part_Logements_Collectifs_Secret xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Insee_Filosofi_Part_Logements_Collectifs_Secret\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyeconomieformatimage/pngstyleINSEEvariantINSEE.FILOSOFI.PART.LOGEMENTS.COLLECTIFS.SECRETTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Insee_Filosofi_Part_Logements_Construits_1945_1970_Secret xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Insee_Filosofi_Part_Logements_Construits_1945_1970_Secret\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyeconomieformatimage/pngstyleINSEEvariantINSEE.FILOSOFI.PART.LOGEMENTS.CONSTRUITS.1945.1970.SECRETTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Insee_Filosofi_Part_Logements_Construits_1970_1990_Secret xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Insee_Filosofi_Part_Logements_Construits_1970_1990_Secret\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyeconomieformatimage/pngstyleINSEEvariantINSEE.FILOSOFI.PART.LOGEMENTS.CONSTRUITS.1970.1990.SECRETTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Insee_Filosofi_Part_Logements_Sociaux_Secret xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Insee_Filosofi_Part_Logements_Sociaux_Secret\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyeconomieformatimage/pngstyleINSEEvariantINSEE.FILOSOFI.PART.LOGEMENTS.SOCIAUX.SECRETTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Insee_Filosofi_Part_Menages_1_Personne_Secret xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Insee_Filosofi_Part_Menages_1_Personne_Secret\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyeconomieformatimage/pngstyleINSEEvariantINSEE.FILOSOFI.PART.MENAGES.1.PERSONNE.SECRETTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Insee_Filosofi_Part_Menages_5_Personnes_Ouplus_Secret xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Insee_Filosofi_Part_Menages_5_Personnes_Ouplus_Secret\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyeconomieformatimage/pngstyleINSEEvariantINSEE.FILOSOFI.PART.MENAGES.5.PERSONNES.OUPLUS.SECRETTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Insee_Filosofi_Part_Menages_Maison_Secret xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Insee_Filosofi_Part_Menages_Maison_Secret\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyeconomieformatimage/pngstyleINSEEvariantINSEE.FILOSOFI.PART.MENAGES.MAISON.SECRETTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Insee_Filosofi_Part_Menages_Pauvres_Secret xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Insee_Filosofi_Part_Menages_Pauvres_Secret\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyeconomieformatimage/pngstyleINSEEvariantINSEE.FILOSOFI.PART.MENAGES.PAUVRES.SECRETTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Insee_Filosofi_Part_Menages_Proprietaires_Secret xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Insee_Filosofi_Part_Menages_Proprietaires_Secret\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyeconomieformatimage/pngstyleINSEEvariantINSEE.FILOSOFI.PART.MENAGES.PROPRIETAIRES.SECRETTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Insee_Filosofi_Part_Plus_65_Ans_Secret xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Insee_Filosofi_Part_Plus_65_Ans_Secret\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyeconomieformatimage/pngstyleINSEEvariantINSEE.FILOSOFI.PART.PLUS.65.ANS.SECRETTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Insee_Filosofi_Population xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Insee_Filosofi_Population\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyeconomieformatimage/pngstyleINSEEvariantINSEE.FILOSOFI.POPULATIONTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Debroussaillement xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Debroussaillement\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.3252, -5.15047], [51.0991, 9.57054]]min_zoom6max_zoom18apikeyenvironnementformatimage/pngstylenolegendvariantDEBROUSSAILLEMENTTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Forets_Publiques xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Forets_Publiques\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom3max_zoom16apikeyenvironnementformatimage/pngstyleFORETS PUBLIQUES ONFvariantFORETS.PUBLIQUESTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Geographicalgridsystem_Dfci xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Geographicalgridsystem_Dfci\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.3252, -5.15047], [51.0991, 9.57054]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantGEOGRAPHICALGRIDSYSTEM.DFCITileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Forestareas xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Forestareas\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.3252, -5.15047], [51.0991, 9.57054]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantLANDCOVER.FORESTAREASTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Forestinventory_V1 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Forestinventory_V1\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.3252, -5.15047], [51.0991, 9.57054]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantLANDCOVER.FORESTINVENTORY.V1TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Forestinventory_V2 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Forestinventory_V2\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.3252, -5.15047], [51.0991, 9.57054]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantLANDCOVER.FORESTINVENTORY.V2TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Sylvoecoregions xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Sylvoecoregions\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.3252, -5.15047], [51.0991, 9.57054]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantLANDCOVER.SYLVOECOREGIONSTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Landcover_Sylvoecoregions_Alluvium xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Landcover_Sylvoecoregions_Alluvium\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.3252, -5.15047], [51.0991, 9.57054]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantLANDCOVER.SYLVOECOREGIONS.ALLUVIUMTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Protectedareas_Apb xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Protectedareas_Apb\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantPROTECTEDAREAS.APBTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Protectedareas_Apg xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Protectedareas_Apg\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantPROTECTEDAREAS.APGTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Protectedareas_Aphn xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Protectedareas_Aphn\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-53.6279, -63.3725], [51.3121, 82.645]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantPROTECTEDAREAS.APHNTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Protectedareas_Aplg xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Protectedareas_Aplg\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-53.6279, -63.3725], [51.3121, 82.645]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenolegendvariantPROTECTEDAREAS.APLGTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Protectedareas_Bios xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Protectedareas_Bios\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantPROTECTEDAREAS.BIOSTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Protectedareas_Gp xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Protectedareas_Gp\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantPROTECTEDAREAS.GPTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Protectedareas_Inpg xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Protectedareas_Inpg\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-53.6279, -63.3725], [51.3121, 82.645]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantPROTECTEDAREAS.INPGTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Protectedareas_Mnhn_Cdl_Parcels xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Protectedareas_Mnhn_Cdl_Parcels\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantPROTECTEDAREAS.MNHN.CDL.PARCELSTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Protectedareas_Mnhn_Cdl_Perimeter xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Protectedareas_Mnhn_Cdl_Perimeter\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantPROTECTEDAREAS.MNHN.CDL.PERIMETERTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Protectedareas_Mnhn_Conservatoires xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Protectedareas_Mnhn_Conservatoires\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantPROTECTEDAREAS.MNHN.CONSERVATOIRESTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Protectedareas_Mnhn_Rn_Perimeter xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Protectedareas_Mnhn_Rn_Perimeter\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-53.6279, -63.3725], [51.3121, 82.645]]min_zoom0max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantPROTECTEDAREAS.MNHN.RN.PERIMETERTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Protectedareas_Pn xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Protectedareas_Pn\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantPROTECTEDAREAS.PNTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Protectedareas_Pnm xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Protectedareas_Pnm\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantPROTECTEDAREAS.PNMTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Protectedareas_Pnr xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Protectedareas_Pnr\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantPROTECTEDAREAS.PNRTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Protectedareas_Prsf xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Protectedareas_Prsf\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom17apikeyenvironnementformatimage/pngstylePOINT RENCONTRE SECOURS FORETvariantPROTECTEDAREAS.PRSFTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Protectedareas_Ramsar xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Protectedareas_Ramsar\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantPROTECTEDAREAS.RAMSARTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Protectedareas_Rb xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Protectedareas_Rb\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantPROTECTEDAREAS.RBTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Protectedareas_Ripn xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Protectedareas_Ripn\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantPROTECTEDAREAS.RIPNTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Protectedareas_Rn xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Protectedareas_Rn\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-53.6279, -63.3725], [51.3121, 82.645]]min_zoom0max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantPROTECTEDAREAS.RNTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Protectedareas_Rnc xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Protectedareas_Rnc\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantPROTECTEDAREAS.RNCTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Protectedareas_Rncf xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Protectedareas_Rncf\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantPROTECTEDAREAS.RNCFTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Protectedareas_Sic xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Protectedareas_Sic\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantPROTECTEDAREAS.SICTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Protectedareas_Znieff1 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Protectedareas_Znieff1\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantPROTECTEDAREAS.ZNIEFF1TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Protectedareas_Znieff1_Sea xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Protectedareas_Znieff1_Sea\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantPROTECTEDAREAS.ZNIEFF1.SEATileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Protectedareas_Znieff2 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Protectedareas_Znieff2\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantPROTECTEDAREAS.ZNIEFF2TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Protectedareas_Znieff2_Sea xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Protectedareas_Znieff2_Sea\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantPROTECTEDAREAS.ZNIEFF2.SEATileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Protectedareas_Zpr xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Protectedareas_Zpr\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-53.6279, -63.3725], [51.3121, 82.645]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenolegendvariantPROTECTEDAREAS.ZPRTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Protectedareas_Zps xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Protectedareas_Zps\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantPROTECTEDAREAS.ZPSTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Protectedsites_Mnhn_Reserves_regionales xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Protectedsites_Mnhn_Reserves_regionales\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom16apikeyenvironnementformatimage/pngstylenormalvariantPROTECTEDSITES.MNHN.RESERVES-REGIONALESTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Ocsge_Constructions xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Ocsge_Constructions\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[14.2395, -61.6644], [51.0991, 9.57054]]min_zoom6max_zoom16apikeyocsgeformatimage/pngstylenormalvariantOCSGE.CONSTRUCTIONSTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Ocsge_Constructions_2002 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Ocsge_Constructions_2002\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.366, -5.13902], [51.089, 9.55982]]min_zoom6max_zoom16apikeyocsgeformatimage/pngstylenolegendvariantOCSGE.CONSTRUCTIONS.2002TileMatrixSetPMstatusbroken\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Ocsge_Constructions_2010 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Ocsge_Constructions_2010\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.3252, -5.15047], [51.0991, 9.57054]]min_zoom6max_zoom16apikeyocsgeformatimage/pngstylenolegendvariantOCSGE.CONSTRUCTIONS.2010TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Ocsge_Constructions_2011 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Ocsge_Constructions_2011\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.3252, -5.15047], [51.0991, 9.57054]]min_zoom6max_zoom16apikeyocsgeformatimage/pngstylenolegendvariantOCSGE.CONSTRUCTIONS.2011TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Ocsge_Constructions_2014 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Ocsge_Constructions_2014\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.366, -5.13902], [51.089, 9.55982]]min_zoom6max_zoom16apikeyocsgeformatimage/pngstylenolegendvariantOCSGE.CONSTRUCTIONS.2014TileMatrixSetPMstatusbroken\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Ocsge_Constructions_2016 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Ocsge_Constructions_2016\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.3252, -5.15047], [51.0991, 9.57054]]min_zoom6max_zoom16apikeyocsgeformatimage/pngstylenolegendvariantOCSGE.CONSTRUCTIONS.2016TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Ocsge_Constructions_2017 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Ocsge_Constructions_2017\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[14.2395, -61.6644], [51.0991, 9.57054]]min_zoom6max_zoom16apikeyocsgeformatimage/pngstylenolegendvariantOCSGE.CONSTRUCTIONS.2017TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Ocsge_Constructions_2019 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Ocsge_Constructions_2019\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[43.3043, -0.291052], [44.0864, 1.2122]]min_zoom6max_zoom16apikeyocsgeformatimage/pngstylenolegendvariantOCSGE.CONSTRUCTIONS.2019TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Ocsge_Couverture xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Ocsge_Couverture\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[14.2395, -61.6644], [51.0991, 9.57054]]min_zoom6max_zoom16apikeyocsgeformatimage/pngstylenormalvariantOCSGE.COUVERTURETileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Ocsge_Couverture_2002 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Ocsge_Couverture_2002\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.366, -5.13902], [51.089, 9.55982]]min_zoom6max_zoom16apikeyocsgeformatimage/pngstylenormalvariantOCSGE.COUVERTURE.2002TileMatrixSetPMstatusbroken\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Ocsge_Couverture_2010 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Ocsge_Couverture_2010\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.3252, -5.15047], [51.0991, 9.57054]]min_zoom6max_zoom16apikeyocsgeformatimage/pngstylenolegendvariantOCSGE.COUVERTURE.2010TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Ocsge_Couverture_2011 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Ocsge_Couverture_2011\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.3252, -5.15047], [51.0991, 9.57054]]min_zoom6max_zoom16apikeyocsgeformatimage/pngstylenolegendvariantOCSGE.COUVERTURE.2011TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Ocsge_Couverture_2014 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Ocsge_Couverture_2014\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.366, -5.13902], [51.089, 9.55982]]min_zoom6max_zoom16apikeyocsgeformatimage/pngstylenolegendvariantOCSGE.COUVERTURE.2014TileMatrixSetPMstatusbroken\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Ocsge_Couverture_2016 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Ocsge_Couverture_2016\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.3252, -5.15047], [51.0991, 9.57054]]min_zoom6max_zoom16apikeyocsgeformatimage/pngstylenolegendvariantOCSGE.COUVERTURE.2016TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Ocsge_Couverture_2017 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Ocsge_Couverture_2017\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[14.2395, -61.6644], [51.0991, 9.57054]]min_zoom6max_zoom16apikeyocsgeformatimage/pngstylenolegendvariantOCSGE.COUVERTURE.2017TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Ocsge_Couverture_2019 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Ocsge_Couverture_2019\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[43.3043, -0.291052], [44.0864, 1.2122]]min_zoom6max_zoom16apikeyocsgeformatimage/pngstylenolegendvariantOCSGE.COUVERTURE.2019TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Ocsge_Usage xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Ocsge_Usage\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[14.2395, -61.6644], [51.0991, 9.57054]]min_zoom6max_zoom16apikeyocsgeformatimage/pngstylenormalvariantOCSGE.USAGETileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Ocsge_Usage_2002 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Ocsge_Usage_2002\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.366, -5.13902], [51.089, 9.55982]]min_zoom6max_zoom16apikeyocsgeformatimage/pngstylenormalvariantOCSGE.USAGE.2002TileMatrixSetPMstatusbroken\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Ocsge_Usage_2010 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Ocsge_Usage_2010\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.3252, -5.15047], [51.0991, 9.57054]]min_zoom6max_zoom16apikeyocsgeformatimage/pngstylenolegendvariantOCSGE.USAGE.2010TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Ocsge_Usage_2011 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Ocsge_Usage_2011\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.3252, -5.15047], [51.0991, 9.57054]]min_zoom6max_zoom16apikeyocsgeformatimage/pngstylenolegendvariantOCSGE.USAGE.2011TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Ocsge_Usage_2014 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Ocsge_Usage_2014\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.366, -5.13902], [51.089, 9.55982]]min_zoom6max_zoom16apikeyocsgeformatimage/pngstylenormalvariantOCSGE.USAGE.2014TileMatrixSetPMstatusbroken\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Ocsge_Usage_2016 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Ocsge_Usage_2016\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.3252, -5.15047], [51.0991, 9.57054]]min_zoom6max_zoom16apikeyocsgeformatimage/pngstylenolegendvariantOCSGE.USAGE.2016TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Ocsge_Usage_2017 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Ocsge_Usage_2017\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[14.2395, -61.6644], [51.0991, 9.57054]]min_zoom6max_zoom16apikeyocsgeformatimage/pngstylenolegendvariantOCSGE.USAGE.2017TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Ocsge_Usage_2019 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Ocsge_Usage_2019\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[43.3043, -0.291052], [44.0864, 1.2122]]min_zoom6max_zoom16apikeyocsgeformatimage/pngstylenolegendvariantOCSGE.USAGE.2019TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Ocsge_Visu_2016 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Ocsge_Visu_2016\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[43.2815, -0.318517], [44.0543, 1.22575]]min_zoom6max_zoom18apikeyocsgeformatimage/pngstylenolegendvariantOCSGE.VISU.2016TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Ocsge_Visu_2019 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Ocsge_Visu_2019\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[43.2815, -0.321664], [44.1082, 1.22575]]min_zoom6max_zoom18apikeyocsgeformatimage/pngstylenolegendvariantOCSGE.VISU.2019TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Hr_Orthoimagery_Orthophotos xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Hr_Orthoimagery_Orthophotos\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4013, -63.1607], [51.1124, 55.8464]]min_zoom6max_zoom19apikeyorthoformatimage/jpegstylenormalvariantHR.ORTHOIMAGERY.ORTHOPHOTOSTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophos_Restrictedareas xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophos_Restrictedareas\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-22.9723, -178.309], [51.3121, 168.298]]min_zoom6max_zoom16apikeyorthoformatimage/pngstylenormalvariantORTHOIMAGERY.ORTHOPHOS.RESTRICTEDAREASTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos_Bdortho xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos_Bdortho\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-22.7643, -178.187], [51.1124, 168.19]]min_zoom6max_zoom18apikeyorthoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS.BDORTHOTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos_Coast2000 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos_Coast2000\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[43.301, -5.21565], [51.1233, 2.60783]]min_zoom6max_zoom18apikeyorthoformatimage/pngstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS.COAST2000TileMatrixSetPMstatusbroken\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos_Ilesdunord xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos_Ilesdunord\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[17.8626, -63.1986], [18.1701, -62.7828]]min_zoom0max_zoom19apikeyorthoformatimage/pngstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS.ILESDUNORDTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos_Irc xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos_Irc\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4013, -62.9717], [51.1124, 55.8464]]min_zoom0max_zoom19apikeyorthoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS.IRCTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos_Irc_express_2022 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos_Irc_express_2022\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom0max_zoom19apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS.IRC-EXPRESS.2022TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos_Irc_express_2023 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos_Irc_express_2023\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[47.4719, 1.48832], [48.3543, 3.13499]]min_zoom0max_zoom19apikeyorthoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS.IRC-EXPRESS.2023TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos_Ortho_asp_pac2022 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos_Ortho_asp_pac2022\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom0max_zoom18apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS.ORTHO-ASP_PAC2022TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos_Ortho_asp_pac2023 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos_Ortho_asp_pac2023\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom0max_zoom18apikeyorthoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS.ORTHO-ASP_PAC2023TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos_Ortho_express_2022 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos_Ortho_express_2022\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom0max_zoom19apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS.ORTHO-EXPRESS.2022TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos_Ortho_express_2023 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos_Ortho_express_2023\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[47.4719, 1.48832], [48.3543, 3.13499]]min_zoom0max_zoom19apikeyorthoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS.ORTHO-EXPRESS.2023TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Pcrs_Lamb93 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Pcrs_Lamb93\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[42.6976, -3.80779], [48.8107, 6.92319]]min_zoom6max_zoom21apikeyorthoformatimage/jpegstylenormalvariantPCRS.LAMB93TileMatrixSetLAMB93_5cm_EPSGstatusbroken\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Thr_Orthoimagery_Orthophotos xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Thr_Orthoimagery_Orthophotos\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[40.4378, -6.92466], [51.9098, 11.4965]]min_zoom6max_zoom21apikeyorthoformatimage/jpegstylenormalvariantTHR.ORTHOIMAGERY.ORTHOPHOTOSTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos_1950_1965 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos_1950_1965\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4013, -67.7214], [51.0945, 55.8464]]min_zoom3max_zoom18apikeyorthohistoformatimage/pngstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS.1950-1965TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos_1980_1995 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos_1980_1995\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.3125, -2.37153], [49.7785, 9.67536]]min_zoom3max_zoom18apikeyorthohistoformatimage/pngstyleBDORTHOHISTORIQUEvariantORTHOIMAGERY.ORTHOPHOTOS.1980-1995TileMatrixSetPMstatusbroken\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos_Irc_express_2021 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos_Irc_express_2021\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom0max_zoom19apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS.IRC-EXPRESS.2021TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos_Irc_2013 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos_Irc_2013\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[42.5538, -3.74871], [50.3767, 7.17132]]min_zoom0max_zoom19apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS.IRC.2013TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos_Irc_2014 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos_Irc_2014\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[43.1508, -2.37153], [49.6341, 7.22637]]min_zoom0max_zoom19apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS.IRC.2014TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos_Irc_2015 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos_Irc_2015\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[42.3163, -5.20863], [51.0945, 8.25674]]min_zoom0max_zoom19apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS.IRC.2015TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos_Irc_2016 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos_Irc_2016\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.3215, -3.74871], [50.1839, 9.66314]]min_zoom0max_zoom19apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS.IRC.2016TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos_Irc_2017 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos_Irc_2017\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[42.9454, -0.185295], [46.4137, 7.74363]]min_zoom0max_zoom19apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS.IRC.2017TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos_Irc_2018 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos_Irc_2018\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[42.3163, -5.19371], [51.1124, 8.25765]]min_zoom0max_zoom19apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS.IRC.2018TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos_Irc_2019 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos_Irc_2019\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.3125, -3.74871], [50.1928, 9.66314]]min_zoom0max_zoom19apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS.IRC.2019TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos_Irc_2020 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos_Irc_2020\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[42.9454, -2.68142], [49.4512, 7.74363]]min_zoom0max_zoom19apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS.IRC.2020TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos_Ortho_asp_pac2020 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos_Ortho_asp_pac2020\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom0max_zoom18apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS.ORTHO-ASP_PAC2020TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos_Ortho_asp_pac2021 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos_Ortho_asp_pac2021\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom0max_zoom18apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS.ORTHO-ASP_PAC2021TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos_Ortho_express_2021 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos_Ortho_express_2021\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom0max_zoom20apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS.ORTHO-EXPRESS.2021TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos_Socle_asp_2018 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos_Socle_asp_2018\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom0max_zoom19apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS.SOCLE-ASP.2018TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos_Urgence_Alex xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos_Urgence_Alex\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[43.8095, 7.07917], [44.1903, 7.64199]]min_zoom6max_zoom20apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS.URGENCE.ALEXTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos2000 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos2000\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom0max_zoom18apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS2000TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos2000_2005 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos2000_2005\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4013, -178.187], [64.0698, 55.8561]]min_zoom6max_zoom18apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS2000-2005TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos2001 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos2001\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[4.47153, -61.2472], [50.3765, 7.23234]]min_zoom6max_zoom18apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS2001TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos2002 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos2002\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[4.49867, -61.2472], [50.3765, 9.68861]]min_zoom0max_zoom18apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS2002TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos2003 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos2003\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom0max_zoom18apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS2003TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos2004 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos2004\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4013, -178.187], [51.091, 55.8561]]min_zoom0max_zoom18apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS2004TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos2005 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos2005\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4013, -178.187], [51.091, 55.8561]]min_zoom0max_zoom18apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS2005TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos2006 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos2006\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4013, -178.187], [51.091, 55.8561]]min_zoom0max_zoom18apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS2006TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos2006_2010 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos2006_2010\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom0max_zoom18apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS2006-2010TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos2007 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos2007\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom0max_zoom18apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS2007TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos2008 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos2008\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4013, -178.187], [51.091, 55.8561]]min_zoom0max_zoom18apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS2008TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos2009 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos2009\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom0max_zoom18apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS2009TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos2010 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos2010\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom0max_zoom18apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS2010TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos2011 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos2011\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom0max_zoom18apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS2011TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos2011_2015 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos2011_2015\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4013, -178.187], [51.0945, 55.8561]]min_zoom6max_zoom18apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS2011-2015TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos2012 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos2012\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom0max_zoom18apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS2012TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos2013 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos2013\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom0max_zoom18apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS2013TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos2014 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos2014\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom0max_zoom18apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS2014TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos2015 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos2015\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom0max_zoom18apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS2015TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos2016 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos2016\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom0max_zoom18apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS2016TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos2017 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos2017\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4013, -63.1607], [50.3856, 55.8464]]min_zoom6max_zoom18apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS2017TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos2018 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos2018\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[42.3163, -5.20863], [51.1124, 8.25765]]min_zoom6max_zoom18apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS2018TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos2019 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos2019\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.3125, -3.74871], [50.1928, 9.66314]]min_zoom6max_zoom18apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS2019TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Orthophotos2020 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Orthophotos2020\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[42.9454, -2.68142], [49.4512, 7.74363]]min_zoom6max_zoom19apikeyorthohistoformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHOPHOTOS2020TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Ortho_sat_Pleiades_2012 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Ortho_sat_Pleiades_2012\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.3539, -53.2686], [50.6037, 55.5544]]min_zoom0max_zoom18apikeysatelliteformatimage/pngstylenormalvariantORTHOIMAGERY.ORTHO-SAT.PLEIADES.2012TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Ortho_sat_Pleiades_2013 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Ortho_sat_Pleiades_2013\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom0max_zoom18apikeysatelliteformatimage/pngstylenormalvariantORTHOIMAGERY.ORTHO-SAT.PLEIADES.2013TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Ortho_sat_Pleiades_2014 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Ortho_sat_Pleiades_2014\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom0max_zoom18apikeysatelliteformatimage/pngstylenormalvariantORTHOIMAGERY.ORTHO-SAT.PLEIADES.2014TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Ortho_sat_Pleiades_2015 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Ortho_sat_Pleiades_2015\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom0max_zoom18apikeysatelliteformatimage/pngstylenormalvariantORTHOIMAGERY.ORTHO-SAT.PLEIADES.2015TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Ortho_sat_Pleiades_2016 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Ortho_sat_Pleiades_2016\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.32, -54.1373], [50.6549, 55.8441]]min_zoom0max_zoom18apikeysatelliteformatimage/pngstylenormalvariantORTHOIMAGERY.ORTHO-SAT.PLEIADES.2016TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Ortho_sat_Pleiades_2017 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Ortho_sat_Pleiades_2017\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4013, -63.1796], [51.1117, 55.8465]]min_zoom0max_zoom18apikeysatelliteformatimage/pngstylenormalvariantORTHOIMAGERY.ORTHO-SAT.PLEIADES.2017TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Ortho_sat_Pleiades_2018 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Ortho_sat_Pleiades_2018\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4094, -63.1702], [51.0841, 55.8649]]min_zoom0max_zoom18apikeysatelliteformatimage/pngstylenormalvariantORTHOIMAGERY.ORTHO-SAT.PLEIADES.2018TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Ortho_sat_Pleiades_2019 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Ortho_sat_Pleiades_2019\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4094, -63.1702], [51.1117, 55.8649]]min_zoom0max_zoom18apikeysatelliteformatimage/pngstylenormalvariantORTHOIMAGERY.ORTHO-SAT.PLEIADES.2019TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Ortho_sat_Pleiades_2020 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Ortho_sat_Pleiades_2020\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-13.0169, -63.1724], [51.1117, 45.3136]]min_zoom0max_zoom18apikeysatelliteformatimage/pngstylenormalvariantORTHOIMAGERY.ORTHO-SAT.PLEIADES.2020TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Ortho_sat_Pleiades_2021 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Ortho_sat_Pleiades_2021\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom0max_zoom19apikeysatelliteformatimage/pngstylenormalvariantORTHOIMAGERY.ORTHO-SAT.PLEIADES.2021TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Ortho_sat_Pleiades_2022 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Ortho_sat_Pleiades_2022\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.3733, -67.7132], [69.3108, 55.7216]]min_zoom0max_zoom18apikeysatelliteformatimage/pngstylenormalvariantORTHOIMAGERY.ORTHO-SAT.PLEIADES.2022TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Ortho_sat_Rapideye_2010 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Ortho_sat_Rapideye_2010\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.2014, -5.80725], [50.9218, 10.961]]min_zoom0max_zoom15apikeysatelliteformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHO-SAT.RAPIDEYE.2010TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Ortho_sat_Rapideye_2011 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Ortho_sat_Rapideye_2011\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.0227, -5.80725], [51.1752, 10.961]]min_zoom0max_zoom15apikeysatelliteformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHO-SAT.RAPIDEYE.2011TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Ortho_sat_Spot_2013 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Ortho_sat_Spot_2013\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[44.8809, 0.563585], [50.3879, 4.29191]]min_zoom0max_zoom17apikeysatelliteformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHO-SAT.SPOT.2013TileMatrixSetPMstatusbroken\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Ortho_sat_Spot_2014 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Ortho_sat_Spot_2014\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-75.0, -179.5], [75.0, 179.5]]min_zoom0max_zoom17apikeysatelliteformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHO-SAT.SPOT.2014TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Ortho_sat_Spot_2015 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Ortho_sat_Spot_2015\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4104, -61.8141], [51.106, 55.856]]min_zoom0max_zoom17apikeysatelliteformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHO-SAT.SPOT.2015TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Ortho_sat_Spot_2016 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Ortho_sat_Spot_2016\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4104, -61.85], [51.1123, 55.8562]]min_zoom0max_zoom17apikeysatelliteformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHO-SAT.SPOT.2016TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Ortho_sat_Spot_2017 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Ortho_sat_Spot_2017\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4104, -61.8534], [51.1123, 55.8562]]min_zoom0max_zoom17apikeysatelliteformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHO-SAT.SPOT.2017TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Ortho_sat_Spot_2018 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Ortho_sat_Spot_2018\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.2593, -5.57103], [51.1123, 10.7394]]min_zoom0max_zoom17apikeysatelliteformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHO-SAT.SPOT.2018TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Ortho_sat_Spot_2019 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Ortho_sat_Spot_2019\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.2593, -5.57103], [51.1123, 10.7394]]min_zoom0max_zoom17apikeysatelliteformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHO-SAT.SPOT.2019TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Ortho_sat_Spot_2020 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Ortho_sat_Spot_2020\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.2593, -5.57103], [51.1123, 10.7394]]min_zoom0max_zoom17apikeysatelliteformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHO-SAT.SPOT.2020TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Orthoimagery_Ortho_sat_Spot_2021 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Orthoimagery_Ortho_sat_Spot_2021\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.2593, -5.57103], [51.1123, 10.7394]]min_zoom0max_zoom17apikeysatelliteformatimage/jpegstylenormalvariantORTHOIMAGERY.ORTHO-SAT.SPOT.2021TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Bdcarto_etat_major_Niveau3 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Bdcarto_etat_major_Niveau3\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[42.6423, -5.15012], [51.0938, 7.19384]]min_zoom6max_zoom16apikeysolformatimage/pngstylenormalvariantBDCARTO_ETAT-MAJOR.NIVEAU3TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Bdcarto_etat_major_Niveau4 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Bdcarto_etat_major_Niveau4\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[41.3252, -5.15047], [51.0991, 9.57054]]min_zoom6max_zoom16apikeysolformatimage/pngstylenormalvariantBDCARTO_ETAT-MAJOR.NIVEAU4TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Buildings_Buildings xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Buildings_Buildings\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4969, -63.9692], [71.5841, 55.9644]]min_zoom6max_zoom18apikeytopographieformatimage/pngstylenormalvariantBUILDINGS.BUILDINGSTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Geographicalnames_Names xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Geographicalnames_Names\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4969, -63.9692], [71.5841, 55.9644]]min_zoom6max_zoom18apikeytopographieformatimage/pngstylenormalvariantGEOGRAPHICALNAMES.NAMESTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Hydrography_Hydrography xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Hydrography_Hydrography\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4969, -63.9692], [71.5841, 55.9644]]min_zoom6max_zoom18apikeytopographieformatimage/pngstylenormalvariantHYDROGRAPHY.HYDROGRAPHYTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Transportnetwork_Commontransportelements_Markerpost xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Transportnetwork_Commontransportelements_Markerpost\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom10max_zoom18apikeytopographieformatimage/pngstylenormalvariantTRANSPORTNETWORK.COMMONTRANSPORTELEMENTS.MARKERPOSTTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Transportnetworks_Railways xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Transportnetworks_Railways\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4969, -63.9692], [71.5841, 55.9644]]min_zoom6max_zoom18apikeytopographieformatimage/pngstylenormalvariantTRANSPORTNETWORKS.RAILWAYSTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Transportnetworks_Roads xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Transportnetworks_Roads\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4969, -63.9692], [71.5841, 55.9644]]min_zoom6max_zoom18apikeytopographieformatimage/pngstylenormalvariantTRANSPORTNETWORKS.ROADSTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Transportnetworks_Runways xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Transportnetworks_Runways\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4969, -63.9692], [71.5841, 55.9644]]min_zoom6max_zoom18apikeytopographieformatimage/pngstylenormalvariantTRANSPORTNETWORKS.RUNWAYSTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Utilityandgovernmentalservices_All xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Utilityandgovernmentalservices_All\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [71.5841, 55.9259]]min_zoom6max_zoom18apikeytopographieformatimage/pngstylenormalvariantUTILITYANDGOVERNMENTALSERVICES.ALLTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Hedge_Hedge xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Hedge_Hedge\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom7max_zoom18apikeytopographieformatimage/pngstylenormalvarianthedge.hedgeTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Securoute_Te_1te xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Securoute_Te_1te\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom4max_zoom17apikeytransportsformatimage/pngstyleRESEAU ROUTIER 1TEvariantSECUROUTE.TE.1TETileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Securoute_Te_2te48 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Securoute_Te_2te48\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom17apikeytransportsformatimage/pngstyleRESEAU ROUTIER 2TE48variantSECUROUTE.TE.2TE48TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Securoute_Te_All xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Securoute_Te_All\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom17apikeytransportsformatimage/pngstyleTOUS LES FRANCHISSEMENTSvariantSECUROUTE.TE.ALLTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Securoute_Te_Oa xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Securoute_Te_Oa\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom17apikeytransportsformatimage/pngstyleAUTRES FRANCHISSEMENTSvariantSECUROUTE.TE.OATileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Securoute_Te_Pn xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Securoute_Te_Pn\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom17apikeytransportsformatimage/pngstyleFRANCHISSEMENTS PASSAGE A NIVEAUvariantSECUROUTE.TE.PNTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Securoute_Te_Pnd xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Securoute_Te_Pnd\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom17apikeytransportsformatimage/pngstyleFRANCHISSEMENTS PASSAGE A NIVEAU DIFFICILEvariantSECUROUTE.TE.PNDTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Securoute_Te_Te120 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Securoute_Te_Te120\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom17apikeytransportsformatimage/pngstyleRESEAU ROUTIER TE120variantSECUROUTE.TE.TE120TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Securoute_Te_Te72 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Securoute_Te_Te72\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom17apikeytransportsformatimage/pngstyleRESEAU ROUTIER TE72variantSECUROUTE.TE.TE72TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Securoute_Te_Te94 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Securoute_Te_Te94\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom6max_zoom17apikeytransportsformatimage/pngstyleRESEAU ROUTIER TE94variantSECUROUTE.TE.TE94TileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Transportnetworks_Roads_Direction xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Transportnetworks_Roads_Direction\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[-21.4756, -63.3725], [51.3121, 55.9259]]min_zoom15max_zoom18apikeytransportsformatimage/pngstylenormalvariantTRANSPORTNETWORKS.ROADS.DIRECTIONTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Transports_Drones_Restrictions xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    GeoportailFrance.Transports_Drones_Restrictions\n                \n                \n                    \n                        urlhttps://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}html_attributionGeoportail FranceattributionGeoportail Francebounds[[40.576, -9.88147], [51.4428, 11.6781]]min_zoom3max_zoom15apikeytransportsformatimage/pngstylenormalvariantTRANSPORTS.DRONES.RESTRICTIONSTileMatrixSetPM\n                    \n                \n            \n        \n        \n                \n            \n            \n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                OneMapSG xyzservices.Bunch\n                \n                    \n        \n        \n            \n                \n                    xyzservices.Bunch\n                    5 items\n                \n                \n                    \n                        \n            \n                \n                Default xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OneMapSG.Default\n                \n                \n                    \n                        urlhttps://maps-{s}.onemap.sg/v3/{variant}/{z}/{x}/{y}.pngvariantDefaultmin_zoom11max_zoom18bounds[[1.56073, 104.11475], [1.16, 103.502]]html_attribution New OneMap | Map data © contributors, Singapore Land Authorityattribution![](https://docs.onemap.sg/maps/images/oneMap64-01.png) New OneMap | Map data (C) contributors, Singapore Land Authority\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Night xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OneMapSG.Night\n                \n                \n                    \n                        urlhttps://maps-{s}.onemap.sg/v3/{variant}/{z}/{x}/{y}.pngvariantNightmin_zoom11max_zoom18bounds[[1.56073, 104.11475], [1.16, 103.502]]html_attribution New OneMap | Map data © contributors, Singapore Land Authorityattribution![](https://docs.onemap.sg/maps/images/oneMap64-01.png) New OneMap | Map data (C) contributors, Singapore Land Authority\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Original xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OneMapSG.Original\n                \n                \n                    \n                        urlhttps://maps-{s}.onemap.sg/v3/{variant}/{z}/{x}/{y}.pngvariantOriginalmin_zoom11max_zoom18bounds[[1.56073, 104.11475], [1.16, 103.502]]html_attribution New OneMap | Map data © contributors, Singapore Land Authorityattribution![](https://docs.onemap.sg/maps/images/oneMap64-01.png) New OneMap | Map data (C) contributors, Singapore Land Authority\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Grey xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OneMapSG.Grey\n                \n                \n                    \n                        urlhttps://maps-{s}.onemap.sg/v3/{variant}/{z}/{x}/{y}.pngvariantGreymin_zoom11max_zoom18bounds[[1.56073, 104.11475], [1.16, 103.502]]html_attribution New OneMap | Map data © contributors, Singapore Land Authorityattribution![](https://docs.onemap.sg/maps/images/oneMap64-01.png) New OneMap | Map data (C) contributors, Singapore Land Authority\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                LandLot xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OneMapSG.LandLot\n                \n                \n                    \n                        urlhttps://maps-{s}.onemap.sg/v3/{variant}/{z}/{x}/{y}.pngvariantLandLotmin_zoom11max_zoom18bounds[[1.56073, 104.11475], [1.16, 103.502]]html_attribution New OneMap | Map data © contributors, Singapore Land Authorityattribution![](https://docs.onemap.sg/maps/images/oneMap64-01.png) New OneMap | Map data (C) contributors, Singapore Land Authority\n                    \n                \n            \n        \n        \n                \n            \n            \n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                USGS xyzservices.Bunch\n                \n                    \n        \n        \n            \n                \n                    xyzservices.Bunch\n                    3 items\n                \n                \n                    \n                        \n            \n                \n                USTopo xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    USGS.USTopo\n                \n                \n                    \n                        urlhttps://basemap.nationalmap.gov/arcgis/rest/services/USGSTopo/MapServer/tile/{z}/{y}/{x}max_zoom20html_attributionTiles courtesy of the U.S. Geological SurveyattributionTiles courtesy of the U.S. Geological Survey\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                USImagery xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    USGS.USImagery\n                \n                \n                    \n                        urlhttps://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryOnly/MapServer/tile/{z}/{y}/{x}max_zoom20html_attributionTiles courtesy of the U.S. Geological SurveyattributionTiles courtesy of the U.S. Geological Survey\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                USImageryTopo xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    USGS.USImageryTopo\n                \n                \n                    \n                        urlhttps://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryTopo/MapServer/tile/{z}/{y}/{x}max_zoom20html_attributionTiles courtesy of the U.S. Geological SurveyattributionTiles courtesy of the U.S. Geological Survey\n                    \n                \n            \n        \n        \n                \n            \n            \n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                WaymarkedTrails xyzservices.Bunch\n                \n                    \n        \n        \n            \n                \n                    xyzservices.Bunch\n                    6 items\n                \n                \n                    \n                        \n            \n                \n                hiking xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    WaymarkedTrails.hiking\n                \n                \n                    \n                        urlhttps://tile.waymarkedtrails.org/{variant}/{z}/{x}/{y}.pngmax_zoom18html_attributionMap data: © OpenStreetMap contributors | Map style: © waymarkedtrails.org (CC-BY-SA)attributionMap data: (C) OpenStreetMap contributors | Map style: (C) waymarkedtrails.org (CC-BY-SA)varianthiking\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                cycling xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    WaymarkedTrails.cycling\n                \n                \n                    \n                        urlhttps://tile.waymarkedtrails.org/{variant}/{z}/{x}/{y}.pngmax_zoom18html_attributionMap data: © OpenStreetMap contributors | Map style: © waymarkedtrails.org (CC-BY-SA)attributionMap data: (C) OpenStreetMap contributors | Map style: (C) waymarkedtrails.org (CC-BY-SA)variantcycling\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                mtb xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    WaymarkedTrails.mtb\n                \n                \n                    \n                        urlhttps://tile.waymarkedtrails.org/{variant}/{z}/{x}/{y}.pngmax_zoom18html_attributionMap data: © OpenStreetMap contributors | Map style: © waymarkedtrails.org (CC-BY-SA)attributionMap data: (C) OpenStreetMap contributors | Map style: (C) waymarkedtrails.org (CC-BY-SA)variantmtb\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                slopes xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    WaymarkedTrails.slopes\n                \n                \n                    \n                        urlhttps://tile.waymarkedtrails.org/{variant}/{z}/{x}/{y}.pngmax_zoom18html_attributionMap data: © OpenStreetMap contributors | Map style: © waymarkedtrails.org (CC-BY-SA)attributionMap data: (C) OpenStreetMap contributors | Map style: (C) waymarkedtrails.org (CC-BY-SA)variantslopes\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                riding xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    WaymarkedTrails.riding\n                \n                \n                    \n                        urlhttps://tile.waymarkedtrails.org/{variant}/{z}/{x}/{y}.pngmax_zoom18html_attributionMap data: © OpenStreetMap contributors | Map style: © waymarkedtrails.org (CC-BY-SA)attributionMap data: (C) OpenStreetMap contributors | Map style: (C) waymarkedtrails.org (CC-BY-SA)variantriding\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                skating xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    WaymarkedTrails.skating\n                \n                \n                    \n                        urlhttps://tile.waymarkedtrails.org/{variant}/{z}/{x}/{y}.pngmax_zoom18html_attributionMap data: © OpenStreetMap contributors | Map style: © waymarkedtrails.org (CC-BY-SA)attributionMap data: (C) OpenStreetMap contributors | Map style: (C) waymarkedtrails.org (CC-BY-SA)variantskating\n                    \n                \n            \n        \n        \n                \n            \n            \n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                OpenAIP xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OpenAIP\n                \n                \n                    \n                        urlhttps://{s}.tile.maps.openaip.net/geowebcache/service/tms/1.0.0/openaip_basemap@EPSG%3A900913@png/{z}/{x}/{y}.{ext}html_attributionopenAIP Data (CC-BY-NC-SA)attributionopenAIP Data (CC-BY-NC-SA)extpngmin_zoom4max_zoom14tmsTruedetectRetinaTruesubdomains12\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                OpenSnowMap xyzservices.Bunch\n                \n                    \n        \n        \n            \n                \n                    xyzservices.Bunch\n                    1 items\n                \n                \n                    \n                        \n            \n                \n                pistes xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OpenSnowMap.pistes\n                \n                \n                    \n                        urlhttps://tiles.opensnowmap.org/{variant}/{z}/{x}/{y}.pngmin_zoom9max_zoom18html_attributionMap data: © OpenStreetMap contributors & ODbL, © www.opensnowmap.org CC-BY-SAattributionMap data: (C) OpenStreetMap contributors & ODbL, (C) www.opensnowmap.org CC-BY-SAvariantpistes\n                    \n                \n            \n        \n        \n                \n            \n            \n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                AzureMaps xyzservices.Bunch\n                \n                    \n        \n        \n            \n                \n                    xyzservices.Bunch\n                    7 items\n                \n                \n                    \n                        \n            \n                \n                MicrosoftImagery xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    AzureMaps.MicrosoftImagery\n                \n                \n                    \n                        urlhttps://atlas.microsoft.com/map/tile?api-version={apiVersion}&tilesetId={variant}&x={x}&y={y}&zoom={z}&language={language}&subscription-key={subscriptionKey}html_attributionSee https://docs.microsoft.com/en-us/rest/api/maps/render-v2/get-map-tile for details.attributionSee https://docs.microsoft.com/en-us/rest/api/maps/render-v2/get-map-tile for details.apiVersion2.0variantmicrosoft.imagerysubscriptionKeylanguageen-US\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                MicrosoftBaseDarkGrey xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    AzureMaps.MicrosoftBaseDarkGrey\n                \n                \n                    \n                        urlhttps://atlas.microsoft.com/map/tile?api-version={apiVersion}&tilesetId={variant}&x={x}&y={y}&zoom={z}&language={language}&subscription-key={subscriptionKey}html_attributionSee https://docs.microsoft.com/en-us/rest/api/maps/render-v2/get-map-tile for details.attributionSee https://docs.microsoft.com/en-us/rest/api/maps/render-v2/get-map-tile for details.apiVersion2.0variantmicrosoft.base.darkgreysubscriptionKeylanguageen-US\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                MicrosoftBaseRoad xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    AzureMaps.MicrosoftBaseRoad\n                \n                \n                    \n                        urlhttps://atlas.microsoft.com/map/tile?api-version={apiVersion}&tilesetId={variant}&x={x}&y={y}&zoom={z}&language={language}&subscription-key={subscriptionKey}html_attributionSee https://docs.microsoft.com/en-us/rest/api/maps/render-v2/get-map-tile for details.attributionSee https://docs.microsoft.com/en-us/rest/api/maps/render-v2/get-map-tile for details.apiVersion2.0variantmicrosoft.base.roadsubscriptionKeylanguageen-US\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                MicrosoftBaseHybridRoad xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    AzureMaps.MicrosoftBaseHybridRoad\n                \n                \n                    \n                        urlhttps://atlas.microsoft.com/map/tile?api-version={apiVersion}&tilesetId={variant}&x={x}&y={y}&zoom={z}&language={language}&subscription-key={subscriptionKey}html_attributionSee https://docs.microsoft.com/en-us/rest/api/maps/render-v2/get-map-tile for details.attributionSee https://docs.microsoft.com/en-us/rest/api/maps/render-v2/get-map-tile for details.apiVersion2.0variantmicrosoft.base.hybrid.roadsubscriptionKeylanguageen-US\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                MicrosoftTerraMain xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    AzureMaps.MicrosoftTerraMain\n                \n                \n                    \n                        urlhttps://atlas.microsoft.com/map/tile?api-version={apiVersion}&tilesetId={variant}&x={x}&y={y}&zoom={z}&language={language}&subscription-key={subscriptionKey}html_attributionSee https://docs.microsoft.com/en-us/rest/api/maps/render-v2/get-map-tile for details.attributionSee https://docs.microsoft.com/en-us/rest/api/maps/render-v2/get-map-tile for details.apiVersion2.0variantmicrosoft.terra.mainsubscriptionKeylanguageen-US\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                MicrosoftWeatherInfraredMain xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    AzureMaps.MicrosoftWeatherInfraredMain\n                \n                \n                    \n                        urlhttps://atlas.microsoft.com/map/tile?api-version={apiVersion}&tilesetId={variant}&x={x}&y={y}&zoom={z}&timeStamp={timeStamp}&language={language}&subscription-key={subscriptionKey}html_attributionSee https://docs.microsoft.com/en-us/rest/api/maps/render-v2/get-map-tile#uri-parameters for details.attributionSee https://docs.microsoft.com/en-us/rest/api/maps/render-v2/get-map-tile#uri-parameters for details.apiVersion2.0variantmicrosoft.weather.infrared.mainsubscriptionKeylanguageen-UStimeStamp2021-05-08T09:03:00Z\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                MicrosoftWeatherRadarMain xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    AzureMaps.MicrosoftWeatherRadarMain\n                \n                \n                    \n                        urlhttps://atlas.microsoft.com/map/tile?api-version={apiVersion}&tilesetId={variant}&x={x}&y={y}&zoom={z}&timeStamp={timeStamp}&language={language}&subscription-key={subscriptionKey}html_attributionSee https://docs.microsoft.com/en-us/rest/api/maps/render-v2/get-map-tile#uri-parameters for details.attributionSee https://docs.microsoft.com/en-us/rest/api/maps/render-v2/get-map-tile#uri-parameters for details.apiVersion2.0variantmicrosoft.weather.radar.mainsubscriptionKeylanguageen-UStimeStamp2021-05-08T09:03:00Z\n                    \n                \n            \n        \n        \n                \n            \n            \n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                SwissFederalGeoportal xyzservices.Bunch\n                \n                    \n        \n        \n            \n                \n                    xyzservices.Bunch\n                    4 items\n                \n                \n                    \n                        \n            \n                \n                NationalMapColor xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    SwissFederalGeoportal.NationalMapColor\n                \n                \n                    \n                        urlhttps://wmts.geo.admin.ch/1.0.0/ch.swisstopo.pixelkarte-farbe/default/current/3857/{z}/{x}/{y}.jpeghtml_attributionswisstopoattribution© swisstopobounds[[45.398181, 5.140242], [48.230651, 11.47757]]min_zoom2max_zoom18\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                NationalMapGrey xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    SwissFederalGeoportal.NationalMapGrey\n                \n                \n                    \n                        urlhttps://wmts.geo.admin.ch/1.0.0/ch.swisstopo.pixelkarte-grau/default/current/3857/{z}/{x}/{y}.jpeghtml_attributionswisstopoattribution© swisstopobounds[[45.398181, 5.140242], [48.230651, 11.47757]]min_zoom2max_zoom18\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                SWISSIMAGE xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    SwissFederalGeoportal.SWISSIMAGE\n                \n                \n                    \n                        urlhttps://wmts.geo.admin.ch/1.0.0/ch.swisstopo.swissimage/default/current/3857/{z}/{x}/{y}.jpeghtml_attributionswisstopoattribution© swisstopobounds[[45.398181, 5.140242], [48.230651, 11.47757]]min_zoom2max_zoom19\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                JourneyThroughTime xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    SwissFederalGeoportal.JourneyThroughTime\n                \n                \n                    \n                        urlhttps://wmts.geo.admin.ch/1.0.0/ch.swisstopo.zeitreihen/default/{time}/3857/{z}/{x}/{y}.pnghtml_attributionswisstopoattribution© swisstopobounds[[45.398181, 5.140242], [48.230651, 11.47757]]min_zoom2max_zoom18time18641231\n                    \n                \n            \n        \n        \n                \n            \n            \n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Gaode xyzservices.Bunch\n                \n                    \n        \n        \n            \n                \n                    xyzservices.Bunch\n                    2 items\n                \n                \n                    \n                        \n            \n                \n                Normal xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Gaode.Normal\n                \n                \n                    \n                        urlhttp://webrd01.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}max_zoom19attribution© Gaode.comhtml_attribution© Gaode.com\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Satellite xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Gaode.Satellite\n                \n                \n                    \n                        urlhttp://webst01.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}max_zoom19attribution© Gaode.comhtml_attribution© Gaode.com\n                    \n                \n            \n        \n        \n                \n            \n            \n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Strava xyzservices.Bunch\n                \n                    \n        \n        \n            \n                \n                    xyzservices.Bunch\n                    5 items\n                \n                \n                    \n                        \n            \n                \n                All xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Strava.All\n                \n                \n                    \n                        urlhttps://heatmap-external-a.strava.com/tiles/all/hot/{z}/{x}/{y}.pngmax_zoom15attributionMap tiles by Strava 2021html_attributionMap tiles by Strava 2021\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Ride xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Strava.Ride\n                \n                \n                    \n                        urlhttps://heatmap-external-a.strava.com/tiles/ride/hot/{z}/{x}/{y}.pngmax_zoom15attributionMap tiles by Strava 2021html_attributionMap tiles by Strava 2021\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Run xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Strava.Run\n                \n                \n                    \n                        urlhttps://heatmap-external-a.strava.com/tiles/run/bluered/{z}/{x}/{y}.pngmax_zoom15attributionMap tiles by Strava 2021html_attributionMap tiles by Strava 2021\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Water xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Strava.Water\n                \n                \n                    \n                        urlhttps://heatmap-external-a.strava.com/tiles/water/blue/{z}/{x}/{y}.pngmax_zoom15attributionMap tiles by Strava 2021html_attributionMap tiles by Strava 2021\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Winter xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    Strava.Winter\n                \n                \n                    \n                        urlhttps://heatmap-external-a.strava.com/tiles/winter/hot/{z}/{x}/{y}.pngmax_zoom15attributionMap tiles by Strava 2021html_attributionMap tiles by Strava 2021\n                    \n                \n            \n        \n        \n                \n            \n            \n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                OrdnanceSurvey xyzservices.Bunch\n                \n                    \n        \n        \n            \n                \n                    xyzservices.Bunch\n                    7 items\n                \n                \n                    \n                        \n            \n                \n                Road xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OrdnanceSurvey.Road\n                \n                \n                    \n                        urlhttps://api.os.uk/maps/raster/v1/zxy/Road_3857/{z}/{x}/{y}.png?key={key}html_attributionContains OS data © Crown copyright and database right 2023attributionContains OS data (C) Crown copyright and database right 2023keymin_zoom7max_zoom16max_zoom_premium20bounds[[49.766807, -9.496386], [61.465189, 3.634745]]\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Road_27700 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OrdnanceSurvey.Road_27700\n                \n                \n                    \n                        urlhttps://api.os.uk/maps/raster/v1/zxy/Road_27700/{z}/{x}/{y}.png?key={key}html_attributionContains OS data © Crown copyright and database right 2023attributionContains OS data (C) Crown copyright and database right 2023keycrsEPSG:27700min_zoom0max_zoom9max_zoom_premium13bounds[[0, 0], [700000, 1300000]]\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Outdoor xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OrdnanceSurvey.Outdoor\n                \n                \n                    \n                        urlhttps://api.os.uk/maps/raster/v1/zxy/Outdoor_3857/{z}/{x}/{y}.png?key={key}html_attributionContains OS data © Crown copyright and database right 2023attributionContains OS data (C) Crown copyright and database right 2023keymin_zoom7max_zoom16max_zoom_premium20bounds[[49.766807, -9.496386], [61.465189, 3.634745]]\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Outdoor_27700 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OrdnanceSurvey.Outdoor_27700\n                \n                \n                    \n                        urlhttps://api.os.uk/maps/raster/v1/zxy/Outdoor_27700/{z}/{x}/{y}.png?key={key}html_attributionContains OS data © Crown copyright and database right 2023attributionContains OS data (C) Crown copyright and database right 2023keycrsEPSG:27700min_zoom0max_zoom9max_zoom_premium13bounds[[0, 0], [700000, 1300000]]\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Light xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OrdnanceSurvey.Light\n                \n                \n                    \n                        urlhttps://api.os.uk/maps/raster/v1/zxy/Light_3857/{z}/{x}/{y}.png?key={key}html_attributionContains OS data © Crown copyright and database right 2023attributionContains OS data (C) Crown copyright and database right 2023keymin_zoom7max_zoom16max_zoom_premium20bounds[[49.766807, -9.496386], [61.465189, 3.634745]]\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Light_27700 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OrdnanceSurvey.Light_27700\n                \n                \n                    \n                        urlhttps://api.os.uk/maps/raster/v1/zxy/Light_27700/{z}/{x}/{y}.png?key={key}html_attributionContains OS data © Crown copyright and database right 2023attributionContains OS data (C) Crown copyright and database right 2023keycrsEPSG:27700min_zoom0max_zoom9max_zoom_premium13bounds[[0, 0], [700000, 1300000]]\n                    \n                \n            \n        \n        \n                \n            \n            \n            \n                \n                Leisure_27700 xyzservices.TileProvider\n                \n                    \n        \n        \n            \n                \n                    xyzservices.TileProvider\n                    OrdnanceSurvey.Leisure_27700\n                \n                \n                    \n                        urlhttps://api.os.uk/maps/raster/v1/zxy/Leisure_27700/{z}/{x}/{y}.png?key={key}html_attributionContains OS data © Crown copyright and database right 2023attributionContains OS data (C) Crown copyright and database right 2023keycrsEPSG:27700min_zoom0max_zoom5max_zoom_premium9bounds[[0, 0], [700000, 1300000]]\n                    \n                \n            \n        \n        \n                \n            \n            \n                    \n                \n            \n        \n        \n                \n            \n            \n                    \n                \n            \n        \n        \n\n\nLet’s try out a couple of examples:\nUSGS Topo:\n\nm = folium.Map(\n    location=[39.99, -75.13], zoom_start=11, tiles=xyzservices.providers.USGS.USTopo\n)\n\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\nEsri National Geographic World Map:\n\nm = folium.Map(\n    location=[39.99, -75.13],\n    zoom_start=11,\n    tiles=xyzservices.providers.Esri.NatGeoWorldMap,\n)\n\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\nCartoDB Dark Matter:\n\nm = folium.Map(\n    location=[39.99, -75.13],\n    zoom_start=11,\n    tiles=xyzservices.providers.CartoDB.DarkMatter,\n)\n\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\n\n\n2. Overlaying multiple GeoJSON layers on a folium map\nThe .explore() function can handle points in addition to polygon geometry objects. And you can layer multiple types of GeoJSON on the same folium map, and add a widget to control which layers are active on the map.\nAs an example, we’ll keep exploring our trash-related 311 ticket dataset. Let’s take a look at the top 10 neighborhoods in terms of the number of tickets per neighborhood area:\n\nrequests_by_hood.sort_values(by=\"num_tickets_per_area\", ascending=False).head(n=10)\n\n\n\n\n\n\n\n\nZillowName\ngeometry\nnum_tickets\nnum_tickets_per_area\n\n\n\n\n57\nGreenwich\nPOLYGON ((-75.15294 39.92465, -75.15342 39.922...\n214\n6.781077\n\n\n31\nEast Passyunk\nPOLYGON ((-75.16971 39.92442, -75.16835 39.930...\n648\n6.222775\n\n\n86\nNewbold\nPOLYGON ((-75.16971 39.92442, -75.17023 39.921...\n525\n5.712863\n\n\n72\nLower Moyamensing\nPOLYGON ((-75.15660 39.92271, -75.15827 39.915...\n881\n5.366825\n\n\n5\nBella Vista\nPOLYGON ((-75.15865 39.94277, -75.15757 39.942...\n416\n5.082199\n\n\n25\nDunlap\nPOLYGON ((-75.22457 39.96492, -75.21995 39.963...\n189\n4.983522\n\n\n139\nWest Passyunk\nPOLYGON ((-75.18528 39.93020, -75.17533 39.928...\n495\n4.888462\n\n\n108\nPoint Breeze\nPOLYGON ((-75.18495 39.94013, -75.17622 39.939...\n1154\n4.308334\n\n\n103\nPennsport\nPOLYGON ((-75.14531 39.93361, -75.14532 39.933...\n447\n4.062493\n\n\n142\nWhitman\nPOLYGON ((-75.14766 39.91674, -75.14825 39.913...\n476\n3.983558\n\n\n\n\n\n\n\nThe Greenwich neighborhood has the highest number of tickets per area, but a relatively low number of overall tickets. Let’s take a look at the tickets in closer detail.\n\n# Extract out the point tickets for Greenwich\ngreenwich_tickets = requests_with_hood.query(\"ZillowName == 'Greenwich'\")\n\n\n# Get the neighborhood boundary for Greenwich\ngreenwich_geo = neighborhoods.query(\"ZillowName == 'Greenwich'\")\n\n\n\n\n\n\n\nNote\n\n\n\nIf you are using the .explore() function in geopandas, you if you have an existing Folium map, you can pass it to the explore() function using the m= keyword. See the docs for more info.\n\n\n\n# Plot the neighborhood boundary\nm = greenwich_geo.explore(\n    style_kwds={\"weight\": 4, \"color\": \"black\", \"fillColor\": \"none\"},\n    name=\"Neighborhood boundary\",\n    tiles=xyzservices.providers.CartoDB.Voyager,\n)\n\n\n# Add the individual tickets as circle markers and style them\ngreenwich_tickets.explore(\n    m=m,  # Add to the existing map!\n    marker_kwds={\"radius\": 7, \"fill\": True, \"color\": \"crimson\"},\n    marker_type=\"circle_marker\", # or 'marker' or 'circle'\n    name=\"Tickets\",\n)\n\n# Hse folium to add layer control\nfolium.LayerControl().add_to(m)\n\nm  # show map\n\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\nInteresting! There are definitely spatial clusters of 311 tickets, e.g., hot spots. But these tickets are from all of 2020…\nQuestion: I wonder if they were clustered in time as well as space, e.g., a large number of tickets in a short period of time. This could be indicative of a couple bad weeks of trash collections, and a few “power users” putting in lots of repeat 311 tickets to the City if the issue was resolved.\nLet’s use the folium/leaflet plugin ecosystem to try to answer this question!\n\n\n3. Leaflet/Folium plugins\nOne of leaflet’s strengths: a rich set of open-source plugins\nhttps://leafletjs.com/plugins.html\nMany of these are available in Folium! Check out the plugins gallery on the folium documentation for examples.\n\n3A. Time-stamped GeoJSON\nThe folium.plugins.TimestampedGeoJson() object can plot a GeoJSON collection over time, adding a slider to control what time frame is currently shown.\nLet’s use this to examine the trends in tickets in Greenwich by month in 2020…\n\n\n\n\n\n\nNotes\n\n\n\nThere’s a few things we’ll need to do to prepare:\n\nAdd a “time” column that includes the datetime for each point. We can rename our “requested_datetime” column.\nPass in GeoJSON to the function, not the GeoDataFrame. We can use the .to_json() function to convert.\nChoose a time period to show on the slider, e.g., how many time slices to show. We will use a monthly interval below.\n\n\n\n\n# Select only the two columns we need and rename to \"time\"\nticket_timestamps = (\n    greenwich_tickets[[\"requested_datetime\", \"geometry\"]]\n    .rename(columns={\"requested_datetime\": \"time\"})\n)\n\n\n# Plot the neighborhood boundary first\nm = greenwich_geo.explore(\n    style_kwds={\"weight\": 4, \"color\": \"black\", \"fillColor\": \"none\"},\n    name=\"Neighborhood boundary\",\n    tiles=xyzservices.providers.CartoDB.Voyager,\n)\n\n# Add the time-stamped GeoJSON\nfolium.plugins.TimestampedGeoJson(\n    ticket_timestamps.to_json(),  # Convert to GeoJSON\n    period=\"P1M\",  # Show the data in one month intervals\n    duration=\"P1M\",  # Only show points for 1 month and then remove them\n    auto_play=False,  # Don't start playing by default\n    loop=False,  # Loop the animation\n    max_speed=1,  # Max frame speed\n    loop_button=True,  # Show a loop button\n    transition_time=500,  # Time between frames in ms\n).add_to(m)\n\nm\n\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\nAh! The summer months, July and August in particular, saw a lot of requests, just as we saw before with the citywide data! By September or October the number of tickets declines, showing that the trash-related problems were a short-term issue.\n\n\n\n\n\n\nDeep dive: Styling the markers\n\n\n\nA brief deep dive, feel free to keep moving!\nStyling the markers in this case is much harder to do than when we were working with the .explore() function. We need to add the style dictionary we want as a attribute of each feature’s property dictionary. So we’ll need to convert to a GeoJSON dict, and then manually loop over each feature and add the style we want.\nThe example below really illustrates how .explore() is often the best option for its ease of use!\n\n\nThe .to_json() function returns a string version of the GeoJSON dict. We can parse it into a Python dict by using the json.loads() function.\n\nimport json\n\n\n# This is our GeoJSON points as a dict\ngeosjon_dict = json.loads(ticket_timestamps.to_json())\n\n\ngeosjon_dict\n\n{'type': 'FeatureCollection',\n 'features': [{'id': '842',\n   'type': 'Feature',\n   'properties': {'time': '2020-01-06 10:42:43'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.155657471, 39.923776419]}},\n  {'id': '1168',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-13 21:30:03'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.153858572, 39.924485692]}},\n  {'id': '1171',\n   'type': 'Feature',\n   'properties': {'time': '2020-03-05 17:35:06'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160990158, 39.924627016]}},\n  {'id': '1172',\n   'type': 'Feature',\n   'properties': {'time': '2020-03-05 13:15:21'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160990158, 39.924627016]}},\n  {'id': '1183',\n   'type': 'Feature',\n   'properties': {'time': '2020-03-27 14:22:31'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.155498831, 39.924592881]}},\n  {'id': '1467',\n   'type': 'Feature',\n   'properties': {'time': '2020-01-03 14:18:31'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.161230033, 39.92354383]}},\n  {'id': '2389',\n   'type': 'Feature',\n   'properties': {'time': '2020-01-24 13:47:48'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.158356253, 39.923713663]}},\n  {'id': '2706',\n   'type': 'Feature',\n   'properties': {'time': '2020-01-16 13:30:19'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160874798, 39.925369821]}},\n  {'id': '2710',\n   'type': 'Feature',\n   'properties': {'time': '2020-01-16 13:59:33'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.159921056, 39.924371679]}},\n  {'id': '3025',\n   'type': 'Feature',\n   'properties': {'time': '2020-01-28 13:13:58'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.16083836, 39.925317048]}},\n  {'id': '3033',\n   'type': 'Feature',\n   'properties': {'time': '2020-01-28 13:15:41'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.159065146, 39.925475093]}},\n  {'id': '3074',\n   'type': 'Feature',\n   'properties': {'time': '2020-01-24 13:49:33'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.158356253, 39.923713663]}},\n  {'id': '3119',\n   'type': 'Feature',\n   'properties': {'time': '2020-01-25 20:10:35'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.155601389, 39.924585621]}},\n  {'id': '3267',\n   'type': 'Feature',\n   'properties': {'time': '2020-01-30 11:34:41'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.155621249, 39.923806944]}},\n  {'id': '4697',\n   'type': 'Feature',\n   'properties': {'time': '2020-02-22 13:35:35'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.157024208, 39.923213738]}},\n  {'id': '4715',\n   'type': 'Feature',\n   'properties': {'time': '2020-02-21 17:49:57'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.159090002, 39.923460988]}},\n  {'id': '4740',\n   'type': 'Feature',\n   'properties': {'time': '2020-02-22 13:33:17'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.15719156, 39.923235233]}},\n  {'id': '4741',\n   'type': 'Feature',\n   'properties': {'time': '2020-02-22 13:34:09'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.15719156, 39.923235233]}},\n  {'id': '4742',\n   'type': 'Feature',\n   'properties': {'time': '2020-02-24 13:36:54'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.15719156, 39.923235233]}},\n  {'id': '4743',\n   'type': 'Feature',\n   'properties': {'time': '2020-02-22 13:34:57'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.157077985, 39.923220645]}},\n  {'id': '4760',\n   'type': 'Feature',\n   'properties': {'time': '2020-02-24 08:13:43'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.156003433, 39.92385723]}},\n  {'id': '4990',\n   'type': 'Feature',\n   'properties': {'time': '2020-02-08 10:24:59'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.15301445, 39.92446812]}},\n  {'id': '5448',\n   'type': 'Feature',\n   'properties': {'time': '2020-02-13 13:31:52'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.156957121, 39.925199659]}},\n  {'id': '5450',\n   'type': 'Feature',\n   'properties': {'time': '2020-02-14 16:32:01'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.156248603, 39.924521633]}},\n  {'id': '5451',\n   'type': 'Feature',\n   'properties': {'time': '2020-02-14 16:32:02'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.156248603, 39.924521633]}},\n  {'id': '5533',\n   'type': 'Feature',\n   'properties': {'time': '2020-02-27 13:37:15'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.156957121, 39.925199659]}},\n  {'id': '5620',\n   'type': 'Feature',\n   'properties': {'time': '2020-08-03 18:19:45'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.155023658, 39.922932009]}},\n  {'id': '5812',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-13 11:04:22'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.153809538, 39.924111537]}},\n  {'id': '5830',\n   'type': 'Feature',\n   'properties': {'time': '2020-03-06 08:20:49'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.157364304, 39.923604389]}},\n  {'id': '6017',\n   'type': 'Feature',\n   'properties': {'time': '2020-02-28 08:47:44'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.155498831, 39.924592881]}},\n  {'id': '6345',\n   'type': 'Feature',\n   'properties': {'time': '2020-03-06 14:51:03'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.156902105, 39.923525037]}},\n  {'id': '6376',\n   'type': 'Feature',\n   'properties': {'time': '2020-02-14 15:02:25'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.154104498, 39.922402842]}},\n  {'id': '6874',\n   'type': 'Feature',\n   'properties': {'time': '2020-04-04 15:27:59'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.154131141, 39.924046876]}},\n  {'id': '6930',\n   'type': 'Feature',\n   'properties': {'time': '2020-03-19 21:59:44'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.158978062, 39.923446741]}},\n  {'id': '7296',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-03 08:22:37'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.157577753, 39.923519941]}},\n  {'id': '7608',\n   'type': 'Feature',\n   'properties': {'time': '2020-03-26 17:15:28'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.15719156, 39.923235233]}},\n  {'id': '7609',\n   'type': 'Feature',\n   'properties': {'time': '2020-03-27 08:51:24'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.156438954, 39.924548585]}},\n  {'id': '7778',\n   'type': 'Feature',\n   'properties': {'time': '2020-03-19 22:01:26'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.159015515, 39.92346995]}},\n  {'id': '7853',\n   'type': 'Feature',\n   'properties': {'time': '2020-03-26 10:51:55'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.15833899, 39.924966002]}},\n  {'id': '7856',\n   'type': 'Feature',\n   'properties': {'time': '2020-04-04 09:11:40'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.15403205, 39.924033923]}},\n  {'id': '7990',\n   'type': 'Feature',\n   'properties': {'time': '2020-03-21 10:02:18'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.15903372, 39.923453825]}},\n  {'id': '7991',\n   'type': 'Feature',\n   'properties': {'time': '2020-03-20 12:13:06'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.154375886, 39.924079416]}},\n  {'id': '8026',\n   'type': 'Feature',\n   'properties': {'time': '2020-03-17 15:02:06'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160026577, 39.924385293]}},\n  {'id': '8917',\n   'type': 'Feature',\n   'properties': {'time': '2020-04-03 14:43:13'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.159163322, 39.923836319]}},\n  {'id': '9544',\n   'type': 'Feature',\n   'properties': {'time': '2020-04-04 11:11:51'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.153881217, 39.924382902]}},\n  {'id': '10058',\n   'type': 'Feature',\n   'properties': {'time': '2020-04-05 11:59:07'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.155827759, 39.924250865]}},\n  {'id': '10178',\n   'type': 'Feature',\n   'properties': {'time': '2020-04-04 10:43:20'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.154169742, 39.924830538]}},\n  {'id': '10479',\n   'type': 'Feature',\n   'properties': {'time': '2020-04-16 16:44:58'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.159310994, 39.924926742]}},\n  {'id': '10480',\n   'type': 'Feature',\n   'properties': {'time': '2020-04-16 16:44:56'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.159310994, 39.924926742]}},\n  {'id': '10481',\n   'type': 'Feature',\n   'properties': {'time': '2020-04-16 19:01:23'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.157077985, 39.923220645]}},\n  {'id': '10569',\n   'type': 'Feature',\n   'properties': {'time': '2020-04-17 08:04:01'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.157518089, 39.924466016]}},\n  {'id': '10590',\n   'type': 'Feature',\n   'properties': {'time': '2020-04-16 13:35:01'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.156965035, 39.923983859]}},\n  {'id': '10659',\n   'type': 'Feature',\n   'properties': {'time': '2020-04-16 09:58:54'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.156568155, 39.925147821]}},\n  {'id': '10806',\n   'type': 'Feature',\n   'properties': {'time': '2020-04-04 10:05:01'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.153979574, 39.924395817]}},\n  {'id': '10807',\n   'type': 'Feature',\n   'properties': {'time': '2020-04-04 10:52:05'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.155332714, 39.924204962]}},\n  {'id': '10808',\n   'type': 'Feature',\n   'properties': {'time': '2020-04-04 10:52:48'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.155332714, 39.924204962]}},\n  {'id': '10814',\n   'type': 'Feature',\n   'properties': {'time': '2020-04-17 06:32:17'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160980797, 39.924670551]}},\n  {'id': '10815',\n   'type': 'Feature',\n   'properties': {'time': '2020-04-17 11:11:30'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.157124075, 39.925221629]}},\n  {'id': '11315',\n   'type': 'Feature',\n   'properties': {'time': '2020-03-24 11:45:33'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160176117, 39.923179212]}},\n  {'id': '11316',\n   'type': 'Feature',\n   'properties': {'time': '2020-03-24 11:45:32'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160176117, 39.923179212]}},\n  {'id': '11601',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-02 17:02:50'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.157557781, 39.923610892]}},\n  {'id': '12063',\n   'type': 'Feature',\n   'properties': {'time': '2020-04-02 19:15:40'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.15664771, 39.923165179]}},\n  {'id': '12291',\n   'type': 'Feature',\n   'properties': {'time': '2020-04-04 15:29:46'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.153499985, 39.923944783]}},\n  {'id': '12292',\n   'type': 'Feature',\n   'properties': {'time': '2020-04-04 15:30:15'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.153499985, 39.923944783]}},\n  {'id': '12293',\n   'type': 'Feature',\n   'properties': {'time': '2020-04-05 10:09:14'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.153499985, 39.923944783]}},\n  {'id': '12294',\n   'type': 'Feature',\n   'properties': {'time': '2020-04-04 09:12:26'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.153499985, 39.923944783]}},\n  {'id': '13161',\n   'type': 'Feature',\n   'properties': {'time': '2020-04-04 11:11:22'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.153881217, 39.924382902]}},\n  {'id': '13275',\n   'type': 'Feature',\n   'properties': {'time': '2020-05-01 10:06:52'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.15664771, 39.923165179]}},\n  {'id': '13289',\n   'type': 'Feature',\n   'properties': {'time': '2020-05-16 17:59:04'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.154077824, 39.924408385]}},\n  {'id': '13511',\n   'type': 'Feature',\n   'properties': {'time': '2020-05-01 12:04:47'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.156837048, 39.923290606]}},\n  {'id': '13513',\n   'type': 'Feature',\n   'properties': {'time': '2020-05-02 15:34:39'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.155859936, 39.922624416]}},\n  {'id': '13569',\n   'type': 'Feature',\n   'properties': {'time': '2020-04-30 12:09:46'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.158815108, 39.923444183]}},\n  {'id': '13925',\n   'type': 'Feature',\n   'properties': {'time': '2020-05-15 15:24:57'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.157056895, 39.923318322]}},\n  {'id': '13951',\n   'type': 'Feature',\n   'properties': {'time': '2020-05-01 15:13:35'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.157124075, 39.925221629]}},\n  {'id': '13972',\n   'type': 'Feature',\n   'properties': {'time': '2020-05-01 12:24:22'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160588898, 39.923794337]}},\n  {'id': '14093',\n   'type': 'Feature',\n   'properties': {'time': '2020-05-01 13:56:05'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160812357, 39.925634333]}},\n  {'id': '14163',\n   'type': 'Feature',\n   'properties': {'time': '2020-05-02 08:08:32'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160980797, 39.924670551]}},\n  {'id': '14705',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-29 14:26:09'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.156637474, 39.924372543]}},\n  {'id': '14707',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-29 08:07:47'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.157315393, 39.923597994]}},\n  {'id': '15071',\n   'type': 'Feature',\n   'properties': {'time': '2020-12-22 10:43:01'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.158322098, 39.924575654]}},\n  {'id': '15072',\n   'type': 'Feature',\n   'properties': {'time': '2020-12-22 10:42:59'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.158322098, 39.924575654]}},\n  {'id': '16753',\n   'type': 'Feature',\n   'properties': {'time': '2020-05-20 15:55:59'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.15548647, 39.923753757]}},\n  {'id': '16754',\n   'type': 'Feature',\n   'properties': {'time': '2020-05-20 15:55:58'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.15548647, 39.923753757]}},\n  {'id': '16881',\n   'type': 'Feature',\n   'properties': {'time': '2020-05-30 17:02:46'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.156549668, 39.923130888]}},\n  {'id': '17122',\n   'type': 'Feature',\n   'properties': {'time': '2020-05-16 07:54:11'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160812357, 39.925634333]}},\n  {'id': '17124',\n   'type': 'Feature',\n   'properties': {'time': '2020-05-14 22:40:51'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160812357, 39.925634333]}},\n  {'id': '17422',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-19 17:25:57'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.161109322, 39.924099102]}},\n  {'id': '17588',\n   'type': 'Feature',\n   'properties': {'time': '2020-05-15 20:35:31'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.156914363, 39.923199629]}},\n  {'id': '18232',\n   'type': 'Feature',\n   'properties': {'time': '2020-05-31 19:53:43'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.153860582, 39.924652984]}},\n  {'id': '18912',\n   'type': 'Feature',\n   'properties': {'time': '2020-05-15 17:12:10'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.157330149, 39.923996888]}},\n  {'id': '19708',\n   'type': 'Feature',\n   'properties': {'time': '2020-08-17 09:38:15'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.154962254, 39.922821818]}},\n  {'id': '19797',\n   'type': 'Feature',\n   'properties': {'time': '2020-05-31 10:22:59'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.157056895, 39.923318322]}},\n  {'id': '20314',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-18 17:50:54'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160900125, 39.924068323]}},\n  {'id': '21421',\n   'type': 'Feature',\n   'properties': {'time': '2020-05-17 14:29:59'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.15548647, 39.923753757]}},\n  {'id': '21909',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-01 09:44:59'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.158810025, 39.924639382]}},\n  {'id': '22434',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-01 17:48:49'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.155411307, 39.924089141]}},\n  {'id': '22469',\n   'type': 'Feature',\n   'properties': {'time': '2020-08-17 13:52:37'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.155234368, 39.924192004]}},\n  {'id': '22637',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-01 09:33:48'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160071606, 39.923165322]}},\n  {'id': '22794',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-01 13:31:14'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.153314987, 39.923059177]}},\n  {'id': '22867',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-01 09:17:34'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.157170491, 39.923332813]}},\n  {'id': '23015',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-01 09:24:37'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160437665, 39.923852075]}},\n  {'id': '23154',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-02 10:16:27'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.158931238, 39.925043988]}},\n  {'id': '23155',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-02 11:22:30'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.156902105, 39.923525037]}},\n  {'id': '23403',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-20 23:32:40'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.155554339, 39.924343244]}},\n  {'id': '23454',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-11 01:55:34'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160891854, 39.925284406]}},\n  {'id': '23662',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-30 11:18:50'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.156549668, 39.923130888]}},\n  {'id': '23702',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-13 17:15:04'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.153858572, 39.924485692]}},\n  {'id': '23704',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-13 14:16:57'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.155554339, 39.924343244]}},\n  {'id': '23862',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-12 16:08:55'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.155736278, 39.924896355]}},\n  {'id': '23866',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-11 12:05:56'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.155411307, 39.924089141]}},\n  {'id': '23939',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-26 17:38:46'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160808254, 39.924695498]}},\n  {'id': '24877',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-13 15:37:52'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.154963261, 39.924501776]}},\n  {'id': '24878',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-13 15:38:41'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.154963261, 39.924501776]}},\n  {'id': '25276',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-29 15:19:29'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.153979411, 39.924270134]}},\n  {'id': '25469',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-12 20:47:51'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.153907955, 39.924492308]}},\n  {'id': '25553',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-20 09:16:51'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.16096195, 39.924758202]}},\n  {'id': '26129',\n   'type': 'Feature',\n   'properties': {'time': '2020-08-20 10:15:56'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.156754525, 39.924263169]}},\n  {'id': '26172',\n   'type': 'Feature',\n   'properties': {'time': '2020-08-19 09:15:17'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.156966092, 39.924904549]}},\n  {'id': '26348',\n   'type': 'Feature',\n   'properties': {'time': '2020-08-01 14:28:48'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.153956852, 39.924498958]}},\n  {'id': '26581',\n   'type': 'Feature',\n   'properties': {'time': '2020-08-20 14:26:44'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.159153753, 39.923583213]}},\n  {'id': '26925',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-31 16:55:06'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160083334, 39.925209334]}},\n  {'id': '27122',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-31 10:41:44'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.158888726, 39.923335123]}},\n  {'id': '27453',\n   'type': 'Feature',\n   'properties': {'time': '2020-08-03 06:44:08'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.154011991, 39.923907612]}},\n  {'id': '27463',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-31 10:06:15'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160083334, 39.925209334]}},\n  {'id': '27714',\n   'type': 'Feature',\n   'properties': {'time': '2020-10-29 15:40:18'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160041874, 39.924796408]}},\n  {'id': '28300',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-18 15:35:23'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.15664771, 39.923165179]}},\n  {'id': '28534',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-26 19:27:38'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.159143275, 39.923929199]}},\n  {'id': '28556',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-20 15:01:59'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.15548647, 39.923753757]}},\n  {'id': '28750',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-29 18:08:39'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.153960556, 39.924130395]}},\n  {'id': '28751',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-29 18:06:23'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.154207959, 39.923933074]}},\n  {'id': '28869',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-29 18:07:07'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.154108707, 39.924149572]}},\n  {'id': '28871',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-29 18:09:16'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.153911239, 39.924124379]}},\n  {'id': '28872',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-29 18:11:10'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.153759161, 39.924105005]}},\n  {'id': '28873',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-29 18:12:44'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.154061074, 39.923913234]}},\n  {'id': '29085',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-27 12:21:10'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.157056895, 39.923318322]}},\n  {'id': '29131',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-29 10:02:02'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.154837138, 39.923594654]}},\n  {'id': '29149',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-25 20:20:02'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.156549668, 39.923130888]}},\n  {'id': '29226',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-16 11:59:33'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.15719156, 39.923235233]}},\n  {'id': '29252',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-29 09:32:09'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.154717979, 39.924100221]}},\n  {'id': '29282',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-29 07:42:03'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.154009514, 39.924137084]}},\n  {'id': '29291',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-25 20:19:21'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.156549668, 39.923130888]}},\n  {'id': '29465',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-29 07:41:25'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.15405894, 39.924143332]}},\n  {'id': '29628',\n   'type': 'Feature',\n   'properties': {'time': '2020-08-03 17:08:20'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.153930291, 39.924264078]}},\n  {'id': '29666',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-29 07:40:51'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.154109783, 39.923920377]}},\n  {'id': '29667',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-29 07:42:36'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.154108707, 39.924149572]}},\n  {'id': '29668',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-29 07:43:50'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.153960556, 39.924130395]}},\n  {'id': '29669',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-29 07:44:33'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.154061074, 39.923913234]}},\n  {'id': '29670',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-29 07:45:07'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.154011991, 39.923907612]}},\n  {'id': '29672',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-29 07:53:44'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.154255453, 39.924169321]}},\n  {'id': '29824',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-28 15:25:34'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.158745882, 39.923531097]}},\n  {'id': '29847',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-29 20:36:14'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.155753237, 39.92413529]}},\n  {'id': '29981',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-20 16:00:58'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.155872892, 39.924256778]}},\n  {'id': '30020',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-26 19:53:04'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160083334, 39.925209334]}},\n  {'id': '30175',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-27 13:05:14'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.157112673, 39.923325114]}},\n  {'id': '30191',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-10 11:21:49'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.15719156, 39.923235233]}},\n  {'id': '30238',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-26 18:41:30'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.158912273, 39.923456676]}},\n  {'id': '30416',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-28 11:43:04'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.153956852, 39.924498958]}},\n  {'id': '30598',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-27 09:44:56'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.157170491, 39.923332813]}},\n  {'id': '30600',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-27 09:46:40'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.157056895, 39.923318322]}},\n  {'id': '30603',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-27 09:53:50'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.157330551, 39.923353019]}},\n  {'id': '30704',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-29 18:09:40'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.153859892, 39.924121205]}},\n  {'id': '30705',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-29 18:05:38'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.154108707, 39.924149572]}},\n  {'id': '30706',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-29 18:07:32'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.15405894, 39.924143332]}},\n  {'id': '30915',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-26 13:58:05'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.156549668, 39.923130888]}},\n  {'id': '31244',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-29 18:10:16'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.153809538, 39.924111537]}},\n  {'id': '31282',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-29 09:59:02'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.15573512, 39.922937895]}},\n  {'id': '31286',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-29 12:29:56'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.154029191, 39.924277681]}},\n  {'id': '31408',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-29 20:48:54'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160083334, 39.925209334]}},\n  {'id': '31541',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-29 07:58:37'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160083334, 39.925209334]}},\n  {'id': '31623',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-20 09:17:30'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160971402, 39.924714243]}},\n  {'id': '31644',\n   'type': 'Feature',\n   'properties': {'time': '2020-08-05 15:20:54'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.156677739, 39.925162427]}},\n  {'id': '31944',\n   'type': 'Feature',\n   'properties': {'time': '2020-05-31 11:29:36'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.157269636, 39.924456406]}},\n  {'id': '32329',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-19 17:27:10'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.161120366, 39.924049232]}},\n  {'id': '32408',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-27 10:24:39'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.153876231, 39.923134799]}},\n  {'id': '32820',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-18 08:30:10'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.156549668, 39.923130888]}},\n  {'id': '33199',\n   'type': 'Feature',\n   'properties': {'time': '2020-08-05 15:20:53'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.156677739, 39.925162427]}},\n  {'id': '34138',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-11 20:12:05'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.155736278, 39.924896355]}},\n  {'id': '34438',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-26 17:39:54'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160818745, 39.924651932]}},\n  {'id': '34600',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-26 00:03:14'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.157170491, 39.923332813]}},\n  {'id': '34732',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-20 16:35:09'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.155736278, 39.924896355]}},\n  {'id': '34734',\n   'type': 'Feature',\n   'properties': {'time': '2020-07-20 15:49:50'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.15403205, 39.924033923]}},\n  {'id': '37615',\n   'type': 'Feature',\n   'properties': {'time': '2020-08-16 10:13:28'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160437665, 39.923852075]}},\n  {'id': '37951',\n   'type': 'Feature',\n   'properties': {'time': '2020-09-01 09:40:31'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.159173895, 39.923490379]}},\n  {'id': '38344',\n   'type': 'Feature',\n   'properties': {'time': '2020-08-13 16:06:44'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.159102441, 39.92357609]}},\n  {'id': '38484',\n   'type': 'Feature',\n   'properties': {'time': '2020-08-03 06:44:57'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.153499985, 39.923944783]}},\n  {'id': '38580',\n   'type': 'Feature',\n   'properties': {'time': '2020-08-14 19:06:30'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160083334, 39.925209334]}},\n  {'id': '38582',\n   'type': 'Feature',\n   'properties': {'time': '2020-08-15 07:23:03'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160261348, 39.923792909]}},\n  {'id': '39358',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-11 23:46:27'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.16083836, 39.925317048]}},\n  {'id': '39359',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-11 23:46:09'},\n   'geometry': {'type': 'Point', 'coordinates': [-75.16083836, 39.925317048]}},\n  {'id': '39507',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-05 16:48:01'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.157589557, 39.923729024]}},\n  {'id': '39558',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-04 08:12:46'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.156902105, 39.923525037]}},\n  {'id': '39850',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-05 08:15:43'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.157577753, 39.923519941]}},\n  {'id': '39939',\n   'type': 'Feature',\n   'properties': {'time': '2020-06-11 09:43:29'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.158323993, 39.924127357]}},\n  {'id': '40030',\n   'type': 'Feature',\n   'properties': {'time': '2020-05-31 13:50:05'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.159566175, 39.923769955]}},\n  {'id': '40461',\n   'type': 'Feature',\n   'properties': {'time': '2020-10-05 12:23:43'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.154837138, 39.923594654]}},\n  {'id': '40536',\n   'type': 'Feature',\n   'properties': {'time': '2020-10-02 18:37:33'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.152994536, 39.924554195]}},\n  {'id': '41306',\n   'type': 'Feature',\n   'properties': {'time': '2020-09-01 09:40:42'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.159173895, 39.923490379]}},\n  {'id': '41610',\n   'type': 'Feature',\n   'properties': {'time': '2020-09-11 12:05:33'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160608015, 39.923808727]}},\n  {'id': '41671',\n   'type': 'Feature',\n   'properties': {'time': '2020-09-03 09:41:39'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160608015, 39.923808727]}},\n  {'id': '41752',\n   'type': 'Feature',\n   'properties': {'time': '2020-10-30 08:08:15'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.156819059, 39.923964673]}},\n  {'id': '41899',\n   'type': 'Feature',\n   'properties': {'time': '2020-10-10 10:02:21'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160297641, 39.923631336]}},\n  {'id': '41948',\n   'type': 'Feature',\n   'properties': {'time': '2020-09-11 18:50:12'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.161039253, 39.924401708]}},\n  {'id': '43231',\n   'type': 'Feature',\n   'properties': {'time': '2020-09-25 15:18:28'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.153781774, 39.924001494]}},\n  {'id': '43636',\n   'type': 'Feature',\n   'properties': {'time': '2020-10-16 22:34:10'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160297641, 39.923631336]}},\n  {'id': '44666',\n   'type': 'Feature',\n   'properties': {'time': '2020-11-14 09:21:53'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.157170491, 39.923332813]}},\n  {'id': '45168',\n   'type': 'Feature',\n   'properties': {'time': '2020-12-21 10:57:40'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.155295349, 39.923085778]}},\n  {'id': '45312',\n   'type': 'Feature',\n   'properties': {'time': '2020-12-04 13:48:00'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.155190902, 39.924166639]}},\n  {'id': '45341',\n   'type': 'Feature',\n   'properties': {'time': '2020-11-05 14:30:34'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.156278488, 39.924393198]}},\n  {'id': '45452',\n   'type': 'Feature',\n   'properties': {'time': '2020-12-21 09:51:03'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.157861201, 39.924512434]}},\n  {'id': '45668',\n   'type': 'Feature',\n   'properties': {'time': '2020-11-20 15:43:48'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.160297641, 39.923631336]}},\n  {'id': '46048',\n   'type': 'Feature',\n   'properties': {'time': '2020-12-04 13:27:54'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.155190902, 39.924166639]}},\n  {'id': '47267',\n   'type': 'Feature',\n   'properties': {'time': '2020-12-21 11:06:43'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.159687979, 39.924749294]}},\n  {'id': '47642',\n   'type': 'Feature',\n   'properties': {'time': '2020-12-21 13:42:09'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.153748975, 39.922764685]}},\n  {'id': '47643',\n   'type': 'Feature',\n   'properties': {'time': '2020-12-21 13:42:08'},\n   'geometry': {'type': 'Point',\n    'coordinates': [-75.153748975, 39.922764685]}}]}\n\n\nNow loop over each feature and add the style:\n\nfor feature in geosjon_dict[\"features\"]:\n    \n    # Use a circle for each icon\n    feature[\"properties\"][\"icon\"] = \"circle\"\n    \n    # Style the circles\n    feature[\"properties\"][\"style\"] = {\"radius\": 10, \"fill\": True, \"color\": \"crimson\"}\n\n\n# Plot the neighborhood boundary first\nm = greenwich_geo.explore(\n    style_kwds={\"weight\": 4, \"color\": \"black\", \"fillColor\": \"none\"},\n    name=\"Neighborhood boundary\",\n    tiles=xyzservices.providers.CartoDB.Voyager,\n)\n\n# Add the time-stamped GeoJSON\nfolium.plugins.TimestampedGeoJson(\n    geosjon_dict,  # NEW: use the styled GeoJSON\n    period=\"P1M\",\n    duration=\"P1M\",\n    auto_play=False,\n    loop=False,\n    max_speed=1,\n    loop_button=True,\n    transition_time=500,\n).add_to(m)\n\nm\n\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\n\n3B. Heatmaps\n\nfolium.plugins.HeatMap?\n\n\nInit signature:\nfolium.plugins.HeatMap(\n    data,\n    name=None,\n    min_opacity=0.5,\n    max_zoom=18,\n    radius=25,\n    blur=15,\n    gradient=None,\n    overlay=True,\n    control=True,\n    show=True,\n    **kwargs,\n)\nDocstring:     \nCreate a Heatmap layer\nParameters\n----------\ndata : list of points of the form [lat, lng] or [lat, lng, weight]\n    The points you want to plot.\n    You can also provide a numpy.array of shape (n,2) or (n,3).\nname : string, default None\n    The name of the Layer, as it will appear in LayerControls.\nmin_opacity  : default 1.\n    The minimum opacity the heat will start at.\nmax_zoom : default 18\n    Zoom level where the points reach maximum intensity (as intensity\n    scales with zoom), equals maxZoom of the map by default\nradius : int, default 25\n    Radius of each \"point\" of the heatmap\nblur : int, default 15\n    Amount of blur\ngradient : dict, default None\n    Color gradient config. e.g. {0.4: 'blue', 0.65: 'lime', 1: 'red'}\noverlay : bool, default True\n    Adds the layer as an optional overlay (True) or the base layer (False).\ncontrol : bool, default True\n    Whether the Layer will be included in LayerControls.\nshow: bool, default True\n    Whether the layer will be shown on opening (only for overlays).\nFile:           ~/mambaforge/envs/musa-550-fall-2023/lib/python3.10/site-packages/folium/plugins/heat_map.py\nType:           type\nSubclasses:     \n\n\n\n\ncoords = greenwich_tickets[['lat', 'lon']]\n\n\n# Plot the neighborhood boundary first\nm = greenwich_geo.explore(\n    style_kwds={\"weight\": 4, \"color\": \"black\", \"fillColor\": \"none\"},\n    name=\"Neighborhood boundary\",\n    tiles=xyzservices.providers.CartoDB.Voyager,\n)\n\n# Add heat map coordinates\nfolium.plugins.HeatMap(coords.values, radius=20).add_to(m)\n\n# Show map\nm\n\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\n\n3C: Marker clusters\nQuestion: Can we visualize all tickets citywide in 2020 at once?\n\nlen(trash_requests)\n\n47690\n\n\nLet’s try the heat map plugin:\n\n# let's center the map on Philadelphia\nm = folium.Map(\n    location=[39.99, -75.13], zoom_start=11, tiles=xyzservices.providers.CartoDB.Voyager\n)\n\n# All coords\ncoords = trash_requests[[\"lat\", \"lon\"]] # Remember, (lat, lon) order\n\n# Add heat map coordinates\nfolium.plugins.HeatMap(coords.values, radius=20).add_to(m)\n\n# Show map\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n…Not great! There are too many points to properly visualize all of the data at once.\nInstead, let’s check out folium.plugins.FastMarkerCluster(). This plugin clusters the data automatically for each zoom level, and can easily handle thousands of points at once without crashing your browser.\n\n# let's center the map on Philadelphia\nm = folium.Map(\n    location=[39.99, -75.13], zoom_start=11, tiles=xyzservices.providers.CartoDB.DarkMatter\n)\n\n\nfolium.plugins.FastMarkerCluster(data=coords).add_to(m)\n\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\n\n\n\n\n\nReminder\n\n\n\nCheck out the plugins gallery on the folium documentation for the available plugins and examples for each."
  },
  {
    "objectID": "content/week-4/lecture-4B.html#thats-it",
    "href": "content/week-4/lecture-4B.html#thats-it",
    "title": "Week 4B: Interactive Web Maps",
    "section": "That’s it!",
    "text": "That’s it!\n\nSee you next week for more geospatial analysis\nWe’ll dive into urban street networks and raster data"
  },
  {
    "objectID": "schedule/401.html",
    "href": "schedule/401.html",
    "title": "Schedule: Section 401",
    "section": "",
    "text": "Note\n\n\n\nThe schedule is tentative and could change in the future.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nGithub Repo\n\n\n\nHTML Slides\n\n\n\nExecutable Slides\n\n\n\n\n\n\n\n\n\n\n\nWeek 1\n\n\n\nExploratory Data Science in Python\n\n\n\n\n\n\n\n\n\n\nWednesday, August 30\n\n\n\nLecture 1A\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWednesday, September 6\n\n\n\nLecture 1B\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHW #1 assigned\n\n\n\n\n\n\n\n\n\n\n\nWeek 2\n\n\n\nData Visualization Fundamentals\n\n\n\n\n\n\n\n\n\n\nMonday, September 11\n\n\n\nLecture 2A\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWednesday, September 13\n\n\n\nLecture 2B\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWeek 3\n\n\n\nMore Interactive Data Viz, Intro to Vector Data & GeoPandas\n\n\n\n\n\n\n\n\n\n\nMonday, September 18\n\n\n\nLecture 3A\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWednesday, September 20\n\n\n\nLecture 3B\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWeek 4\n\n\n\nGeospatial Analysis & Mapping\n\n\n\n\n\n\n\n\n\n\nMonday, September 25\n\n\n\nLecture 4A\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHW #1 due\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHW #2 assigned\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWednesday, September 27\n\n\n\nLecture 4B\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWeek 5\n\n\n\nMore Geospatial Analysis: Street Networks and Raster Data\n\n\n\n\n\n\n\n\n\n\nMonday, October 2\n\n\n\nLecture 5A\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWednesday, October 4\n\n\n\nLecture 5B\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWeek 6\n\n\n\nWeb Scraping\n\n\n\n\n\n\n\n\n\n\nMonday, October 9\n\n\n\nLecture 6A\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHW #2 due\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHW #3 assigned\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWednesday, October 11\n\n\n\nLecture 6B\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWeek 7\n\n\n\nWorking with APIs\n\n\n\n\n\n\n\n\n\n\nMonday, October 16\n\n\n\nLecture 7A\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWednesday, October 18\n\n\n\nLecture 7B\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWeek 8\n\n\n\nAnalyzing and Visualizing Large Datasets\n\n\n\n\n\n\n\n\n\n\nMonday, October 23\n\n\n\nLecture 8A\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHW #3 due\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHW #4 assigned\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWednesday, October 25\n\n\n\nLecture 8B\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWeek 9\n\n\n\nFrom Notebooks to the Web: Part 1\n\n\n\n\n\n\n\n\n\n\nMonday, October 30\n\n\n\nLecture 9A\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWednesday, November 1\n\n\n\nLecture 9B\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWeek 10\n\n\n\nFrom Notebooks to the Web: Part 2\n\n\n\n\n\n\n\n\n\n\nMonday, November 6\n\n\n\nLecture 10A\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHW #4 due\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHW #5 assigned\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWednesday, November 8\n\n\n\nLecture 10B\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWeek 11\n\n\n\nCase Study: Predicting Home Prices in Philadelphia\n\n\n\n\n\n\n\n\n\n\nMonday, November 13\n\n\n\nLecture 11A\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWednesday, November 15\n\n\n\nLecture 11B\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWeek 12\n\n\n\nCase Study: Predicting Rideshare Demand\n\n\n\n\n\n\n\n\n\n\nMonday, November 20\n\n\n\nLecture 12A\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHW #5 due\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHW #6 assigned\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nMonday, November 27\n\n\n\nLecture 12B\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWeek 13\n\n\n\nCase Study: Clustering Analysis in Python\n\n\n\n\n\n\n\n\n\n\nWednesday, November 29\n\n\n\nLecture 13A\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nMonday, December 4\n\n\n\nLecture 13B\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHW #6 due\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFinal project proposal due\n\n\n\n\n\n\n\n\n\n\n\nWeek 14\n\n\n\nCase Study: Advanced Raster Analysis\n\n\n\n\n\n\n\n\n\n\nWednesday, December 6\n\n\n\nLecture 14A\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nMonday, December 11\n\n\n\nLecture 14B\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWednesday, December 20\n\n\n\nFinal project due"
  },
  {
    "objectID": "schedule/402.html",
    "href": "schedule/402.html",
    "title": "Schedule: Section 402",
    "section": "",
    "text": "Note\n\n\n\nThe schedule is tentative and could change in the future.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nGithub Repo\n\n\n\nHTML Slides\n\n\n\nExecutable Slides\n\n\n\n\n\n\n\n\n\n\n\nWeek 1\n\n\n\nExploratory Data Science in Python\n\n\n\n\n\n\n\n\n\n\nThursday, August 31\n\n\n\nLecture 1A\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLecture 1B\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHW #1 assigned\n\n\n\n\n\n\n\n\n\n\n\nWeek 2\n\n\n\nData Visualization Fundamentals\n\n\n\n\n\n\n\n\n\n\nThursday, September 7\n\n\n\nLecture 2A\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLecture 2B\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWeek 3\n\n\n\nMore Interactive Data Viz, Intro to Vector Data & GeoPandas\n\n\n\n\n\n\n\n\n\n\nThursday, September 14\n\n\n\nLecture 3A\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLecture 3B\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHW #1 due\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHW #2 assigned\n\n\n\n\n\n\n\n\n\n\n\nWeek 4\n\n\n\nGeospatial Analysis & Mapping\n\n\n\n\n\n\n\n\n\n\nThursday, September 21\n\n\n\nLecture 4A\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLecture 4B\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWeek 5\n\n\n\nMore Geospatial Analysis: Street Networks and Raster Data\n\n\n\n\n\n\n\n\n\n\nThursday, September 28\n\n\n\nLecture 5A\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLecture 5B\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHW #2 due\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHW #3 assigned\n\n\n\n\n\n\n\n\n\n\n\nWeek 6\n\n\n\nWeb Scraping\n\n\n\n\n\n\n\n\n\n\nThursday, October 5\n\n\n\nLecture 6A\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLecture 6B\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWeek 7\n\n\n\nWorking with APIs\n\n\n\n\n\n\n\n\n\n\nThursday, October 19\n\n\n\nLecture 7A\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLecture 7B\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHW #3 due\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nMonday, October 23\n\n\n\nHW #4 assigned\n\n\n\n\n\n\n\n\n\n\n\nWeek 8\n\n\n\nAnalyzing and Visualizing Large Datasets\n\n\n\n\n\n\n\n\n\n\nThursday, October 26\n\n\n\nLecture 8A\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLecture 8B\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWeek 9\n\n\n\nFrom Notebooks to the Web: Part 1\n\n\n\n\n\n\n\n\n\n\nThursday, November 2\n\n\n\nLecture 9A\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLecture 9B\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nMonday, November 6\n\n\n\nHW #4 due\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHW #5 assigned\n\n\n\n\n\n\n\n\n\n\n\nWeek 10\n\n\n\nFrom Notebooks to the Web: Part 2\n\n\n\n\n\n\n\n\n\n\nThursday, November 9\n\n\n\nLecture 10A\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLecture 10B\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWeek 11\n\n\n\nCase Study: Predicting Home Prices in Philadelphia\n\n\n\n\n\n\n\n\n\n\nThursday, November 16\n\n\n\nLecture 11A\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLecture 11B\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nMonday, November 20\n\n\n\nHW #5 due\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHW #6 assigned\n\n\n\n\n\n\n\n\n\n\n\nWeek 12\n\n\n\nCase Study: Predicting Rideshare Demand\n\n\n\n\n\n\n\n\n\n\nTuesday, November 21\n\n\n\nLecture 12A\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLecture 12B\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWeek 13\n\n\n\nCase Study: Clustering Analysis in Python\n\n\n\n\n\n\n\n\n\n\nThursday, November 30\n\n\n\nLecture 13A\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLecture 13B\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nMonday, December 4\n\n\n\nHW #6 due\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFinal project proposal due\n\n\n\n\n\n\n\n\n\n\n\nWeek 14\n\n\n\nCase Study: Advanced Raster Analysis\n\n\n\n\n\n\n\n\n\n\nThursday, December 7\n\n\n\nLecture 14A\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLecture 14B\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWednesday, December 20\n\n\n\nFinal project due"
  },
  {
    "objectID": "content/week-4/lecture-4A.html",
    "href": "content/week-4/lecture-4A.html",
    "title": "Week 4A: Geospatial Data Analysis, Continued",
    "section": "",
    "text": "Section 401\nMonday, September 25, 2023"
  },
  {
    "objectID": "content/week-4/lecture-4A.html#housekeeping",
    "href": "content/week-4/lecture-4A.html#housekeeping",
    "title": "Week 4A: Geospatial Data Analysis, Continued",
    "section": "Housekeeping",
    "text": "Housekeeping\n\nHomework #1 due today by the end of the day\nHomework #2 assigned, due in two weeks\nChoose a dataset to visualize and explore\n\nOpenDataPhilly or one your choosing\nEmail me if you want to analyze one that’s not on OpenDataPhilly"
  },
  {
    "objectID": "content/week-4/lecture-4A.html#agenda-for-week-4",
    "href": "content/week-4/lecture-4A.html#agenda-for-week-4",
    "title": "Week 4A: Geospatial Data Analysis, Continued",
    "section": "Agenda for Week #4",
    "text": "Agenda for Week #4\nLast lecture - Vector data and introduction to GeoPandas - Spatial relationships - Spatial joins\nToday\n\nVisualization for geospatial data\nDemo: 311 requests by neighborhood in Philadelphia\nExercise: Property assessments by neighborhood\n\n\n# Let's setup the imports we'll need first\nimport altair as alt\nimport geopandas as gpd\nimport hvplot.pandas\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\nfrom matplotlib import pyplot as plt\n\n%matplotlib inline"
  },
  {
    "objectID": "content/week-4/lecture-4A.html#example-continued-exploring-trash-related-311-tickets-by-neighborhood-in-2020",
    "href": "content/week-4/lecture-4A.html#example-continued-exploring-trash-related-311-tickets-by-neighborhood-in-2020",
    "title": "Week 4A: Geospatial Data Analysis, Continued",
    "section": "Example, Continued: Exploring trash-related 311 tickets by neighborhood in 2020",
    "text": "Example, Continued: Exploring trash-related 311 tickets by neighborhood in 2020\nLet’s continuing analyzing data for 311 requests in Philadelphia during the pandemic in 2020. Today, we’ll dive into examining trends by neighborhood.\n\n\n\n\n\n\nFind out more…\n\n\n\nTrash collection was a big concern in Philadelphia when the pandemic began. Check out this article in the Philadelphia Inquirer for more details!\n\n\nFirst, let’s load our data and create our GeoDataFrame.\nNote: The below code is copied over from last lecture (lecture 3B).\n\n# Load the data from a CSV file into a pandas DataFrame\ntrash_requests_df = pd.read_csv(\n    \"data/trash_311_requests_2020.csv\"  # Use the file path relative to the current folder\n)\n\n# Remove rows with missing geometry\ntrash_requests_df = trash_requests_df.dropna(subset=[\"lat\", \"lon\"])\n\n# Create our GeoDataFrame with geometry column created from lon/lat\ntrash_requests = gpd.GeoDataFrame(\n    trash_requests_df,\n    geometry=gpd.points_from_xy(trash_requests_df[\"lon\"], trash_requests_df[\"lat\"]),\n    crs=\"EPSG:4326\",\n)\n\nNow let’s examine the trends by neighborhoods across the city.\nGoal: For each neighborhood, calculate the number of trash-related requests\n\n1. Load Zillow neighborhood data\nA GeoJSON holding Zillow definitions for Philadelphia neighborhoods is available in the data/ directory.\n\nzillow = gpd.read_file(\"data/zillow_neighborhoods.geojson\")\n\n\nzillow.head()\n\n\n\n\n\n\n\n\nZillowName\ngeometry\n\n\n\n\n0\nAcademy Gardens\nPOLYGON ((-74.99851 40.06435, -74.99456 40.061...\n\n\n1\nAirport\nPOLYGON ((-75.19728 39.89252, -75.19617 39.892...\n\n\n2\nAllegheny West\nPOLYGON ((-75.16592 40.00327, -75.16596 40.003...\n\n\n3\nAndorra\nPOLYGON ((-75.22463 40.06686, -75.22588 40.065...\n\n\n4\nAston Woodbridge\nPOLYGON ((-75.00860 40.05369, -75.00861 40.053...\n\n\n\n\n\n\n\nConvert to a better CRS (EPSG:3857) and make a quick plot:\n\nfig, ax = plt.subplots(figsize=(8, 8))\n\nax = zillow.to_crs(epsg=3857).plot(ax=ax, facecolor=\"none\", edgecolor=\"black\")\n\nax.set_axis_off()\nax.set_aspect(\"equal\")\n\n\n\n\n\n\n2. Do a spatial join between requests and neighborhoods\nUse the sjoin() function to match point data (requests) to polygon data (neighborhoods) based on which neighborhood each request location is within.\n\n\n\n\n\n\nImportant\n\n\n\nMake sure the two GeoDataFrames are in the same CRS when calculating a spatial join! If not, geopandas will print out a warning.\n\n\n\nrequests_with_hood = gpd.sjoin(\n    trash_requests,  # The point data for 311 tickets\n    zillow.to_crs(trash_requests.crs),  # The neighborhoods (in the same CRS)\n    predicate=\"within\",\n    how=\"left\",\n)\n\n\nrequests_with_hood.head()\n\n\n\n\n\n\n\n\nobjectid\nservice_request_id\nstatus\nstatus_notes\nservice_name\nservice_code\nagency_responsible\nservice_notice\nrequested_datetime\nupdated_datetime\nexpected_datetime\naddress\nzipcode\nmedia_url\nlat\nlon\ngeometry\nindex_right\nZillowName\n\n\n\n\n0\n8180042\n13269656\nClosed\nNaN\nRubbish/Recyclable Material Collection\nSR-ST03\nStreets Department\n2 Business Days\n2020-04-02 19:22:24\n2020-04-06 07:02:57\n2020-04-06 20:00:00\n624 FOULKROD ST\nNaN\nNaN\n40.034389\n-75.106518\nPOINT (-75.10652 40.03439)\n70.0\nLawndale\n\n\n1\n8180043\n13266979\nClosed\nNaN\nRubbish/Recyclable Material Collection\nSR-ST03\nStreets Department\n2 Business Days\n2020-04-02 08:40:53\n2020-04-06 07:02:58\n2020-04-05 20:00:00\n1203 ELLSWORTH ST\nNaN\nNaN\n39.936164\n-75.163497\nPOINT (-75.16350 39.93616)\n105.0\nPassyunk Square\n\n\n2\n7744426\n13066443\nClosed\nNaN\nRubbish/Recyclable Material Collection\nSR-ST03\nStreets Department\n2 Business Days\n2020-01-02 19:17:55\n2020-01-04 05:46:06\n2020-01-06 19:00:00\n9054 WESLEYAN RD\nNaN\nNaN\n40.058737\n-75.018345\nPOINT (-75.01835 40.05874)\n109.0\nPennypack Woods\n\n\n3\n7744427\n13066540\nClosed\nNaN\nRubbish/Recyclable Material Collection\nSR-ST03\nStreets Department\n2 Business Days\n2020-01-03 07:01:46\n2020-01-04 05:46:07\n2020-01-06 19:00:00\n2784 WILLITS RD\nNaN\nNaN\n40.063658\n-75.022347\nPOINT (-75.02235 40.06366)\n107.0\nPennypack\n\n\n4\n7801094\n13089345\nClosed\nNaN\nRubbish/Recyclable Material Collection\nSR-ST03\nStreets Department\n2 Business Days\n2020-01-15 13:22:14\n2020-01-16 14:03:29\n2020-01-16 19:00:00\n6137 LOCUST ST\nNaN\nNaN\n39.958186\n-75.244732\nPOINT (-75.24473 39.95819)\n21.0\nCobbs Creek\n\n\n\n\n\n\n\n\n\n3. Group by neighborhood and calculate the size\n\ntotals = requests_with_hood.groupby(\"ZillowName\", as_index=False).size()\n\ntype(totals)\n\npandas.core.frame.DataFrame\n\n\nNote: we’re once again using the as_index=False to ensure the result of the .size() function is a DataFrame rather than a Series with the ZillowName as its index\n\ntotals.head()\n\n\n\n\n\n\n\n\nZillowName\nsize\n\n\n\n\n0\nAcademy Gardens\n84\n\n\n1\nAllegheny West\n330\n\n\n2\nAndorra\n83\n\n\n3\nAston Woodbridge\n110\n\n\n4\nBartram Village\n35\n\n\n\n\n\n\n\n\n\n4. Merge our geometries back in\nLastly, merge Zillow geometries (GeoDataFrame) with the total # of requests per neighborhood (DataFrame).\n\n\n\n\n\n\nImportant\n\n\n\nWhen merging a GeoDataFrame (spatial) and DataFrame (non-spatial), you should always call the .merge() function of the spatial data set to ensure that the merged data is a GeoDataFrame.\n\n\nFor example…\n\n# Do GeoDataFrame.merge(DataFrame) here...\nrequests_by_hood = zillow.merge(totals, on=\"ZillowName\")\n\n\nrequests_by_hood.head()\n\n\n\n\n\n\n\n\nZillowName\ngeometry\nsize\n\n\n\n\n0\nAcademy Gardens\nPOLYGON ((-74.99851 40.06435, -74.99456 40.061...\n84\n\n\n1\nAllegheny West\nPOLYGON ((-75.16592 40.00327, -75.16596 40.003...\n330\n\n\n2\nAndorra\nPOLYGON ((-75.22463 40.06686, -75.22588 40.065...\n83\n\n\n3\nAston Woodbridge\nPOLYGON ((-75.00860 40.05369, -75.00861 40.053...\n110\n\n\n4\nBartram Village\nPOLYGON ((-75.20733 39.93350, -75.20733 39.933...\n35\n\n\n\n\n\n\n\nWe’ll do some plotting below, so let’s convert to a more accurate CRS and save a new version:\n\nrequests_by_hood_3857 = requests_by_hood.to_crs(epsg=3857)"
  },
  {
    "objectID": "content/week-4/lecture-4A.html#data-viz-example-choropleth-maps",
    "href": "content/week-4/lecture-4A.html#data-viz-example-choropleth-maps",
    "title": "Week 4A: Geospatial Data Analysis, Continued",
    "section": "Data viz example: Choropleth maps",
    "text": "Data viz example: Choropleth maps\nChoropleth maps color polygon regions according to the values of a specific data attribute. In this section, we’ll explore a number of different ways to plot them in Python.\n\nStatic via the geopandas plot() function\nChoropleth maps are built-in to GeoDataFrame objects via the plot() function. Let’s use the “size” column to plot the total number of requests per neighborhood:\n\n# Create the figure/axes\nfig, ax = plt.subplots(figsize=(8, 8))\n\n# Plot\nrequests_by_hood_3857.plot(\n    ax=ax,\n    column=\"size\",  # NEW: Specify the column to color polygons by\n    edgecolor=\"white\",\n    linewidth=0.5,\n    legend=True,\n    cmap=\"viridis\",\n)\n\n# Format\nax.set_axis_off()\nax.set_aspect(\"equal\")\n\n\n\n\n\n1. Improving the aesthetics\nTwo optional but helpful improvements: - Make the colorbar line up with the axes. The default configuration will always overshoot the axes. - Explicitly set the limits of the x-axis and y-axis to zoom in and center the map\n\n# Needed to line up the colorbar properly\nfrom mpl_toolkits.axes_grid1 import make_axes_locatable\n\n\n# Create the figure\nfig, ax = plt.subplots(figsize=(8, 8))\n\n# NEW: Create a nice, lined up colorbar axes (called \"cax\" here)\ndivider = make_axes_locatable(ax)\ncax = divider.append_axes(\"right\", size=\"5%\", pad=0.2)\n\n# Plot\nrequests_by_hood_3857.plot(\n    ax=ax,\n    cax=cax,  # NEW\n    column=\"size\",\n    edgecolor=\"white\",\n    linewidth=0.5,\n    legend=True,\n    cmap=\"viridis\",\n)\n\n# NEW: Get the limits of the GeoDataFrame\nxmin, ymin, xmax, ymax = requests_by_hood_3857.total_bounds\n\n# NEW: Set the xlims and ylims\nax.set_xlim(xmin, xmax)\nax.set_ylim(ymin, ymax)\n\n# Format\nax.set_axis_off()\nax.set_aspect(\"equal\")\n\n\n\n\nThese improvements are optional, but they definitely make for nicer plots!\n\n\n2. Improving the data\nProblem: The variation in the sizes of neighborhoods across the city makes it hard to compare raw counts in a choropleth map.\nBetter to normalize by area: use the .area attribute of the geometry series\n\nrequests_by_hood_3857[\"N_per_area\"] = (\n    requests_by_hood_3857[\"size\"] / (requests_by_hood_3857.geometry.area) * 1e4\n)\n\nNow plot the normalized totals:\n\n# Create the figure\nfig, ax = plt.subplots(figsize=(8, 8))\n\n# Create a nice, lined up colorbar axes (called \"cax\" here)\ndivider = make_axes_locatable(ax)\ncax = divider.append_axes(\"right\", size=\"5%\", pad=0.2)\n\n# Plot\nrequests_by_hood_3857.plot(\n    ax=ax,\n    cax=cax,\n    column=\"N_per_area\",  # NEW: Use the normalized column\n    edgecolor=\"white\",\n    linewidth=0.5,\n    legend=True,\n    cmap=\"viridis\",\n)\n\n# Get the limits of the GeoDataFrame\nxmin, ymin, xmax, ymax = requests_by_hood_3857.total_bounds\n\n# Set the xlims and ylims\nax.set_xlim(xmin, xmax)\nax.set_ylim(ymin, ymax)\n\n# Format\nax.set_axis_off()\nax.set_aspect(\"equal\")\n\n\n\n\nEven better…\nSince households are driving the 311 requests, it would be even better to normalize by the number of properties in a given neighborhood rather than neighborhood area.\n\n\n3. Improving the color mapping\nBy default, geopandas just maps the data to a continuous color bar. Sometimes, it is helpful to instead classify the data into bins and visualize the separate bins. This can help highlight trends not immediately clear when using a continuous color mapping.\nClassification via bins is built-in to the plot() function! Many different schemes, but here are some of the most common ones:\n\nQuantiles: assigns the same number of data points per bin\nEqualInterval: divides the range of the data into equally sized bins\nFisherJenks: scheme that tries to minimize the variance within each bin and maximize the variances between different bins.\n\nTrying out multiple classification schemes can help you figure out trends more easily during your exploratory analysis!\n\nQuantiles Scheme: assigns the same number of data points per bin\n\n\n# Initialize figure and axes\nfig, ax = plt.subplots(figsize=(8, 5), facecolor=\"#e5e7eb\")\n\n# Plot\nrequests_by_hood_3857.plot(\n    ax=ax,\n    column=\"N_per_area\",\n    edgecolor=\"black\",\n    linewidth=0.5,\n    legend=True,\n    legend_kwds=dict(loc=\"lower right\", fontsize=10),\n    cmap=\"Reds\",\n    scheme=\"Quantiles\", # NEW\n    k=5, # NEW\n)\n\n# Format\nax.set_title(\"Quantiles: k = 5\")\nax.set_axis_off()\nax.set_aspect(\"equal\")\n\n\n\n\n\nEqual Interval Scheme: divides the range of the data into equally sized bins\n\n\n# Initialize figure and axes\nfig, ax = plt.subplots(figsize=(8, 5), facecolor=\"#e5e7eb\")\n\n# Plot\nrequests_by_hood_3857.plot(\n    ax=ax,\n    column=\"N_per_area\",\n    edgecolor=\"black\",\n    linewidth=0.5,\n    legend=True,\n    legend_kwds=dict(loc=\"lower right\", fontsize=10),\n    cmap=\"Reds\",\n    scheme=\"EqualInterval\",\n    k=5,\n)\n\n# Format\nax.set_title(\"Equal Interval: k = 5\")\nax.set_axis_off()\nax.set_aspect(\"equal\")\n\n\n\n\n\nFisher Jenks Scheme: minimize the variance within each bin and maximize the variances between different bins.\n\n\n# Initialize figure and axes\nfig, ax = plt.subplots(figsize=(8, 5), facecolor=\"#e5e7eb\")\n\n# Plot\nrequests_by_hood_3857.plot(\n    ax=ax,\n    column=\"N_per_area\",\n    edgecolor=\"black\",\n    linewidth=0.5,\n    legend=True,\n    legend_kwds=dict(loc=\"lower right\", fontsize=10),\n    cmap=\"Reds\",\n    scheme=\"FisherJenks\",\n)\n\n# Format\nax.set_title(\"Fisher Jenks: k = 5\")\nax.set_axis_off()\nax.set_aspect(\"equal\")\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nGeopandas relies on an external package called mapclassify for the classification schemes. The documentation can be found here: https://pysal.org/mapclassify/api.html\nIt contains the full list of schemes and the function definitions for each.\n\n\n\n\n\nInteractive via altair\nAltair charts accept GeoDataFrames as data and altair includes a “geoshape” mark, so choropleths are easy to make.\n\n\n\n\n\n\nAltair and projections\n\n\n\nAltair’s support for different projections isn’t the best. The recommended strategy is to convert your data to the desired CRS (e.g., EPSG:3857 or the local state plane projection (EPSG:2272 for Philadelphia)) and then tell altair not to project your data by including the following:\nchart.project(type=\"identity\", reflectY=True)\n\n\n\n(\n    alt.Chart(requests_by_hood_3857)\n    .mark_geoshape(stroke=\"white\")\n    .encode(\n        tooltip=[\"N_per_area:Q\", \"ZillowName:N\", \"size:Q\"],\n        color=alt.Color(\"N_per_area:Q\", scale=alt.Scale(scheme=\"viridis\")),\n    )\n    # Important! Otherwise altair will try to re-project your data\n    .project(type=\"identity\", reflectY=True)\n    .properties(width=500, height=500)\n)\n\n\n\n\n\n\n\n\n\nInteractive via hvplot\nWe can use the built-in .hvplot() function to plot interactive choropleth maps!\n\n\n\n\n\n\nHvplot and projections\n\n\n\nThere are two relevant keywords related to projections and coordinate reference systems. Since we are plotting geospatial data, you will need to specify the geo=True keyword. If your data is in EPSG:4326, you are all set and that’s all you need to do. If your data is NOT in EPSG:4326, you will need to specify the crs= keyword and pass the EPSG code to hvplot.\nIn the example below, our data is in EPSG:3857 and we specify that via the crs keyword.\n\n\n\nrequests_by_hood_3857.crs\n\n&lt;Projected CRS: EPSG:3857&gt;\nName: WGS 84 / Pseudo-Mercator\nAxis Info [cartesian]:\n- X[east]: Easting (metre)\n- Y[north]: Northing (metre)\nArea of Use:\n- name: World between 85.06°S and 85.06°N.\n- bounds: (-180.0, -85.06, 180.0, 85.06)\nCoordinate Operation:\n- name: Popular Visualisation Pseudo-Mercator\n- method: Popular Visualisation Pseudo Mercator\nDatum: World Geodetic System 1984 ensemble\n- Ellipsoid: WGS 84\n- Prime Meridian: Greenwich\n\n\n\n# Pass arguments directly to hvplot()\n# and it recognizes polygons automatically\nrequests_by_hood_3857.hvplot(\n    c=\"N_per_area\",\n    frame_width=600,\n    frame_height=600,\n    geo=True,\n    crs=3857,\n    cmap=\"viridis\",\n    hover_cols=[\"ZillowName\"],\n)\n\n\n\n\n\n  \n\n\n\n\n\nAdding in tile maps underneath with geoviews\nhvplot can leverage the power of geoviews, the geographic equivalent of holoviews, to add in base tile maps underneath our choropleth map.\nLet’s try it out:\n\nimport geoviews as gv\nimport geoviews.tile_sources as gvts\n\n\ntype(gvts.EsriImagery)\n\ngeoviews.element.geo.WMTS\n\n\n\n%%opts WMTS [width=800, height=800, xaxis=None, yaxis=None]\n\nchoro = requests_by_hood_3857.hvplot(\n    c=\"N_per_area\",\n    frame_width=600,\n    frame_height=600,\n    alpha=0.5,\n    geo=True,\n    crs=3857,\n    cmap=\"viridis\",\n    hover_cols=[\"ZillowName\"],\n)\n\ngvts.EsriImagery * choro\n\n\n\n\n\n  \n\n\n\n\n\n\n\n\n\n\nWarning\n\n\n\nFor the moment, you’ll need to have your overlaid polygons in Web Mercator, EPSG:3857. There’s a bug in geoviews that is preventing the underlying raster data from showing properly when combined with data that is using a different CRS.\n\n\n\n\nMany of the most common tile sources are available..\nStay tuned: More on this next week when we talk about raster data!\n\n%%opts WMTS [width=200, height=200, xaxis=None, yaxis=None]\n\n(\n    gvts.OSM\n    + gvts.StamenToner\n    + gvts.EsriNatGeo\n    + gvts.EsriImagery\n    + gvts.EsriUSATopo\n    + gvts.EsriTerrain\n    + gvts.CartoDark\n    + gvts.CartoLight\n).cols(4)\n\n\n\n\n\n  \n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nWe’ve used the %%opts cell magic to apply syling options to any charts generated in the cell.\nSee the documentation guide on customizations for more details.\n\n\n\n\n\nInteractive via the geopandas .explore() function\nGeopandas recently introduced the ability to produce interactive choropleth maps via the .explore() function. It leverages the Folium package to produce an interactive web map.\nStay tuned: We’ll discuss interactive web maps and the Folium package in much more detail next week!\n\nrequests_by_hood_3857.explore(\n    column=\"N_per_area\",  # Similar to plot(); specify the value column\n    cmap=\"viridis\",  # What color map do we want to use\n    tiles=\"CartoDB positron\",  # What basemap tiles do we want to use?\n)\n\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\n\n\n\n\n\nTip\n\n\n\nCheck out the documentation for .explore() via the ? operator for details on what kind of tiles are available as well as other options.\nFor more information, see the Geopandas documentation on interactive mapping."
  },
  {
    "objectID": "content/week-4/lecture-4A.html#data-viz-example-hex-bins",
    "href": "content/week-4/lecture-4A.html#data-viz-example-hex-bins",
    "title": "Week 4A: Geospatial Data Analysis, Continued",
    "section": "Data viz example: Hex bins",
    "text": "Data viz example: Hex bins\nAnother great way to visualize geospatial data is via hex bins, where hexagonal bins aggregate quantities over small spatial regions. Let’s try out a couple different ways of visualizing our data this way.\n\n\n\n\n\n\nNote\n\n\n\nWhen visualizing data with hex bins, we will pass the full dataset (before any aggregations) to the plotting function, which will handle aggregating the data into hexagonal bins and visualizing it.\n\nOptional aggregations\nBy default, the function will just count the number of points that fall into each hexagonal bin. Optionally, we can also specify a column to aggregate in each bin, and a corresponding function to use to do the aggregation (e.g., the sum or median function). These are specified as:\n\nAn optional C column to aggregate for each bin (raw counts are shown if not provided)\nA reduce_C_function that determines how to aggregate the C column\n\n\n\n\n\nStatic via matplotlib\nLet’s try out matplotlib’s hexbin() function (docs), and overlay the Zillow neighborhood boundaries on top!\n\nplt.hexbin?\n\n\n\nSignature:\nplt.hexbin(\n    x,\n    y,\n    C=None,\n    gridsize=100,\n    bins=None,\n    xscale='linear',\n    yscale='linear',\n    extent=None,\n    cmap=None,\n    norm=None,\n    vmin=None,\n    vmax=None,\n    alpha=None,\n    linewidths=None,\n    edgecolors='face',\n    reduce_C_function=&lt;function mean at 0x10884b9a0&gt;,\n    mincnt=None,\n    marginals=False,\n    *,\n    data=None,\n    **kwargs,\n)\nDocstring:\nMake a 2D hexagonal binning plot of points *x*, *y*.\nIf *C* is *None*, the value of the hexagon is determined by the number\nof points in the hexagon. Otherwise, *C* specifies values at the\ncoordinate (x[i], y[i]). For each hexagon, these values are reduced\nusing *reduce_C_function*.\nParameters\n----------\nx, y : array-like\n    The data positions. *x* and *y* must be of the same length.\nC : array-like, optional\n    If given, these values are accumulated in the bins. Otherwise,\n    every point has a value of 1. Must be of the same length as *x*\n    and *y*.\ngridsize : int or (int, int), default: 100\n    If a single int, the number of hexagons in the *x*-direction.\n    The number of hexagons in the *y*-direction is chosen such that\n    the hexagons are approximately regular.\n    Alternatively, if a tuple (*nx*, *ny*), the number of hexagons\n    in the *x*-direction and the *y*-direction. In the\n    *y*-direction, counting is done along vertically aligned\n    hexagons, not along the zig-zag chains of hexagons; see the\n    following illustration.\n    .. plot::\n       import numpy\n       import matplotlib.pyplot as plt\n       np.random.seed(19680801)\n       n= 300\n       x = np.random.standard_normal(n)\n       y = np.random.standard_normal(n)\n       fig, ax = plt.subplots(figsize=(4, 4))\n       h = ax.hexbin(x, y, gridsize=(5, 3))\n       hx, hy = h.get_offsets().T\n       ax.plot(hx[24::3], hy[24::3], 'ro-')\n       ax.plot(hx[-3:], hy[-3:], 'ro-')\n       ax.set_title('gridsize=(5, 3)')\n       ax.axis('off')\n    To get approximately regular hexagons, choose\n    :math:`n_x = \\sqrt{3}\\,n_y`.\nbins : 'log' or int or sequence, default: None\n    Discretization of the hexagon values.\n    - If *None*, no binning is applied; the color of each hexagon\n      directly corresponds to its count value.\n    - If 'log', use a logarithmic scale for the colormap.\n      Internally, :math:`log_{10}(i+1)` is used to determine the\n      hexagon color. This is equivalent to ``norm=LogNorm()``.\n    - If an integer, divide the counts in the specified number\n      of bins, and color the hexagons accordingly.\n    - If a sequence of values, the values of the lower bound of\n      the bins to be used.\nxscale : {'linear', 'log'}, default: 'linear'\n    Use a linear or log10 scale on the horizontal axis.\nyscale : {'linear', 'log'}, default: 'linear'\n    Use a linear or log10 scale on the vertical axis.\nmincnt : int &gt; 0, default: *None*\n    If not *None*, only display cells with more than *mincnt*\n    number of points in the cell.\nmarginals : bool, default: *False*\n    If marginals is *True*, plot the marginal density as\n    colormapped rectangles along the bottom of the x-axis and\n    left of the y-axis.\nextent : 4-tuple of float, default: *None*\n    The limits of the bins (xmin, xmax, ymin, ymax).\n    The default assigns the limits based on\n    *gridsize*, *x*, *y*, *xscale* and *yscale*.\n    If *xscale* or *yscale* is set to 'log', the limits are\n    expected to be the exponent for a power of 10. E.g. for\n    x-limits of 1 and 50 in 'linear' scale and y-limits\n    of 10 and 1000 in 'log' scale, enter (1, 50, 1, 3).\nReturns\n-------\n`~matplotlib.collections.PolyCollection`\n    A `.PolyCollection` defining the hexagonal bins.\n    - `.PolyCollection.get_offsets` contains a Mx2 array containing\n      the x, y positions of the M hexagon centers.\n    - `.PolyCollection.get_array` contains the values of the M\n      hexagons.\n    If *marginals* is *True*, horizontal\n    bar and vertical bar (both PolyCollections) will be attached\n    to the return collection as attributes *hbar* and *vbar*.\nOther Parameters\n----------------\ncmap : str or `~matplotlib.colors.Colormap`, default: :rc:`image.cmap`\n    The Colormap instance or registered colormap name used to map scalar data\n    to colors.\nnorm : str or `~matplotlib.colors.Normalize`, optional\n    The normalization method used to scale scalar data to the [0, 1] range\n    before mapping to colors using *cmap*. By default, a linear scaling is\n    used, mapping the lowest value to 0 and the highest to 1.\n    If given, this can be one of the following:\n    - An instance of `.Normalize` or one of its subclasses\n      (see :doc:`/tutorials/colors/colormapnorms`).\n    - A scale name, i.e. one of \"linear\", \"log\", \"symlog\", \"logit\", etc.  For a\n      list of available scales, call `matplotlib.scale.get_scale_names()`.\n      In that case, a suitable `.Normalize` subclass is dynamically generated\n      and instantiated.\nvmin, vmax : float, optional\n    When using scalar data and no explicit *norm*, *vmin* and *vmax* define\n    the data range that the colormap covers. By default, the colormap covers\n    the complete value range of the supplied data. It is an error to use\n    *vmin*/*vmax* when a *norm* instance is given (but using a `str` *norm*\n    name together with *vmin*/*vmax* is acceptable).\nalpha : float between 0 and 1, optional\n    The alpha blending value, between 0 (transparent) and 1 (opaque).\nlinewidths : float, default: *None*\n    If *None*, defaults to 1.0.\nedgecolors : {'face', 'none', *None*} or color, default: 'face'\n    The color of the hexagon edges. Possible values are:\n    - 'face': Draw the edges in the same color as the fill color.\n    - 'none': No edges are drawn. This can sometimes lead to unsightly\n      unpainted pixels between the hexagons.\n    - *None*: Draw outlines in the default color.\n    - An explicit color.\nreduce_C_function : callable, default: `numpy.mean`\n    The function to aggregate *C* within the bins. It is ignored if\n    *C* is not given. This must have the signature::\n        def reduce_C_function(C: array) -&gt; float\n    Commonly used functions are:\n    - `numpy.mean`: average of the points\n    - `numpy.sum`: integral of the point values\n    - `numpy.amax`: value taken from the largest point\ndata : indexable object, optional\n    If given, the following parameters also accept a string ``s``, which is\n    interpreted as ``data[s]`` (unless this raises an exception):\n    *x*, *y*, *C*\n**kwargs : `~matplotlib.collections.PolyCollection` properties\n    All other keyword arguments are passed on to `.PolyCollection`:\n    Properties:\n    agg_filter: a filter function, which takes a (m, n, 3) float array and a dpi value, and returns a (m, n, 3) array and two offsets from the bottom left corner of the image\n    alpha: array-like or scalar or None\n    animated: bool\n    antialiased or aa or antialiaseds: bool or list of bools\n    array: array-like or None\n    capstyle: `.CapStyle` or {'butt', 'projecting', 'round'}\n    clim: (vmin: float, vmax: float)\n    clip_box: `.Bbox`\n    clip_on: bool\n    clip_path: Patch or (Path, Transform) or None\n    cmap: `.Colormap` or str or None\n    color: color or list of RGBA tuples\n    edgecolor or ec or edgecolors: color or list of colors or 'face'\n    facecolor or facecolors or fc: color or list of colors\n    figure: `.Figure`\n    gid: str\n    hatch: {'/', '\\\\', '|', '-', '+', 'x', 'o', 'O', '.', '*'}\n    in_layout: bool\n    joinstyle: `.JoinStyle` or {'miter', 'round', 'bevel'}\n    label: object\n    linestyle or dashes or linestyles or ls: str or tuple or list thereof\n    linewidth or linewidths or lw: float or list of floats\n    mouseover: bool\n    norm: `.Normalize` or str or None\n    offset_transform or transOffset: unknown\n    offsets: (N, 2) or (2,) array-like\n    path_effects: `.AbstractPathEffect`\n    paths: list of array-like\n    picker: None or bool or float or callable\n    pickradius: unknown\n    rasterized: bool\n    sizes: `numpy.ndarray` or None\n    sketch_params: (scale: float, length: float, randomness: float)\n    snap: bool or None\n    transform: `.Transform`\n    url: str\n    urls: list of str or None\n    verts: list of array-like\n    verts_and_codes: unknown\n    visible: bool\n    zorder: float\nSee Also\n--------\nhist2d : 2D histogram rectangular bins\nFile:      ~/mambaforge/envs/musa-550-fall-2023/lib/python3.10/site-packages/matplotlib/pyplot.py\nType:      function\n\n\n\n\ntrash_requests_3857 = trash_requests.to_crs(epsg=3857)\n\n\n# Create the axes\nfig, ax = plt.subplots(figsize=(12, 12))\n\n# Extract out the x/y coordindates of the Point objects\nxcoords = trash_requests_3857.geometry.x\nycoords = trash_requests_3857.geometry.y\n\n# Plot a hexbin chart\n# NOTE: We are passing the full set of coordinates to matplotlib — we haven't done any aggregations\nhex_vals = ax.hexbin(xcoords, ycoords, gridsize=50)\n\n# Add the zillow geometry boundaries\nzillow.to_crs(trash_requests_3857.crs).plot(\n    ax=ax, facecolor=\"none\", edgecolor=\"white\", linewidth=0.25\n)\n\n# Add a colorbar and format\nfig.colorbar(hex_vals, ax=ax)\nax.set_axis_off()\nax.set_aspect(\"equal\")\n\n\n\n\nGreat! This looks very close to the N_per_area choropleth chart we made previously. It definitely shows a similar concentration of tickets in South Philly.\n\n\nInteractive via hvplot\nHvplot also has an interactive hex bin function…let’s try it out!\nRemember: once again, we’ll be using the original (un-aggregated) data frame.\n\nStep 1: Extract out the x/y values of the data\n\nLet’s add them as new columns into the data frame\nRemember, you can the use “x” and “y” attributes of the “geometry” column.\n\n\ntrash_requests_3857[\"x\"] = trash_requests_3857.geometry.x\ntrash_requests_3857[\"y\"] = trash_requests_3857.geometry.y\n\n\ntrash_requests_3857.head()\n\n\n\n\n\n\n\n\nobjectid\nservice_request_id\nstatus\nstatus_notes\nservice_name\nservice_code\nagency_responsible\nservice_notice\nrequested_datetime\nupdated_datetime\nexpected_datetime\naddress\nzipcode\nmedia_url\nlat\nlon\ngeometry\nx\ny\n\n\n\n\n0\n8180042\n13269656\nClosed\nNaN\nRubbish/Recyclable Material Collection\nSR-ST03\nStreets Department\n2 Business Days\n2020-04-02 19:22:24\n2020-04-06 07:02:57\n2020-04-06 20:00:00\n624 FOULKROD ST\nNaN\nNaN\n40.034389\n-75.106518\nPOINT (-8360819.322 4870940.907)\n-8.360819e+06\n4.870941e+06\n\n\n1\n8180043\n13266979\nClosed\nNaN\nRubbish/Recyclable Material Collection\nSR-ST03\nStreets Department\n2 Business Days\n2020-04-02 08:40:53\n2020-04-06 07:02:58\n2020-04-05 20:00:00\n1203 ELLSWORTH ST\nNaN\nNaN\n39.936164\n-75.163497\nPOINT (-8367162.212 4856670.199)\n-8.367162e+06\n4.856670e+06\n\n\n2\n7744426\n13066443\nClosed\nNaN\nRubbish/Recyclable Material Collection\nSR-ST03\nStreets Department\n2 Business Days\n2020-01-02 19:17:55\n2020-01-04 05:46:06\n2020-01-06 19:00:00\n9054 WESLEYAN RD\nNaN\nNaN\n40.058737\n-75.018345\nPOINT (-8351004.015 4874481.442)\n-8.351004e+06\n4.874481e+06\n\n\n3\n7744427\n13066540\nClosed\nNaN\nRubbish/Recyclable Material Collection\nSR-ST03\nStreets Department\n2 Business Days\n2020-01-03 07:01:46\n2020-01-04 05:46:07\n2020-01-06 19:00:00\n2784 WILLITS RD\nNaN\nNaN\n40.063658\n-75.022347\nPOINT (-8351449.489 4875197.202)\n-8.351449e+06\n4.875197e+06\n\n\n4\n7801094\n13089345\nClosed\nNaN\nRubbish/Recyclable Material Collection\nSR-ST03\nStreets Department\n2 Business Days\n2020-01-15 13:22:14\n2020-01-16 14:03:29\n2020-01-16 19:00:00\n6137 LOCUST ST\nNaN\nNaN\n39.958186\n-75.244732\nPOINT (-8376205.240 4859867.796)\n-8.376205e+06\n4.859868e+06\n\n\n\n\n\n\n\n\n\nStep 2: Plot with the hexbin function\n\nSimilar syntax to matplotlib’s hexbin() function\nSpecify:\n\nThe x/y coordinates,\nAn optional C column to aggregate for each bin (raw counts are shown if not provided)\nA reduce_function that determines how to aggregate the C column\n\n\n\ntrash_requests.hvplot.hexbin?\n\n\nSignature:\ntrash_requests.hvplot.hexbin(\n    x=None,\n    y=None,\n    C=None,\n    colorbar=True,\n    *,\n    alpha,\n    cmap,\n    color,\n    fill_alpha,\n    fill_color,\n    hover_alpha,\n    hover_color,\n    hover_fill_alpha,\n    hover_fill_color,\n    hover_line_alpha,\n    hover_line_cap,\n    hover_line_color,\n    hover_line_dash,\n    hover_line_join,\n    hover_line_width,\n    line_alpha,\n    line_cap,\n    line_color,\n    line_dash,\n    line_join,\n    line_width,\n    muted,\n    muted_alpha,\n    muted_color,\n    muted_fill_alpha,\n    muted_fill_color,\n    muted_line_alpha,\n    muted_line_cap,\n    muted_line_color,\n    muted_line_dash,\n    muted_line_join,\n    muted_line_width,\n    nonselection_alpha,\n    nonselection_color,\n    nonselection_fill_alpha,\n    nonselection_fill_color,\n    nonselection_line_alpha,\n    nonselection_line_cap,\n    nonselection_line_color,\n    nonselection_line_dash,\n    nonselection_line_join,\n    nonselection_line_width,\n    scale,\n    selection_alpha,\n    selection_color,\n    selection_fill_alpha,\n    selection_fill_color,\n    selection_line_alpha,\n    selection_line_cap,\n    selection_line_color,\n    selection_line_dash,\n    selection_line_join,\n    selection_line_width,\n    visible,\n    reduce_function,\n    gridsize,\n    logz,\n    min_count,\n    width,\n    height,\n    shared_axes,\n    grid,\n    legend,\n    rot,\n    xlim,\n    ylim,\n    xticks,\n    yticks,\n    invert,\n    title,\n    logx,\n    logy,\n    loglog,\n    xaxis,\n    yaxis,\n    xformatter,\n    yformatter,\n    xlabel,\n    ylabel,\n    clabel,\n    padding,\n    responsive,\n    max_height,\n    max_width,\n    min_height,\n    min_width,\n    frame_height,\n    frame_width,\n    aspect,\n    data_aspect,\n    fontscale,\n    datashade,\n    rasterize,\n    x_sampling,\n    y_sampling,\n    aggregator,\n    **kwargs,\n)\nDocstring:\nThe `hexbin` plot uses hexagons to split the area into several parts and attribute a color\nto it.\n`hexbin` offers a straightforward method for plotting dense data.\nReference: https://hvplot.holoviz.org/reference/pandas/hexbin.html\nParameters\n----------\nx : string, optional\n    Field name to draw x coordinates from. If not specified, the index is used.\ny : string\n    Field name to draw y-positions from\nC : string, optional\n    Field to draw hexbin color from. If not specified a simple count will be used.\ncolorbar: boolean, optional\n    Whether to display a colorbar. Default is True.\nreduce_function : function, optional\n    Function to compute statistics for hexbins, for example `np.mean`.\ngridsize: int, optional\n    The number of hexagons in the x-direction\nlogz : bool\n    Whether to apply log scaling to the z-axis. Default is False.\nmin_count : number, optional\n    The display threshold before a bin is shown, by default bins with\n    a count of less than 1 are hidden\n**kwds : optional\n    Additional keywords arguments are documented in `hvplot.help('hexbin')`.\nReturns\n-------\nA Holoviews object. You can `print` the object to study its composition and run\n.. code-block::\n    import holoviews as hv\n    hv.help(the_holoviews_object)\nto learn more about its parameters and options.\nExample\n-------\n.. code-block::\n    import hvplot.pandas\n    import pandas as pd\n    import numpy as np\n    n = 500\n    df = pd.DataFrame({\n        \"x\": 2 + 2 * np.random.standard_normal(n),\n        \"y\": 2 + 2 * np.random.standard_normal(n),\n    })\n    df.hvplot.hexbin(\"x\", \"y\", clabel=\"Count\", cmap=\"plasma_r\", height=400, width=500)\nReferences\n----------\n- Bokeh: https://docs.bokeh.org/en/latest/docs/gallery/hexbin.html\n- HoloViews: https://holoviews.org/reference/elements/bokeh/HexTiles.html\n- Plotly: https://plotly.com/python/hexbin-mapbox/\n- Wiki: https://think.design/services/data-visualization-data-design/hexbin/\nGeneric options\n---------------\nclim: tuple\n    Lower and upper bound of the color scale\ncnorm (default='linear'): str\n    Color scaling which must be one of 'linear', 'log' or 'eq_hist'\ncolorbar (default=False): boolean\n    Enables a colorbar\nfontscale: number\n    Scales the size of all fonts by the same amount, e.g. fontscale=1.5\n    enlarges all fonts (title, xticks, labels etc.) by 50%\nfontsize: number or dict\n    Set title, label and legend text to the same fontsize. Finer control\n    by using a dict: {'title': '15pt', 'ylabel': '5px', 'ticks': 20}\nflip_xaxis/flip_yaxis: boolean\n    Whether to flip the axis left to right or up and down respectively\ngrid (default=False): boolean\n    Whether to show a grid\nhover : boolean\n    Whether to show hover tooltips, default is True unless datashade is\n    True in which case hover is False by default\nhover_cols (default=[]): list or str\n    Additional columns to add to the hover tool or 'all' which will\n    includes all columns (including indexes if use_index is True).\ninvert (default=False): boolean\n    Swaps x- and y-axis\nframe_width/frame_height: int\n    The width and height of the data area of the plot\nlegend (default=True): boolean or str\n    Whether to show a legend, or a legend position\n    ('top', 'bottom', 'left', 'right')\nlogx/logy (default=False): boolean\n    Enables logarithmic x- and y-axis respectively\nlogz (default=False): boolean\n    Enables logarithmic colormapping\nloglog (default=False): boolean\n    Enables logarithmic x- and y-axis\nmax_width/max_height: int\n    The maximum width and height of the plot for responsive modes\nmin_width/min_height: int\n    The minimum width and height of the plot for responsive modes\npadding: number or tuple\n    Fraction by which to increase auto-ranged extents to make\n    datapoints more visible around borders. Supports tuples to\n    specify different amount of padding for x- and y-axis and\n    tuples of tuples to specify different amounts of padding for\n    upper and lower bounds.\nrescale_discrete_levels (default=True): boolean\n    If `cnorm='eq_hist'` and there are only a few discrete values,\n    then `rescale_discrete_levels=True` (the default) decreases\n    the lower limit of the autoranged span so that the values are\n    rendering towards the (more visible) top of the `cmap` range,\n    thus avoiding washout of the lower values.  Has no effect if\n    `cnorm!=`eq_hist`.\nresponsive: boolean\n    Whether the plot should responsively resize depending on the\n    size of the browser. Responsive mode will only work if at\n    least one dimension of the plot is left undefined, e.g. when\n    width and height or width and aspect are set the plot is set\n    to a fixed size, ignoring any responsive option.\nrot: number\n    Rotates the axis ticks along the x-axis by the specified\n    number of degrees.\nshared_axes (default=True): boolean\n    Whether to link axes between plots\ntransforms (default={}): dict\n    A dictionary of HoloViews dim transforms to apply before plotting\ntitle (default=''): str\n    Title for the plot\ntools (default=[]): list\n    List of tool instances or strings (e.g. ['tap', 'box_select'])\nxaxis/yaxis: str or None\n    Whether to show the x/y-axis and whether to place it at the\n    'top'/'bottom' and 'left'/'right' respectively.\nxformatter/yformatter (default=None): str or TickFormatter\n    Formatter for the x-axis and y-axis (accepts printf formatter,\n    e.g. '%.3f', and bokeh TickFormatter)\nxlabel/ylabel/clabel (default=None): str\n    Axis labels for the x-axis, y-axis, and colorbar\nxlim/ylim (default=None): tuple or list\n    Plot limits of the x- and y-axis\nxticks/yticks (default=None): int or list\n    Ticks along x- and y-axis specified as an integer, list of\n    ticks positions, or list of tuples of the tick positions and labels\nwidth (default=700)/height (default=300): int\n    The width and height of the plot in pixels\nattr_labels (default=None): bool\n    Whether to use an xarray object's attributes as labels, defaults to\n    None to allow best effort without throwing a warning. Set to True\n    to see warning if the attrs can't be found, set to False to disable\n    the behavior.\nsort_date (default=True): bool\n    Whether to sort the x-axis by date before plotting\nsymmetric (default=None): bool\n    Whether the data are symmetric around zero. If left unset, the data\n    will be checked for symmetry as long as the size is less than\n    ``check_symmetric_max``.\ncheck_symmetric_max (default=1000000):\n    Size above which to stop checking for symmetry by default on the data.\nDatashader options\n------------------\naggregator (default=None):\n    Aggregator to use when applying rasterize or datashade operation\n    (valid options include 'mean', 'count', 'min', 'max' and more, and\n    datashader reduction objects)\ndynamic (default=True):\n    Whether to return a dynamic plot which sends updates on widget and\n    zoom/pan events or whether all the data should be embedded\n    (warning: for large groupby operations embedded data can become\n    very large if dynamic=False)\ndatashade (default=False):\n    Whether to apply rasterization and shading (colormapping) using\n    the Datashader library, returning an RGB object instead of\n    individual points\ndynspread (default=False):\n    For plots generated with datashade=True or rasterize=True,\n    automatically increase the point size when the data is sparse\n    so that individual points become more visible\nrasterize (default=False):\n    Whether to apply rasterization using the Datashader library,\n    returning an aggregated Image (to be colormapped by the\n    plotting backend) instead of individual points\nx_sampling/y_sampling (default=None):\n    Specifies the smallest allowed sampling interval along the x/y axis.\nGeographic options\n------------------\ncoastline (default=False):\n    Whether to display a coastline on top of the plot, setting\n    coastline='10m'/'50m'/'110m' specifies a specific scale.\ncrs (default=None):\n    Coordinate reference system of the data specified as Cartopy\n    CRS object, proj.4 string or EPSG code.\nfeatures (default=None): dict or list\n    A list of features or a dictionary of features and the scale\n    at which to render it. Available features include 'borders',\n    'coastline', 'lakes', 'land', 'ocean', 'rivers' and 'states'.\n    Available scales include '10m'/'50m'/'110m'.\ngeo (default=False):\n    Whether the plot should be treated as geographic (and assume\n    PlateCarree, i.e. lat/lon coordinates).\nglobal_extent (default=False):\n    Whether to expand the plot extent to span the whole globe.\nproject (default=False):\n    Whether to project the data before plotting (adds initial\n    overhead but avoids projecting data when plot is dynamically\n    updated).\nprojection (default=None): str or Cartopy CRS\n    Coordinate reference system of the plot specified as Cartopy\n    CRS object or class name.\ntiles (default=False):\n    Whether to overlay the plot on a tile source. Tiles sources\n    can be selected by name or a tiles object or class can be passed,\n    the default is 'Wikipedia'.\nStyle options\n-------------\nalpha\ncmap\ncolor\nfill_alpha\nfill_color\nhover_alpha\nhover_color\nhover_fill_alpha\nhover_fill_color\nhover_line_alpha\nhover_line_cap\nhover_line_color\nhover_line_dash\nhover_line_join\nhover_line_width\nline_alpha\nline_cap\nline_color\nline_dash\nline_join\nline_width\nmuted\nmuted_alpha\nmuted_color\nmuted_fill_alpha\nmuted_fill_color\nmuted_line_alpha\nmuted_line_cap\nmuted_line_color\nmuted_line_dash\nmuted_line_join\nmuted_line_width\nnonselection_alpha\nnonselection_color\nnonselection_fill_alpha\nnonselection_fill_color\nnonselection_line_alpha\nnonselection_line_cap\nnonselection_line_color\nnonselection_line_dash\nnonselection_line_join\nnonselection_line_width\nscale\nselection_alpha\nselection_color\nselection_fill_alpha\nselection_fill_color\nselection_line_alpha\nselection_line_cap\nselection_line_color\nselection_line_dash\nselection_line_join\nselection_line_width\nvisible\nFile:      ~/mambaforge/envs/musa-550-fall-2023/lib/python3.10/site-packages/hvplot/plotting/core.py\nType:      method\n\n\n\n\ntrash_requests.head()\n\n\n\n\n\n\n\n\nobjectid\nservice_request_id\nstatus\nstatus_notes\nservice_name\nservice_code\nagency_responsible\nservice_notice\nrequested_datetime\nupdated_datetime\nexpected_datetime\naddress\nzipcode\nmedia_url\nlat\nlon\ngeometry\n\n\n\n\n0\n8180042\n13269656\nClosed\nNaN\nRubbish/Recyclable Material Collection\nSR-ST03\nStreets Department\n2 Business Days\n2020-04-02 19:22:24\n2020-04-06 07:02:57\n2020-04-06 20:00:00\n624 FOULKROD ST\nNaN\nNaN\n40.034389\n-75.106518\nPOINT (-75.10652 40.03439)\n\n\n1\n8180043\n13266979\nClosed\nNaN\nRubbish/Recyclable Material Collection\nSR-ST03\nStreets Department\n2 Business Days\n2020-04-02 08:40:53\n2020-04-06 07:02:58\n2020-04-05 20:00:00\n1203 ELLSWORTH ST\nNaN\nNaN\n39.936164\n-75.163497\nPOINT (-75.16350 39.93616)\n\n\n2\n7744426\n13066443\nClosed\nNaN\nRubbish/Recyclable Material Collection\nSR-ST03\nStreets Department\n2 Business Days\n2020-01-02 19:17:55\n2020-01-04 05:46:06\n2020-01-06 19:00:00\n9054 WESLEYAN RD\nNaN\nNaN\n40.058737\n-75.018345\nPOINT (-75.01835 40.05874)\n\n\n3\n7744427\n13066540\nClosed\nNaN\nRubbish/Recyclable Material Collection\nSR-ST03\nStreets Department\n2 Business Days\n2020-01-03 07:01:46\n2020-01-04 05:46:07\n2020-01-06 19:00:00\n2784 WILLITS RD\nNaN\nNaN\n40.063658\n-75.022347\nPOINT (-75.02235 40.06366)\n\n\n4\n7801094\n13089345\nClosed\nNaN\nRubbish/Recyclable Material Collection\nSR-ST03\nStreets Department\n2 Business Days\n2020-01-15 13:22:14\n2020-01-16 14:03:29\n2020-01-16 19:00:00\n6137 LOCUST ST\nNaN\nNaN\n39.958186\n-75.244732\nPOINT (-75.24473 39.95819)\n\n\n\n\n\n\n\n\nhexbins = trash_requests_3857.hvplot.hexbin(\n    x=\"x\",\n    y=\"y\",\n    geo=True,\n    crs=3857,\n    gridsize=40,  # The number of cells in the x/y directions\n    alpha=0.5,\n    cmap=\"viridis\",\n    frame_width=600,\n    frame_height=600,\n)\n\n# Add the imagery underneath\ngvts.EsriImagery * hexbins\n\n\n\n\n\n  \n\n\n\n\n\n\n\nWhich viz method is best?\nWe’ve seen a lot of different options for visualizing geospatial data so far. So, which was is best?\n…It depends.\nA few guiding principles: - If you’re looking to share the visualization with others, static is probably the better choice - If you’re doing an exploratory analysis, generally an interactive map will be more helpful for understanding trends - For exploratory, interactive analysis, ease of use is key — for this reason, I usually tend to use .hvplot() or .explore() rather than altair, which doesn’t add base tiles to the chart and is a bit more limited in its functionality\n\n\n\n\n\n\nNote\n\n\n\nMore on interactive web maps next week when we discuss Folium in more detail!"
  },
  {
    "objectID": "content/week-4/lecture-4A.html#exercise-property-assessments-in-philadelphia",
    "href": "content/week-4/lecture-4A.html#exercise-property-assessments-in-philadelphia",
    "title": "Week 4A: Geospatial Data Analysis, Continued",
    "section": "Exercise: property assessments in Philadelphia",
    "text": "Exercise: property assessments in Philadelphia\nGoals: Visualize the property assessment values by neighborhood in Philadelphia, using one or more of the following:\n\nStatic choropleth map via geopandas\nInteractive choropleth map via geopandas / altair / hvplot\nStatic hex bin map via matplotlib\nInteractive hex bin map via hvplot\n\n\nThe dataset\n\nProperty assessment data from OpenDataPhilly\nAvailable in the data/ folder\nResidential properties only — over 460,000 properties\n\n\n\nStep 1: Load the assessment data\n\ndata = pd.read_csv(\"./data/opa_residential.csv\")\ndata.head()\n\n\n\n\n\n\n\n\nparcel_number\nlat\nlng\nlocation\nmarket_value\nbuilding_value\nland_value\ntotal_land_area\ntotal_livable_area\n\n\n\n\n0\n71361800\n39.991575\n-75.128994\n2726 A ST\n62200.0\n44473.0\n17727.0\n1109.69\n1638.0\n\n\n1\n71362100\n39.991702\n-75.128978\n2732 A ST\n25200.0\n18018.0\n7182.0\n1109.69\n1638.0\n\n\n2\n71362200\n39.991744\n-75.128971\n2734 A ST\n62200.0\n44473.0\n17727.0\n1109.69\n1638.0\n\n\n3\n71362600\n39.991994\n-75.128895\n2742 A ST\n15500.0\n11083.0\n4417.0\n1109.69\n1638.0\n\n\n4\n71363800\n39.992592\n-75.128743\n2814 A ST\n31300.0\n22400.0\n8900.0\n643.50\n890.0\n\n\n\n\n\n\n\nWe’ll focus on the market_value column for this analysis\n\n\nStep 2: Convert to a GeoDataFrame\nRemember to set the EPSG of the input data — this data is in the typical lat/lng coordinates (EPSG=4326)\n\ndata = data.dropna(subset=[\"lat\", \"lng\"])\n\n\ngdata = gpd.GeoDataFrame(\n    data,  # The pandas DataFrame\n    geometry=gpd.points_from_xy(data[\"lng\"], data[\"lat\"]), # The geometry!\n    crs=\"EPSG:4326\", # The CRS \n)\n\n\ngdata.head()\n\n\n\n\n\n\n\n\nparcel_number\nlat\nlng\nlocation\nmarket_value\nbuilding_value\nland_value\ntotal_land_area\ntotal_livable_area\ngeometry\n\n\n\n\n0\n71361800\n39.991575\n-75.128994\n2726 A ST\n62200.0\n44473.0\n17727.0\n1109.69\n1638.0\nPOINT (-75.12899 39.99158)\n\n\n1\n71362100\n39.991702\n-75.128978\n2732 A ST\n25200.0\n18018.0\n7182.0\n1109.69\n1638.0\nPOINT (-75.12898 39.99170)\n\n\n2\n71362200\n39.991744\n-75.128971\n2734 A ST\n62200.0\n44473.0\n17727.0\n1109.69\n1638.0\nPOINT (-75.12897 39.99174)\n\n\n3\n71362600\n39.991994\n-75.128895\n2742 A ST\n15500.0\n11083.0\n4417.0\n1109.69\n1638.0\nPOINT (-75.12889 39.99199)\n\n\n4\n71363800\n39.992592\n-75.128743\n2814 A ST\n31300.0\n22400.0\n8900.0\n643.50\n890.0\nPOINT (-75.12874 39.99259)\n\n\n\n\n\n\n\n\nlen(gdata)\n\n461453\n\n\n\n\nStep 3: Do a spatial join with Zillow neighbohoods\nUse the sjoin() function.\nMake sure you CRS’s match before doing the sjoin!\n\nzillow.crs\n\n&lt;Geographic 2D CRS: EPSG:4326&gt;\nName: WGS 84\nAxis Info [ellipsoidal]:\n- Lat[north]: Geodetic latitude (degree)\n- Lon[east]: Geodetic longitude (degree)\nArea of Use:\n- name: World.\n- bounds: (-180.0, -90.0, 180.0, 90.0)\nDatum: World Geodetic System 1984 ensemble\n- Ellipsoid: WGS 84\n- Prime Meridian: Greenwich\n\n\n\ngdata = gdata.to_crs(zillow.crs)\n\n\ngdata = gpd.sjoin(gdata, zillow, predicate=\"within\", how=\"left\")\n\n\ngdata.head()\n\n\n\n\n\n\n\n\nparcel_number\nlat\nlng\nlocation\nmarket_value\nbuilding_value\nland_value\ntotal_land_area\ntotal_livable_area\ngeometry\nindex_right\nZillowName\n\n\n\n\n0\n71361800\n39.991575\n-75.128994\n2726 A ST\n62200.0\n44473.0\n17727.0\n1109.69\n1638.0\nPOINT (-75.12899 39.99158)\n79.0\nMcGuire\n\n\n1\n71362100\n39.991702\n-75.128978\n2732 A ST\n25200.0\n18018.0\n7182.0\n1109.69\n1638.0\nPOINT (-75.12898 39.99170)\n79.0\nMcGuire\n\n\n2\n71362200\n39.991744\n-75.128971\n2734 A ST\n62200.0\n44473.0\n17727.0\n1109.69\n1638.0\nPOINT (-75.12897 39.99174)\n79.0\nMcGuire\n\n\n3\n71362600\n39.991994\n-75.128895\n2742 A ST\n15500.0\n11083.0\n4417.0\n1109.69\n1638.0\nPOINT (-75.12889 39.99199)\n79.0\nMcGuire\n\n\n4\n71363800\n39.992592\n-75.128743\n2814 A ST\n31300.0\n22400.0\n8900.0\n643.50\n890.0\nPOINT (-75.12874 39.99259)\n79.0\nMcGuire\n\n\n\n\n\n\n\n\n\nStep 4: Make a choropleth of the median market value by neighborhood\nUse the built-in .plot() function to make a static version, or .explore() to make an interactive version.\n\n\n\n\n\n\nHints\n\n\n\n\nYou will need to group by Zillow neighborhood\nCalculate the median market value per neighborhood\nJoin with the Zillow neighborhood GeoDataFrame\n\n\n\n\nmedian_values = gdata.groupby(\"ZillowName\", as_index=False)[\"market_value\"].median()\n\n\nmedian_values.head()\n\n\n\n\n\n\n\n\nZillowName\nmarket_value\n\n\n\n\n0\nAcademy Gardens\n185950.0\n\n\n1\nAllegheny West\n34750.0\n\n\n2\nAndorra\n251900.0\n\n\n3\nAston Woodbridge\n183800.0\n\n\n4\nBartram Village\n48300.0\n\n\n\n\n\n\n\n\n# Merge in the median values ---&gt; geopandas .merge pandas\nmedian_values_by_hood = zillow.merge(median_values, on=\"ZillowName\")\n\n# Normalize\nmedian_values_by_hood[\"market_value\"] /= 1e3  # in thousands\n\n\nmedian_values_by_hood.head()\n\n\n\n\n\n\n\n\nZillowName\ngeometry\nmarket_value\n\n\n\n\n0\nAcademy Gardens\nPOLYGON ((-74.99851 40.06435, -74.99456 40.061...\n185.95\n\n\n1\nAllegheny West\nPOLYGON ((-75.16592 40.00327, -75.16596 40.003...\n34.75\n\n\n2\nAndorra\nPOLYGON ((-75.22463 40.06686, -75.22588 40.065...\n251.90\n\n\n3\nAston Woodbridge\nPOLYGON ((-75.00860 40.05369, -75.00861 40.053...\n183.80\n\n\n4\nBartram Village\nPOLYGON ((-75.20733 39.93350, -75.20733 39.933...\n48.30\n\n\n\n\n\n\n\n\nStatic\n\n# Create the figure\nfig, ax = plt.subplots(figsize=(8, 8))\n\n# Create a nice, lined up colorbar axes (called \"cax\" here)\ndivider = make_axes_locatable(ax)\ncax = divider.append_axes(\"right\", size=\"5%\", pad=0.2)\n\n# Plot\n# NOTE: I am using PA state plane (2272) as an example\nmedian_values_by_hood_2272 = median_values_by_hood.to_crs(epsg=2272)\nmedian_values_by_hood_2272.plot(\n    ax=ax, cax=cax, column=\"market_value\", edgecolor=\"white\", linewidth=0.5, legend=True\n)\n\n# Get the limits of the GeoDataFrame\nxmin, ymin, xmax, ymax = median_values_by_hood_2272.total_bounds\n\n# Set the xlims and ylims\nax.set_xlim(xmin, xmax)\nax.set_ylim(ymin, ymax)\n\n# Format\nax.set_axis_off()\nax.set_aspect(\"equal\")\n\n# Format cax labels\ncax.set_yticklabels([f\"${val:.0f}k\" for val in cax.get_yticks()]);\n\n/var/folders/49/ntrr94q12xd4rq8hqdnx96gm0000gn/T/ipykernel_25922/267722563.py:27: UserWarning: FixedFormatter should only be used together with FixedLocator\n  cax.set_yticklabels([f\"${val:.0f}k\" for val in cax.get_yticks()]);\n\n\n\n\n\n\n\nInteractive\n\n# Via geopandas\nmedian_values_by_hood.explore(column=\"market_value\")\n\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\n# Via hvplot\n\nchoro = median_values_by_hood.to_crs(epsg=3857).hvplot(\n    c=\"market_value\",\n    frame_width=600,\n    frame_height=600,\n    alpha=0.7,\n    geo=True,\n    crs=3857,\n    cmap=\"viridis\",\n    hover_cols=[\"ZillowName\"],\n)\n\ngvts.EsriImagery * choro\n\n\n\n\n\n  \n\n\n\n\n\n# Via altair\n# NOTE: I've projected to my desired CRS and then passed in the data\n\n(\n    alt.Chart(median_values_by_hood.to_crs(epsg=2272))\n    .mark_geoshape(stroke=\"white\")\n    .encode(\n        tooltip=[\"market_value:Q\", \"ZillowName:N\"],\n        color=alt.Color(\"market_value:Q\", scale=alt.Scale(scheme=\"viridis\")),\n    )\n    # Important! Otherwise altair will try to re-project your data\n    .project(type=\"identity\", reflectY=True)\n    .properties(width=500, height=500)\n)\n\n\n\n\n\n\n\n\n\n\nStep 5: Make a hex bin map of median assessments\nMake a static version with matplotlib or an interactive version with hvplot.\nRemember, you will need to pass in the original, un-aggregated data to the plotting function!\n\n\n\n\n\n\nHints\n\n\n\nFor matplotlib’s hexbin() function: - You will need to use the C and reduce_C_function of the hexbin() function - Run plt.hexbin? for more help - Try testing the impact of setting bins='log' on the resulting map\nFor hvplot’s hexbin() function: - You will need to use the C and reduce_function of the hexbin() function - Run df.hvplot.hexbin? for more help - Try testing the impact of setting logz=True on the resulting map\n\n\nNote: you should pass in the raw point data rather than any aggregated data to the hexbin() function\n\nStatic\n\n# Convert to a projected CRS with units of meters\ngdata_3857 = gdata.to_crs(epsg=3857)\n\n\n# Create the axes\nfig, ax = plt.subplots(figsize=(10, 8))\n\n\n# Use the .x and .y attributes to get coordinates\nxcoords = gdata_3857.geometry.x\nycoords = gdata_3857.geometry.y\n\n# NOTE: we are passing in the raw point values here!\n# Matplotlib is doing the binning and aggregation work for us!\nhex_vals = ax.hexbin(\n    xcoords,\n    ycoords,\n    C=gdata_3857.market_value / 1e3,  # Values to aggregate!\n    reduce_C_function=np.median,  # Use the median function to do the aggregation in each bin\n    bins=\"log\",  # Use log scale for color\n    gridsize=30,\n)\n\n# Add the zillow geometry boundaries\n# NOTE: I'm making sure it's in the same CRS as gdata_3857\nzillow.to_crs(gdata_3857.crs).plot(\n    ax=ax, facecolor=\"none\", edgecolor=\"white\", linewidth=1, alpha=0.5\n)\n\n# Add a colorbar and format\ncbar = fig.colorbar(hex_vals, ax=ax)\nax.set_axis_off()\nax.set_aspect(\"equal\")\n\n# Format cbar labels\ncbar.set_ticks([100, 1000])\ncbar.set_ticklabels([\"$100k\", \"$1M\"]);\n\n\n\n\n\n\nInteractive\n\n# Add them as columns\ngdata_3857[\"x\"] = gdata_3857.geometry.x\ngdata_3857[\"y\"] = gdata_3857.geometry.y\n\nNote: this might take a minute or two!\n\nhexbins = gdata_3857.hvplot.hexbin(\n    x=\"x\",\n    y=\"y\",\n    geo=True,\n    crs=3857,\n    gridsize=40,\n    reduce_function=np.median,  # NEW: the function to use to aggregate in each bin\n    C=\"market_value\",  # NEW: the column to aggregate in each bin\n    logz=True,  # Use a log color map\n    alpha=0.5,\n    cmap=\"viridis\",\n    frame_width=600,\n    frame_height=600,\n)\n\n# Add the imagery underneath\ngvts.EsriImagery * hexbins"
  },
  {
    "objectID": "content/week-4/lecture-4A.html#thats-it",
    "href": "content/week-4/lecture-4A.html#thats-it",
    "title": "Week 4A: Geospatial Data Analysis, Continued",
    "section": "That’s it!",
    "text": "That’s it!\n\nMore interactive web maps and raster datasets next week!\nSee you next Monday!"
  },
  {
    "objectID": "content/week-4/index.html",
    "href": "content/week-4/index.html",
    "title": "Week 4: Geospatial Analysis & Mapping",
    "section": "",
    "text": "Content for lectures 4A and 4B\n\n\n        \n            \n             \n            View materials:\n             \n            MUSA-550-Fall-2023/week-4\n        \n\n        \n            \n             \n            HTML slides:\n             \n            \n                Lecture 4A\n            \n             \n            \n                Lecture 4B\n            \n        \n        \n\n        \n            \n             \n            Executable slides:\n             \n            \n                Lecture 4A\n            \n             \n            \n                Lecture 4B"
  },
  {
    "objectID": "content/week-4/index.html#topics",
    "href": "content/week-4/index.html#topics",
    "title": "Week 4: Geospatial Analysis & Mapping",
    "section": "Topics",
    "text": "Topics\n\nVisualizing geospatial data\nInteractive web maps with Folium"
  },
  {
    "objectID": "content/week-4/index.html#readings",
    "href": "content/week-4/index.html#readings",
    "title": "Week 4: Geospatial Analysis & Mapping",
    "section": "Readings",
    "text": "Readings\n\nGeoPandas\n\nChoropleth Maps\nClassification Schemes\n\nFolium"
  },
  {
    "objectID": "content/week-4/index.html#references",
    "href": "content/week-4/index.html#references",
    "title": "Week 4: Geospatial Analysis & Mapping",
    "section": "References",
    "text": "References\n\nHoloViews user guide and gallery\nGeoViews user guide and gallery\nFolium user guide"
  },
  {
    "objectID": "content/week-3/lecture-3B.html",
    "href": "content/week-3/lecture-3B.html",
    "title": "Week 3B: Intro to Geospatial Data Analysis with GeoPandas",
    "section": "",
    "text": "Section 401\nSep 20, 2023"
  },
  {
    "objectID": "content/week-3/lecture-3B.html#housekeeping",
    "href": "content/week-3/lecture-3B.html#housekeeping",
    "title": "Week 3B: Intro to Geospatial Data Analysis with GeoPandas",
    "section": "Housekeeping",
    "text": "Housekeeping\n\nHomework #1 due on Monday (9/25)\nHomework #2 will be assigned same day\nChoose a dataset to visualize and explore\n\nOpenDataPhilly or one your choosing\nEmail me if you want to analyze one that’s not on OpenDataPhilly"
  },
  {
    "objectID": "content/week-3/lecture-3B.html#agenda-for-today",
    "href": "content/week-3/lecture-3B.html#agenda-for-today",
    "title": "Week 3B: Intro to Geospatial Data Analysis with GeoPandas",
    "section": "Agenda for today",
    "text": "Agenda for today\n\nIntroduction to GeoPandas and vector data\nSpatial relationships and joins\n\n\n\n\n\n\n\nNote\n\n\n\nWe’ll continue geospatial analysis next week, with: - Visualization for geospatial data - Demo: 311 requests by neighborhood in Philadelphia - Exercise: Property assessments by neighborhood\n\n\n\n# Let's setup the imports we'll need first\n\nimport altair as alt\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\nfrom matplotlib import pyplot as plt\n\n%matplotlib inline"
  },
  {
    "objectID": "content/week-3/lecture-3B.html#part-1-vector-geospatial-data-in-python",
    "href": "content/week-3/lecture-3B.html#part-1-vector-geospatial-data-in-python",
    "title": "Week 3B: Intro to Geospatial Data Analysis with GeoPandas",
    "section": "Part 1: Vector geospatial data in Python",
    "text": "Part 1: Vector geospatial data in Python\n\nVector refers to discrete geometric entities\nThe Open Geospatial Consortium has standardized a set of simple features\nIncludes points, lines, and polygons\n\n\n\n\nSource\n\nA couple of terminology notes\n\nA feature refers to both the geometry and attributes of specific piece of vector data\nA feature collection is a list, or collection, of features\n\nBoth terms are very common in Python geospatial software.\n\n\nCommon formats for vector datasets\n\n1. A shapefile\nActually several files with the same common prefix.\nMandatory files:\n\n.shp: the file containing the geometries\n.shx: the file that indexes the geometry\n.dbf: tabular data format storing the attributes for each geometry\n\nAnd many optional files for documentation, projection information, etc.\nLet’s take a look at an example shapefile:\nWe’ll use the %ls command to list out all of the files in an example shapefile in the data/ folder\n\n%ls \"data/ne_110m_admin_0_countries/\"\n\nne_110m_admin_0_countries.cpg  ne_110m_admin_0_countries.shp\nne_110m_admin_0_countries.dbf  ne_110m_admin_0_countries.shx\nne_110m_admin_0_countries.prj\n\n\n\n\n2. The GeoJSON file\n\nStores simple features in a JSON format\nArose due to the prevalence of the JSON format, especially on the web\n\n\n\n\n\n\n\nAdditional GeoJSON resources\n\n\n\n\nGitHub lets you view GeoJSON files natively. See Philadelphia ZIP Codes in the data/ folder of this week’s repo.\nhttp://geojson.io provides interactive creation and viewing of small GeoJSON files\n\n\n\n\n\n\nAnalyzing vector data with GeoPandas\ngeopandas provides a simple, intuitive for the main types of geospatial vector file formats\n\n\n# The import statement\nimport geopandas as gpd\n\nExample: Let’s load a shape file of countries in the world…\nSource: Natural Earth Data\nWe can use the read_file() function to read shapefiles and GeoJSON files.\n\n# Read the shape file, giving the name of the directory\ncountries = gpd.read_file(\"./data/ne_110m_admin_0_countries\")\n\n\ncountries.head()\n\n\n\n\n\n\n\n\niso_a3\nname\ncontinent\npop_est\ngdp_md_est\ngeometry\n\n\n\n\n0\nAFG\nAfghanistan\nAsia\n34124811.0\n64080.0\nPOLYGON ((61.21082 35.65007, 62.23065 35.27066...\n\n\n1\nAGO\nAngola\nAfrica\n29310273.0\n189000.0\nMULTIPOLYGON (((23.90415 -11.72228, 24.07991 -...\n\n\n2\nALB\nAlbania\nEurope\n3047987.0\n33900.0\nPOLYGON ((21.02004 40.84273, 20.99999 40.58000...\n\n\n3\nARE\nUnited Arab Emirates\nAsia\n6072475.0\n667200.0\nPOLYGON ((51.57952 24.24550, 51.75744 24.29407...\n\n\n4\nARG\nArgentina\nSouth America\n44293293.0\n879400.0\nMULTIPOLYGON (((-66.95992 -54.89681, -67.56244...\n\n\n\n\n\n\n\n\ntype(countries)\n\ngeopandas.geodataframe.GeoDataFrame\n\n\n\n\nWhat’s a GeoDataFrame?\nJust like a DataFrame but with a new, special geometry column:\n\nPrint out the first 10 entires of the “geometry” column:\n\ncountries[\"geometry\"].head(n=10)\n\n0    POLYGON ((61.21082 35.65007, 62.23065 35.27066...\n1    MULTIPOLYGON (((23.90415 -11.72228, 24.07991 -...\n2    POLYGON ((21.02004 40.84273, 20.99999 40.58000...\n3    POLYGON ((51.57952 24.24550, 51.75744 24.29407...\n4    MULTIPOLYGON (((-66.95992 -54.89681, -67.56244...\n5    POLYGON ((43.58275 41.09214, 44.97248 41.24813...\n6    MULTIPOLYGON (((-59.57209 -80.04018, -59.86585...\n7    POLYGON ((68.93500 -48.62500, 69.58000 -48.940...\n8    MULTIPOLYGON (((145.39798 -40.79255, 146.36412...\n9    POLYGON ((16.97967 48.12350, 16.90375 47.71487...\nName: geometry, dtype: geometry\n\n\nTake a look at the first geometry polygon by using the .iloc[] selector:\n\ncountries['geometry'].iloc[0]\n\n\n\n\n\n\nWe can still leverage the power of pandas…\nCalculate the total world population:\n\ncountries[\"pop_est\"].sum() / 1e9  # In billions\n\n7.383089462\n\n\nCalculate the total population on each continent:\n\ngrouped = countries.groupby(\"continent\")\n\ngrouped\n\n&lt;pandas.core.groupby.generic.DataFrameGroupBy object at 0x17f287b80&gt;\n\n\n\n\n\n\n\n\nRemember\n\n\n\nThe groupby() function does not return a DataFrame — you need to call sum(), mean() etc, or apply() a function to get your desired result!\n\n\nAccess the “pop_est” column from the groupby variable (“grouped”) and then call the .sum() function to calculate our desired statistic:\n\npop_by_continent = grouped[\"pop_est\"].sum()\n\npop_by_continent\n\ncontinent\nAfrica                     1.219176e+09\nAntarctica                 4.050000e+03\nAsia                       4.389145e+09\nEurope                     7.463985e+08\nNorth America              5.730421e+08\nOceania                    3.678284e+07\nSeven seas (open ocean)    1.400000e+02\nSouth America              4.185407e+08\nName: pop_est, dtype: float64\n\n\n\n# Sort values\npop_by_continent.sort_values(ascending=False, inplace=True)\n\n# Output sorted values from cell\npop_by_continent / 1e9\n\ncontinent\nAsia                       4.389145e+00\nAfrica                     1.219176e+00\nEurope                     7.463985e-01\nNorth America              5.730421e-01\nSouth America              4.185407e-01\nOceania                    3.678284e-02\nAntarctica                 4.050000e-06\nSeven seas (open ocean)    1.400000e-07\nName: pop_est, dtype: float64\n\n\nFilter the data frame based on a boolean selection:\n\n# Is the country name USA?\nis_USA = countries[\"name\"] == \"United States of America\"\n\nis_USA\n\n0      False\n1      False\n2      False\n3      False\n4      False\n       ...  \n172    False\n173    False\n174    False\n175    False\n176    False\nName: name, Length: 177, dtype: bool\n\n\n\n# Get the row with USA\nUSA = countries.loc[is_USA]\n\nUSA\n\n\n\n\n\n\n\n\niso_a3\nname\ncontinent\npop_est\ngdp_md_est\ngeometry\n\n\n\n\n168\nUSA\nUnited States of America\nNorth America\n326625791.0\n18560000.0\nMULTIPOLYGON (((-122.84000 49.00000, -120.0000...\n\n\n\n\n\n\n\n\nUSA.squeeze().geometry\n\n\n\n\n\n\n\n\n\n\nReminder: the squeeze() function\n\n\n\nThe squeeze() function does just one it sounds like: if you have a DataFrame with only one row, it will “squeeze” the row dimension by removing it, returning just a Series object:\n\n\n\n# Squeeze\nUSA = USA.squeeze()\n\n# Print out the types\nprint(\"The type of USA is: \", type(USA))\n\n# Output\nUSA\n\nThe type of USA is:  &lt;class 'pandas.core.series.Series'&gt;\n\n\niso_a3                                                      USA\nname                                   United States of America\ncontinent                                         North America\npop_est                                             326625791.0\ngdp_md_est                                           18560000.0\ngeometry      MULTIPOLYGON (((-122.84000000000005 49.0000000...\nName: 168, dtype: object\n\n\nThe simple features (Lines, Points, Polygons) are implemented by the shapely library\n\nUSA\n\niso_a3                                                      USA\nname                                   United States of America\ncontinent                                         North America\npop_est                                             326625791.0\ngdp_md_est                                           18560000.0\ngeometry      MULTIPOLYGON (((-122.84000000000005 49.0000000...\nName: 168, dtype: object\n\n\n\ntype(USA.geometry)\n\nshapely.geometry.multipolygon.MultiPolygon\n\n\nJupyterLab renders shapely geometries automatically:\n\n# a mini USA\nUSA.geometry\n\n\n\n\n\n\nHow does geopandas handle coordinate systems and map projections?\nA coordinate reference system (CRS) relates the position of a geometry object on the spherical earth to its two-dimensional coordinates.\nA GeoDataFrame or GeoSeries has a .crs attribute which specifies the coordinate reference system.\n\ncountries.crs\n\n&lt;Geographic 2D CRS: EPSG:4326&gt;\nName: WGS 84\nAxis Info [ellipsoidal]:\n- Lat[north]: Geodetic latitude (degree)\n- Lon[east]: Geodetic longitude (degree)\nArea of Use:\n- name: World.\n- bounds: (-180.0, -90.0, 180.0, 90.0)\nDatum: World Geodetic System 1984 ensemble\n- Ellipsoid: WGS 84\n- Prime Meridian: Greenwich\n\n\n\n\nThe EPSG=4326 CRS\n\nEPSG 4326 is known as WGS 84 where x and y are longitude and latitude.\nIt is is the default coordinate system for GPS systems.\nIt’s also known as Plate Carrée or equirectangular\n\n\n\nHow to plot all of the geometries at once?\nUse the plot() function to get a quick and dirty plot of all of the geometry features.\nNote: the plot() returns the current maplotlib axes, allowing you to format the chart after plotting.\n\n# Create a figure and axes\nfig, ax = plt.subplots(figsize=(10, 6))\n\n# Plot the countries on our axes\nax = countries.plot(ax=ax, facecolor=\"none\", edgecolor=\"black\")\n\n# Add a title\nax.set_title(\"Equirectangular Projection\");\n\n\n\n\n\n\n\n\n\nCan we convert to other coordinate systems?\nUse the df.to_crs() function! The most well-known projections can be specified by their EPSG code.\nGeopandas documentation on re-projecting: Managing Projections\n\nLet’s convert to the Mercator projection\nEPSG code: 3395\n\n# Remove Antartica, as the Mercator projection\n# cannot deal with the poles\nno_antarctica = countries.loc[(countries[\"name\"] != \"Antarctica\")]\n\n\n# Two ways to specify the EPSG code\ncountries_mercator = no_antarctica.to_crs(epsg=3395)\n\n# Alternatively:\n# countries_mercator = no_antartica.to_crs(\"EPSG:3395\")\n\n\ncountries_mercator.head()\n\n\n\n\n\n\n\n\niso_a3\nname\ncontinent\npop_est\ngdp_md_est\ngeometry\n\n\n\n\n0\nAFG\nAfghanistan\nAsia\n34124811.0\n64080.0\nPOLYGON ((6813956.990 4227673.562, 6927484.435...\n\n\n1\nAGO\nAngola\nAfrica\n29310273.0\n189000.0\nMULTIPOLYGON (((2660998.216 -1305442.810, 2680...\n\n\n2\nALB\nAlbania\nEurope\n3047987.0\n33900.0\nPOLYGON ((2339940.185 4961221.199, 2337708.178...\n\n\n3\nARE\nUnited Arab Emirates\nAsia\n6072475.0\n667200.0\nPOLYGON ((5741805.754 2765811.385, 5761611.935...\n\n\n4\nARG\nArgentina\nSouth America\n44293293.0\n879400.0\nMULTIPOLYGON (((-7453944.198 -7306880.704, -75...\n\n\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nTake a look at the values in the “geometry” column above. The magnitude of the coordinates changed! This is a quick and easy way to tell if the re-projection worked properly!\n\n\n\n\nNow let’s plot it!\nThe easy way…with geopandas built-in plot() function\n\n# Initialize the figure and axes\nfig, ax = plt.subplots(figsize=(10, 6))\n\n# Use built-in plot() of the GeoDataFrame\nax = countries_mercator.plot(ax=ax, facecolor=\"none\", edgecolor=\"black\")\n\n# Add a title\nax.set_title(\"Mercator Projection\");\n\n\n\n\n\n\n\n\n\nWhich one is your favorite?\n\nSource: xkcd\n\n\n\n\n\n\nTip: Choosing the right CRS\n\n\n\n\nFor city-based data, the Web Mercator CRS (EPSG=3857) is best. This CRS became popular after Google Maps adopted it.\nYou can also use a CRS specific to individual states, e.g., the PA State Plane EPSG=2272 is a good option for Philadelphia\n\n\n\n\n\n\nLet’s load the city limits for Philadelphia\nWe’ll use the provided City_Limits shape file in the data/ folder\n\ncity_limits = gpd.read_file(\"./data/City_Limits\")\n\ncity_limits\n\n\n\n\n\n\n\n\nOBJECTID\nShape__Are\nShape__Len\ngeometry\n\n\n\n\n0\n1\n0.038911\n1.259687\nPOLYGON ((-75.01497 40.13793, -75.01456 40.137...\n\n\n\n\n\n\n\n\nWhat’s the CRS?\nUse the .crs attribute to find out!\n\ncity_limits.crs\n\n&lt;Geographic 2D CRS: EPSG:4326&gt;\nName: WGS 84\nAxis Info [ellipsoidal]:\n- Lat[north]: Geodetic latitude (degree)\n- Lon[east]: Geodetic longitude (degree)\nArea of Use:\n- name: World.\n- bounds: (-180.0, -90.0, 180.0, 90.0)\nDatum: World Geodetic System 1984 ensemble\n- Ellipsoid: WGS 84\n- Prime Meridian: Greenwich\n\n\nPlot it with the EPSG=4326 CRS:\n\n# Create our figure and axes\nfig, ax = plt.subplots(figsize=(5, 5))\n\n# Plot\ncity_limits.plot(ax=ax, facecolor=\"none\", edgecolor=\"black\")\n\n# Format\nax.set_title(\"Equirectangular\")\nax.set_axis_off()  # This will remove the axes completely\nax.set_aspect(\"equal\")  # This forces an equal aspect ratio\n\n\n\n\nThis is not what Philadelphia looks like..\nLet’s try EPSG=3857 instead:\n\n# Create the figure\nfig, ax = plt.subplots(figsize=(5, 5))\n\n# Convert to EPSG:3857\ncity_limits_3857 = city_limits.to_crs(epsg=3857)\n\n# Plot and format\ncity_limits_3857.plot(ax=ax, facecolor=\"none\", edgecolor=\"black\")\n\nax.set_title(\"Web Mercator\")\nax.set_axis_off()\nax.set_aspect(\"equal\");\n\n\n\n\n\n\n\n\n\n\nImportant\n\n\n\nThe equirectangular CRS (EPSG=4326) is often used by default and will make cities appear wider and flatter than they really are.\n\n\n\n\nSaving GeoDataFrames\nUse the to_file() function and specify the driver.\n\n# ESRI shape file\ncity_limits_3857.to_file(\"./data/city_limits_3857\", driver=\"Shapefile\")\n\n\n# GeoJSON is also an option\ncity_limits_3857.to_file(\"./data/city_limits_3857.geojson\", driver=\"GeoJSON\")\n\n\n\nHow about as a CSV file?\nYes, but reading requires more work…\n\n# save a csv file\ncity_limits_3857.to_csv(\"./data/city_limits_3857.csv\", index=False)\n\n\ndf = pd.read_csv(\"./data/city_limits_3857.csv\")\n\ndf.head()\n\n\n\n\n\n\n\n\nOBJECTID\nShape__Are\nShape__Len\ngeometry\n\n\n\n\n0\n1\n0.038911\n1.259687\nPOLYGON ((-8350627.97509646 4886006.88680784, ...\n\n\n\n\n\n\n\n\n\nLooks similar…\nBut, the “geometry” column is just stored as a string…it’s not a shapely Polygon\n\ndf.geometry\n\n0    POLYGON ((-8350627.97509646 4886006.88680784, ...\nName: geometry, dtype: object\n\n\n\n\nUse shapely to parse the string version of the polygons\n\nfrom shapely import wkt\n\n# wkt.loads will convert from string to Polygon object\ndf[\"geometry\"] = df[\"geometry\"].apply(wkt.loads)\n\n\ndf.geometry.iloc[0]\n\n\n\n\nSuccess!\n\n\nConverting from a DataFrame to a GeoDataFrame\nWe can initialize the GeoDataFrame directly from a DataFrame but we need to specify two things:\n\nThe name of the “geometry” column\nThe CRS of the “geometry” column\n\n\n\n\n\n\n\nWatch out!\n\n\n\nThe CRS that you specify when you create the GeoDataFrame must match the CRS of the data. It is not the CRS that you wish the data was in. If you would like to convert to a different CRS, you’ll need to call the .to_crs() after creating your GeoDataFrame.\n\n\nIn this case, the geometry column was saved in Web Mercator EPSG=3857\n\n# Make specifying the name of the geometry column and CRS\ngdf = gpd.GeoDataFrame(df, geometry=\"geometry\", crs=\"EPSG:3857\")\n\n# Now plot\nfig, ax = plt.subplots(figsize=(5, 5))\nax = gdf.plot(ax=ax, facecolor=\"none\", edgecolor=\"black\")\nax.set_axis_off()\nax.set_aspect(\"equal\")\n\n\n\n\n\n\nLet’s convert back to 4326 and plot\nThe tilt should be a bit more obvious now…\n\nax = gdf.to_crs(epsg=4326).plot(facecolor=\"none\", edgecolor=\"black\")\n\nax.set_axis_off()\nax.set_aspect(\"equal\")\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\n\nI didn’t use plt.subplots() here to create a figure/axes – I let geopandas automatically make one\nI’ve chained together the to_crs() and .plot() functions in one line\nThe .plot() function returns the axes object that geopandas used to plot — this lets you customizes the axes after plotting\n\n\n\n\n\n\nSo, when should you use GeoPandas?\n\nFor exploratory data analysis and visualization, including in Jupyter notebooks\nPre-processing data to be fed into a desktop GIS program\nFor compact, readable, and reproducible code\nIf you’re comfortable with Pandas and/or R data frames.\n\n\n\nWhen it may not be the best tool:\n\nFor polished multilayer map creation — one option is to use a desktop GIS like QGIS.\nIf you need very high performance — geopandas can be slow compared to other GIS software."
  },
  {
    "objectID": "content/week-3/lecture-3B.html#part-2-spatial-relationships-and-joins",
    "href": "content/week-3/lecture-3B.html#part-2-spatial-relationships-and-joins",
    "title": "Week 3B: Intro to Geospatial Data Analysis with GeoPandas",
    "section": "Part 2: Spatial Relationships and Joins",
    "text": "Part 2: Spatial Relationships and Joins\nLet’s explore joins and merges between GeoDataFrames based on geospatial relationships…\n\n# Load some cities data from the data/ folder\ncities = gpd.read_file(\"./data/ne_110m_populated_places\")\n\n\ncities\n\n\n\n\n\n\n\n\nname\ngeometry\n\n\n\n\n0\nVatican City\nPOINT (12.45339 41.90328)\n\n\n1\nSan Marino\nPOINT (12.44177 43.93610)\n\n\n2\nVaduz\nPOINT (9.51667 47.13372)\n\n\n3\nLobamba\nPOINT (31.20000 -26.46667)\n\n\n4\nLuxembourg\nPOINT (6.13000 49.61166)\n\n\n...\n...\n...\n\n\n238\nRio de Janeiro\nPOINT (-43.22697 -22.92308)\n\n\n239\nSão Paulo\nPOINT (-46.62697 -23.55673)\n\n\n240\nSydney\nPOINT (151.18323 -33.91807)\n\n\n241\nSingapore\nPOINT (103.85387 1.29498)\n\n\n242\nHong Kong\nPOINT (114.18306 22.30693)\n\n\n\n\n243 rows × 2 columns\n\n\n\n\n\n\n(Image by Krauss, CC BY-SA 3.0)\nAll of these operations are available as functions of a GeoDataFrame.\n\nA quick example\nWhat country is New York in?\nSpoiler: the USA\n\n# Select the Point representing New York City\nnew_york = cities.loc[cities[\"name\"] == \"New York\"].geometry.squeeze()\n\nnew_york\n\n\n\n\n\ntype(new_york)\n\nshapely.geometry.point.Point\n\n\n\ncountries.contains(new_york)\n\n0      False\n1      False\n2      False\n3      False\n4      False\n       ...  \n172    False\n173    False\n174    False\n175    False\n176    False\nLength: 177, dtype: bool\n\n\n\n# Find the country that contains New York\ncountries.loc[countries.contains(new_york)]\n\n\n\n\n\n\n\n\niso_a3\nname\ncontinent\npop_est\ngdp_md_est\ngeometry\n\n\n\n\n168\nUSA\nUnited States of America\nNorth America\n326625791.0\n18560000.0\nMULTIPOLYGON (((-122.84000 49.00000, -120.0000...\n\n\n\n\n\n\n\n\n# Get the geometry column of the country containing NYC\nUSA = countries.loc[countries.contains(new_york)].squeeze().geometry\nUSA\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nThe .loc[] function can take the index selector as the first argument, and the name of a column as a second argument (separated by a comma)\n\n\n\ntype(USA)\n\nshapely.geometry.multipolygon.MultiPolygon\n\n\n\n# Is New York within the USA?\nnew_york.within(USA)\n\nTrue\n\n\n\nUSA\n\n\n\n\n\n\nReferences\nThe different functions for checking spatial relationships:\n\nequals\ncontains\ncrosses\ndisjoint\nintersects\noverlaps\ntouches\nwithin\ncovers\n\nSee the shapely documentation for an overview of these methods.\n\n\n1. The spatial join: sjoin()\nSPATIAL JOIN = merging attributes from two geometry layers based on their spatial relationship\nDifferent parts of this operations:\n\nThe GeoDataFrame to which we want add information\nThe GeoDataFrame that contains the information we want to add\nThe spatial relationship we want to use to match both datasets (intersects, contains, within)\nThe type of join: left or inner join\n\nIn this case, we want to join the cities dataframe, containing Point geometries, with the information of the countries dataframe, containing Polygon geometries.\nTo match cities with countries, we’ll use the within spatial relationship.\nThe geopandas.sjoin() function performs this operation:\n\njoined = gpd.sjoin(\n    cities,\n    countries,\n    predicate=\"within\",\n    how=\"left\",\n    lsuffix=\"city\",\n    rsuffix=\"country\",\n)\n\n\njoined.head()\n\n\n\n\n\n\n\n\nname_city\ngeometry\nindex_country\niso_a3\nname_country\ncontinent\npop_est\ngdp_md_est\n\n\n\n\n0\nVatican City\nPOINT (12.45339 41.90328)\n79.0\nITA\nItaly\nEurope\n62137802.0\n2221000.0\n\n\n1\nSan Marino\nPOINT (12.44177 43.93610)\n79.0\nITA\nItaly\nEurope\n62137802.0\n2221000.0\n\n\n2\nVaduz\nPOINT (9.51667 47.13372)\n9.0\nAUT\nAustria\nEurope\n8754413.0\n416600.0\n\n\n3\nLobamba\nPOINT (31.20000 -26.46667)\n152.0\nSWZ\nSwaziland\nAfrica\n1467152.0\n11060.0\n\n\n4\nLuxembourg\nPOINT (6.13000 49.61166)\n97.0\nLUX\nLuxembourg\nEurope\n594130.0\n58740.0\n\n\n\n\n\n\n\nAs we can see above, the attributes of the cities (left) and countries (right) have been merged based on whether the city is inside the country.\nLet’s select cities in Italy only:\n\ncities_in_italy = joined.loc[joined[\"name_country\"] == \"Italy\"]\ncities_in_italy\n\n\n\n\n\n\n\n\nname_city\ngeometry\nindex_country\niso_a3\nname_country\ncontinent\npop_est\ngdp_md_est\n\n\n\n\n0\nVatican City\nPOINT (12.45339 41.90328)\n79.0\nITA\nItaly\nEurope\n62137802.0\n2221000.0\n\n\n1\nSan Marino\nPOINT (12.44177 43.93610)\n79.0\nITA\nItaly\nEurope\n62137802.0\n2221000.0\n\n\n226\nRome\nPOINT (12.48131 41.89790)\n79.0\nITA\nItaly\nEurope\n62137802.0\n2221000.0\n\n\n\n\n\n\n\n\n# Extract Italy\nitaly = countries.loc[countries[\"name\"] == \"Italy\"]\n\n# Plot\nfig, ax = plt.subplots(figsize=(8, 8))\nitaly.plot(ax=ax, facecolor=\"none\", edgecolor=\"black\")\nax.set_axis_off()\nax.set_aspect(\"equal\")\n\n# Plot the first city in the joined data frame (Vatican City)\n# Use the same axes by passing in the ax=ax keyword\nax = cities_in_italy.plot(ax=ax, color=\"red\")\n\n\n\n\n\n\n2. Spatial overlay operation: overlay()\nWe can also perform the “join” operation on the geometries rather than just combining attributes.\nThe overlay() function combines geometries, e.g. by taking the intersection of the geometries.\nSelect all countries in Africa:\n\nafrica = countries.loc[countries[\"continent\"] == \"Africa\"]\n\n\nafrica.head()\n\n\n\n\n\n\n\n\niso_a3\nname\ncontinent\npop_est\ngdp_md_est\ngeometry\n\n\n\n\n1\nAGO\nAngola\nAfrica\n29310273.0\n189000.0\nMULTIPOLYGON (((23.90415 -11.72228, 24.07991 -...\n\n\n11\nBDI\nBurundi\nAfrica\n11466756.0\n7892.0\nPOLYGON ((29.34000 -4.49998, 29.27638 -3.29391...\n\n\n13\nBEN\nBenin\nAfrica\n11038805.0\n24310.0\nPOLYGON ((2.69170 6.25882, 1.86524 6.14216, 1....\n\n\n14\nBFA\nBurkina Faso\nAfrica\n20107509.0\n32990.0\nPOLYGON ((2.15447 11.94015, 1.93599 11.64115, ...\n\n\n25\nBWA\nBotswana\nAfrica\n2214858.0\n35900.0\nPOLYGON ((29.43219 -22.09131, 28.01724 -22.827...\n\n\n\n\n\n\n\nWhat is the CRS?\n\nafrica.crs\n\n&lt;Geographic 2D CRS: EPSG:4326&gt;\nName: WGS 84\nAxis Info [ellipsoidal]:\n- Lat[north]: Geodetic latitude (degree)\n- Lon[east]: Geodetic longitude (degree)\nArea of Use:\n- name: World.\n- bounds: (-180.0, -90.0, 180.0, 90.0)\nDatum: World Geodetic System 1984 ensemble\n- Ellipsoid: WGS 84\n- Prime Meridian: Greenwich\n\n\n\n# Let's transform to a CRS that uses meters\n# instead of degrees (EPSG=3857)\nafrica = africa.to_crs(epsg=3857)\n\nafrica.crs\n\n&lt;Projected CRS: EPSG:3857&gt;\nName: WGS 84 / Pseudo-Mercator\nAxis Info [cartesian]:\n- X[east]: Easting (metre)\n- Y[north]: Northing (metre)\nArea of Use:\n- name: World between 85.06°S and 85.06°N.\n- bounds: (-180.0, -85.06, 180.0, 85.06)\nCoordinate Operation:\n- name: Popular Visualisation Pseudo-Mercator\n- method: Popular Visualisation Pseudo Mercator\nDatum: World Geodetic System 1984 ensemble\n- Ellipsoid: WGS 84\n- Prime Meridian: Greenwich\n\n\nPlot it:\n\nfig, ax = plt.subplots(figsize=(8, 8))\n\nafrica.plot(ax=ax, facecolor=\"#b9f2b1\")\n\nax.set_axis_off()\nax.set_aspect(\"equal\")\n\n\n\n\n\n# Important CRS needs to match!\ncities_3857 = cities.to_crs(epsg=3857)\n\n\n# Create a copy of the GeoDataFrame\nbuffered_cities = cities_3857.copy()\n\n# Add a buffer region of 250 km around all cities\nbuffered_cities[\"geometry\"] = buffered_cities.buffer(250e3)\n\n\nPlot the difference of the two geometries\n\nfig, ax = plt.subplots(figsize=(8, 8))\n\n# Calculate the difference of the geometry sets\ndiff = gpd.overlay(\n    africa,\n    buffered_cities,\n    how=\"difference\",\n)\n\n# Plot\ndiff.plot(facecolor=\"#b9f2b1\", ax=ax)\nax.set_axis_off()\nax.set_aspect(\"equal\")\n\n/Users/nhand/mambaforge/envs/musa-550-fall-2023/lib/python3.10/site-packages/shapely/constructive.py:181: RuntimeWarning: invalid value encountered in buffer\n  return lib.buffer(\n/Users/nhand/mambaforge/envs/musa-550-fall-2023/lib/python3.10/site-packages/shapely/set_operations.py:77: RuntimeWarning: invalid value encountered in difference\n  return lib.difference(a, b, **kwargs)\n\n\n\n\n\n\n# Data attributes are the same as the first data frame (africa)\n# with an updated geometry column\ndiff.head()\n\n\n\n\n\n\n\n\niso_a3\nname\ncontinent\npop_est\ngdp_md_est\ngeometry\n\n\n\n\n0\nAGO\nAngola\nAfrica\n29310273.0\n189000.0\nMULTIPOLYGON (((2673464.087 -1449571.330, 2441...\n\n\n1\nBEN\nBenin\nAfrica\n11038805.0\n24310.0\nPOLYGON ((100138.898 1231805.081, 138422.412 1...\n\n\n2\nBFA\nBurkina Faso\nAfrica\n20107509.0\n32990.0\nMULTIPOLYGON (((100138.898 1231805.081, 26368....\n\n\n3\nBWA\nBotswana\nAfrica\n2214858.0\n35900.0\nPOLYGON ((3065120.801 -2659823.621, 3061281.52...\n\n\n4\nCAF\nCentral African Rep.\nAfrica\n5625118.0\n3206.0\nPOLYGON ((1792937.514 836963.765, 1813457.017 ...\n\n\n\n\n\n\n\n\n\nPlot the intersection of the two geometries\n\nfig, ax = plt.subplots(figsize=(8, 8))\n\n# The intersection of the geometry sets\nintersection = gpd.overlay(africa, buffered_cities, how=\"intersection\")\n\n# Plot\nintersection.plot(ax=ax, facecolor=\"#b9f2b1\")\nax.set_axis_off()\nax.set_aspect(\"equal\")\n\n/Users/nhand/mambaforge/envs/musa-550-fall-2023/lib/python3.10/site-packages/shapely/constructive.py:181: RuntimeWarning: invalid value encountered in buffer\n  return lib.buffer(\n/Users/nhand/mambaforge/envs/musa-550-fall-2023/lib/python3.10/site-packages/shapely/set_operations.py:133: RuntimeWarning: invalid value encountered in intersection\n  return lib.intersection(a, b, **kwargs)\n\n\n\n\n\n\n\n\nRecap: spatial operations\n\nSpatial join: merge attributes from one data frame to another based on the spatial relationship\nSpatial overlay: creating new geometries based on spatial operation between both data frames (and not combining attributes of both data frames)"
  },
  {
    "objectID": "content/week-3/lecture-3B.html#example-exploring-trash-related-311-tickets-by-neighborhood-in-2020",
    "href": "content/week-3/lecture-3B.html#example-exploring-trash-related-311-tickets-by-neighborhood-in-2020",
    "title": "Week 3B: Intro to Geospatial Data Analysis with GeoPandas",
    "section": "Example: Exploring trash-related 311 tickets by neighborhood in 2020",
    "text": "Example: Exploring trash-related 311 tickets by neighborhood in 2020\nLet’s test out our geospatial skills by exploring data for 311 requests in Philadelphia during the pandemic in 2020. We’ll get started by summarizing the data by month and then dive into examining trends by neighborhood.\n\n\n\n\n\n\nFind out more…\n\n\n\nTrash collection was a big concern in Philadelphia when the pandemic began. Check out this article in the Philadelphia Inquirer for more details!\n\n\nFirst, let’s load our data from the data/ folder. I downloaded the data from OpenDataPhilly for tickets from 2020 and trimmed to those requests that have been categorized as “Rubbish/Recyclable Material Collection”. These are tickets related to missed trash pickup by the City’s Streets Department.\n\n# Load the data from a CSV file into a pandas DataFrame\ntrash_requests_df = pd.read_csv(\n    \"data/trash_311_requests_2020.csv\",  # Use the file path relative to the current folder\n)\n\n\nprint(\"number of requests = \", len(trash_requests_df))\n\nnumber of requests =  47730\n\n\n\ntrash_requests_df.head()\n\n\n\n\n\n\n\n\nobjectid\nservice_request_id\nstatus\nstatus_notes\nservice_name\nservice_code\nagency_responsible\nservice_notice\nrequested_datetime\nupdated_datetime\nexpected_datetime\naddress\nzipcode\nmedia_url\nlat\nlon\n\n\n\n\n0\n8180042\n13269656\nClosed\nNaN\nRubbish/Recyclable Material Collection\nSR-ST03\nStreets Department\n2 Business Days\n2020-04-02 19:22:24\n2020-04-06 07:02:57\n2020-04-06 20:00:00\n624 FOULKROD ST\nNaN\nNaN\n40.034389\n-75.106518\n\n\n1\n8180043\n13266979\nClosed\nNaN\nRubbish/Recyclable Material Collection\nSR-ST03\nStreets Department\n2 Business Days\n2020-04-02 08:40:53\n2020-04-06 07:02:58\n2020-04-05 20:00:00\n1203 ELLSWORTH ST\nNaN\nNaN\n39.936164\n-75.163497\n\n\n2\n7744426\n13066443\nClosed\nNaN\nRubbish/Recyclable Material Collection\nSR-ST03\nStreets Department\n2 Business Days\n2020-01-02 19:17:55\n2020-01-04 05:46:06\n2020-01-06 19:00:00\n9054 WESLEYAN RD\nNaN\nNaN\n40.058737\n-75.018345\n\n\n3\n7744427\n13066540\nClosed\nNaN\nRubbish/Recyclable Material Collection\nSR-ST03\nStreets Department\n2 Business Days\n2020-01-03 07:01:46\n2020-01-04 05:46:07\n2020-01-06 19:00:00\n2784 WILLITS RD\nNaN\nNaN\n40.063658\n-75.022347\n\n\n4\n7801094\n13089345\nClosed\nNaN\nRubbish/Recyclable Material Collection\nSR-ST03\nStreets Department\n2 Business Days\n2020-01-15 13:22:14\n2020-01-16 14:03:29\n2020-01-16 19:00:00\n6137 LOCUST ST\nNaN\nNaN\n39.958186\n-75.244732\n\n\n\n\n\n\n\n\nFirst, convert to a GeoDataFrame\nRemove the requests missing lat/lon coordinates\n\ntrash_requests_df = trash_requests_df.dropna(subset=[\"lat\", \"lon\"])\n\nCreate Point objects for each lat and lon combination.\nWe can use the helper utility function: geopandas.points_from_xy()\n\ntrash_requests_df[\"geometry\"] = gpd.points_from_xy(\n    trash_requests_df[\"lon\"], trash_requests_df[\"lat\"]\n)\n\n\ntrash_requests_df[\"geometry\"].head()\n\n0    POINT (-75.10652 40.03439)\n1    POINT (-75.16350 39.93616)\n2    POINT (-75.01835 40.05874)\n3    POINT (-75.02235 40.06366)\n4    POINT (-75.24473 39.95819)\nName: geometry, dtype: geometry\n\n\nNow, let’s create our GeoDataFrame object.\n\n\n\n\n\n\nImportant\n\n\n\n\nDon’t forget to set the CRS manually!\nThe CRS you specify when creating a GeoDataFrame should tell geopandas what the coordinate system the input data is in.\nUsually you will be reading lat/lng coordinates, and will need to specify the crs as EPSG code 4326\nYou should specify the crs as a string using the syntax: ESPG:4326\n\n\n\nSince we’re only using a few EPSG codes in this course, you can usually tell what the CRS is by looking at the values in the Point() objects.\nPhiladelphia has a latitude of about 40 deg and longitude of about -75 deg.\nOur data must be in the usual lat/lng EPSG=4326!\n\nFinally, let’s create our GeoDataFrame:\n\ntrash_requests_gdf = gpd.GeoDataFrame(\n    trash_requests_df, geometry=\"geometry\", crs=\"EPSG:4326\"\n)\n\n\n\nLet’s plot the monthly trash requests\nLet’s add some new columns based on the “requested_datetime”. Right now, this column is a string, denoted by the dtype “object” in pandas language:\n\ntrash_requests_gdf[\"requested_datetime\"].head()\n\n0    2020-04-02 19:22:24\n1    2020-04-02 08:40:53\n2    2020-01-02 19:17:55\n3    2020-01-03 07:01:46\n4    2020-01-15 13:22:14\nName: requested_datetime, dtype: object\n\n\nWe can now use the pd.to_datetime() function to convert to a column of special Datetime objects, which have all sorts of useful functionality.\n\n# Convert the requested datetime to a column of Datetime objects\ntrash_requests_gdf[\"requested_datetime_dt\"] = pd.to_datetime(\n    trash_requests_gdf[\"requested_datetime\"]\n)\n\n\ntrash_requests_gdf[\"requested_datetime_dt\"].head()\n\n0   2020-04-02 19:22:24\n1   2020-04-02 08:40:53\n2   2020-01-02 19:17:55\n3   2020-01-03 07:01:46\n4   2020-01-15 13:22:14\nName: requested_datetime_dt, dtype: datetime64[ns]\n\n\n\nIt looks like it worked! We have a “datetime64[ns]” dtype for our new column now.\nNow that the column is a Datetime Series, it has a special “.dt” attribute. This attribute allows you to quickly extract out parts of the date, e.g., month, day, year, etc., as new columns.\nFor all of the possible options, see the API docs for pd.Series — take a look at all of the entries that start with pd.Series.dt.\n\n\n\n\n\n\nTip: The strftime() function\n\n\n\nFor converting datetime objects to strings in a certain format, we can use the “strftime” function (docs). This uses a special syntax to convert the date object to a string with a specific format.\nHelpful reference: Use this strftime guide to look up the syntax!\n\n\n\n# Use the .dt attribute to extract out the month integer (starting at 0)\ntrash_requests_gdf[\"month_int\"] = trash_requests_gdf[\"requested_datetime_dt\"].dt.month\n\n# Get the month name too — this is what %B means - (use strftime.org to see the codes!)\ntrash_requests_gdf[\"month\"] = trash_requests_gdf[\"requested_datetime_dt\"].dt.strftime(\"%B\")\n\n\ntrash_requests_gdf.head()\n\n\n\n\n\n\n\n\nobjectid\nservice_request_id\nstatus\nstatus_notes\nservice_name\nservice_code\nagency_responsible\nservice_notice\nrequested_datetime\nupdated_datetime\nexpected_datetime\naddress\nzipcode\nmedia_url\nlat\nlon\ngeometry\nrequested_datetime_dt\nmonth_int\nmonth\n\n\n\n\n0\n8180042\n13269656\nClosed\nNaN\nRubbish/Recyclable Material Collection\nSR-ST03\nStreets Department\n2 Business Days\n2020-04-02 19:22:24\n2020-04-06 07:02:57\n2020-04-06 20:00:00\n624 FOULKROD ST\nNaN\nNaN\n40.034389\n-75.106518\nPOINT (-75.10652 40.03439)\n2020-04-02 19:22:24\n4\nApril\n\n\n1\n8180043\n13266979\nClosed\nNaN\nRubbish/Recyclable Material Collection\nSR-ST03\nStreets Department\n2 Business Days\n2020-04-02 08:40:53\n2020-04-06 07:02:58\n2020-04-05 20:00:00\n1203 ELLSWORTH ST\nNaN\nNaN\n39.936164\n-75.163497\nPOINT (-75.16350 39.93616)\n2020-04-02 08:40:53\n4\nApril\n\n\n2\n7744426\n13066443\nClosed\nNaN\nRubbish/Recyclable Material Collection\nSR-ST03\nStreets Department\n2 Business Days\n2020-01-02 19:17:55\n2020-01-04 05:46:06\n2020-01-06 19:00:00\n9054 WESLEYAN RD\nNaN\nNaN\n40.058737\n-75.018345\nPOINT (-75.01835 40.05874)\n2020-01-02 19:17:55\n1\nJanuary\n\n\n3\n7744427\n13066540\nClosed\nNaN\nRubbish/Recyclable Material Collection\nSR-ST03\nStreets Department\n2 Business Days\n2020-01-03 07:01:46\n2020-01-04 05:46:07\n2020-01-06 19:00:00\n2784 WILLITS RD\nNaN\nNaN\n40.063658\n-75.022347\nPOINT (-75.02235 40.06366)\n2020-01-03 07:01:46\n1\nJanuary\n\n\n4\n7801094\n13089345\nClosed\nNaN\nRubbish/Recyclable Material Collection\nSR-ST03\nStreets Department\n2 Business Days\n2020-01-15 13:22:14\n2020-01-16 14:03:29\n2020-01-16 19:00:00\n6137 LOCUST ST\nNaN\nNaN\n39.958186\n-75.244732\nPOINT (-75.24473 39.95819)\n2020-01-15 13:22:14\n1\nJanuary\n\n\n\n\n\n\n\nNow, let’s group by the month integer and month name, and get the size of the groups using the built-in .size() function of the groupby object:\n\ntotals_by_month = trash_requests_gdf.groupby(\n    by=[\"month_int\", \"month\"], as_index=False\n).size()\n\ntotals_by_month\n\n\n\n\n\n\n\n\nmonth_int\nmonth\nsize\n\n\n\n\n0\n1\nJanuary\n2710\n\n\n1\n2\nFebruary\n2067\n\n\n2\n3\nMarch\n2460\n\n\n3\n4\nApril\n5778\n\n\n4\n5\nMay\n6572\n\n\n5\n6\nJune\n6485\n\n\n6\n7\nJuly\n9627\n\n\n7\n8\nAugust\n4466\n\n\n8\n9\nSeptember\n1704\n\n\n9\n10\nOctober\n1335\n\n\n10\n11\nNovember\n1729\n\n\n11\n12\nDecember\n2757\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nI’ve used the as_index=False keyword to the groupby() function. This will force the size() function to return a DataFrame instead of having the month column as the index of the resulted groupby operation.\nRemember, the columns you group by become the index of the aggregated DataFrame. I often like to have them as columns in the DataFrame instead — the as_index=False flag exists for exactly this problem.\n\n\n\n\nPlot a bar chart with seaborn\nFor making static bar charts with Python, seaborn’s sns.barplot() is usually the best option!\n\n# Initialize figure/axes\nfig, ax = plt.subplots(figsize=(12, 6))\n\n# Plot!\nsns.barplot(\n    x=\"month_int\",\n    y=\"size\",\n    data=totals_by_month,\n    color=\"#2176d2\",\n    ax=ax,\n)\n\nax.set_xticklabels(totals_by_month[\"month\"]);\n\n\n\n\n\n\nReference: Let’s improve the aesthetics via matplotlib\nThe trend is clear in the previous chart, but can we do a better job with the aesthetics? Yes!\nFor reference, here is a common way to clean up charts in matplotlib:\n\n# Initialize figure/axes\nfig, ax = plt.subplots(figsize=(12, 6))\n\n# Plot!\nsns.barplot(\n    x=\"month\",\n    y=\"size\",\n    data=totals_by_month,\n    color=\"#2176d2\",\n    ax=ax,\n    order=[\n        \"January\",\n        \"February\",\n        \"March\",\n        \"April\",\n        \"May\",\n        \"June\",\n        \"July\",\n        \"August\",\n        \"September\",\n        \"October\",\n        \"November\",\n        \"December\",\n    ],\n    zorder=999,  # Make sure the bar charts are on top of the grid\n)\n\n# Remove x/y axis labels\nax.set_xlabel(\"\")\nax.set_ylabel(\"\")\n\n# Set the yticks to go from 0 to 10,000 with 2,000 step\nax.set_yticks(np.arange(0, 1e4 + 1, 2e3))\n\n# Format the ytick labels to use a comma and no decimal places\nax.set_yticklabels([f\"{yval:,.0f}\" for yval in ax.get_yticks()])\n\n# Rotate the xticks\nplt.setp(ax.get_xticklabels(), rotation=60)\n\n# Add a grid backgrou d\nax.grid(True, axis=\"y\")\n\n# Remove the top and right axes lines\nax.spines[\"top\"].set_visible(False)\nax.spines[\"right\"].set_visible(False)\n\n# Add a title\nax.set_title(\n    \"Philadelphia's Trash-Related 311 Requests in 2020\", weight=\"bold\", fontsize=16\n);\n\n\n\n\nTakeaway: A huge spike in trash related tickets over the summer in 2020!\n\n\n\n\n\n\nTip\n\n\n\nThis example could come in handy for reference as you work on assignment 2, where you will need to create polished and clear visualizations using both matplotlib and seaborn."
  },
  {
    "objectID": "content/week-3/lecture-3B.html#thats-it",
    "href": "content/week-3/lecture-3B.html#thats-it",
    "title": "Week 3B: Intro to Geospatial Data Analysis with GeoPandas",
    "section": "That’s it!",
    "text": "That’s it!\n\nWe’ll continue our 311 example next week\nMore geopandas and geospatial data analysis coming up\nSee you on Monday next week!"
  },
  {
    "objectID": "content/week-2/lecture-2B.html",
    "href": "content/week-2/lecture-2B.html",
    "title": "Week 2B: Data Visualization Fundamentals",
    "section": "",
    "text": "Section 401\nSep 13, 2023"
  },
  {
    "objectID": "content/week-2/lecture-2B.html#housekeeping",
    "href": "content/week-2/lecture-2B.html#housekeeping",
    "title": "Week 2B: Data Visualization Fundamentals",
    "section": "Housekeeping",
    "text": "Housekeeping\n\nHW #1 due on Monday 9/25\nHW #2 posted on same day (9/25)\nLots of good questions on Ed Discussion so far!\n\nEmail me if you need access: https://edstem.org/us/courses/42616/discussion/\n\n\nReminder: Quick links to course materials and main sites (Ed Discussion, Canvas, Github) can be found in the upper right corner of the top navbar:\nhttps://musa-550-fall-2023.github.io/"
  },
  {
    "objectID": "content/week-2/lecture-2B.html#reminder-office-hours",
    "href": "content/week-2/lecture-2B.html#reminder-office-hours",
    "title": "Week 2B: Data Visualization Fundamentals",
    "section": "Reminder: Office Hours",
    "text": "Reminder: Office Hours\n\nNick:\nTeresa: Fridays 10:30AM-12:00PM\nRemote: sign-up for time slots on Canvas calendar"
  },
  {
    "objectID": "content/week-2/lecture-2B.html#week-2-recap",
    "href": "content/week-2/lecture-2B.html#week-2-recap",
    "title": "Week 2B: Data Visualization Fundamentals",
    "section": "Week #2 Recap",
    "text": "Week #2 Recap\n\nWeek #2 repository: https://github.com/MUSA-550-Fall-2023/week-2\nRecommended readings for the week listed here\n\n\nLast time\n\nA brief overview of data visualization\nPractical tips on color in data vizualization\n\n\n\nToday\n\nThe Python landscape:\n\nmatplotlib\npandas\n\nOne more static plotting function: seaborn\nAdding interaction to our plots!\nIntro to the Altair package\nLab: Reproducing a famous Wall Street Journal data visualization with Altair"
  },
  {
    "objectID": "content/week-2/lecture-2B.html#reminder-following-along-with-lectures",
    "href": "content/week-2/lecture-2B.html#reminder-following-along-with-lectures",
    "title": "Week 2B: Data Visualization Fundamentals",
    "section": "Reminder: following along with lectures",
    "text": "Reminder: following along with lectures\n\nEasiest option: Binder\n\n\n\nHarder option: downloading Github repository contents"
  },
  {
    "objectID": "content/week-2/lecture-2B.html#recommended-readings",
    "href": "content/week-2/lecture-2B.html#recommended-readings",
    "title": "Week 2B: Data Visualization Fundamentals",
    "section": "Recommended readings",
    "text": "Recommended readings\nBe sure to check out the recommended readings for the week:\n\nGuide to getting started with matplotlib\nPlotting & visualization chapter of Python for Data Analysis\n\nA good introduction to plotting with matplotlib, pandas, and seaborn\n\nAltair:\n\nIntroduction to Statistical Visualization\nInteractive charts with altair\nExploring Seattle Weather: A Case Study\n\nData viz design: Introductory slides of London’s design guidelines\n\n\n# The imports\nimport pandas as pd\nimport numpy as np\nfrom matplotlib import pyplot as plt\n\n# Make sure plots show up in JupyterLab!\n%matplotlib inline"
  },
  {
    "objectID": "content/week-2/lecture-2B.html#the-python-data-viz-landscape",
    "href": "content/week-2/lecture-2B.html#the-python-data-viz-landscape",
    "title": "Week 2B: Data Visualization Fundamentals",
    "section": "The Python data viz landscape",
    "text": "The Python data viz landscape\nSo many tools…so little time"
  },
  {
    "objectID": "content/week-2/lecture-2B.html#which-one-is-the-best",
    "href": "content/week-2/lecture-2B.html#which-one-is-the-best",
    "title": "Week 2B: Data Visualization Fundamentals",
    "section": "Which one is the best?",
    "text": "Which one is the best?"
  },
  {
    "objectID": "content/week-2/lecture-2B.html#there-isnt-one",
    "href": "content/week-2/lecture-2B.html#there-isnt-one",
    "title": "Week 2B: Data Visualization Fundamentals",
    "section": "There isn’t one…",
    "text": "There isn’t one…\nYou’ll use different packages to achieve different goals, and they each have different things they are good at.\nToday, we’ll focus on: - matplotlib: the classic - pandas: built on matplotlib, quick plotting built in to DataFrames - seaborn: built on matplotlib, adds functionality for fancy statistical plots - altair: interactive, relying on javascript plotting library Vega\nAnd next week for geospatial data: - holoviews/geoviews - matplotlib/cartopy - geopandas/geopy\nGoal: introduce you to the most common tools and enable you to know the best package for the job in the future"
  },
  {
    "objectID": "content/week-2/lecture-2B.html#the-classic-matplotlib",
    "href": "content/week-2/lecture-2B.html#the-classic-matplotlib",
    "title": "Week 2B: Data Visualization Fundamentals",
    "section": "The classic: matplotlib",
    "text": "The classic: matplotlib\n\nVery well tested, robust plotting library\nCan reproduce just about any plot (sometimes with a lot of effort)\n\n\n\nWith some downsides…\n\nImperative, overly verbose syntax\nLittle support for interactive/web graphics\n\n\n\nAvailable functionality\n\nDon’t need to memorize syntax for all of the plotting functions\nExample gallery: https://matplotlib.org/stable/gallery/index.html\nSee the cheat sheet available in this repository\n\n\n\nMost commonly used:\n\nSimple line plots: plot()\nMultiple axes per figure: subplot()\n2D image (RGB) data : imshow()\n2D arrays: pcolormesh()\nHistograms: hist()\nBar charts: bar()\nPie charts: pie()\nScatter plots: scatter()\n\n\n\nWorking with matplotlib\nWe’ll use the object-oriented interface to matplotlib - Create Figure and Axes objects - Add plots to the Axes object - Customize any and all aspects of the Figure or Axes objects\n\nPro: Matplotlib is extraordinarily general — you can do pretty much anything with it\nCon: There’s a steep learning curve, with a lot of matplotlib-specific terms to learn\n\n\n\nLearning the matplotlib language\n\nSource\n\n\nRecommended reading\n\nIntroduction to the object-oriented interface\nA good walk through on using matplotlib to customize plots\nListed in the README for this week’s repository too"
  },
  {
    "objectID": "content/week-2/lecture-2B.html#lets-load-some-data-to-plot",
    "href": "content/week-2/lecture-2B.html#lets-load-some-data-to-plot",
    "title": "Week 2B: Data Visualization Fundamentals",
    "section": "Let’s load some data to plot…",
    "text": "Let’s load some data to plot…\nWe’ll use the Palmer penguins data set, data collected for three species of penguins at Palmer station in Antartica\n\n\nArtwork by @allison_horst\n\n# Load data on Palmer penguins\npenguins = pd.read_csv(\"./data/penguins.csv\")\n\n\n# Show the first ten rows\npenguins.head(n=10)    \n\n\n\n\n\n\n\n\nspecies\nisland\nbill_length_mm\nbill_depth_mm\nflipper_length_mm\nbody_mass_g\nsex\nyear\n\n\n\n\n0\nAdelie\nTorgersen\n39.1\n18.7\n181.0\n3750.0\nmale\n2007\n\n\n1\nAdelie\nTorgersen\n39.5\n17.4\n186.0\n3800.0\nfemale\n2007\n\n\n2\nAdelie\nTorgersen\n40.3\n18.0\n195.0\n3250.0\nfemale\n2007\n\n\n3\nAdelie\nTorgersen\nNaN\nNaN\nNaN\nNaN\nNaN\n2007\n\n\n4\nAdelie\nTorgersen\n36.7\n19.3\n193.0\n3450.0\nfemale\n2007\n\n\n5\nAdelie\nTorgersen\n39.3\n20.6\n190.0\n3650.0\nmale\n2007\n\n\n6\nAdelie\nTorgersen\n38.9\n17.8\n181.0\n3625.0\nfemale\n2007\n\n\n7\nAdelie\nTorgersen\n39.2\n19.6\n195.0\n4675.0\nmale\n2007\n\n\n8\nAdelie\nTorgersen\n34.1\n18.1\n193.0\n3475.0\nNaN\n2007\n\n\n9\nAdelie\nTorgersen\n42.0\n20.2\n190.0\n4250.0\nNaN\n2007\n\n\n\n\n\n\n\nData is already in tidy format"
  },
  {
    "objectID": "content/week-2/lecture-2B.html#a-simple-visualization-3-different-ways",
    "href": "content/week-2/lecture-2B.html#a-simple-visualization-3-different-ways",
    "title": "Week 2B: Data Visualization Fundamentals",
    "section": "A simple visualization, 3 different ways",
    "text": "A simple visualization, 3 different ways\n\nI want to scatter flipper length vs. bill length, colored by the penguin species"
  },
  {
    "objectID": "content/week-2/lecture-2B.html#using-matplotlib",
    "href": "content/week-2/lecture-2B.html#using-matplotlib",
    "title": "Week 2B: Data Visualization Fundamentals",
    "section": "1. Using matplotlib",
    "text": "1. Using matplotlib\n\n# Setup a dict to hold colors for each species\ncolor_map = {\"Adelie\": \"#1f77b4\", \"Gentoo\": \"#ff7f0e\", \"Chinstrap\": \"#D62728\"}\n\n# Initialize the figure \"fig\" and axes \"ax\"\nfig, ax = plt.subplots(figsize=(10, 6))\n\n# Group the data frame by species and loop over each group\n# NOTE: \"group\" will be the dataframe holding the data for \"species\"\nfor species, group_df in penguins.groupby(\"species\"):\n    print(f\"Plotting {species}...\")\n\n    # Plot flipper length vs bill length for this group\n    # Note: we are adding this plot to the existing \"ax\" object\n    ax.scatter(\n        group_df[\"flipper_length_mm\"],\n        group_df[\"bill_length_mm\"],\n        marker=\"o\",\n        label=species,\n        color=color_map[species],\n        alpha=0.75,\n        zorder=10\n    )\n\n# Plotting is done...format the axes!\n\n## Add a legend to the axes\nax.legend(loc=\"best\")\n\n## Add x-axis and y-axis labels\nax.set_xlabel(\"Flipper Length (mm)\")\nax.set_ylabel(\"Bill Length (mm)\")\n\n## Add the grid of lines\nax.grid(True)\n\nPlotting Adelie...\nPlotting Chinstrap...\nPlotting Gentoo..."
  },
  {
    "objectID": "content/week-2/lecture-2B.html#how-about-in-pandas",
    "href": "content/week-2/lecture-2B.html#how-about-in-pandas",
    "title": "Week 2B: Data Visualization Fundamentals",
    "section": "2. How about in pandas?",
    "text": "2. How about in pandas?\nDataFrames have a built-in “plot” function that can make all of the basic type of matplotlib plots!\n\n# Tab complete on the plot attribute of a dataframe to see the available functions\n#penguins.plot.\n\nFirst, we need to add a new “color” column specifying the color to use for each species type.\nUse the pd.replace() function: it use a dict to replace values in a DataFrame column.\n\n# Calculate a list of colors\ncolor_map = {\"Adelie\": \"#1f77b4\", \"Gentoo\": \"#ff7f0e\", \"Chinstrap\": \"#D62728\"}\n\n# Map species name to color \npenguins[\"color\"] = penguins[\"species\"].replace(color_map)\n\npenguins.head()\n\n\n\n\n\n\n\n\nspecies\nisland\nbill_length_mm\nbill_depth_mm\nflipper_length_mm\nbody_mass_g\nsex\nyear\ncolor\n\n\n\n\n0\nAdelie\nTorgersen\n39.1\n18.7\n181.0\n3750.0\nmale\n2007\n#1f77b4\n\n\n1\nAdelie\nTorgersen\n39.5\n17.4\n186.0\n3800.0\nfemale\n2007\n#1f77b4\n\n\n2\nAdelie\nTorgersen\n40.3\n18.0\n195.0\n3250.0\nfemale\n2007\n#1f77b4\n\n\n3\nAdelie\nTorgersen\nNaN\nNaN\nNaN\nNaN\nNaN\n2007\n#1f77b4\n\n\n4\nAdelie\nTorgersen\n36.7\n19.3\n193.0\n3450.0\nfemale\n2007\n#1f77b4\n\n\n\n\n\n\n\nNow plot!\n\n# Same as before: Start by initializing the figure and axes\nfig, myAxes = plt.subplots(figsize=(10, 6))\n\n# Scatter plot two columns, colored by third\n# Use the built-in pandas plot.scatter function\npenguins.plot.scatter(\n    x=\"flipper_length_mm\",\n    y=\"bill_length_mm\",\n    c=\"color\",\n    alpha=0.75,\n    ax=myAxes, # IMPORTANT: Make sure to plot on the axes object we created already!\n    zorder=10\n)\n\n# Format the axes finally\nmyAxes.set_xlabel(\"Flipper Length (mm)\")\nmyAxes.set_ylabel(\"Bill Length (mm)\")\nmyAxes.grid(True)\n\n\n\n\nNote: no easy way to get legend added to the plot in this case…\n\nDisclaimer\n\nIn my experience, I have found the pandas plotting capabilities are good for quick and unpolished plots during the data exploration phase\nMost of the pandas plotting functions serve as shorcuts, removing some biolerplate matplotlib code\nIf I’m trying to make polished, clean data visualization, I’ll usually opt to use matplotlib from the beginning"
  },
  {
    "objectID": "content/week-2/lecture-2B.html#seaborn-statistical-data-visualization",
    "href": "content/week-2/lecture-2B.html#seaborn-statistical-data-visualization",
    "title": "Week 2B: Data Visualization Fundamentals",
    "section": "3. Seaborn: statistical data visualization",
    "text": "3. Seaborn: statistical data visualization\nSeaborn is designed to plot two columns colored by a third column…\n\n  \n\n\nimport seaborn as sns\n\n\n# Initialize the figure and axes\nfig, ax = plt.subplots(figsize=(10, 6))\n\n# style keywords as dict\ncolor_map = {\"Adelie\": \"#1f77b4\", \"Gentoo\": \"#ff7f0e\", \"Chinstrap\": \"#D62728\"}\nstyle = dict(palette=color_map, s=60, edgecolor=\"none\", alpha=0.75, zorder=10)\n\n# use the scatterplot() function\nsns.scatterplot(\n    x=\"flipper_length_mm\", # the x column\n    y=\"bill_length_mm\", # the y column\n    hue=\"species\", # the third dimension (color)\n    data=penguins, # pass in the data\n    ax=ax, # plot on the axes object we made\n    **style # add our style keywords\n)\n\n# Format with matplotlib commands\nax.set_xlabel(\"Flipper Length (mm)\" )\nax.set_ylabel(\"Bill Length (mm)\")\nax.grid(True)\nax.legend(loc='best')\n\n&lt;matplotlib.legend.Legend at 0x1509eeb60&gt;\n\n\n\n\n\n\n\n\n\n\n\nSide note: the **kwargs syntax\n\n\n\nThe ** syntax is the unpacking operator. It will unpack the dictionary and pass each keyword to the function.\nSo the previous code is the same as:\nsns.scatterplot(\n    x=\"flipper_length_mm\", \n    y=\"bill_length_mm\", \n    hue=\"species\",\n    data=penguins, \n    ax=ax, \n    palette=color_map, # defined in the style dict \n    edgecolor=\"none\", # defined in the style dict\n    alpha=0.5 # defined in the style dict\n)\nBut we can use **style as a shortcut!\n\n\n\nAn aside: the seaborn objects interface\nSeaborn recently introduced an “objects” interface, a completely new syntax that aims to be more declarative. It hides the interaction with matplotlib for the user and provides an more intuitive way to customize charts.\nYou’ll see a lot of similarities between the “objects” interface and the next library we will talk about: altair.\n\n\n\n\n\n\nNote\n\n\n\nSince it’s so new and not yet finalized, we won’t recommend using it during this course. However, we wanted to make sure you’re aware of it as it could be a good option in the future. More info can be found on seaborn’s documentation.\n\n\nAs a reference, our scatterplot example would look like this in the “objects” interface:\n\nimport seaborn.objects as so\n\n\n(\n    so.Plot(x=\"flipper_length_mm\", y=\"bill_length_mm\", color=\"species\", data=penguins)\n    .add(so.Dot())\n    .scale(color=color_map)\n    .layout(size=(10, 6))\n    .label(x=\"Flipper Length (mm)\", y=\"Bill Length (mm)\")\n    # Warning: this theme syntax is not yet finalized!\n    .theme({\"axes.facecolor\": \"w\", \"axes.edgecolor\": \"k\"})\n)\n\n\n\n\n\n\nMany more functions available\nIn general, seaborn is fantastic for visualizing relationships between variables in a more quantitative way\nDon’t memorize every function…\nI always look at the beautiful Example Gallery for ideas.\n\nHow about adding linear regression lines?\nUse lmplot()\n\nsns.lmplot(\n    x=\"flipper_length_mm\",\n    y=\"bill_length_mm\",\n    hue=\"species\",\n    data=penguins,\n    height=6,\n    aspect=1.5,\n    palette=color_map,\n    scatter_kws=dict(edgecolor=\"none\", alpha=0.5),\n);\n\n/Users/nhand/mambaforge/envs/musa-550-fall-2023/lib/python3.10/site-packages/seaborn/axisgrid.py:118: UserWarning: The figure layout has changed to tight\n  self._figure.tight_layout(*args, **kwargs)\n\n\n\n\n\n\n\nHow about the smoothed 2D distribution?\nUse jointplot()\n\nsns.jointplot(\n    x=\"flipper_length_mm\",\n    y=\"bill_length_mm\",\n    data=penguins,\n    height=8,\n    kind=\"kde\",\n    cmap=\"viridis\",\n);\n\n\n\n\n\n\nHow about comparing more than two variables at once?\nUse pairplot()\n\n# The variables to plot\nvariables = [\n    \"species\",\n    \"bill_length_mm\",\n    \"flipper_length_mm\",\n    \"body_mass_g\",\n    \"bill_depth_mm\",\n]\n\n# Set the seaborn style\nsns.set_context(\"notebook\", font_scale=1.5)\n\n# make the pair plot\nsns.pairplot(\n    penguins[variables].dropna(),\n    palette=color_map,\n    hue=\"species\",\n    plot_kws=dict(alpha=0.5, edgecolor=\"none\"),\n)\n\n/Users/nhand/mambaforge/envs/musa-550-fall-2023/lib/python3.10/site-packages/seaborn/axisgrid.py:118: UserWarning: The figure layout has changed to tight\n  self._figure.tight_layout(*args, **kwargs)\n\n\n\n\n\n\n\nLet’s explore the bill length differences across species and gender\nWe can use seaborn’s functionality for exploring categorical data sets: catplot()\n\nsns.catplot(x=\"species\", y=\"bill_length_mm\", hue=\"sex\", data=penguins);\n\n/Users/nhand/mambaforge/envs/musa-550-fall-2023/lib/python3.10/site-packages/seaborn/axisgrid.py:118: UserWarning: The figure layout has changed to tight\n  self._figure.tight_layout(*args, **kwargs)\n\n\n\n\n\n\n\n\nSeaborn tutorials broken down by data type\n\nTutorial landing page\n\nVisualizing statistical relationships\nCategorical data\nVisualizing the distribution of a data set\nVisualizing linear relationships\n\n\n\n\nColor palettes in seaborn\nGreat tutorial available in the seaborn documentation\n\n\n\n\n\n\nTip\n\n\n\nThe color_palette() function in seaborn is very useful. For me, it is the easiest way to get a list of hex strings for a specific color map.\n\n\n\n# This is a list of hex strings values for the colors\nviridis = sns.color_palette(\"viridis\", n_colors=7).as_hex()\n\n# Print it out to see the list\nprint(viridis)\n\n['#472d7b', '#3b528b', '#2c728e', '#21918c', '#28ae80', '#5ec962', '#addc30']\n\n\nCan we preview the colors in JupyterLab?\n\n# Option 1: Use the sns.palplot() function to make a matplotlib figure\nsns.palplot(viridis)\n\n\n\n\n\n# Option 2: If you output it from a cell, JupyterLab automatically renders it\nviridis\n\n\n\n\nYou can also create custom light, dark, or diverging color maps, based on the desired hues at either end of the color map.\n\nsns.diverging_palette(10, 220, sep=50, n=7)"
  },
  {
    "objectID": "content/week-2/lecture-2B.html#altair-declarative-data-viz-in-python",
    "href": "content/week-2/lecture-2B.html#altair-declarative-data-viz-in-python",
    "title": "Week 2B: Data Visualization Fundamentals",
    "section": "4. Altair: Declarative Data Viz in Python",
    "text": "4. Altair: Declarative Data Viz in Python\n\n\n\nDocumentation available at: https://altair-viz.github.io/\n\nThe altair import statement\n\nimport altair as alt  \n\n\n\nA visualization grammar\n\nSpecify what should be done\nDetails determined automatically\nCharts are really just visualization specifications and the data to make the plot\nRelies on vega and vega-lite\n\nImportant: focuses on tidy data — you’ll often find yourself running pd.melt() to get to tidy format\nLet’s try out our flipper length vs bill length example:\n\n# Step 1: Initialize the chart with the data\nchart = alt.Chart(penguins)\n\n# Step 2: Define what kind of marks to use\nchart = chart.mark_circle(size=60)\n\n# Step 3: Encode the visual channels\nchart = chart.encode(\n    x=\"flipper_length_mm\",\n    y=\"bill_length_mm\",\n    color=\"species\", \n    tooltip=[\"species\", \"flipper_length_mm\", \"bill_length_mm\", \"island\", \"sex\"],\n)\n\n# Optional: Make the chart interactive\nchart.interactive()\n\n\n\n\n\n\n\n\n\nAltair shorcuts\n\nThere are built-in objects to represent “x”, “y”, “color”, “tooltip”, etc..\nUsing the object syntax allows your to customize how different elements behave\n\nExample: previous code is the same as\nchart = chart.encode(\n    x=alt.X(\"flipper_length_mm\"),\n    y=alt.Y(\"bill_length_mm\"),\n    color=alt.Color(\"species\"),\n    tooltip=alt.Tooltip([\"species\", \"flipper_length_mm\", \"bill_length_mm\", \"island\", \"sex\"]),\n)\n\n\nChanging Altair chart axis limits\n\nBy default, Altair assumes the axis will start at 0\nTo center on the data automatically, we need to use a alt.Scale() object to specify the scale\n\n\n# initialize the chart with the data\nchart = alt.Chart(penguins)\n\n# define what kind of marks to use\nchart = chart.mark_circle(size=60)\n\n# encode the visual channels\nchart = chart.encode(\n    x=alt.X(\"flipper_length_mm\", scale=alt.Scale(zero=False)), # This part is new!\n    y=alt.Y(\"bill_length_mm\", scale=alt.Scale(zero=False)), # This part is new!\n    color=\"species\",\n    tooltip=[\"species\", \"flipper_length_mm\", \"bill_length_mm\", \"island\", \"sex\"],\n)\n\n# make the chart interactive\nchart.interactive()\n\n\n\n\n\n\n\n\n\nEncodings\n\nX: x-axis value\nY: y-axis value\nColor: color of the mark\nOpacity: transparency/opacity of the mark\nShape: shape of the mark\nSize: size of the mark\nRow: row within a grid of facet plots\nColumn: column within a grid of facet plots\n\nFor a complete list of these encodings, see the Encodings section of the documentation.\nAltair charts can be fully specified as JSON \\(\\rightarrow\\) easy to embed in HTML on websites!\n\n# Save the chart as a JSON string!\njson = chart.to_json()\n\n\n# Print out the first 1,000 characters\nprint(json[:1000])\n\n{\n  \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.8.0.json\",\n  \"config\": {\n    \"view\": {\n      \"continuousHeight\": 300,\n      \"continuousWidth\": 300\n    }\n  },\n  \"data\": {\n    \"name\": \"data-6e6be28484bfcb7bdf9764c3163fc5aa\"\n  },\n  \"datasets\": {\n    \"data-6e6be28484bfcb7bdf9764c3163fc5aa\": [\n      {\n        \"bill_depth_mm\": 18.7,\n        \"bill_length_mm\": 39.1,\n        \"body_mass_g\": 3750.0,\n        \"color\": \"#1f77b4\",\n        \"flipper_length_mm\": 181.0,\n        \"island\": \"Torgersen\",\n        \"sex\": \"male\",\n        \"species\": \"Adelie\",\n        \"year\": 2007\n      },\n      {\n        \"bill_depth_mm\": 17.4,\n        \"bill_length_mm\": 39.5,\n        \"body_mass_g\": 3800.0,\n        \"color\": \"#1f77b4\",\n        \"flipper_length_mm\": 186.0,\n        \"island\": \"Torgersen\",\n        \"sex\": \"female\",\n        \"species\": \"Adelie\",\n        \"year\": 2007\n      },\n      {\n        \"bill_depth_mm\": 18.0,\n        \"bill_length_mm\": 40.3,\n        \"body_mass_g\": 3250.0,\n        \"color\": \"#1f77b4\",\n        \"\n\n\n\n\nPublishing the visualization online\n\nchart.save(\"chart.html\")\n\n\n# Display IFrame in IPython\nfrom IPython.display import IFrame\nIFrame('chart.html', width=600, height=375)\n\n\n        \n        \n\n\n\n\nWatch out for large datasets!\nNote that the data is embedded inside the JSON representation of the chart. That means that if you pass a DataFrame to your chart with a lot of data, your browser might be overwhelmed and everything might freeze. To avoid this, altair will throw an error if your DataFrame has more than 5,000 rows.\nThere are a number of strategies outlined on the docs for dealing with larger datasets. One is to simply disable the max rows check — this could be a good idea if your dataset is just a bit larger than the limit.\nalt.data_transformers.disable_max_rows()\nAnother strategy is to use the more flexible “vegafusion” library, which has improved implementations of data transformations and allows charts with data up to 100,000 rows. You can enable this transformer with:\nalt.data_transformers.enable(\"vegafusion\")\n\n\n\n\n\n\nNote\n\n\n\nIf you get an error about missing packages, make sure you update your course environment to the latest version. See the instructions here.\n\n\n\n\nUsually, the function calls are chained together\nSurround your code with parentheses, and put each line of code on a new line\n\nchart = (\n    alt.Chart(penguins)\n    .mark_circle(size=60)\n    .encode(\n        x=alt.X(\"flipper_length_mm\", scale=alt.Scale(zero=False)),\n        y=alt.Y(\"bill_length_mm\", scale=alt.Scale(zero=False)),\n        color=\"species:N\",\n    )\n    .interactive()\n)\n\n\nchart\n\n\n\n\n\n\n\nNote that the interactive() call allows users to pan and zoom.\nAltair is able to automatically determine the type of the variable using built-in heuristics. Altair and Vega-Lite support four primitive data types:\n\n\n\n\nData Type\n\n\nCode\n\n\nDescription\n\n\n\n\nquantitative\n\n\nQ\n\n\nNumerical quantity (real-valued)\n\n\n\n\nnominal\n\n\nN\n\n\nName / Unordered categorical\n\n\n\n\nordinal\n\n\nO\n\n\nOrdered categorial\n\n\n\n\ntemporal\n\n\nT\n\n\nDate/time\n\n\n\n\nYou can set the data type of a column explicitly using a one letter code attached to the column name with a colon:\n\n\nFaceting\nEasily create multiple views of a dataset with faceting\n\n(\n    alt.Chart(penguins)\n    .mark_point()\n    .encode(\n        x=alt.X(\"flipper_length_mm:Q\", scale=alt.Scale(zero=False)),\n        y=alt.Y(\"bill_length_mm:Q\", scale=alt.Scale(zero=False)),\n        color=\"species:N\",\n    )\n    .properties(width=200, height=200)\n    .facet(column=\"species\")\n    .interactive()\n)\n\n\n\n\n\n\n\nNote: I’ve added the variable type identifiers (Q, N) to the previous example\nLots of features to create compound charts: repeated charts, faceted charts, vertical and horizontal stacking of subplots.\nSee the documentation for examples\n\n\nA grammar of interaction\nA relatively new addition to altair, vega, and vega-lite. This allows you to define what happens when users interact with your visualization.\n\n\n\n\n\n\nTip\n\n\n\nI highly recommend reading through the documentation section on interactive charts. Altair’s interaction language is very complex and you can do a lot, including adding widgets (e.g., sliders) and multiple kinds of selection windows.\n\n\n\n\nA faceted plot, now with interaction!\n\n# Create the selection box\nbrush = alt.selection_interval()\n\n\n(\n    alt.Chart(penguins)  # Create the chart\n    .mark_point()  # Use point markers\n    .encode(  # Encode\n        x=alt.X(\"flipper_length_mm\", scale=alt.Scale(zero=False)),  # X\n        y=alt.Y(\"bill_length_mm\", scale=alt.Scale(zero=False)),  # Y\n        # NEW: Use a conditional color based on brush\n        color=alt.condition(brush, \"species\", alt.value(\"lightgray\")),  # Color\n        tooltip=[\"species\", \"flipper_length_mm\", \"bill_length_mm\"],  # Tooltip\n    )\n    .add_params(brush)  # NEW: Add brush parameter\n    .properties(width=200, height=200)  # Set width/height\n    .facet(column=\"species\") # Facet\n)\n\n\n\n\n\n\n\n\n\nMore on conditions\nWe used the alt.condition() function to specify a conditional color for the markers. It takes three arguments:\n\nThe brush object determines if a data point is currently selected\nIf inside the brush, color the marker according to the “species” column\nIf outside the brush, use the literal hex color “lightgray”\n\n\n\nSelecting across multiple variables\nLet’s examine the relationship between flipper_length_mm, bill_length_mm, and body_mass_g\nWe’ll use a repeated chart that repeats variables across rows and columns.\nUse a conditional color again, based on a brush selection.\n\n# Setup the selection brush\nbrush = alt.selection_interval()\n\n# Setup the chart\n(\n    alt.Chart(penguins)\n    .mark_circle()\n    .encode(\n        x=alt.X(alt.repeat(\"column\"), type=\"quantitative\", scale=alt.Scale(zero=False)),\n        y=alt.Y(alt.repeat(\"row\"), type=\"quantitative\", scale=alt.Scale(zero=False)),\n        color=alt.condition(\n            brush, \"species:N\", alt.value(\"lightgray\")\n        ),  # conditional color\n    )\n    .properties(\n        width=200,\n        height=200,\n    )\n    .add_params(brush)\n    .repeat(  # repeat variables across rows and columns\n        row=[\"flipper_length_mm\", \"bill_length_mm\", \"body_mass_g\"],\n        column=[\"body_mass_g\", \"bill_length_mm\", \"flipper_length_mm\"],\n    )\n)\n\n\n\n\n\n\n\n\n\nMore exploratory visualization\nLet’s try out some more features of Altair…these examples are meant as reference for you to showcase some common features.\n\n\n\n\n\n\nReminder\n\n\n\nThe Example Gallery is a great place to learn the full functionality of Altair and includes a lot of great examples!\n\n\n\nExample 1: Color schemes\n\nScatter flipper length vs body mass for each species, colored by sex\n\n\n(\n    alt.Chart(penguins)\n    .mark_point()\n    .encode(\n        x=alt.X(\"flipper_length_mm\", scale=alt.Scale(zero=False)),\n        y=alt.Y(\"body_mass_g\", scale=alt.Scale(zero=False)),\n        color=alt.Color(\"sex:N\", scale=alt.Scale(scheme=\"set2\")),\n    )\n    .properties(width=400, height=150)\n    .facet(row=\"species\")\n)\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nI’ve specified the scale keyword to the alt.Color() object and passed a scheme value:\nscale=alt.Scale(scheme=\"set2\")\n\nThe scheme “set2” is a Color Brewer color. The available color schemes are very similar to those matplotlib. A list is available on the Vega documentation: https://vega.github.io/vega/docs/schemes/.\n\n\n\n\nExample 2: Histogram aggregations with count\n\nNext, plot the total number of penguins per species by the island they are found on.\n\n\n(\n    alt.Chart(penguins)\n    .mark_bar()\n    .encode(\n        # X should show the (normalized) count of each group\n        x=alt.X(\"*:Q\", aggregate=\"count\", stack=\"normalize\"), # The * is a placeholder here\n        y=\"island:N\",\n        color=\"species:N\",\n        tooltip=[\"island\", \"species\", \"count(*):Q\"],\n    )\n)\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nI like to think of altair aggregations in terms of the pandas groupby syntax. Under the hood, altair is going to group our data by the other encodings we specified, “island” and “species”. The dimension (“X”) that gets specified as the count aggregation is then the size of each of those groups.\n\n\n\n\nExample 3: The count() shorthand\n\nPlot a histogram of number of penguins by flipper length, grouped by species.\n\n\n(\n    alt.Chart(penguins)\n    .mark_bar()\n    .encode(\n        x=alt.X(\"flipper_length_mm\", bin=alt.Bin(maxbins=20)), # NEW: binning\n        y=\"count():Q\",  # Shorthand\n        color=\"species\",\n        tooltip=[\"species\", alt.Tooltip(\"count()\", title=\"Number of Penguins\")],\n    )\n    .properties(height=250)\n)\n\n\n\n\n\n\n\n\n\nExample 4: Binning data and using the mean aggregation\n\nFinally, let’s bin the data by body mass and plot the average flipper length per bin, colored by the species.\n\nIn this example, we use a “binning” transformation to bin the data along a certain encoding (“X” in this case), and then we will take the mean along the “Y” encoding.\n\n(\n    alt.Chart(penguins.dropna())\n    .mark_line()\n    .encode(\n        x=alt.X(\"body_mass_g:Q\", bin=alt.Bin(maxbins=10)), # Bin the data!\n        y=alt.Y(\n            \"mean(flipper_length_mm):Q\", scale=alt.Scale(zero=False) # Mean of flipper length\n        ),  \n        color=\"species:N\",\n        tooltip=[\"mean(flipper_length_mm):Q\", \"count():Q\"],\n    )\n    .properties(height=300, width=500)\n)\n\n\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nIn addition to mean() and count(), you can apply a number of different transformations to the data before plotting, including binning, arbitrary functions, and filters.\nSee the Data Transformations section of the user guide for more details.\n\n\n\n\n\nDashboards become easy to make…\n\n# Setup a brush selection\nbrush = alt.selection_interval()\n\n# The top scatterplot: flipper length vs bill length\npoints = (\n    alt.Chart()\n    .mark_point()\n    .encode(\n        x=alt.X(\"flipper_length_mm:Q\", scale=alt.Scale(zero=False)),\n        y=alt.Y(\"bill_length_mm:Q\", scale=alt.Scale(zero=False)),\n        color=alt.condition(brush, \"species:N\", alt.value(\"lightgray\")),\n    )\n    .properties(width=800)\n    .add_params(brush)\n)\n\n# The bottom bar plot\nbars = (\n    alt.Chart()\n    .mark_bar()\n    .encode(\n        x=\"count(species):Q\",\n        y=\"species:N\",\n        color=\"species:N\",\n    )\n    .transform_filter(\n        brush  # NEW: the filter transform uses the selection to filter the input data to this chart\n    )\n    .properties(width=800)\n)\n\n# Final chart is a vertical stack\nchart = alt.vconcat(points, bars, data=penguins)\n\n# Output the chart\nchart"
  },
  {
    "objectID": "content/week-2/lecture-2B.html#exercise-visualizing-the-impact-of-the-measles-vaccination",
    "href": "content/week-2/lecture-2B.html#exercise-visualizing-the-impact-of-the-measles-vaccination",
    "title": "Week 2B: Data Visualization Fundamentals",
    "section": "Exercise: Visualizing the impact of the measles vaccination",
    "text": "Exercise: Visualizing the impact of the measles vaccination\nLet’s reproduce this famous Wall Street Journal visualization showing measles incidence over time using altair.\nhttp://graphics.wsj.com/infectious-diseases-and-vaccines/\n\nStep 1: Load the data\n\n# Note we are using a relative path\npath = \"./data/measles_incidence.csv\"\n\n# Skip first two rows and convert \"-\" to NaN automatically\ndata = pd.read_csv(path, skiprows=2, na_values=\"-\")\n\ndata.head(n=10)\n\n\n\n\n\n\n\n\nYEAR\nWEEK\nALABAMA\nALASKA\nARIZONA\nARKANSAS\nCALIFORNIA\nCOLORADO\nCONNECTICUT\nDELAWARE\n...\nSOUTH DAKOTA\nTENNESSEE\nTEXAS\nUTAH\nVERMONT\nVIRGINIA\nWASHINGTON\nWEST VIRGINIA\nWISCONSIN\nWYOMING\n\n\n\n\n0\n1928\n1\n3.67\nNaN\n1.90\n4.11\n1.38\n8.38\n4.50\n8.58\n...\n5.69\n22.03\n1.18\n0.40\n0.28\nNaN\n14.83\n3.36\n1.54\n0.91\n\n\n1\n1928\n2\n6.25\nNaN\n6.40\n9.91\n1.80\n6.02\n9.00\n7.30\n...\n6.57\n16.96\n0.63\nNaN\n0.56\nNaN\n17.34\n4.19\n0.96\nNaN\n\n\n2\n1928\n3\n7.95\nNaN\n4.50\n11.15\n1.31\n2.86\n8.81\n15.88\n...\n2.04\n24.66\n0.62\n0.20\n1.12\nNaN\n15.67\n4.19\n4.79\n1.36\n\n\n3\n1928\n4\n12.58\nNaN\n1.90\n13.75\n1.87\n13.71\n10.40\n4.29\n...\n2.19\n18.86\n0.37\n0.20\n6.70\nNaN\n12.77\n4.66\n1.64\n3.64\n\n\n4\n1928\n5\n8.03\nNaN\n0.47\n20.79\n2.38\n5.13\n16.80\n5.58\n...\n3.94\n20.05\n1.57\n0.40\n6.70\nNaN\n18.83\n7.37\n2.91\n0.91\n\n\n5\n1928\n6\n7.27\nNaN\n6.40\n26.58\n2.79\n8.09\n17.76\n3.43\n...\n2.04\n12.54\n3.44\n0.60\n1.12\nNaN\n17.73\n5.01\n3.25\n10.45\n\n\n6\n1928\n7\n10.00\nNaN\n0.95\n32.76\n2.73\n3.94\n20.16\n4.29\n...\n3.07\n17.42\n2.08\n0.20\n1.68\nNaN\n17.92\n6.96\n1.61\n6.82\n\n\n7\n1928\n8\n13.83\nNaN\n1.66\n36.44\n2.83\n4.34\n22.70\n1.72\n...\n4.09\n18.06\n2.34\n0.60\n1.12\nNaN\n17.99\n7.02\n2.74\nNaN\n\n\n8\n1928\n9\n11.06\nNaN\n0.95\n33.89\n3.84\n2.96\n22.70\n3.43\n...\n5.69\n7.66\n11.82\n0.20\n5.87\nNaN\n23.40\n5.13\n3.04\n4.55\n\n\n9\n1928\n10\n13.98\nNaN\n4.03\n29.18\n5.31\n4.04\n23.91\n4.29\n...\n2.92\n12.88\n7.74\n0.79\n13.13\nNaN\n19.86\n11.62\n4.11\n50.00\n\n\n\n\n10 rows × 53 columns\n\n\n\nNote: the data is weekly and in wide format\n\n\nStep 2: Calculate the total incidents in a given year per state\n\n\n\n\n\n\nHints\n\n\n\n\nYou’ll want to take the sum over weeks to get the annual total — you can take advantage of the groupby() then sum() work flow.\nIt will be helpful if you drop the WEEK column — you don’t need that in the grouping operation. Take a look at the df.drop(columns=[]) function (docs).\n\n\n\n\n# Drop week first\nannual = data.drop(columns=['WEEK'])\n\n\ngrped = annual.groupby('YEAR')\n\nprint(grped)\n\n&lt;pandas.core.groupby.generic.DataFrameGroupBy object at 0x287a84f40&gt;\n\n\n\nannual = grped.sum()\n\nannual.head()\n\n\n\n\n\n\n\n\nALABAMA\nALASKA\nARIZONA\nARKANSAS\nCALIFORNIA\nCOLORADO\nCONNECTICUT\nDELAWARE\nDISTRICT OF COLUMBIA\nFLORIDA\n...\nSOUTH DAKOTA\nTENNESSEE\nTEXAS\nUTAH\nVERMONT\nVIRGINIA\nWASHINGTON\nWEST VIRGINIA\nWISCONSIN\nWYOMING\n\n\nYEAR\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n1928\n334.99\n0.0\n200.75\n481.77\n69.22\n206.98\n634.95\n256.02\n535.63\n119.58\n...\n160.16\n315.43\n97.35\n16.83\n334.80\n0.0\n344.82\n195.98\n124.61\n227.00\n\n\n1929\n111.93\n0.0\n54.88\n67.22\n72.80\n74.24\n614.82\n239.82\n94.20\n78.01\n...\n167.77\n33.04\n71.28\n68.90\n105.31\n0.0\n248.60\n380.14\n1016.54\n312.16\n\n\n1930\n157.00\n0.0\n466.31\n53.44\n760.24\n1132.76\n112.23\n109.25\n182.10\n356.59\n...\n346.31\n179.91\n73.12\n1044.79\n236.69\n0.0\n631.64\n157.70\n748.58\n341.55\n\n\n1931\n337.29\n0.0\n497.69\n45.91\n477.48\n453.27\n790.46\n1003.28\n832.99\n260.79\n...\n212.36\n134.79\n39.56\n29.72\n318.40\n0.0\n197.43\n291.38\n506.57\n60.69\n\n\n1932\n10.21\n0.0\n20.11\n5.33\n214.08\n222.90\n348.27\n15.98\n53.14\n13.63\n...\n96.37\n68.99\n76.58\n13.91\n1146.08\n53.4\n631.93\n599.65\n935.31\n242.10\n\n\n\n\n5 rows × 51 columns\n\n\n\n\n\nStep 3: Transform to tidy format\nYou can use melt() to get tidy data. You should have 3 columns: year, state, and total incidence.\n\nmeasles = annual.reset_index()\nmeasles.head()\n\n\n\n\n\n\n\n\nYEAR\nALABAMA\nALASKA\nARIZONA\nARKANSAS\nCALIFORNIA\nCOLORADO\nCONNECTICUT\nDELAWARE\nDISTRICT OF COLUMBIA\n...\nSOUTH DAKOTA\nTENNESSEE\nTEXAS\nUTAH\nVERMONT\nVIRGINIA\nWASHINGTON\nWEST VIRGINIA\nWISCONSIN\nWYOMING\n\n\n\n\n0\n1928\n334.99\n0.0\n200.75\n481.77\n69.22\n206.98\n634.95\n256.02\n535.63\n...\n160.16\n315.43\n97.35\n16.83\n334.80\n0.0\n344.82\n195.98\n124.61\n227.00\n\n\n1\n1929\n111.93\n0.0\n54.88\n67.22\n72.80\n74.24\n614.82\n239.82\n94.20\n...\n167.77\n33.04\n71.28\n68.90\n105.31\n0.0\n248.60\n380.14\n1016.54\n312.16\n\n\n2\n1930\n157.00\n0.0\n466.31\n53.44\n760.24\n1132.76\n112.23\n109.25\n182.10\n...\n346.31\n179.91\n73.12\n1044.79\n236.69\n0.0\n631.64\n157.70\n748.58\n341.55\n\n\n3\n1931\n337.29\n0.0\n497.69\n45.91\n477.48\n453.27\n790.46\n1003.28\n832.99\n...\n212.36\n134.79\n39.56\n29.72\n318.40\n0.0\n197.43\n291.38\n506.57\n60.69\n\n\n4\n1932\n10.21\n0.0\n20.11\n5.33\n214.08\n222.90\n348.27\n15.98\n53.14\n...\n96.37\n68.99\n76.58\n13.91\n1146.08\n53.4\n631.93\n599.65\n935.31\n242.10\n\n\n\n\n5 rows × 52 columns\n\n\n\n\nmeasles = measles.melt(id_vars='YEAR', value_name=\"incidence\", var_name=\"state\")\nmeasles.head(n=10)\n\n\n\n\n\n\n\n\nYEAR\nstate\nincidence\n\n\n\n\n0\n1928\nALABAMA\n334.99\n\n\n1\n1929\nALABAMA\n111.93\n\n\n2\n1930\nALABAMA\n157.00\n\n\n3\n1931\nALABAMA\n337.29\n\n\n4\n1932\nALABAMA\n10.21\n\n\n5\n1933\nALABAMA\n65.22\n\n\n6\n1934\nALABAMA\n590.27\n\n\n7\n1935\nALABAMA\n265.34\n\n\n8\n1936\nALABAMA\n20.78\n\n\n9\n1937\nALABAMA\n22.46\n\n\n\n\n\n\n\n\n\nStep 4: Make the plot\n\nTake a look at this heatmap example for an example of the syntax of Altair’s heatmap functionality.\nYou can use the mark_rect() function to encode the values as rectangles and then color them according to the average annual measles incidence per state.\n\nYou’ll want to take advantage of the custom color map defined below to best match the WSJ’s graphic.\n\n# Define a custom colormape using Hex codes & HTML color names\ncolormap = alt.Scale(\n    domain=[0, 100, 200, 300, 1000, 3000],\n    range=[\n        \"#F0F8FF\",\n        \"cornflowerblue\",\n        \"mediumseagreen\",\n        \"#FFEE00\",\n        \"darkorange\",\n        \"firebrick\",\n    ],\n    type=\"sqrt\",\n)\n\n\n# Heatmap of YEAR vs state, colored by incidence\nchart = (\n    alt.Chart(measles)\n    .mark_rect()\n    .encode(\n        x=alt.X(\"YEAR:O\", axis=alt.Axis(title=None, ticks=False)),\n        y=alt.Y(\"state:N\", axis=alt.Axis(title=None, ticks=False)),\n        color=alt.Color(\"incidence:Q\", sort=\"ascending\", scale=colormap),\n        tooltip=[\"state\", \"YEAR\", \"incidence\"],\n    )\n    .properties(width=700, height=500)\n)\n\nchart\n\n\n\n\n\n\n\n\n\nBonus: Add the vaccination line!\n\nthreshold = pd.DataFrame([{\"threshold\": 1963}])\nthreshold\n\n\n\n\n\n\n\n\nthreshold\n\n\n\n\n0\n1963\n\n\n\n\n\n\n\n\n# Vertical line for vaccination year\nrule = alt.Chart(threshold).mark_rule(strokeWidth=4).encode(x=\"threshold:O\")\n\n# Combine on top of each other with a plus sign\nchart + rule\n\n\n\n\n\n\n\nNote: I’ve used the “+” shorthand operator for layering two charts on top of each other — see the documentation on Layered Charts for more info!\n\n\nChallenges\n\nDo you agree with the visualization choices made by the WSJ?\n\nTry experimenting with different color scales to see if you can improve the heatmap\nSee the names of available color maps in Altair\n\nTry adding a second chart above the heatmap that shows a line chart of the annual average across all 50 states.\n\n\nChallenge #1: Exploring other color maps\nThe categorical color scale choice is properly not the best. It’s best to use a perceptually uniform color scale like viridis. See below:\n\n# Heatmap of YEAR vs state, colored by incidence\nchart = (\n    alt.Chart(measles)\n    .mark_rect()\n    .encode(\n        x=alt.X(\"YEAR:O\", axis=alt.Axis(title=None, ticks=False)),\n        y=alt.Y(\"state:N\", axis=alt.Axis(title=None, ticks=False)),\n        color=alt.Color(\n            \"incidence:Q\",\n            sort=\"ascending\",\n            scale=alt.Scale(scheme=\"viridis\"),\n            legend=None,\n        ),\n        tooltip=[\"state\", \"YEAR\", \"incidence\"],\n    )\n    .properties(width=700, height=450)\n)\n\n# Vertical line for vaccination year\nrule = (\n    alt.Chart(threshold).mark_rule(strokeWidth=4, color=\"white\").encode(x=\"threshold:O\")\n)\n\nchart + rule\n\n\n\n\n\n\n\n\n\nChallenge #2: Add the annual average chart on top\n\n# The heatmap\nchart = (\n    alt.Chart(measles)\n    .mark_rect()\n    .encode(\n        x=alt.X(\"YEAR:O\", axis=alt.Axis(title=None, ticks=False)),\n        y=alt.Y(\"state:N\", axis=alt.Axis(title=None, ticks=False)),\n        color=alt.Color(\n            \"incidence:Q\",\n            sort=\"ascending\",\n            scale=alt.Scale(scheme=\"viridis\"),\n            legend=None,\n        ),\n        tooltip=[\"state\", \"YEAR\", \"incidence\"],\n    )\n    .properties(width=700, height=400)\n)\n\n# The annual average\nannual_avg = (\n    alt.Chart(measles)\n    .mark_line()\n    .encode(\n        x=alt.X(\"YEAR:O\", axis=alt.Axis(title=None, ticks=False)),\n        y=alt.Y(\"mean(incidence):Q\", axis=alt.Axis(title=None, ticks=False)),\n    )\n    .properties(width=700, height=200)\n)\n\n# Add the vertical line \nrule = (\n    alt.Chart(threshold).mark_rule(strokeWidth=4, color=\"white\").encode(x=\"threshold:O\")\n)\n\n# Combine everything\nalt.vconcat(annual_avg, chart + rule)"
  },
  {
    "objectID": "content/week-2/lecture-2B.html#thats-it",
    "href": "content/week-2/lecture-2B.html#thats-it",
    "title": "Week 2B: Data Visualization Fundamentals",
    "section": "That’s it!",
    "text": "That’s it!\n\nHW #1 due on Monday Sept 25 before the end of the day\nMore interactive data viz and geospatial data next week!"
  },
  {
    "objectID": "content/week-2/index.html",
    "href": "content/week-2/index.html",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "",
    "text": "Content for lectures 2A and 2B\n\n\n        \n            \n             \n            View materials:\n             \n            MUSA-550-Fall-2023/week-2\n        \n\n        \n            \n             \n            HTML slides:\n             \n            \n                Lecture 2A\n            \n             \n            \n                Lecture 2B\n            \n        \n        \n\n        \n            \n             \n            Executable slides:\n             \n            \n                Lecture 2A\n            \n             \n            \n                Lecture 2B"
  },
  {
    "objectID": "content/week-2/index.html#topics",
    "href": "content/week-2/index.html#topics",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "Topics",
    "text": "Topics\n\nColor fundamentals and available tools\nIntroduction to matplotlib, seaborn, and altair"
  },
  {
    "objectID": "content/week-2/index.html#recommended-readings",
    "href": "content/week-2/index.html#recommended-readings",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "Recommended Readings",
    "text": "Recommended Readings\n\nGuide to getting started with matplotlib\nPlotting & visualization chapter of Python for Data Analysis\n\nA good introduction to plotting with matplotlib, pandas, and seaborn\n\nAltair:\n\nIntroduction to Statistical Visualization\nInteractive charts with altair\nExploring Seattle Weather: A Case Study\n\nData viz design: Introductory slides of London’s design guidelines"
  },
  {
    "objectID": "content/week-2/index.html#documentation",
    "href": "content/week-2/index.html#documentation",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "Documentation",
    "text": "Documentation\n\nmatplotlib\n\nExample plots\nPlot types\n\nseaborn docs homepage\nSeaborn tutorial\n\nVisualizing statistical relationships\nCategorical data\nVisualizing the distribution of a data set\nVisualizing linear relationships\n\naltair\n\nThe user guide\nExample gallery"
  },
  {
    "objectID": "content/week-2/index.html#other-readings",
    "href": "content/week-2/index.html#other-readings",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "Other Readings",
    "text": "Other Readings\n\nRemaking Historical Data Viz\nModern Statistical Atlas\nA 6-part blog series on W. E. B. Du Bois’ Data Visualization\nData Sketches\nThe 7 Kinds of Data Visualization People\nFast vs Slow Data Visualization\nWhat Charts Say\nColor Guide and Overview of Color Tools\nThe Importance of Grey\n2017 PyCon presentation by Jake VanderPlas\nInterview with John Burn-Murdoch about his COVID Data Viz"
  },
  {
    "objectID": "content/week-2/index.html#color-resources",
    "href": "content/week-2/index.html#color-resources",
    "title": "Week 2: Data Visualization Fundamentals",
    "section": "Color Resources",
    "text": "Color Resources\n\nColorBrewer 2.0\nViz Palette\nAdobe Color CC\nColorpicker for data\nChroma.js Color Scale Helper\nChoosing Color Maps in Matplotlib\nChoosing Color Palettes in seaborn\nNames of available color maps in Altair"
  },
  {
    "objectID": "content/week-5/lecture-5A.html",
    "href": "content/week-5/lecture-5A.html",
    "title": "Week 5AGeospatial Data: Street Networks",
    "section": "",
    "text": "Monday, October 2, 2023\nSection 401\n# The usual imports\nimport altair as alt\nimport geopandas as gpd\nimport numpy as np\nimport pandas as pd\nfrom matplotlib import pyplot as plt\n# Show all columns in dataframes\npd.options.display.max_columns = 999\n# Hide warnings due to issue in shapely package \n# See: https://github.com/shapely/shapely/issues/1345\nnp.seterr(invalid=\"ignore\");"
  },
  {
    "objectID": "content/week-5/lecture-5A.html#today-urban-street-networks-and-openstreetmap-osm",
    "href": "content/week-5/lecture-5A.html#today-urban-street-networks-and-openstreetmap-osm",
    "title": "Week 5AGeospatial Data: Street Networks",
    "section": "Today: Urban street networks and OpenStreetMap (OSM)",
    "text": "Today: Urban street networks and OpenStreetMap (OSM)\n\nTwo tools that make working with OSM data very easy\nWhat kind of questions can we answer?\n\nStreet orientations\nMapping event points to streets: car crashes\nMapping amenities\nNetwork-constrained distances: accessibility"
  },
  {
    "objectID": "content/week-5/lecture-5A.html#osm-what-is-it",
    "href": "content/week-5/lecture-5A.html#osm-what-is-it",
    "title": "Week 5AGeospatial Data: Street Networks",
    "section": "OSM: what is it?",
    "text": "OSM: what is it?\n\nCollaborative mapping\nA free editable map of the World\nSort of like Wikipedia for maps\n\nGreat source of data: street networks and a wealth of amenity information\nhttps://www.openstreetmap.org"
  },
  {
    "objectID": "content/week-5/lecture-5A.html#working-with-osm-data",
    "href": "content/week-5/lecture-5A.html#working-with-osm-data",
    "title": "Week 5AGeospatial Data: Street Networks",
    "section": "Working with OSM data",
    "text": "Working with OSM data\n\nRaw data is very messy\nTwo relatively new, amazing Python packages greatly simply the process\nRelated, but complementary features\n\nOSMnx: downloading and manipulating streets as networks\nPandana: networks focused on accessibility of amenities\n\n\nRelated: interactive web maps in Python"
  },
  {
    "objectID": "content/week-5/lecture-5A.html#part-1-osmnx",
    "href": "content/week-5/lecture-5A.html#part-1-osmnx",
    "title": "Week 5AGeospatial Data: Street Networks",
    "section": "Part 1: OSMnx",
    "text": "Part 1: OSMnx\nRelatively new package (just a few years old), but quickly becoming the go to package for working with street networks and OpenStreetMap data in Python.\nSeveral key features:\n\nDownloading political boundaries for cities, states, countries, etc\nDownloading street networks\nAnalyzing networks: routing, visualization, statistics\n\nGitHub\nIntroductory Blog Post\nJupyter Notebook Examples (Binder)\nDocumentation\n\n\n\nimport osmnx as ox\n\n\n1.1. Getting boundary shapefiles from OSM\nKey function: geocode_to_gdf() (docs)\nWe can get the boundary for anything identified as a “place” by OSM.\nImportant: Be careful to pass the right place name that OSM needs\n\nphilly = ox.geocode_to_gdf(\"Philadelphia, PA\")\n\nphilly.head()\n\n\n\n\n\n\n\n\ngeometry\nbbox_north\nbbox_south\nbbox_east\nbbox_west\nplace_id\nosm_type\nosm_id\nlat\nlon\nclass\ntype\nplace_rank\nimportance\naddresstype\nname\ndisplay_name\n\n\n\n\n0\nPOLYGON ((-75.28030 39.97500, -75.28022 39.974...\n40.137959\n39.867005\n-74.955831\n-75.280298\n14128726\nrelation\n188022\n39.952724\n-75.163526\nboundary\nadministrative\n16\n0.713797\ncity\nPhiladelphia\nPhiladelphia, Pennsylvania, United States\n\n\n\n\n\n\n\n\nphilly.crs\n\n&lt;Geographic 2D CRS: EPSG:4326&gt;\nName: WGS 84\nAxis Info [ellipsoidal]:\n- Lat[north]: Geodetic latitude (degree)\n- Lon[east]: Geodetic longitude (degree)\nArea of Use:\n- name: World.\n- bounds: (-180.0, -90.0, 180.0, 90.0)\nDatum: World Geodetic System 1984 ensemble\n- Ellipsoid: WGS 84\n- Prime Meridian: Greenwich\n\n\nWe can plot it just like any other GeoDataFrame\n\n# Project it to Web Mercator first and plot\nax = philly.to_crs(epsg=3857).plot(facecolor=\"none\", edgecolor=\"black\")\nax.set_axis_off()\n\n\n\n\n\n\n1.2 Projecting with OSMnx\nKey function: project_gdf() (docs)\nAutomatically projects to the Universal Transverse Mercator (UTM) CRS for the UTM zone that the centroid of the polygon lies in\nA good, general projection that works for most latitudes except very northern locations.\n\nax = ox.project_gdf(philly).plot(fc=\"lightblue\", ec=\"gray\")\nax.set_axis_off()\n\n\n\n\nSome more examples:\n\n# Some examples\nplace1 = ox.geocode_to_gdf(\"Manhattan, New York City, New York, USA\")\nplace2 = ox.geocode_to_gdf(\"Miami-Dade County, Florida\")\nplace3 = ox.geocode_to_gdf(\"Florida, USA\")\nplace4 = ox.geocode_to_gdf(\"Spain\")\n\n\n# Manhattan\nax = ox.project_gdf(place1).plot(fc=\"lightblue\", ec=\"gray\")\nax.set_axis_off()\n\n\n\n\n\n# Miami-Dade County\nax = ox.project_gdf(place2).plot(fc=\"lightblue\", ec=\"gray\")\nax.set_axis_off()\n\n\n\n\n\n# Florida\nax = ox.project_gdf(place3).plot(fc=\"lightblue\", ec=\"gray\")\nax.set_axis_off()\n\n\n\n\n\n# Spain\nax = ox.project_gdf(place4).plot(fc=\"lightblue\", ec=\"gray\")\nax.set_axis_off()\n\n\n\n\n\n\n1.3 Downloading OSM features\nKey functions: features_from_*\n\nfeatures_from_place() (docs)\n\nDownload features within an OSM place boundary\n\nfeatures_from_address() (docs)\n\nDownload features within a certain distance of an address\n\nfeatures_from_bbox() (docs)\n\nDownload features within a N, S, E, W bounding box\n\nfeatures_from_point() (docs)\n\nDownload features within a certain distance of a specified point\n\nfeatures_from_polygon() (docs)\n\nDownload features within a polygon object\n\n\n\n\n\n\n\n\nAbout OSM features\n\n\n\nImportant reference: https://wiki.openstreetmap.org/wiki/Map_Features\n\nOSM uses a tagging system to categorize different map features\nThe main feature categories are available on the OSM Wikipedia\n\nExamples: ‘amenity’, ‘building’, ‘landuse’, ‘highway’\n\nThere are specific sub-categories for each feature type too:\n\nAmenity examples: ‘bar’, ‘college’, ‘library’\n\n\nIn the language of OSM, the “key” is the main feature category (e.g., amenity) and the “value” is the sub-category type (e.g., “bar”)\n\n\nosmnx mirrors the key/value syntax of OSM. Use a dict to specify the features you want:\n\n# Get all amenities in Philadelphia\namenities = ox.features_from_place(\"Philadelphia, PA\", tags={\"amenity\": True})\n\n\nlen(amenities)\n\n10647\n\n\n\namenities.head()\n\n\n\n\n\n\n\n\n\ngeometry\namenity\ncreated_by\ncuisine\nname\nbrand\nbrand:wikidata\nbrand:wikipedia\noperator\noperator:wikidata\noperator:wikipedia\nshort_name\naddr:city\naddr:housenumber\naddr:postcode\naddr:state\naddr:street\ncontact:website\nofficial_name\nopening_hours\nphone\ntakeaway\nsource\nwheelchair\nhealthcare\ninternet_access\nurl\ncontact:phone\ndescription\nemail\nwebsite\nwikidata\ninternet_access:ssid\nbrewery\nalt_name\nele\ngnis:county_id\ngnis:created\ngnis:feature_id\ngnis:state_id\nreligion\nhistoric:amenity\nold_name\ndenomination\nbuilding\ncomment\noperator:type\nschool\nwikipedia\ngnis:edited\ncheck_date\ncraft\nmicrobrewery\nrestaurant\ncontact:facebook\nname:en\nsocial_facility\noperator:short\nemergency\nhealthcare:speciality\nbicycle_parking\ncapacity\ncovered\nbarrier\natm\nattraction\ngnis:county_name\ngnis:import_uuid\ngnis:reviewed\ninternet_access:fee\naddr:county\naddr:country\noutdoor_seating\nartist_name\nartwork_subject\nartwork_type\nimage\nstart_date\nstatue\nsubject:wikidata\ntourism\nreservation\nwebsite:menu\nair_conditioning\nshop\ntraining\ntoilets:wheelchair\naddr:housename\nbottle\nparking\ndesignation\nnot:brand:wikidata\ndispensing\ndrive_through\nscreen\ndelivery\ndiet:vegan\npayment:cash\npayment:coins\nindoor_seating\nsmoking\narchitect\ncontact:instagram\ncollection_times\nref\nmale\nfemale\nfee\ndiet:vegetarian\nfax\nbar\nsource:pkey\nfixme\naccess\nchanging_table\ntoilets\nname:zh\naddr:full\nentrance\nlevel\nname:he\nfuel:biodiesel\nfuel:biogas\nfuel:cng\nfuel:diesel\nfuel:e10\nfuel:e85\nfuel:electricity\nsport\nwifi\ncollection_times:signed\nref:signed\ndrive_in\ncheck_date:collection_times\nfood\ntoilets:access\npayment:bitcoin\ndiet:halal\ndisused:amenity\nbranch\nself_service\ndiet:meat\nnote\nleisure\ndrink:club-mate\ncar_wash\ncompressed_air\ntoilets:disposal\nunisex\ncontact:twitter\ncurrency:XBT\ndiet:pescetarian\nlgbtq\npayment:credit_cards\npayment:debit_cards\npark_ride\nsupervised\ncheck_date:opening_hours\nopening_hours:signed\nlanduse\nflickr\ncontact:email\nfacebook\ninstagram\nservice_times\ntwitter\nyoutube\nsource:cuisine\nsocial_facility:for\ndisused:shop\ntoilets:position\nmaxheight\nwheelchair:description\nwheelchair:description:en\nlayer\nservice:bicycle:chain_tool\nservice:bicycle:pump\ncurrency:USD\ndrink:coca-cola\ndrink:coke\ndrink:cola\ndrink:cola_zero\ndrink:soda\ndrink:water\nvending\nopening_hours:kitchen\nbicycle_rental\nnetwork\nnetwork:wikidata\nnetwork:wikipedia\namenity_1\nrecycling:computers\nrecycling:tv_monitor\nrecycling_type\nferry\npublic_transport\ntoilets:unisex\nkitchen_hours\nanimal\naddr:unit\nwas:amenity\nwas:cuisine\nwas:delivery\nwas:drive_through\nwas:name\nwas:outdoor_seating\nwas:takeaway\ndirection\nbackrest\nservice:bicycle:repair\npayment:cards\nname:es\ndiet:kosher\ntheatre:genre\nservice:bicycle:tools\nbeds\npayment:visa\ncash_in\ncurrency:BCH\ncurrency:LTC\noffice\ndate\ndisplay\nfaces\nstudio\nname:ca\nbench\nlit\nshelter_type\naddr:city:ar\nname:ar\ncolour\nmaterial\nfountain\naddr:block_number\nseats\nbrand:type\nindoor\nparcel_locker:type\nparcel_mail_in\nparcel_pickup\nhistoric\ntype\npayment:american_express\npayment:discover_card\npayment:mastercard\ndog\nrecycling:beverage_cartons\nrecycling:cans\nrecycling:glass_bottles\nrecycling:paper\nrecycling:plastic\nrecycling:plastic_bottles\nrecycling:plastic_packaging\nportable\ntoilets:handwashing\nopening_hours:drive_through\ninternet_access:description\nname:vi\npayment:cheque\nmin_age\nbus\ntram\nwaste\npayment:cash_app\npayment:venmo\nseating\nstreet_vendor\ntheatre:type\nsmoothness\nsurface\nbrand:en\nbrand:zh\nlocation\ndrinking_water\nheight\nfridge\nwikimedia_commons\nopening_hours:covid19\ndiet:healthy\nabandoned:amenity\nmemorial\npayment:lightning\npayment:lightning_contactless\npayment:onchain\ncountry\npayment:contactless\ndelivery:partner\ninternet_access:password\npost_box:type\ndescription:en\ninscription\ncheck_date:currency:XBT\npublic_bookcase:type\nurgent_care\ndiet:gluten_free\ncommunity_centre:for\ncommunity_centre\nanimal_shelter\nname:etymology\nname:etymology:wikidata\nmobile\nnodes\nbuilding:levels\ncapacity:disabled\nbuilding:floor\nref:nrhp\nvehicle\nnatural\nwater\nbuilding:use\nship:type\nroof:shape\nautomated\nbrand:website\nbuilding:material\nsource:name\nroof:levels\nroof:material\naccess:conditional\nrite\nheritage\nheritage:operator\narchitect:wikidata\nbuilding:levels:underground\nheritage:website\nnrhp:criteria\nnrhp:inscription_date\nbuilding:colour\narea\ncheck_date:compressed_air\ngnis:fcode\nnonsquare\nname:ja\nname:zn\nroof:orientation\nhappy_hours\nbuilding:part\nelevation\nhistoric:name\ngrades\nmaxstay\nmonastery:type\nlibrary\ntheme\nowner\nloc_name\ndrink\nbin\npolice\nschool:type\nold_name1\nold_name2\nfuel:octane_95\nfuel:gasoline\nfuel:octane_87\nhealthcare:counselling\norientation\nparking:orientation\nprotection_title\nsource_ref\nparking_space\nways\nhealthcare:for\n\n\nelement_type\nosmid\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nnode\n109811385\nPOINT (-75.19487 40.05846)\nbench\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n274215467\nPOINT (-75.19492 39.95935)\nfast_food\nPotlatch 0.9c\npizza\nPowelton Pizza\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n274216093\nPOINT (-75.19125 39.95764)\natm\nNaN\nNaN\nCitibank\nCitibank\nQ857063\nen:Citibank\nCitibank\nQ857063\nen:Citibank\nCiti\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n274217596\nPOINT (-75.19229 39.95301)\ncafe\nNaN\ncoffee_shop\nStarbucks\nStarbucks\nQ37158\nen:Starbucks\nNaN\nNaN\nNaN\nNaN\nPhiladelphia\n3401\n19104\nPA\nWalnut Street\nhttps://www.starbucks.com/store-locator/store/...\nStarbucks Coffee\nMo-Fr 05:30-24:00; Sa,Su 06:00-24:00\n215-387-1914\nyes\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n313440966\nPOINT (-75.16694 39.96394)\ncar_sharing\nPotlatch 0.10f\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nlocal_knowledge\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n\n\n\n\n\n\n# Get all bars in philadelphia\nbars = ox.features_from_place(\"Philadelphia, PA\", tags={\"amenity\": \"bar\"})\n\n\nlen(bars)\n\n165\n\n\n\nbars.head()\n\n\n\n\n\n\n\n\n\naddr:city\naddr:housenumber\naddr:postcode\naddr:state\naddr:street\namenity\nbrewery\ncraft\ngnis:county_id\nmicrobrewery\nname\noperator\nrestaurant\nwebsite\nwikidata\nwikipedia\ngeometry\ncontact:phone\ncontact:website\ndescription\nopening_hours\noutdoor_seating\ncheck_date\ncontact:facebook\nphone\nair_conditioning\nsmoking\ntoilets:wheelchair\nwheelchair\nindoor_seating\ndesignation\naddr:housename\nsource\nwifi\nleisure\nsport\ncuisine\ndiet:vegan\ndiet:vegetarian\nfood\ninternet_access\nbrand\nbrand:wikidata\nwheelchair:description\nfixme\nname:en\nname:es\naddr:unit\ncheck_date:opening_hours\nemail\nmin_age\nalt_name\nlevel\nheight\nopening_hours:signed\nnodes\natm\nbuilding\nbuilding:levels\nnonsquare\nheritage\n\n\nelement_type\nosmid\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nnode\n357303425\nPhiladelphia\n500\n19123\nPA\nSpring Garden Street\nbar\nyes\nbrewery\n101\nyes\nYards Brewing Company\nYards Brewing Company\nyes\nhttps://yardsbrewing.com/\nQ16903914\nen:Yards Brewing Company\nPOINT (-75.14712 39.96067)\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n655425272\nNaN\nNaN\nNaN\nNaN\nNaN\nbar\nNaN\nNaN\nNaN\nNaN\nDrinkers West\nNaN\nNaN\nNaN\nNaN\nNaN\nPOINT (-75.20020 39.95521)\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n1033935437\nNaN\n2101\nNaN\nNaN\nChestnut Street\nbar\nNaN\nNaN\nNaN\nNaN\nMix Bar & Grill\nNaN\nNaN\nNaN\nNaN\nNaN\nPOINT (-75.17552 39.95242)\n+1 215-568-3355\nhttps://mixbarandgrillphilly.com/location/mix-...\nThe bar is open until whenever the rush ends.\nMo-We,Su 11:00-22:00; Th-Sa 11:00-23:00\nyes\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n1167079387\nNaN\n401\nNaN\nNaN\nSouth Street\nbar\nNaN\nNaN\nNaN\nNaN\nMilkBoy South Street\nNaN\nNaN\nNaN\nNaN\nNaN\nPOINT (-75.14925 39.94170)\n+1 215-925-6455\nhttps://www.milkboy.tv/southstreet\nNaN\nMo-Tu,Su 11:00-24:00; We-Sa 11:00-25:00\nNaN\n2023-04-12\nhttps://www.facebook.com/milkboysouthstreet\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n1204761128\nNaN\nNaN\nNaN\nNaN\nNaN\nbar\nNaN\nNaN\nNaN\nNaN\nVikings High School Club\nNaN\nNaN\nNaN\nNaN\nNaN\nPOINT (-75.16363 39.92685)\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n\n\n\n\n\n\n# Get bar, pub, and restaurant features in Philadelphia\nfood_and_drink = ox.features_from_place(\n    \"Philadelphia, PA\", tags={\"amenity\": [\"pub\", \"bar\", \"restaurant\"]}\n)\n\n\nlen(food_and_drink)\n\n1075\n\n\n\nfood_and_drink.head()\n\n\n\n\n\n\n\n\n\namenity\ncreated_by\nname\nsource\nwheelchair\ngeometry\naddr:city\naddr:housenumber\naddr:postcode\naddr:state\naddr:street\nbrewery\nopening_hours\ncraft\ngnis:county_id\nmicrobrewery\noperator\nrestaurant\nwebsite\nwikidata\nwikipedia\ncuisine\noutdoor_seating\nbrand\nbrand:wikidata\ncheck_date\ncontact:facebook\ncontact:website\nemail\nphone\nreservation\nwebsite:menu\ndescription\ndesignation\nnot:brand:wikidata\ncontact:phone\ncontact:instagram\ninternet_access\ndiet:vegan\ndiet:vegetarian\nfax\nair_conditioning\nsmoking\nbar\ntakeaway\naddr:housename\ntoilets:wheelchair\naddr:country\nalt_name\nshort_name\nname:zh\nlevel\nindoor_seating\nsport\nwifi\ndelivery\ndrive_in\npayment:cash\nfood\npayment:bitcoin\ndiet:halal\ndisused:amenity\nbrand:wikipedia\nofficial_name\ndiet:meat\ncapacity\nnote\nleisure\ncontact:twitter\ncurrency:XBT\nfixme\ndiet:pescetarian\nlgbtq\npayment:credit_cards\npayment:debit_cards\nbranch\nsource:cuisine\nwheelchair:description\nfacebook\nopening_hours:kitchen\nref\namenity_1\nkitchen_hours\nname:en\nname:es\naddr:unit\ncheck_date:opening_hours\nname:ca\ninternet_access:fee\ntoilets\npayment:american_express\npayment:discover_card\npayment:mastercard\npayment:visa\nstart_date\ninternet_access:description\ninternet_access:ssid\nmin_age\ndiet:healthy\ndrive_through\ncountry\ndelivery:partner\ntoilets:access\nheight\npayment:contactless\nopening_hours:signed\ndiet:gluten_free\nnodes\nbuilding\nhistoric\npayment:cards\nship:type\natm\nbuilding:levels\narea\nimage\nroof:levels\nname:ja\nname:zn\nhappy_hours\nnonsquare\ntheme\nheritage\nlayer\n\n\nelement_type\nosmid\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nnode\n333786044\nrestaurant\nPotlatch 0.10f\nSam's Morning Glory\nknowledge\nlimited\nPOINT (-75.15893 39.94086)\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n343293806\npub\nNaN\nProhibition Taproom\nsurvey\nNaN\nPOINT (-75.15946 39.96073)\nPhiladelphia\n501\n19123\nPA\nNorth 13th Street\nyes\nMo-Su 11:00-02:00\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n357303425\nbar\nNaN\nYards Brewing Company\nNaN\nNaN\nPOINT (-75.14712 39.96067)\nPhiladelphia\n500\n19123\nPA\nSpring Garden Street\nyes\nNaN\nbrewery\n101\nyes\nYards Brewing Company\nyes\nhttps://yardsbrewing.com/\nQ16903914\nen:Yards Brewing Company\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n566683522\nrestaurant\nNaN\nSpring Garden Pizza & Restaurant\nNaN\nNaN\nPOINT (-75.15755 39.96205)\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\npizza\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n596230881\nrestaurant\nNaN\nNaN\nNaN\nNaN\nPOINT (-75.18682 40.05492)\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n\n\n\n\n\n\n# Get bus stop features\nbus_stops = ox.features_from_place(\"Philadelphia, PA\", tags={\"highway\": \"bus_stop\"})\n\n\nlen(bus_stops)\n\n290\n\n\n\nbus_stops.head()\n\n\n\n\n\n\n\n\n\nbench\nbus\ncovered\nhighway\nname\nnetwork\nnetwork:wikidata\noperator\npublic_transport\nshelter\ngeometry\nnetwork:wikipedia\nref\ntactile_paving\nwheelchair\nroute_ref\nlocal_ref\ndesignation\nsource\nbin\nlit\ndepartures_board\ninternet_access\naddr:street\nroute_ref_1\ndescription\nnote\noperator:wikidata\nbrand\nbrand:wikidata\nrailway\ntram\ntrolleybus\nnetwork:short\nnot:network:wikidata\n\n\nelement_type\nosmid\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nnode\n361011456\nyes\nyes\nyes\nbus_stop\n13th St & Market St\nSEPTA\nQ2037863\nSEPTA\nplatform\nyes\nPOINT (-75.16166 39.95223)\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n750281693\nNaN\nyes\nNaN\nbus_stop\nNaN\nNaN\nNaN\nNaN\nplatform\nNaN\nPOINT (-75.07732 40.01797)\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n768271130\nNaN\nyes\nNaN\nbus_stop\nWissahickon Transportation Center\nSEPTA\nQ2037863\nSEPTA\nplatform\nyes\nPOINT (-75.20726 40.01487)\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n1015342921\nNaN\nyes\nNaN\nbus_stop\nNaN\nNaN\nNaN\nNaN\nplatform\nNaN\nPOINT (-75.18187 39.96640)\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n1015342926\nNaN\nyes\nNaN\nbus_stop\nNaN\nNaN\nNaN\nNaN\nplatform\nNaN\nPOINT (-75.18024 39.96670)\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n\n\n\n\n\n\n# Get commercial and retail landuse features\nlanduse = ox.features_from_place(\n    \"Philadelphia, PA\", tags={\"landuse\": [\"commercial\", \"retail\"]}\n)\n\n\nlen(landuse)\n\n349\n\n\nLet’s plot the land use features:\n\nfig, ax = plt.subplots(figsize=(10, 6))\n\nax = landuse.plot(ax=ax)\nax.set_axis_off()\n\n\n\n\n\n\n1.4 Downloading street networks\nKey functions: graph_from_*\n\ngraph_from_place() (docs)\n\nDownload street network within an OSM place boundary\n\ngraph_from_address() (docs)\n\nDownload street network within a certain distance of an address\n\ngraph_from_bbox() (docs)\n\nDownload street network within a N, S, E, W bounding box\n\ngraph_from_point() (docs)\n\nDownload street network within a certain distance of a specified point\n\ngraph_from_polygon() (docs)\n\nDownload street network within a polygon object\n\n\n\nStreet network around an address\nGet streets within 500 meters of the center of Center City\n\nG = ox.graph_from_address(\"Center City, Philadelphia, PA\", dist=500)\n\nProject and plot it:\n\nG_projected = ox.project_graph(G)\nox.plot_graph(G_projected);\n\n\n\n\nRemove the nodes:\n\nox.plot_graph(G_projected, node_size=0);\n\n\n\n\nLet’s zoom out to 2,000 meters. This will take a little longer.\n\nG = ox.graph_from_address(\"Center City, Philadelphia, PA\", dist=2000)\nG_projected = ox.project_graph(G)\n\n\nox.plot_graph(G_projected, node_size=0);\n\n\n\n\n\n\nGetting different network types\n\ndrive - get drivable public streets (but not service roads)\ndrive_service - get drivable streets, including service roads\nwalk - get all streets and paths that pedestrians can use (this network type ignores one-way directionality)\nbike - get all streets and paths that cyclists can use\nall - download all non-private OSM streets and paths\nall_private - download all OSM streets and paths, including private-access ones (default)\n\n\n# the \"drive\" network\nG = ox.graph_from_address(\"Center City, Philadelphia, PA\", network_type=\"drive\")\nox.plot_graph(G);\n\n\n\n\n\n# the \"walk\" network\nG = ox.graph_from_address(\"Center City, Philadelphia, PA\", network_type=\"walk\")\nox.plot_graph(ox.project_graph(G));\n\n\n\n\n\n\nStreet network within a place boundary\nUse graph_from_place() to get the streets within a specific OSM place.\n\n\n\n\n\n\nCaution\n\n\n\nA couple of things to watch out for: 1. The place query has to be resolved by OSM. 2. If the place is a big city, you might be downloading a lot of data!\n\n\nLet’s check out the street network for Berkeley, CA:\n\nberkeley = ox.graph_from_place(\"Berkeley, California, USA\")\n\n\nox.plot_graph(ox.project_graph(berkeley), node_size=0);\n\n\n\n\n\n\nStreets within a specific polygon\nExample: Let’s download all streets within Center City. We will use the “Central” planning district as a proxy for this area. The city’s planning districts are available on Open Data Philly.\n\nplanning_districts = gpd.read_file(\n    \"https://opendata.arcgis.com/datasets/0960ea0f38f44146bb562f2b212075aa_0.geojson\"\n)\n\n\nlen(planning_districts)\n\n18\n\n\n\nplanning_districts.head()\n\n\n\n\n\n\n\n\nOBJECTID_1\nOBJECTID\nDIST_NAME\nABBREV\nShape__Area\nShape__Length\nPlanningDist\nDaytimePop\ngeometry\n\n\n\n\n0\n1\n14\nRiver Wards\nRW\n2.107270e+08\n66931.595020\nNaN\nNaN\nPOLYGON ((-75.09798 40.00496, -75.09687 40.005...\n\n\n1\n2\n3\nNorth Delaware\nNDEL\n2.700915e+08\n89213.074378\nNaN\nNaN\nPOLYGON ((-74.98159 40.05363, -74.98139 40.053...\n\n\n2\n3\n0\nLower Far Northeast\nLFNE\n3.068529e+08\n92703.285159\nNaN\nNaN\nPOLYGON ((-74.96443 40.11728, -74.96434 40.117...\n\n\n3\n4\n9\nCentral\nCTR\n1.782880e+08\n71405.143450\nNaN\nNaN\nPOLYGON ((-75.14791 39.96733, -75.14715 39.967...\n\n\n4\n5\n10\nUniversity Southwest\nUSW\n1.296468e+08\n65267.676141\nNaN\nNaN\nPOLYGON ((-75.18742 39.96338, -75.18644 39.963...\n\n\n\n\n\n\n\nTrim to the central district:\n\ncentral_district = planning_districts.query(\"DIST_NAME == 'Central'\")\n\nAnd plot it:\n\nax = ox.project_gdf(central_district).plot(fc=\"lightblue\", ec=\"gray\")\nax.set_axis_off()\n\n\n\n\n\ncentral_district\n\n\n\n\n\n\n\n\nOBJECTID_1\nOBJECTID\nDIST_NAME\nABBREV\nShape__Area\nShape__Length\nPlanningDist\nDaytimePop\ngeometry\n\n\n\n\n3\n4\n9\nCentral\nCTR\n1.782880e+08\n71405.14345\nNaN\nNaN\nPOLYGON ((-75.14791 39.96733, -75.14715 39.967...\n\n\n\n\n\n\n\nSqueeze it so we can get the geometry polygon:\n\ncenter_city_outline = central_district.squeeze().geometry\n\ncenter_city_outline\n\n\n\n\nNow, let’s use ox.graph_from_polygon() to extract streets within this polygon.\n\n# Get the graph\nG_cc = ox.graph_from_polygon(center_city_outline, network_type=\"drive\")\n\n\n# Viola!\nox.plot_graph(ox.project_graph(G_cc), node_size=0);\n\n\n\n\n\n\n\n1.5 Converting from a graph to a GeoDataFrame\nKey function: ox.graph_to_gdfs() (docs)\nYou can get a GeoDataFrame for both the nodes (points) and edges (lines)\n\ntype(G_cc)\n\nnetworkx.classes.multidigraph.MultiDiGraph\n\n\n\n# only get the edges\ncc_edges = ox.graph_to_gdfs(G_cc, edges=True, nodes=False)\n\n\n# we have lots of data associated with each edge!\ncc_edges.head()\n\n\n\n\n\n\n\n\n\n\nosmid\noneway\nname\nhighway\nreversed\nlength\ngeometry\nmaxspeed\nlanes\nbridge\nref\ntunnel\nwidth\nservice\naccess\njunction\n\n\nu\nv\nkey\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n109727439\n109911666\n0\n132508434\nTrue\nBainbridge Street\nresidential\nFalse\n44.137\nLINESTRING (-75.17104 39.94345, -75.17053 39.9...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n109727448\n109727439\n0\n12109011\nTrue\nSouth Colorado Street\nresidential\nFalse\n109.484\nLINESTRING (-75.17125 39.94248, -75.17120 39.9...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n110034229\n0\n12159387\nTrue\nFitzwater Street\nresidential\nFalse\n91.353\nLINESTRING (-75.17125 39.94248, -75.17137 39.9...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n109727507\n110024052\n0\n193364514\nTrue\nCarpenter Street\nresidential\nFalse\n53.208\nLINESTRING (-75.17196 39.93973, -75.17134 39.9...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n109728761\n110274344\n0\n672312336\nTrue\nBrown Street\nresidential\nFalse\n58.270\nLINESTRING (-75.17317 39.96951, -75.17250 39.9...\n25 mph\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n\n\n\n\n\n\n# plot it like any old GeoDataFrame\nax = cc_edges.to_crs(epsg=3857).plot(color=\"gray\")\n\n# add the neighborhood boundaries\nboundary = gpd.GeoSeries([center_city_outline], crs=\"EPSG:4326\")\nboundary.to_crs(epsg=3857).plot(\n    ax=ax, facecolor=\"none\", edgecolor=\"red\", linewidth=3, zorder=2\n)\n\nax.set_axis_off()\n\n\n\n\nDon’t forget: We can use the .explore() function to get an interactive web map via Folium:\n\ncc_edges.explore(tiles='cartodb positron')\n\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\n\n1.6 What can we do with the graph?\n\nNetwork-based statistics\nRouting\nStreet orientations\nVisualizing crashes\n\nAnd much more: see the OSMnx repository of Jupyter notebook examples\n\nStreet orientations\nA great blog post on street orientations across different US and global cities.\nOne of my favorite examples of data viz, using matplotlib for radial histograms of street orientations…\n\nThe code for these histograms is available in the osmnx examples repository.\n\n\nNetwork statistics\nWe can use the ox.basic_stats() to get some basic network statistics\n\nox.basic_stats(G_cc)\n\n{'n': 2026,\n 'm': 3902,\n 'k_avg': 3.8519249753208293,\n 'edge_length_total': 349745.43700000027,\n 'edge_length_avg': 89.63235187083554,\n 'streets_per_node_avg': 3.428923988153998,\n 'streets_per_node_counts': {0: 0, 1: 55, 2: 9, 3: 996, 4: 948, 5: 14, 6: 4},\n 'streets_per_node_proportions': {0: 0.0,\n  1: 0.027147087857847977,\n  2: 0.004442250740375123,\n  3: 0.491609081934847,\n  4: 0.46791707798617965,\n  5: 0.006910167818361303,\n  6: 0.0019743336623889436},\n 'intersection_count': 1971,\n 'street_length_total': 306400.7959999999,\n 'street_segment_count': 3384,\n 'street_length_avg': 90.54397044917255,\n 'circuity_avg': 1.0172703832466288,\n 'self_loop_proportion': 0.0008865248226950354}\n\n\n\n\nFinding the shortest route\nLet’s calculate the shortest route between the Art Museum and the Liberty Bell.\nWe’ll need to download all amenities in Philadelphia of type “tourism”.\n\nThe ox.features_from_place() can download OSM features with a specific tag\nYou can consult the OSM pages (the Art Museum and Liberty Bell) for each feature for additional info\nBoth features are categorized as “tourism” in the OSM data — use the “tags” keyword to select this category\n\n\nphilly_tourism = ox.features_from_place(\"Philadelphia, PA\", tags={\"tourism\": True})\n\n\nlen(philly_tourism)\n\n593\n\n\n\nphilly_tourism.head()\n\n\n\n\n\n\n\n\n\nref\ngeometry\nele\ngnis:county_id\ngnis:created\ngnis:feature_id\ngnis:state_id\nname\ntourism\nbrand\nbrand:wikidata\nbrand:wikipedia\noperator\nartwork_type\nhistoric\nsource\nwikidata\ninformation\nartist_name\nmaterial\nwebsite\naddr:state\ngnis:county_name\ngnis:reviewed\ngnis:import_uuid\nfee\nopening_hours\namenity\nartwork_subject\nimage\nstart_date\nstatue\nsubject:wikidata\ncolour\nwheelchair\nwikipedia\naddr:city\nname:de\ndesignation\ndescription\nmuseum\noperator:type\nalt_name\nbarrier\nheritage\nheritage:operator\nheritage:website\nnrhp:criteria\nnrhp:inscription_date\nnrhp:nhl\nprotection_title\nref:nrhp\nsource_ref\nartist:wikidata\nheight\nname:fr\naddr:housenumber\naddr:postcode\naddr:street\nmemorial\nyear_of_construction\nname:ru\nlayer\nphone\ncheck_date\ncontact:email\nname:en\nboard_type\ntoilets:wheelchair\ninscription\nsubject:wikipedia\nlevel\nnatural\nattraction\nnote\ndisplay\nend_date\ncomment\nhistoric:amenity\ngarden:type\nleisure\npostal_code\nofficial_name\ninternet_access\nshort_name\nparking\nguest_house\ninscription:url\ngender\nbicycle\nhiking\ncovered\ndrinking_water\nopenfire\naddr:unit\nmimics\nsource:url\ndirection\nemail\ndepartures_board\nmap_size\nmap_type\ndirection_north\ndirection_southeast\ndirection_west\ndirection_east\ndirection_south\ndirection_northeast\ndirection_northwest\ndirection_southwest\nnodes\nbuilding\nbuilding:material\nname:hi\nbuilding:levels\nroof:shape\nhighway\nincline\nstep_count\nbuilding:wikidata\nbuilding:wikipedia\ncheck_date:opening_hours\nold_name\nsmoking\nbuilding:colour\nair_conditioning\nfax\nrooms\nstars\nroof:colour\naddr:country\ncontact:fax\ncontact:phone\nship:type\naddr:housename\nbar\ndisused:amenity\nroof:material\ninternet_access:fee\nabandoned:amenity\nfixme\ninternet_access:ssid\nfee:conditional\nshop\nroof:levels\nname:zh\nartist:website\nbridge\nfoot\nhorse\nlit\nsac_scale\nsurface\ntrail_visibility\nwidth\nbridge:structure\nman_made\ndisused:website\nboundary\noperator:short\noperator:wikidata\nownership\nprotected\nbuilding:part\narea\nsubject\ncontact:facebook\nways\ntype\nplace\n\n\nelement_type\nosmid\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nnode\n357371322\nNaN\nPOINT (-75.19580 39.96970)\n17\n101\n08/23/2007\n2347097\n42\nBird Lake Picnic Area\npicnic_site\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n360500844\nNaN\nPOINT (-75.19582 39.95352)\nNaN\nNaN\nNaN\nNaN\nNaN\nHilton Inn at Penn\nhotel\nHilton\nQ598884\nen:Hilton Hotels & Resorts\nHilton\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n360515304\nNaN\nPOINT (-75.14860 39.94771)\nNaN\nNaN\nNaN\nNaN\nNaN\nRobert Morris\nartwork\nNaN\nNaN\nNaN\nNaN\nstatue\nmemorial\nsurvey\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n360542779\nNaN\nPOINT (-75.18932 39.95540)\nNaN\nNaN\nNaN\nNaN\nNaN\nMario the Magnificent\nartwork\nNaN\nNaN\nNaN\nNaN\nstatue\nNaN\nNaN\nQ98563440\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n360777728\nNaN\nPOINT (-75.19021 39.95230)\nNaN\nNaN\nNaN\nNaN\nNaN\nPennsylvania Historical Marker: ENIAC, first a...\ninformation\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nboard\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n\n\n\n\n\n\n# How to find the name of the POI: search for keywords\nphilly_tourism.loc[philly_tourism['name'].str.contains(\"Art\", na=False)]\n\n\n\n\n\n\n\n\n\nref\ngeometry\nele\ngnis:county_id\ngnis:created\ngnis:feature_id\ngnis:state_id\nname\ntourism\nbrand\nbrand:wikidata\nbrand:wikipedia\noperator\nartwork_type\nhistoric\nsource\nwikidata\ninformation\nartist_name\nmaterial\nwebsite\naddr:state\ngnis:county_name\ngnis:reviewed\ngnis:import_uuid\nfee\nopening_hours\namenity\nartwork_subject\nimage\nstart_date\nstatue\nsubject:wikidata\ncolour\nwheelchair\nwikipedia\naddr:city\nname:de\ndesignation\ndescription\nmuseum\noperator:type\nalt_name\nbarrier\nheritage\nheritage:operator\nheritage:website\nnrhp:criteria\nnrhp:inscription_date\nnrhp:nhl\nprotection_title\nref:nrhp\nsource_ref\nartist:wikidata\nheight\nname:fr\naddr:housenumber\naddr:postcode\naddr:street\nmemorial\nyear_of_construction\nname:ru\nlayer\nphone\ncheck_date\ncontact:email\nname:en\nboard_type\ntoilets:wheelchair\ninscription\nsubject:wikipedia\nlevel\nnatural\nattraction\nnote\ndisplay\nend_date\ncomment\nhistoric:amenity\ngarden:type\nleisure\npostal_code\nofficial_name\ninternet_access\nshort_name\nparking\nguest_house\ninscription:url\ngender\nbicycle\nhiking\ncovered\ndrinking_water\nopenfire\naddr:unit\nmimics\nsource:url\ndirection\nemail\ndepartures_board\nmap_size\nmap_type\ndirection_north\ndirection_southeast\ndirection_west\ndirection_east\ndirection_south\ndirection_northeast\ndirection_northwest\ndirection_southwest\nnodes\nbuilding\nbuilding:material\nname:hi\nbuilding:levels\nroof:shape\nhighway\nincline\nstep_count\nbuilding:wikidata\nbuilding:wikipedia\ncheck_date:opening_hours\nold_name\nsmoking\nbuilding:colour\nair_conditioning\nfax\nrooms\nstars\nroof:colour\naddr:country\ncontact:fax\ncontact:phone\nship:type\naddr:housename\nbar\ndisused:amenity\nroof:material\ninternet_access:fee\nabandoned:amenity\nfixme\ninternet_access:ssid\nfee:conditional\nshop\nroof:levels\nname:zh\nartist:website\nbridge\nfoot\nhorse\nlit\nsac_scale\nsurface\ntrail_visibility\nwidth\nbridge:structure\nman_made\ndisused:website\nboundary\noperator:short\noperator:wikidata\nownership\nprotected\nbuilding:part\narea\nsubject\ncontact:facebook\nways\ntype\nplace\n\n\nelement_type\nosmid\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nnode\n367974278\nNaN\nPOINT (-75.15240 40.03748)\n61\nNaN\nNaN\n2349240\nNaN\nLa Salle University Art Museum\nmuseum\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nUSGS Geonames\nQ16893816\nNaN\nNaN\nNaN\nhttps://artcollection.lasalle.edu/\nPA\nPhiladelphia\nno\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n4064343335\nNaN\nPOINT (-75.22113 40.02427)\nNaN\nNaN\nNaN\nNaN\nNaN\nSoft Illusions Fine Art Gallery\ngallery\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nhttp://www.softillusions.net/\nPA\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nPhiladelphia\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n4226\n19127\nMain Street\nNaN\nNaN\nNaN\nNaN\n+1 215-840-0832\n2023-08-08\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n5368454121\nNaN\nPOINT (-75.19477 39.95406)\nNaN\nNaN\nNaN\nNaN\nNaN\nInstitute of Contemporary Art\nmuseum\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nhttps://icaphila.org/\nPA\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nyes\nNaN\nPhiladelphia\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n118\n19104\nSouth 36th Street\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nyes\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n5718906477\nNaN\nPOINT (-75.13058 39.99573)\nNaN\nNaN\nNaN\nNaN\nNaN\nArt Making Machine Studios\ngallery\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nPA\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nPhiladelphia\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n3000\n19133\nNorth Hope Street\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n6639391809\nNaN\nPOINT (-75.16088 39.96383)\nNaN\nNaN\nNaN\nNaN\nNaN\nPhiladelphia Museum of Jewish Art\nmuseum\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nhttps://rodephshalom.org/community/philadelphi...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n6680708848\nNaN\nPOINT (-75.16833 39.94733)\nNaN\nNaN\nNaN\nNaN\nNaN\nRomanian Folk Art Museum\nmuseum\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nQ113484178\nNaN\nNaN\nNaN\nhttp://www.romanianculture.us/\nPA\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nPhiladelphia\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n1606\n19103\nSpruce Street\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\nway\n28533972\nNaN\nPOLYGON ((-75.18116 39.96467, -75.18138 39.964...\n32\nNaN\nNaN\nNaN\nNaN\nPhiladelphia Museum of Art\nmuseum\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nQ510324\nNaN\nNaN\nNaN\nhttps://www.philamuseum.org/\nPA\nNaN\nNaN\nNaN\nNaN\nSu,Mo,Th,Sa 10:00-17:00; Fr 10:00-20:45\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nyes\nen:Philadelphia Museum of Art\nPhiladelphia\nNaN\nNaN\nNaN\nart\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n2600\n19130\nBenjamin Franklin Parkway\nNaN\nNaN\nNaN\nNaN\n+1-215-763-8100\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n[313440467, 313440468, 313440469, 313440470, 3...\nyes\nNaN\nफिलाडेल्फिया कला संग्रहालय\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n333931830\nNaN\nPOLYGON ((-75.16410 39.95543, -75.16416 39.955...\n13\nNaN\nNaN\n1196718\nNaN\nPennsylvania Academy of the Fine Arts\nmuseum\nNaN\nNaN\nNaN\nNaN\nNaN\nbuilding\nNaN\nQ1952033\nNaN\nNaN\nNaN\nhttps://www.pafa.org/\nPA\nNaN\nNaN\nNaN\nNaN\nTu-Fr 10:00-17:00; Sa-Su 11:00-17:00\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nen:Pennsylvania Academy of the Fine Arts\nPhiladelphia\nNaN\nNaN\nNaN\nart\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n71000731\nNaN\nNaN\nNaN\nNaN\n118\n19102\nNorth Broad Street\nNaN\nNaN\nNaN\nNaN\n+1-215-972-7600\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n[3409804705, 3409804706, 3453181052, 340980470...\nyes\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nUS\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n988345364\nNaN\nPOLYGON ((-75.21926 40.08320, -75.21931 40.083...\n84\nNaN\nNaN\nNaN\nNaN\nWoodmere Art Museum\nmuseum\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nesri/Philadelphia_PA_Buildings_OSM\nQ2424929\nNaN\nNaN\nNaN\nhttps://woodmereartmuseum.org/\nPA\nNaN\nNaN\nNaN\nyes\nWe-Su 10:00-17:00; Sa 10:00-18:00\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nyes\nNaN\nPhiladelphia\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n20.72\nNaN\n9201\n19118\nGermantown Avenue\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n[10968493549, 9135569442, 9135569424, 91355694...\nyes\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n2023-06-10\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n\n\n\n\n\n\nart_museum = philly_tourism.query(\"name == 'Philadelphia Museum of Art'\").squeeze()\n\nart_museum.geometry\n\n\n\n\n\nliberty_bell = philly_tourism.query(\"name == 'Liberty Bell'\").squeeze()\n\nliberty_bell.geometry\n\n\n\n\nNow, extract the lat and lng coordinates\nFor the Art Museum geometry, we can use the .geometry.centroid attribute to calculate the centroid of the building footprint.\n\nliberty_bell_x = liberty_bell.geometry.x\nliberty_bell_y = liberty_bell.geometry.y\n\n\nart_museum_x = art_museum.geometry.centroid.x\nart_museum_y = art_museum.geometry.centroid.y\n\nFind the nearest nodes on our OSMnx graph, using the ox.nearest_nodes() function\n\nox.nearest_nodes?\n\n\nSignature: ox.nearest_nodes(G, X, Y, return_dist=False)\nDocstring:\nFind the nearest node to a point or to each of several points.\nIf `X` and `Y` are single coordinate values, this will return the nearest\nnode to that point. If `X` and `Y` are lists of coordinate values, this\nwill return the nearest node to each point.\nIf the graph is projected, this uses a k-d tree for euclidean nearest\nneighbor search, which requires that scipy is installed as an optional\ndependency. If it is unprojected, this uses a ball tree for haversine\nnearest neighbor search, which requires that scikit-learn is installed as\nan optional dependency.\nParameters\n----------\nG : networkx.MultiDiGraph\n    graph in which to find nearest nodes\nX : float or list\n    points' x (longitude) coordinates, in same CRS/units as graph and\n    containing no nulls\nY : float or list\n    points' y (latitude) coordinates, in same CRS/units as graph and\n    containing no nulls\nreturn_dist : bool\n    optionally also return distance between points and nearest nodes\nReturns\n-------\nnn or (nn, dist) : int/list or tuple\n    nearest node IDs or optionally a tuple where `dist` contains distances\n    between the points and their nearest nodes\nFile:      ~/mambaforge/envs/musa-550-fall-2023/lib/python3.10/site-packages/osmnx/distance.py\nType:      function\n\n\n\n\n# Get the origin node\norig_node = ox.nearest_nodes(G_cc, liberty_bell_x, liberty_bell_y) \n\n# Get the destination node\ndest_node = ox.nearest_nodes(G_cc, art_museum_x, art_museum_y)\n\nNow, we can use ox.shortest_path() function to find the shortest path between these graph nodes.\n\n\n\n\n\n\nNote\n\n\n\nWe need to specify weight=‘length’ to find the shortest path by minimizing distance traveled (otherwise it treats each edge as weight=1).\n\n\n\n# get the shortest path --&gt; just a list of node IDs\nroute1 = ox.shortest_path(G_cc, orig_node, dest_node, weight=\"length\")\n\nroute1\n\n[3408446156,\n 110217312,\n 109814427,\n 5372039288,\n 109814445,\n 8588123388,\n 109814449,\n 5358069713,\n 5372059864,\n 2644235371,\n 5534891499,\n 110540235,\n 109750941,\n 110402209,\n 110402230,\n 534960802,\n 110391250,\n 637791907,\n 637791980,\n 110329803,\n 110329806,\n 775897224,\n 3414249481,\n 110329822,\n 110353061,\n 11162290432,\n 110054089,\n 775897147,\n 110329848,\n 110329851,\n 110125895,\n 534969088,\n 109745905,\n 109740423,\n 110330569,\n 550175455,\n 550175399]\n\n\nUse ox.plot_graph_route() to plot a graph and highlight a specific route\n\nox.plot_graph_route(G_cc, route1, node_size=0);\n\n\n\n\nHow about an interactive version?\nosmnx has a helper function ox.utils_graph.route_to_gdf() to convert a route to a GeoDataFrame of edges.\n\nox.utils_graph.route_to_gdf(G_cc, route1, weight=\"length\").explore(\n    tiles=\"cartodb positron\",\n    color=\"red\",\n)\n\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\n\nFinding the shortest travel time\nThe add_edge_speeds function add edge speeds (km per hour) to graph as new speed_kph edge attributes.\nThe function will add free-flow travel speeds for all edges based on the average maxspeed value of edges, per highway type. This process can definitely be imprecise, but in the case that you happen to have more precise speed data, you can supply your own data instead of relying on OSM data.\n\n# impute speed on all edges missing data\nG_cc = ox.add_edge_speeds(G_cc)\n\n# calculate travel time (seconds) for all edges\nG_cc = ox.add_edge_travel_times(G_cc)\n\n\n# Get the graph edges\nedges = ox.graph_to_gdfs(G_cc, nodes=False)\n\n\nedges.head()\n\n\n\n\n\n\n\n\n\n\nosmid\noneway\nname\nhighway\nreversed\nlength\nspeed_kph\ntravel_time\ngeometry\nmaxspeed\nlanes\nbridge\nref\ntunnel\nwidth\nservice\naccess\njunction\n\n\nu\nv\nkey\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n109727439\n109911666\n0\n132508434\nTrue\nBainbridge Street\nresidential\nFalse\n44.137\n37.0\n4.3\nLINESTRING (-75.17104 39.94345, -75.17053 39.9...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n109727448\n109727439\n0\n12109011\nTrue\nSouth Colorado Street\nresidential\nFalse\n109.484\n37.0\n10.7\nLINESTRING (-75.17125 39.94248, -75.17120 39.9...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n110034229\n0\n12159387\nTrue\nFitzwater Street\nresidential\nFalse\n91.353\n37.0\n8.9\nLINESTRING (-75.17125 39.94248, -75.17137 39.9...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n109727507\n110024052\n0\n193364514\nTrue\nCarpenter Street\nresidential\nFalse\n53.208\n37.0\n5.2\nLINESTRING (-75.17196 39.93973, -75.17134 39.9...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n109728761\n110274344\n0\n672312336\nTrue\nBrown Street\nresidential\nFalse\n58.270\n40.2\n5.2\nLINESTRING (-75.17317 39.96951, -75.17250 39.9...\n25 mph\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n\n\n\n\n\n\n# Groupby highway type and get the mean values\nedges[\"highway\"] = edges[\"highway\"].astype(str)\nedges.groupby(\"highway\")[[\"length\", \"speed_kph\", \"travel_time\"]].mean()\n\n\n\n\n\n\n\n\nlength\nspeed_kph\ntravel_time\n\n\nhighway\n\n\n\n\n\n\n\n['secondary', 'primary']\n676.801000\n43.300000\n56.300000\n\n\n['tertiary', 'motorway_link']\n151.615000\n42.100000\n13.000000\n\n\nliving_street\n52.877143\n47.200000\n4.028571\n\n\nmotorway\n451.723346\n83.038462\n19.323077\n\n\nmotorway_link\n295.568174\n47.200000\n22.550000\n\n\nprimary\n103.286915\n44.870944\n8.251816\n\n\nprimary_link\n56.531789\n40.200000\n5.063158\n\n\nresidential\n81.302576\n37.001304\n7.920488\n\n\nsecondary\n93.164418\n43.312000\n7.877818\n\n\nsecondary_link\n65.884000\n47.200000\n5.000000\n\n\ntertiary\n80.093234\n42.094659\n6.867507\n\n\ntertiary_link\n37.969000\n47.200000\n2.850000\n\n\ntrunk\n72.969538\n54.507692\n4.800000\n\n\ntrunk_link\n176.703500\n47.200000\n13.500000\n\n\nunclassified\n126.344395\n32.200000\n14.128947\n\n\n\n\n\n\n\n\n# calculate two routes by minimizing travel time\nroute2 = ox.shortest_path(G_cc, orig_node, dest_node, weight=\"travel_time\")\n\n\n# plot the routes\nfig, ax = ox.plot_graph_routes(\n    G_cc,\n    routes=[route1, route2],\n    route_colors=[\"r\", \"y\"],\n    route_linewidth=6,\n    node_size=0,\n)\n\n\n\n\nLet’s plot both in an interactive map:\n\nm = ox.utils_graph.route_to_gdf(G_cc, route1, weight=\"length\").explore(\n    tiles=\"cartodb dark matter\",\n    color=\"red\",\n)\n\nm = ox.utils_graph.route_to_gdf(G_cc, route2, weight=\"length\").explore(\n    tiles=\"cartodb dark matter\",\n    color=\"yellow\",\n    m=m\n)\n\nm\n\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\nLet’s compare to the two routes:\nDistances:\n\nmeters_to_miles = 0.0006213712\n\n# compare the two routes\nroute1_length = (\n    ox.utils_graph.route_to_gdf(G_cc, route1, weight=\"length\")[\"length\"].sum()\n    * meters_to_miles\n)\n\nroute2_length = (\n    ox.utils_graph.route_to_gdf(G_cc, route2, weight=\"length\")[\"length\"].sum()\n    * meters_to_miles\n)\n\nTravel times:\n\nseconds_to_mins = 1.0 / 60\n\nroute1_time = (\n    ox.utils_graph.route_to_gdf(G_cc, route1, weight=\"travel_time\")[\"travel_time\"].sum()\n    * seconds_to_mins\n)\nroute2_time = (\n    ox.utils_graph.route_to_gdf(G_cc, route2, weight=\"travel_time\")[\"travel_time\"].sum()\n    * seconds_to_mins\n)\n\nSummarize:\n\nprint(f\"Route 1 is {route1_length:.2f} miles and takes {route1_time:.2f} minutes.\")\nprint(f\"Route 2 is {route2_length:.2f} miles and takes {route2_time:.2f} minutes.\")\n\nRoute 1 is 2.19 miles and takes 5.04 minutes.\nRoute 2 is 2.46 miles and takes 4.46 minutes."
  },
  {
    "objectID": "content/week-5/lecture-5A.html#part-2-pandana",
    "href": "content/week-5/lecture-5A.html#part-2-pandana",
    "title": "Week 5AGeospatial Data: Street Networks",
    "section": "Part 2: Pandana",
    "text": "Part 2: Pandana\n“Pandas Network Analysis - dataframes of network queries, quickly”\nA complementary set of OSM-related features: - Downloading OSM-based networks - Extracting amenity data (so-called “Points of Interest”) - Calculating network-constrained distances\n\nGitHub\nJupyter Notebook Examples\nDocumentation\n\n\nimport pandana as pnda\nfrom pandana.loaders import osm\n\n\nStep 1: Get amenity data\nKey function: osm.node_query()\n\nThis will extract amenities within a given bounding box.\nSimilar to the ox.features_from_bbox() function in OSMnx, but we slightly different syntax.\n\n\nosm.node_query?\n\n\nSignature: osm.node_query(lat_min, lng_min, lat_max, lng_max, tags=None)\nDocstring:\nSearch for OSM nodes within a bounding box that match given tags.\nParameters\n----------\nlat_min, lng_min, lat_max, lng_max : float\ntags : str or list of str, optional\n    Node tags that will be used to filter the search.\n    See http://wiki.openstreetmap.org/wiki/Overpass_API/Language_Guide\n    for information about OSM Overpass queries\n    and http://wiki.openstreetmap.org/wiki/Map_Features\n    for a list of tags.\nReturns\n-------\nnodes : pandas.DataFrame\n    Will have 'lat' and 'lon' columns, plus other columns for the\n    tags associated with the node (these will vary based on the query).\n    Index will be the OSM node IDs.\nFile:      ~/mambaforge/envs/musa-550-fall-2023/lib/python3.10/site-packages/pandana/loaders/osm.py\nType:      function\n\n\n\nGet the bounding box:\n\nboundary = center_city_outline.bounds\nboundary\n\n(-75.193582452986, 39.9286257450627, -75.1259307965391, 39.9738724134056)\n\n\n\n[lng_min, lat_min, lng_max, lat_max] = boundary\n\n\n# query OSM\npoi_df = osm.node_query(lat_min, lng_min, lat_max, lng_max)\n\n# remove missing data\npoi_df = poi_df.dropna(subset=[\"amenity\"])\n\n\npoi_df.head()\n\n\n\n\n\n\n\n\nlat\nlon\nrailway\nlight_rail\nname\nnetwork\noperator\npublic_transport\nwheelchair\nhighway\ntraffic_signals\nold_ref\nref\nnoref\ntraffic_signals:direction\ndirection\ntraffic_calming\ncrossing\ncrossing:markings\ntactile_paving\nstop\nnoexit\ncrossing:barrier\nbarrier\ncrossing:island\ndisused:railway\ncrossing_ref\nsupervised\nrailway:signal:direction\nele\ngnis:feature_id\nplace\nwikidata\nwikipedia\nalt_name\ngnis:Class\ngnis:County\ngnis:County_num\ngnis:ST_alpha\ngnis:ST_num\nimport_uuid\nis_in\nname:en\nname:zh\namenity\nbrand\nbrand:wikidata\nbrand:wikipedia\noperator:wikidata\noperator:wikipedia\nshort_name\naddr:city\naddr:housenumber\naddr:postcode\naddr:state\naddr:street\ncontact:website\ncuisine\nofficial_name\nopening_hours\nphone\ntakeaway\nshop\nwebsite\nferry\nbuilding\naddr:housename\nhealthcare\ninternet_access\ninternet_access:ssid\nbrewery\ndescription\ngnis:county_id\ngnis:created\ngnis:state_id\nhistoric:amenity\nnote\nold_name\ncraft\nmicrobrewery\nrestaurant\nleisure\nsport\nman_made\ntower:type\ngnis:edited\noperator:short\noperator:type\ncheck_date\nemergency\nhealthcare:speciality\nrailway:position\ntrain\nartwork_type\nhistoric\ntourism\natm\ninformation\nartist_name\nmaterial\nattraction\noffice\nbench\nbus\ncovered\nnetwork:wikidata\nshelter\nmemorial\ngnis:county_name\ngnis:import_uuid\ngnis:reviewed\ncomment\nhistoric:tourism\naeroway\ngnis:feature_type\naddr:country\nplatforms\nstation\nsubway\nkerb\njunction\niata\nrailway:ref\nrailway:switch:local_operated\nrailway:signal:position\naddr:unit\ninternet_access:fee\ncrossing:light\nstart_date\nsubject:wikidata\nartwork_subject\nimage\nstatue\ntram\ncontact:facebook\nemail\nreservation\nwebsite:menu\ncolour\nparking\ndesignation\nnot:brand:wikidata\nentrance\ndenomination\nreligion\nscreen\ndelivery\ndiet:vegan\noutdoor_seating\npayment:cash\npayment:coins\nair_conditioning\ncontact:phone\nindoor_seating\nsmoking\narchitect\ndisused:amenity\ncontact:instagram\nnetwork:wikipedia\ncollection_times\nmale\nfemale\ndispensing\nname:de\ndrive_through\ndiet:vegetarian\nfax\nbar\nservice:bicycle:pump\nservice:bicycle:repair\nservice:bicycle:retail\ntoilets:wheelchair\nroute_ref\ncapacity\nsource:pkey\npower\naccess\nlevel\nmuseum\nname:he\nfuel:biodiesel\nfuel:biogas\nfuel:cng\nfuel:diesel\nfuel:e10\nfuel:e85\nfuel:electricity\ncollection_times:signed\nref:signed\ncheck_date:collection_times\nclothes\naddr:full\nbranch\nname:ja\noperator:en\nfair_trade\norganic\ndisused:shop\nfixme\nartist:wikidata\ninscription:url\nname:ga\ncontact:email\npayment:bitcoin\nsource:name\nphone:mnemonic\ndisused:brand\ndisused:brand:wikidata\ndisused:brand:wikipedia\ndisused:dispensing\ndisused:drive_through\ndisused:healthcare\ndisused:opening_hours\ndiet:pescetarian\nlgbtq\npayment:credit_cards\npayment:debit_cards\ndrink:club-mate\nfare_zone\ntoilets\ntoilets:access\nbuilding:levels\nis_in:state_code\npopulation\nfarm_boxes\ncompost\naddr:place\nsocial_facility\ncheck_date:opening_hours\nsource:cuisine\nsocial_facility:for\ndemolished:amenity\ndemolished:opening_hours\ndemolished:phone\ndemolished:social_facility\nmaxheight\naccess:delivery\nwheelchair:description\nwheelchair:description:en\nbeauty\nelevation\nfee\npark_ride\nlayer\nheight\nname:es\nservice:bicycle:chain_tool\nnatural\nname:fr\nname:signed\nbin\nlit\ndepartures_board\ndenotation\nfacebook\ncurrency:USD\ndrink:coca-cola\ndrink:coke\ndrink:cola\ndrink:cola_zero\ndrink:soda\ndrink:water\nvending\nopening_hours:kitchen\nbicycle_rental\ndisused:leisure\nyear_of_construction\nname:ru\ntoilets:unisex\ntoilets:disposal\nunisex\nkitchen_hours\ncurrency:XBT\nanimal\nowner\nbutton_operated\ntraffic_signals:sound\ntraffic_signals:vibration\nsource:lgbtq\nservice:bicycle:rental\nservice:bicycle:second_hand\nbicycle\nhorse\nmotor_vehicle\nbottle\nsurface\nlamp_type\ntheatre:genre\nservice:bicycle:tools\nbicycle_parking\nref:retrofitness\nleaf_cycle\nleaf_type\ncapital\nloc_name\nname:ar\nname:azb\nname:be\nname:bn\nname:ca\nname:cs\nname:el\nname:fa\nname:grc\nname:hi\nname:it\nname:kn\nname:ko\nname:lv\nname:moh\nname:oc\nname:ono\nname:pa\nname:pl\nname:pt\nname:sr\nname:ta\nname:te\nname:tr\nname:uk\nname:ur\nname:zh-Hans\nname:zh-Hant\npopulation:date\nsource:name:oc\nsource:population\npayment:cheque\nadvertising\npayment:american_express\npayment:mastercard\npayment:visa\nbackrest\nfire_hydrant:position\nfire_hydrant:type\nclub\nplayground\ndate\ndisplay\nfaces\nstudio\nseamark:type\namenity_1\npayment:venmo\nself_service\npayment:cards\npayment:contactless\npayment:notes\nfountain\ncamera:direction\ncamera:mount\ncamera:type\nsurveillance\nsurveillance:type\nmanhole\ndrink:beer\nrecycling_type\naddr:block_number\nseats\nbrand:type\nend_date\nsubject:wikipedia\ntype\nauthority\nmarker_date\nhistoric:name\nparcel_locker:type\nparcel_mail_in\nconsulate\ncountry\ndiplomatic\ntarget\ndog\nrecycling:beverage_cartons\nrecycling:cans\nrecycling:glass_bottles\nrecycling:paper\nrecycling:plastic\nrecycling:plastic_bottles\nrecycling:plastic_packaging\npostal_code\nchanging_table\nportable\nseasonal\ntoilets:handwashing\ntoilets:position\nlocked\npayment:discover_card\nflag:name\nflag:type\nflag:wikidata\nsubject\nflag:colour\nfoot\ncommunication:mobile_phone\nschool\ndance:style\ndance:teaching\nwaste\nlanduse\nmilitary_service\ngenerator:method\ngenerator:output:electricity\ngenerator:source\ngenerator:type\npayment:cash_app\nseating\nstreet_vendor\nbooks\ngender\ninscription\nhiking\nsupport\ntwitter\ndoor\nsmoothness\ncontact:flickr\ncontact:mastodon\ncontact:twitter\nindoor\nname:etymology:wikidata\npayment:paypal\nmin_age\nwas:amenity\nBusiness\nnetwork:short\nmimics\nsource:url\ndisused\nopening_hours:signed\nlocation\nwater_source\ndrinking_water\nfridge\nwikimedia_commons\nramp:wheelchair\nfood\ngenerator:output:hot_water\nnot:network:wikidata\nbridge:support\nopening_hours:url\npayment:lightning\npayment:lightning_contactless\npayment:onchain\nfishing\ncouplings\ngovernment\nself_checkout\nflickr\ndisused:payment:cash\ndisused:payment:contactless\ndisused:payment:credit_cards\ndisused:payment:debit_cards\ndisused:phone\ndisused:ref\ndelivery:partner\ninternet_access:password\nsurveillance:zone\npost_box:type\nfire_mains\nfire_sprinkler\nbonnet:colour\nlamp_mount\nopenplaques:id\ndescription:en\nmilitary\nmemorial:website\nref:hmdb\npost_office\nservice:bicycle:sales\nservice:bicycle:service\ndiet:gluten_free\naddr:door\ncommunity_centre:for\ncommunity_centre\ncycleway\nname:etymology\ncollector\nbollard\n\n\nid\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n274216093\n39.957640\n-75.191254\nNaN\nNaN\nCitibank\nNaN\nCitibank\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\natm\nCitibank\nQ857063\nen:Citibank\nQ857063\nen:Citibank\nCiti\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n274217596\n39.953015\n-75.192289\nNaN\nNaN\nStarbucks\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\ncafe\nStarbucks\nQ37158\nen:Starbucks\nNaN\nNaN\nNaN\nPhiladelphia\n3401\n19104\nPA\nWalnut Street\nhttps://www.starbucks.com/store-locator/store/...\ncoffee_shop\nStarbucks Coffee\nMo-Fr 05:30-24:00; Sa,Su 06:00-24:00\n215-387-1914\nyes\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n313440966\n39.963935\n-75.166939\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\ncar_sharing\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n313440968\n39.963978\n-75.170407\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\ncar_sharing\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n326519551\n39.944261\n-75.132616\nNaN\nNaN\nCamden RiverLink Ferry Landing\nNaN\nNaN\nstation\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nferry_terminal\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nhttps://www.delawareriverwaterfront.com/places...\nyes\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n\n\n\n\n\n\nlen(poi_df)\n\n2383\n\n\n\npoi_df[[\"lat\", \"lon\", \"amenity\"]].head(10)\n\n\n\n\n\n\n\n\nlat\nlon\namenity\n\n\nid\n\n\n\n\n\n\n\n274216093\n39.957640\n-75.191254\natm\n\n\n274217596\n39.953015\n-75.192289\ncafe\n\n\n313440966\n39.963935\n-75.166939\ncar_sharing\n\n\n313440968\n39.963978\n-75.170407\ncar_sharing\n\n\n326519551\n39.944261\n-75.132616\nferry_terminal\n\n\n333786044\n39.940858\n-75.158928\nrestaurant\n\n\n333786095\n39.941924\n-75.157357\ncafe\n\n\n333786448\n39.942642\n-75.157958\nbank\n\n\n333786774\n39.943102\n-75.160030\npharmacy\n\n\n343293716\n39.960440\n-75.159770\ncafe\n\n\n\n\n\n\n\n\nExplore the amenities in this region\nFor the full list of amenities, see the OSM Wikipedia\n\nchart = (\n    alt.Chart(poi_df)\n    .mark_bar()\n    .encode(y=alt.Y(\"amenity\", sort=\"-x\"), x=\"count()\", tooltip=[\"amenity\", \"count()\"])\n)\n\nchart\n\n/Users/nhand/mambaforge/envs/musa-550-fall-2023/lib/python3.10/site-packages/altair/utils/schemapi.py:353: DeprecationWarning: jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.\n  resolver = jsonschema.RefResolver.from_schema(root or schema)\n/Users/nhand/mambaforge/envs/musa-550-fall-2023/lib/python3.10/site-packages/altair/utils/schemapi.py:118: DeprecationWarning: jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.\n  resolver = jsonschema.RefResolver.from_schema(rootschema)\n\n\n\n\n\n\n\n\n\n\n\n\nStep 2: Create a Pandana network\n\nKey function: pdna_network_from_bbox()\nIt takes a bounding box and returns the OSM network within that region.\nMultiple network types: ‘walk’ and ‘drive’\n\n\nnet = osm.pdna_network_from_bbox(\n    lat_min, lng_min, lat_max, lng_max, network_type=\"walk\"\n)\n\nRequesting network data within bounding box from Overpass API in 1 request(s)\nPosting to http://www.overpass-api.de/api/interpreter with timeout=180, \"{'data': '[out:json][timeout:180];(way[\"highway\"][\"highway\"!~\"motor|proposed|construction|abandoned|platform|raceway\"][\"foot\"!~\"no\"][\"pedestrians\"!~\"no\"](39.92862575,-75.19358245,39.97387241,-75.12593080);&gt;;);out;'}\"\nDownloaded 7,224.1KB from www.overpass-api.de in 1.11 seconds\nDownloaded OSM network data within bounding box from Overpass API in 1 request(s) and 1.18 seconds\nReturning OSM data with 38,122 nodes and 11,966 ways...\nEdge node pairs completed. Took 3.55 seconds\nReturning processed graph with 17,676 nodes and 26,530 edges...\nCompleted OSM data download and Pandana node and edge table creation in 5.01 seconds\nGenerating contraction hierarchies with 10 threads.\nSetting CH node vector of size 17676\nSetting CH edge vector of size 26750\nRange graph removed 994 edges of 53500\n. 10% . 20% . 30% . 40% . 50% . 60% . 70% . 80% . 90% . 100%\n\n\n\n\nStep 3: Tell the network the location of amenities\nKey function: network.set_pois()\n\nToday, we’ll explore these four amenities: “restaurant”, “bar”, “school”, “car_sharing”\nIMPORTANT: if you want to explore other amenities, you’ll need to run the code below for your amenities of interest\n\n\n# sensible defaults\nmax_distance = 2000  # in meters\nnum_pois = 10  # only need the 10 nearest POI to each point in the network\n\n\nAMENITIES = [\"restaurant\", \"bar\", \"school\", \"car_sharing\"]\nfor amenity in AMENITIES:\n    \n    # get the subset of amenities for this type\n    pois_subset = poi_df[poi_df[\"amenity\"] == amenity]\n\n    # set the POI, using the longitude and latitude of POI\n    net.set_pois(\n        amenity, max_distance, num_pois, pois_subset[\"lon\"], pois_subset[\"lat\"]\n    )\n\n\n# keyword arguments to pass for the matplotlib figure\nbbox_aspect_ratio = (lat_max - lat_min) / (lng_max - lng_min)\nfig_kwargs = {\"facecolor\": \"w\", \"figsize\": (10, 10 * bbox_aspect_ratio)}\n\n# keyword arguments to pass for scatter plots\nplot_kwargs = {\"s\": 20, \"alpha\": 0.9, \"cmap\": \"viridis_r\", \"edgecolor\": \"none\"}\n\n\n\nStep 4: Plot the walking distance to the nearest POI\nFor every point on the network, find the nth nearest POI, calculate the distance, and color that point according to the distance.\n\nUse network.nearest_poi() to get distances from nodes to nearest POIs\nMerge coordinates of network nodes with distances to nearest POIs\nPlot the node coordinates, colored by distance to nth nearest POI\n\n\n4.1 Use network.nearest_poi() to get distances from nodes to nearest POIs\n\namenity = \"bar\"\naccess = net.nearest_pois(distance=2000, category=amenity, num_pois=num_pois)\n\n\naccess.tail(n=50)\n\n\n\n\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nid\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n11224592622\n505.604004\n1148.965942\n1176.387939\n1216.400024\n1387.113037\n1401.880981\n1401.880981\n1456.896973\n1534.586060\n1555.621948\n\n\n11224592624\n647.953003\n1427.760010\n1455.182007\n1505.411011\n1676.124023\n1690.891968\n1690.891968\n1695.935059\n1745.907959\n1823.597046\n\n\n11224592628\n640.257996\n1420.064941\n1447.487061\n1497.715942\n1668.428955\n1683.197021\n1683.197021\n1688.239990\n1738.213013\n1815.901978\n\n\n11224592629\n603.883972\n1408.291992\n1435.713989\n1485.942993\n1656.656006\n1671.423950\n1671.423950\n1679.582031\n1726.439941\n1804.129028\n\n\n11224592630\n609.986023\n1310.845947\n1338.267944\n1388.496948\n1559.209961\n1573.978027\n1573.978027\n1582.135986\n1628.994019\n1706.682983\n\n\n11224592632\n405.128998\n1251.527954\n1278.949951\n1329.178955\n1499.891968\n1514.660034\n1514.660034\n1569.676025\n1644.415039\n1647.364990\n\n\n11224592633\n392.946991\n1263.709961\n1291.131958\n1341.360962\n1512.073975\n1526.842041\n1526.842041\n1581.858032\n1632.233032\n1659.546997\n\n\n11224592634\n362.889008\n1293.767944\n1321.189941\n1371.418945\n1542.131958\n1556.900024\n1556.900024\n1602.175049\n1611.916016\n1647.284058\n\n\n11224592635\n404.954010\n1315.300049\n1342.722046\n1392.951050\n1563.663940\n1578.432007\n1578.432007\n1633.447998\n1644.239990\n1689.348999\n\n\n11224592636\n526.257019\n1313.577026\n1340.999023\n1391.228027\n1561.941040\n1576.708984\n1576.708984\n1591.637939\n1631.724976\n1709.413940\n\n\n11224607837\n352.937988\n1303.718994\n1331.140991\n1381.369995\n1552.083008\n1566.850952\n1566.850952\n1592.223999\n1621.866943\n1637.333008\n\n\n11224607838\n342.132996\n1314.524048\n1341.946045\n1392.175049\n1562.887939\n1577.656006\n1577.656006\n1596.791992\n1631.265991\n1632.671997\n\n\n11224607839\n333.376007\n1323.281006\n1350.703003\n1400.932007\n1571.645020\n1586.412964\n1586.412964\n1602.218994\n1636.532959\n1641.428955\n\n\n11224607840\n613.419006\n1468.312012\n1495.734009\n1545.963013\n1716.676025\n1731.443970\n1731.443970\n1739.602051\n1786.459961\n1864.149048\n\n\n11224607841\n607.888000\n1532.484009\n1559.906006\n1610.135010\n1780.848022\n1795.615967\n1795.615967\n1802.860962\n1850.631958\n1928.321045\n\n\n11224607849\n610.934021\n1535.530029\n1562.952026\n1613.181030\n1783.894043\n1798.661987\n1798.661987\n1805.906982\n1853.677979\n1931.366943\n\n\n11224607852\n961.911011\n1109.610962\n1148.056030\n1224.317993\n1323.193970\n1400.375977\n1400.375977\n1401.566040\n1471.349976\n1533.081055\n\n\n11224607853\n891.935974\n1032.795044\n1071.239990\n1154.343018\n1246.378052\n1330.401001\n1330.401001\n1331.590942\n1401.375000\n1463.105957\n\n\n11224607854\n936.064026\n985.156006\n1023.601013\n1163.201050\n1198.739014\n1291.537964\n1291.537964\n1340.448975\n1410.233032\n1424.243042\n\n\n11224607856\n953.991028\n967.229004\n1005.674011\n1145.274048\n1180.812012\n1273.610962\n1273.610962\n1322.521973\n1392.306030\n1406.316040\n\n\n11224607857\n874.960999\n1046.150024\n1073.572021\n1137.368042\n1261.709961\n1313.426025\n1313.426025\n1314.615967\n1384.400024\n1446.130981\n\n\n11224607858\n945.812012\n1117.000977\n1144.422974\n1208.218994\n1332.561035\n1384.276978\n1384.276978\n1385.467041\n1455.250977\n1516.982056\n\n\n11224607859\n953.663025\n1113.172974\n1151.618042\n1216.069946\n1326.755981\n1392.128052\n1392.128052\n1393.317993\n1463.102051\n1524.833008\n\n\n11224607860\n968.812012\n1128.994995\n1167.422974\n1231.218994\n1342.578003\n1407.276978\n1407.276978\n1408.467041\n1478.250977\n1539.982056\n\n\n11224607861\n960.997986\n1132.187012\n1159.609009\n1223.405029\n1347.746948\n1399.463013\n1399.463013\n1400.652954\n1470.437012\n1532.167969\n\n\n11224607863\n946.263000\n954.874023\n984.708008\n1124.307983\n1159.845947\n1252.645020\n1252.645020\n1301.556030\n1371.339966\n1385.349976\n\n\n11224607865\n935.150024\n965.987000\n1004.432007\n1144.031982\n1179.569946\n1272.369019\n1272.369019\n1321.280029\n1391.063965\n1405.073975\n\n\n11224607868\n1007.349976\n1244.845947\n1281.813965\n1345.609985\n1458.428955\n1521.667969\n1521.667969\n1522.858032\n1592.641968\n1654.373047\n\n\n11224607869\n998.971985\n1250.167969\n1277.589966\n1341.385986\n1465.728027\n1517.443970\n1517.443970\n1518.634033\n1588.417969\n1650.149048\n\n\n11224607870\n1022.861023\n1229.334961\n1266.302979\n1330.098999\n1442.917969\n1506.156982\n1506.156982\n1507.347046\n1577.130981\n1638.862061\n\n\n11224607871\n1018.869019\n1230.270996\n1257.692993\n1321.489014\n1445.831055\n1497.546997\n1497.546997\n1498.737061\n1568.520996\n1630.251953\n\n\n11224607872\n751.398987\n1052.126953\n1199.595947\n1218.369019\n1222.839966\n1238.843994\n1238.843994\n1292.624023\n1371.548950\n1391.348999\n\n\n11227252843\n333.114014\n333.114014\n803.945984\n803.945984\n1010.838013\n1022.827026\n1131.537964\n1189.163940\n1216.343018\n1258.291016\n\n\n11228152173\n238.455994\n396.096985\n439.218994\n511.817993\n600.966003\n618.379028\n650.729004\n666.552002\n695.070984\n790.903992\n\n\n11228152174\n236.501999\n394.143005\n437.265015\n509.864014\n599.012024\n616.424988\n648.775024\n664.598022\n693.117004\n788.950012\n\n\n11228152182\n337.255005\n494.895996\n588.390991\n610.617004\n699.765015\n710.736023\n743.085999\n758.908997\n797.312012\n889.703003\n\n\n11228181157\n142.044006\n169.093002\n205.518005\n372.545013\n394.484985\n397.846008\n443.321014\n540.862976\n596.796997\n632.458984\n\n\n11228181161\n61.731998\n125.206001\n240.009003\n314.173004\n316.790985\n317.533997\n363.009003\n516.484985\n552.146973\n603.695984\n\n\n11228181162\n141.494003\n160.246994\n204.968002\n363.699005\n393.934998\n397.295990\n442.770996\n532.017029\n596.247009\n631.908997\n\n\n11228187771\n172.931000\n330.571991\n446.292999\n500.351013\n535.440979\n546.411987\n578.762024\n594.585022\n632.987976\n725.379028\n\n\n11228187772\n178.738998\n336.380005\n452.101013\n506.158997\n541.249023\n552.219971\n584.570007\n600.393005\n638.796021\n731.187012\n\n\n11228187788\n196.298996\n200.123001\n315.843994\n404.992004\n438.855011\n472.377014\n487.028015\n645.734985\n649.096008\n650.734985\n\n\n11228187796\n207.257004\n211.080994\n326.802002\n415.950012\n449.812988\n483.334991\n497.985992\n656.692993\n660.054016\n661.692993\n\n\n11228187797\n219.723999\n223.548004\n339.269012\n428.416992\n462.279999\n495.802002\n510.453003\n669.159973\n672.520996\n674.159973\n\n\n11228187801\n182.304001\n186.128006\n301.848999\n390.997009\n424.859985\n458.381989\n473.032990\n631.739990\n635.101013\n636.739990\n\n\n11228187802\n194.306000\n198.130005\n313.851013\n402.998993\n436.862000\n470.384003\n485.035004\n643.742004\n647.103027\n648.742004\n\n\n11228187803\n176.192001\n180.016006\n295.737000\n384.885010\n418.747986\n452.269989\n466.920990\n625.627991\n628.989014\n632.762024\n\n\n11228187815\n162.623001\n248.774002\n364.494995\n453.643005\n487.506012\n521.028015\n535.679016\n567.658997\n694.385986\n697.747009\n\n\n11235679027\n1146.733032\n1146.733032\n1309.551025\n1341.865967\n1341.865967\n1394.008057\n1394.008057\n1502.314941\n1630.319946\n1704.982056\n\n\n11236771921\n707.703979\n875.854004\n926.666016\n941.291992\n943.551025\n1038.303955\n1138.055054\n1263.562012\n1279.468994\n1279.723999\n\n\n\n\n\n\n\n\n\n4.2 Merge coordinates of network nodes with distances to nearest POIs\n\nnet.nodes_df.head()\n\n\n\n\n\n\n\n\nx\ny\n\n\nid\n\n\n\n\n\n\n103327043\n-75.128666\n39.934488\n\n\n103332711\n-75.128062\n39.939224\n\n\n103332730\n-75.129329\n39.941869\n\n\n103333406\n-75.130257\n39.943351\n\n\n103333412\n-75.130332\n39.943123\n\n\n\n\n\n\n\n\naccess.head()\n\n\n\n\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nid\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n103327043\n1752.093018\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n\n\n103332711\n988.283020\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n\n\n103332730\n670.846008\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n\n\n103333406\n597.692993\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n\n\n103333412\n623.888977\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n\n\n\n\n\n\n\n\n# Merge the nodes and the distance to POIs\nnodes = pd.merge(net.nodes_df, access, left_index=True, right_index=True)\n\n# Make into a geodataframe\nnodes = gpd.GeoDataFrame(\n    nodes, geometry=gpd.points_from_xy(nodes[\"x\"], nodes[\"y\"]), crs=\"EPSG:4326\"\n)\n\n\nnodes.head()\n\n\n\n\n\n\n\n\nx\ny\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\ngeometry\n\n\nid\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n103327043\n-75.128666\n39.934488\n1752.093018\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\nPOINT (-75.12867 39.93449)\n\n\n103332711\n-75.128062\n39.939224\n988.283020\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\nPOINT (-75.12806 39.93922)\n\n\n103332730\n-75.129329\n39.941869\n670.846008\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\nPOINT (-75.12933 39.94187)\n\n\n103333406\n-75.130257\n39.943351\n597.692993\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\nPOINT (-75.13026 39.94335)\n\n\n103333412\n-75.130332\n39.943123\n623.888977\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\n2000.0\nPOINT (-75.13033 39.94312)\n\n\n\n\n\n\n\n\n\n4.3 And now plot it!\nLet’s define a function to do this for us, since we’ll repeat this plot multiple times\n\ndef plot_walking_distance(net, amenity, distance=1000, n=1):\n    \"\"\"\n    Plot the walking distance to the specified amenity\n    \"\"\"\n    from mpl_toolkits.axes_grid1 import make_axes_locatable\n\n    # subset of POI\n    poi_subset = poi_df[poi_df[\"amenity\"] == amenity]\n\n    # get the distances to nearest num_pois POI\n    access = net.nearest_pois(distance=1000, category=amenity, num_pois=num_pois)\n\n    # merge node positions and distances to nearest PO\n    nodes = pd.merge(net.nodes_df, access, left_index=True, right_index=True)\n    nodes = gpd.GeoDataFrame(\n        nodes, geometry=gpd.points_from_xy(nodes[\"x\"], nodes[\"y\"]), crs=\"EPSG:4326\"\n    )\n\n    # Create the figure\n    fig, ax = plt.subplots(figsize=(10, 10))\n    divider = make_axes_locatable(ax)\n    cax = divider.append_axes(\"right\", size=\"5%\", pad=0.1)\n\n    # plot the distance to the nth nearest amenity\n    ax = nodes.plot(ax=ax, cax=cax, column=nodes[n], legend=True, **plot_kwargs)\n\n    # add the amenities as stars\n    for i, row in poi_subset.iterrows():\n        ax.scatter(row[\"lon\"], row[\"lat\"], color=\"red\", s=100, marker=\"*\")\n\n    # format\n    ax.set_facecolor(\"black\")\n    ax.figure.set_size_inches(fig_kwargs[\"figsize\"])\n\n    # set extent\n    [xmin, ymin, xmax, ymax] = nodes.geometry.total_bounds\n    ax.set_xlim(xmin, xmax)\n    ax.set_ylim(ymin, ymax)\n\n    return ax\n\n\n\n\nEvaluating amenity choice\nThe difference between maps to the nearest amenity and for example, the 5th nearest amenity tells us about the options consumers have\n\nExample: bars\n\nax = plot_walking_distance(net, \"bar\", n=1)\nax.set_title(\"Walking distance to the nearest bar\", fontsize=18);\n\n\n\n\n\nax = plot_walking_distance(net, \"bar\", n=3)\nax.set_title(\"Walking distance to the 3rd nearest bar\", fontsize=18);\n\n\n\n\n\n\nExample: schools\n\nax = plot_walking_distance(net, \"school\", n=1)\nax.set_title(\"Walking distance to the nearest school\", fontsize=18);\n\n\n\n\n\nax = plot_walking_distance(net, \"school\", n=3)\nax.set_title(\"Walking distance to the 3rd nearest school\", fontsize=18);\n\n\n\n\n\n\nExample: restaurants\n\nax = plot_walking_distance(net, \"restaurant\", n=1)\nax.set_title(\"Walking distance to the nearest restaurant\", fontsize=18);\n\n\n\n\n\nax = plot_walking_distance(net, \"restaurant\", n=10)\nax.set_title(\"Walking distance to the 10th nearest restaurant\", fontsize=18);\n\n\n\n\n\n\nExample: car sharing\n\nax = plot_walking_distance(net, \"car_sharing\", n=1)\nax.set_title(\"Walking distance to the nearest car sharing\", fontsize=18);\n\n\n\n\n\nax = plot_walking_distance(net, \"car_sharing\", n=10)\nax.set_title(\"Walking distance to the 10th nearest car sharing\", fontsize=18);"
  },
  {
    "objectID": "content/week-5/lecture-5A.html#at-home-exercise-explore-amenities-in-the-neighborhood-of-your-choice",
    "href": "content/week-5/lecture-5A.html#at-home-exercise-explore-amenities-in-the-neighborhood-of-your-choice",
    "title": "Week 5AGeospatial Data: Street Networks",
    "section": "At-home exercise: Explore amenities in the neighborhood of your choice",
    "text": "At-home exercise: Explore amenities in the neighborhood of your choice\nMany, many more amenities are logged throughout the city. Pick your favorite neighborhood and explore.\nSee this page for the full list of amenities.\nFinal project idea: With this kind of analysis, you can look at amenity-based influence in housing, neighborhood selection, etc. or something similar to the Walk Score."
  },
  {
    "objectID": "content/index.html",
    "href": "content/index.html",
    "title": "Weekly Course Content",
    "section": "",
    "text": "As detailed on the schedule page, the course will be broken up into 14 weeks of content, and each week will have two lectures (cleverly labeled “A” and “B”) that cover that week’s unique topic. Each week will have a recommended set of readings that will help reinforce the content. As we progress through the semester, you will be able to access the weekly content on the sidebar of this page. For each week, you’ll find information about readings and topics, as well as links to the lecture slides."
  },
  {
    "objectID": "content/index.html#lecture-slides",
    "href": "content/index.html#lecture-slides",
    "title": "Weekly Course Content",
    "section": "Lecture slides",
    "text": "Lecture slides\nThe lecture slides are Jupyter notebook files, a mix of executable Python cells, text, and images. Students have a few different options to access the slide materials:\n\nThe Jupyter notebook files for each week are stored in a repository that is available on the course’s GitHub homepage. On the content page for each week, you will see a link to this repository. Once you navigate to the repository on GitHub, you can download the contents of the repository to your computer and work locally with the notebook files by launching JupyterLab on your laptop. To download the repository contents, look for the green “Code” button and select “Download ZIP”:\n\n\n\n\n\n\n\nYou can also open the lecture slides in an interactive, executable environment using the free Binder service. This service is hosted in the cloud, meaning that the code is not being executed locally on your laptop but instead on Binder’s servers. This can be very convenient, since it doesn’t require you to have the files downloaded to your laptop or your Python environment to be set up yet. On the content page for each week, look for the Binder logo  for links to launch the lectures on Binder.\nOn the content page for each week, there are also links to HTML versions of the lecture slides. Look for the  icon for this version of the slides. Since they are displayed in the browser, they are NOT executable and cannot be changed. This version of the slides is a useful reference tool to look up how we did something in class. During class periods, we recommend that you use options #1 or #2 to view the slides, so that you can follow along and execute slides and participate in any in-class exercises or labs."
  },
  {
    "objectID": "content/week-9/lecture-9A.html",
    "href": "content/week-9/lecture-9A.html",
    "title": "Lecture 9AFrom Notebooks to the Web: Quarto & GitHub Pages",
    "section": "",
    "text": "Section 401\nOctober 30, 2023"
  },
  {
    "objectID": "content/week-9/lecture-9A.html#outline-for-the-rest-of-the-course",
    "href": "content/week-9/lecture-9A.html#outline-for-the-rest-of-the-course",
    "title": "Lecture 9AFrom Notebooks to the Web: Quarto & GitHub Pages",
    "section": "Outline for the rest of the course",
    "text": "Outline for the rest of the course\nIn the next two weeks, we’ll discuss ways to translate our analysis results to the Web in a meaningful way. We’ll cover two methods to do so, each with their own pros and cons:\n\nEmbedding interactive charts on the Web via Quarto\nCreating dashboards using the Python library Panel\n\nThen, we transition into our “data science in the wild” case studies, where we’ll do a deeper dive into particular use cases, including:\n\nPredictive modeling and machine learning\nClustering algorithms\nAdvanced raster data"
  },
  {
    "objectID": "content/week-9/lecture-9A.html#the-final-project",
    "href": "content/week-9/lecture-9A.html#the-final-project",
    "title": "Lecture 9AFrom Notebooks to the Web: Quarto & GitHub Pages",
    "section": "The final project",
    "text": "The final project\nMore details uploaded here: https://github.com/MUSA-550-Fall-2023/final-project\n\nKey dates\n\nWritten proposal due date: Monday, December 4th (or earlier)\nProject due date: Wednesday, December 20th at 11:59 PM\n\nFinal projects must receive prior approval in the form of a written proposal."
  },
  {
    "objectID": "content/week-9/lecture-9A.html#sharing-work-online-with-quarto-github-pages",
    "href": "content/week-9/lecture-9A.html#sharing-work-online-with-quarto-github-pages",
    "title": "Lecture 9AFrom Notebooks to the Web: Quarto & GitHub Pages",
    "section": "Sharing work online with Quarto & GitHub Pages",
    "text": "Sharing work online with Quarto & GitHub Pages\nWe can create beautiful websites that describe complex technical analyses in Python using Quarto and deploy them online using GitHub Pages. This combination of tools is a really powerful way to create and share your work.\n\nQuarto\n\nQuarto is a relatively new tool, but is becoming popular quickly.\nIt’s the successor to the Rmarkdown ecosystem from the Rstudio team\nIt combines functionality into a single tool and also extends its computation power to other languages.\nMost importantly for us, Quarto supports executing Python code, allowing us to convert Jupyter notebooks to HTML and share them online.\nYou supports building multiple types of online content, including websites, blogs, and books.\n\n\n\nGitHub Pages\n\nGitHub Pages is static website generator that can be used to automatically generate a website from any GitHub repository.\nWe’ll use it to deploy our website content generated using Quarto\nEven though GitHub Pages is a static site (no server to execute code), it can embed interactive charts and maps and maintain the interactive functionality\n\nQuarto + GitHub Pages is very cool, and allows you to build very complex websites. The main website for this course is developed using Quarto + GitHub Pages!\n\n\n\n\n\n\nNote\n\n\n\nFor the final project, you’ll be asked to publish a Quarto website using GitHub pages that describes your analysis and results.\n\n\n\n\nThe example Quarto site\nI’ve set up a working example website so we can walk through the main features of Quarto. It will help us learn the basics of Quarto and serve as a reference, along with Quarto documentation, as you start to customize your own site.\nAnd the published site is available at: https://musa-550-fall-2023.github.io/quarto-website-template/\nLet’s start by exploring the different parts of the site.\n\nIn particular, we see a sidebar with three main parts:\n\nThe main home page entitled “Welcome”\nAnd about page\nAn “analysis” section with several sub-sections\n\n\n\nThe website’s repo\nLet’s go to this website’s GitHub repository: https://github.com/MUSA-550-Fall-2023/quarto-website-template.\nLet’s explore the different filenames first. Many of the files line up with the content we saw above displayed on the rendered website. These have red arrows marking them in the image below.\nYou’ll see the “analysis” folder and the rest in this site are .qmd files, which are special Quarto-flavored markdown files. They primarily contain Markdown text but can also (optionally) include executable code blocks (such as Python or R). The index.qmd is the home page. If you click inside “analysis” you’ll see a mix of file types, including .ipynb Jupyter notebook files and a .qmd markdown file.\n\nThe “docs” folder has all of the rendered HTML content that gets used to show the final website. The content matches all of the content in the input .qmd and .ipynb files, but these files have been processed by Quarto into HTML to be displayed in the browser.\n\n\nThe _quarto.yml configuration file\nThere is also a _quarto.yml file, which is the website’s configuration file. It is essentially metadata for the website that sets up the layout of the site and includes the order that the pages will be in. This is where you update the organization of your website: which page comes before another. If we compare side-by-side, you’ll see that the pages that appear on our website are listed there.\n \nNotice that there are multiple ways in the _quarto.yml for you to include a file in your website. Let’s take a closer look at the “contents” key, nested under the “sidebar” key.\nIn the above image, the “Welcome” page we see in the left sidebar of the published website (left image) is represented in _quarto.yml (right image) over two lines, with line 36 indicating the file reference (index.qmd) and line 37 indicating the text to show up in the left sidebar (Welcome). However, all of the other files (either .qmd or .ipynb) are just represented by a single line.\nThis represents two strategies for including a file in your website. By default, the title of a specified file will show up in the website’s sidebar, which is what is happening with most of the files in the sidebar. If you would like more control over what is written in the sidebar vs. the title of your files, then the approach we took with “Welcome” is what you’ll want to do: you’ll see that only “Welcome” shows up in the sidebar as we specified in _quarto.yml, but the page’s title says “MUSA 550 Final Project Template” (which I thought was too long for the sidebar).\n\n\n\n\n\n\nNote\n\n\n\nThis type of file (.yml or .yaml) is written in YAML (“Yet Another Markup Language”). In this language, spacing and indentation matters. Pay attention to whether text is indented by one, two, four, or other spaces, and make sure you follow it; if your site is not looking as expected it is likely a silent error in your YAML.\n\n\nLet’s explore the rest of the file:\n\nA few key things to know:\n\nThe “project” section tells Quarto to build a website and put the rendered output HTML in the “docs” folder\nThe content under the “website” key customizes the different parts of the website\n\nYou can customize the title, site-url, and repo-url to match your repository\nUnder “page-footer”, you can also customize the footer to say whatever you’d like\nUnder “sidebar”, you can customize the logo that shows up in the sidebar and the icons that show up below it as well\nYou should set the “contents” under “sidebar” to match the desired organization of your website\n\nThe “html” key under “format” sets some sensible defaults for how the HTML content should look. These defaults affect all pages, but you can change them for any particular page on the website.\n\n\n\n\n\n\n\nTip\n\n\n\nTake a look at the user guide section on HTML for some of the possible options for HTML pages.\nMore info on themes is available on the Quarto documentation.\n\n\n\n\nAdding technical content\nYou’ll notice in the “analysis” folder of the repo there are three Jupyter notebook files and a .qmd file.\nThere are two main ways to embed Python code (and its associated output) in a Quarto website:\n\nBy directly using .ipynb files. Quarto will execute all cells in the file and convert to HTML.\nBy including a Python code block in the .qmd markdown file directly.\n\nIn many ways, .ipynb and .qmd files are very similar — you can think of them as a mix of Markdown text and executable Python code!\n\nFormating code blocks\nQuarto let’s you customize how code blocks show up, or if they show up at all. This can be done in either:\n\nThe metadata header for a file, or\nA comment in the code cell itself\n\n\n\n1. Hiding code cells\nFor example, in the first cell of the 3-altair-hvplot.ipynb notebook file, we have a Markdown cell that hides all code via the echo: false option:\n\nBut you can hide individual code cells from showing up in the output using a special comment in the cell:\n\n\n\n2. Folding code cells\nSimilarly, you can “echo” the code block’s content but “fold” it such that readers need to click an arrow to show the code block:\n\n\n\n\n\n\n\n\nTip\n\n\n\nCheck out the Quarto docs for more information on: - Available options for Python code blocks - Customizing HTML code block formatting\n\n\n\n\n\nStarting from a template\nThe example website we’ve been discussing today is a template repository. This means that you can use the template to get a completely independent copy of the repository under your own username. From then on, you can make any changes you’d like without affecting the original repository.\nLet’s walk through the steps for creating your own copy.\n\nStep 1: Create your own repository\n\nStart from the main repository: https://github.com/MUSA-550-Fall-2023/quarto-website-template\nThis repository is a template repository\nClick on the “Use this template” button and then “Create a new repository” to create your own version of the repository\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nFor more information, see this guide on creating a repository from a template.\n\n\n\n\nStep 2: Choose a name and description\n\n\n\nStep 3: Set up the repository to deploy via GitHub Pages\nIf you have a repository with content rendered via Quarto, deploying via GitHub Pages is easy.\nFirst, make sure the “output-dir” key under “project” in your _quarto.yml file is set to “docs”. This ensures that the content for your rendered site is stored in the “docs” folder. Note: This is already set up in the template repository\nThen, go to the “Settings” tab for your repository, and turn on GitHub Pages on the “main” branch and tell it to use the “docs” folder.\n\nClick on the Pages button in the left sidebar, and under “Build and Deployment” make sure you are building from the “main” branch and “docs” folder.\nThis will automatically build the website at the following URL: https://[USERNAME].github.io/[REPOSITORY NAME]\n\n\n\n\nThe editing workflow\nNow, let’s talk about how to make edits and customize the template repository! Since we’re most familiar with Jupyter notebook files, my suggested workflow is:\n\nClone or download your repository content from GitHub to your local computer.\nAuthor content in JupyterLab: write Markdown text, code, etc. JupyterLab will support editing both .qmd and .ipynb files.\nUpdate _quarto.yml as needed (for example, if you’ve created a new file you’d like included in your site)\nRender individual files and/or the whole website using quarto.\nIterate and repeat as necessary.\nCommit and push your new website content back to GitHub, your updates will publish automatically!\n\n\n\n\n\n\n\nImportant\n\n\n\nFor this workflow, you’ll need to install both Quarto and Git (via GitHub Desktop). We’ll set these up and try it out in the exercise today."
  },
  {
    "objectID": "content/week-9/lecture-9A.html#exercise-set-up-your-own-github-pages-project-page",
    "href": "content/week-9/lecture-9A.html#exercise-set-up-your-own-github-pages-project-page",
    "title": "Lecture 9AFrom Notebooks to the Web: Quarto & GitHub Pages",
    "section": "Exercise: Set up your own Github Pages project page",
    "text": "Exercise: Set up your own Github Pages project page\nThe goal of this exercise is to make a copy of the template repository, make some small changes, render the new site, and deploy via GitHub pages. We’ll need to do the following:\n\nStep 1: Install Quarto\nThe site https://quarto.org/docs/get-started/ describes how to install Quarto, which will depend on your operating system.\nAfter following the installation instructions, you can test your installation by opening your command line (Terminal in Mac OS or Miniforge Prompt in Windows) and running:\nquarto --help\nThis should print out the help message for the quarto command.\n\n\nStep 2: Install GitHub Desktop\nWe’ll be rendering our site content with the quarto command locally on our computer, which will generate lots of new changes in the “docs” folder of the website’s repository. We’ll then need to commit all of those changes to our version history, and push them to GitHub. It will be easiest to do this using the GitHub Desktop application.\nIf you don’t have GitHub Desktop installed yet, you can download and install it here: https://desktop.github.com/\n\n\n\n\n\n\nTip\n\n\n\nIf you’re new to GitHub Desktop, check out the quickstart guide.\n\n\n\n\nStep 3: Create your own repository\n\nUse the above instructions to create your own copy of the template repository.\nThen, open the repository locally by clicking on the “&lt;&gt; Code” button and choosing the “Open in GitHub Desktop” option\n\n\n\n\nStep 4: Make some edits\nFirst, find out the path for the downloaded repository and launch JupyterLab: - In GitHub Desktop, find out the path for the downloaded code by using the option to “Open in Explorer” or “View in Finder.” This should give you the file path of the downloaded repository. - Navigate to that folder, activate our course’s environment, and launch JupyterLab.\nThen, make some edits: - In JupyterLab, make changes to your _quarto.yml to update the name, repository info, etc. - Add a Jupyter notebook file with some example code and add it to the _quarto.yml file.\n\n\nStep 5: Preview your changes\nYou can launch a local version of your website to preview your changes. There are three steps involved:\nStep 1. First, launch a new Miniforge Prompt (Windows) or Terminal (Mac OS) window. Navigate to the folder for your Quarto website.\nStep 2. From the command line, activate our course environment by running: mamba activate musa-550-fall-2023\nStep 3. From the command line, run the following command: quarto preview .\nThis should open a new tab in your browser with URL localhost:3333 that will show a live preview of your site. You can make edits to the files in JupyterLab and the live preview will update automatically!\n\n\nStep 6: Render your website\nOnce you’re satisfied with your site via the preview, it’s time to render the full website. This create a fresh set of rendered content in the “docs” folder, which will contain all of the code necessary to deploy your website online.\nOnce again, there are three steps involved:\nStep 1. First, launch a new Miniforge Prompt (Windows) or Terminal (Mac OS) window. Navigate to the folder for your Quarto website.\nStep 2. From the command line, activate our course environment by running: mamba activate musa-550-fall-2023\nStep 3. From the command line, run the following command: quarto render .\nNow, we’re ready to push changes to GitHub and deploy!\n\n\nStep 7: Commit and push your changes\nAfter the last step, we have updated content that we need to commit and push to GitHub. We’ll do that in GitHub Desktop. The steps involved are:\n\nOpen your repository in GitHub Desktop.\nYou should see a number of local changes – this is the content we just generated when we rendered the site. We’ll need to commit these changes so they are saved in the repository’s version history. To do that, you can follow these instructions. You’ll need to write a commit message and hit the “Commit to main” button in the lower left part of GitHub Desktop.\nNow, we’ll sync these changes with GitHub by pushing the changes. Instructions for how to do that are available here\n\nOnce you push your changes, your repository will automatically update the deployed website!"
  },
  {
    "objectID": "content/week-7/index.html",
    "href": "content/week-7/index.html",
    "title": "Week 7: Getting Data, Part 2: Working with APIs",
    "section": "",
    "text": "Content for lectures 7A and 7B\n\n\n        \n            \n             \n            View materials:\n             \n            MUSA-550-Fall-2023/week-7\n        \n\n        \n            \n             \n            HTML slides:\n             \n            \n                Lecture 7A\n            \n             \n            \n                Lecture 7B\n            \n        \n        \n\n        \n            \n             \n            Executable slides:\n             \n            \n                Lecture 7A\n            \n             \n            \n                Lecture 7B"
  },
  {
    "objectID": "content/week-7/index.html#new-packages",
    "href": "content/week-7/index.html#new-packages",
    "title": "Week 7: Getting Data, Part 2: Working with APIs",
    "section": "New Packages",
    "text": "New Packages\n\ncenpy\npygris\ntextblob\ntransformers\nwordcloud"
  },
  {
    "objectID": "content/week-7/index.html#reference-materials",
    "href": "content/week-7/index.html#reference-materials",
    "title": "Week 7: Getting Data, Part 2: Working with APIs",
    "section": "Reference Materials",
    "text": "Reference Materials\n\nCensus API User Guide\nCensus API Tutorial\nVariable Names for Census Fields\ncenpy Documentation\n\nIntroductory guide\n\nCensus Geographic Identifiers (GEOIDs)\npygris Documentation\ntextblob Documentation\ntransformers Documentation\nwordcloud Documentation"
  },
  {
    "objectID": "content/week-7/lecture-7B.html",
    "href": "content/week-7/lecture-7B.html",
    "title": "Week 7BGetting Data, Part 2: Working with APIs",
    "section": "",
    "text": "Section 401\nWednesday, October 18, 2023\nWeek #7 Agenda\nLast time:\nToday:\n# Data analysis\nimport geopandas as gpd\nimport numpy as np\nimport pandas as pd\n\n# APIs\nimport requests\n\n# Plotting\nimport seaborn as sns\nfrom matplotlib import pyplot as plt\nimport holoviews as hv\nimport hvplot.pandas\npd.options.display.max_columns = 999\npd.options.display.max_colwidth = None"
  },
  {
    "objectID": "content/week-7/lecture-7B.html#part-1-picking-up-where-we-left-off",
    "href": "content/week-7/lecture-7B.html#part-1-picking-up-where-we-left-off",
    "title": "Week 7BGetting Data, Part 2: Working with APIs",
    "section": "Part 1: Picking up where we left off",
    "text": "Part 1: Picking up where we left off"
  },
  {
    "objectID": "content/week-7/lecture-7B.html#natural-language-processing-and-the-311-request-api",
    "href": "content/week-7/lecture-7B.html#natural-language-processing-and-the-311-request-api",
    "title": "Week 7BGetting Data, Part 2: Working with APIs",
    "section": "Natural Language Processing and the 311 Request API",
    "text": "Natural Language Processing and the 311 Request API\nToday, we’ll continue our analysis of 311 request descriptions queried through the API for the Philly 311 system, available at: https://iframe.publicstuff.com/#?client_id=242\nWe’ll focus on sentiment analysis today.\nLet’s load the data from the 311 API first:\n\n# Store the data we request\ndata = []\n\n# Total number of pages\ntotal_pages = 3\n\n# Loop over each page\nfor page_num in range(1, total_pages + 1):\n    # Print out the page number\n    print(f\"Getting data for page #{page_num}...\")\n\n    # Make the request\n    r = requests.get(\n        \"https://vc0.publicstuff.com/api/2.0/requests_list\",\n        params={\n            \"client_id\": 242,  # Unique identifier for Philadelphia\n            \"page\": page_num,  # What page of data to pull\n            \"limit\": 200,  # How many rows per page\n        },\n    )\n\n    # Get the json\n    d = r.json()\n\n    # Add the new data to our list and save\n    data = data + [r[\"request\"] for r in d[\"response\"][\"requests\"]]\n\n# Create a dataframe\ndata = pd.DataFrame(data)\n\nGetting data for page #1...\nGetting data for page #2...\nGetting data for page #3...\n\n\n\nlen(data)\n\n600\n\n\n\ndata.head()\n\n\n\n\n\n\n\n\nprimary_attachment\nid\nimage_thumbnail\ntitle\ndescription\nstatus\naddress\nlocation\nzipcode\nforeign_id\ndate_created\ncount_comments\ncount_followers\ncount_supporters\nlat\nlon\nuser_follows\nuser_comments\nuser_request\nrank\nuser\n\n\n\n\n0\n{'id': 4618963, 'extension': 'jpg', 'content_type': 'image/jpeg', 'url': 'https://d17aqltn7cihbm.cloudfront.net/uploads/d4f9babbe2a35148e1999e683af928e3', 'versions': {'small': 'https://d17aqltn7cihbm.cloudfront.net/uploads/small_d4f9babbe2a35148e1999e683af928e3', 'medium': 'https://d17aqltn7cihbm.cloudfront.net/uploads/medium_d4f9babbe2a35148e1999e683af928e3', 'large': 'https://d17aqltn7cihbm.cloudfront.net/uploads/large_d4f9babbe2a35148e1999e683af928e3'}}\n14500909\nhttps://d17aqltn7cihbm.cloudfront.net/uploads/small_d4f9babbe2a35148e1999e683af928e3\nGraffiti Removal\nOn the southwest corner of the intersection of S. 46th Street and Woodland Avenue.\nsubmitted\n4600 Woodland Ave, Philadelphia, PA 19143, USA\n\nNone\n16306396\n1697501960\n0\n0\n0\n39.944178\n-75.209649\n0\n0\n0\n1\nWalkAbout\n\n\n1\n{'id': 4618960, 'extension': 'jpg', 'content_type': 'image/jpeg', 'url': 'https://d17aqltn7cihbm.cloudfront.net/uploads/6e5e286bde3cdf1ec670d0efaa95d98f', 'versions': {'small': 'https://d17aqltn7cihbm.cloudfront.net/uploads/small_6e5e286bde3cdf1ec670d0efaa95d98f', 'medium': 'https://d17aqltn7cihbm.cloudfront.net/uploads/medium_6e5e286bde3cdf1ec670d0efaa95d98f', 'large': 'https://d17aqltn7cihbm.cloudfront.net/uploads/large_6e5e286bde3cdf1ec670d0efaa95d98f'}}\n14500903\nhttps://d17aqltn7cihbm.cloudfront.net/uploads/small_6e5e286bde3cdf1ec670d0efaa95d98f\nGraffiti Removal\nOn the 'No Dumping' street sign on the south side of Cedar Avenue about 11 steps west of S. 46th Street. Next to the tiny park.\nsubmitted\n4600 Cedar Ave, Philadelphia, PA 19143, USA\n\nNone\n16306393\n1697501884\n0\n0\n0\n39.949022\n-75.215039\n0\n0\n0\n1\nWalkAbout\n\n\n2\n{'id': 4618941, 'extension': 'jpg', 'content_type': 'image/jpeg', 'url': 'https://d17aqltn7cihbm.cloudfront.net/uploads/a7e674332af320c3766d7448d1b0bee1', 'versions': {'small': 'https://d17aqltn7cihbm.cloudfront.net/uploads/small_a7e674332af320c3766d7448d1b0bee1', 'medium': 'https://d17aqltn7cihbm.cloudfront.net/uploads/medium_a7e674332af320c3766d7448d1b0bee1', 'large': 'https://d17aqltn7cihbm.cloudfront.net/uploads/large_a7e674332af320c3766d7448d1b0bee1'}}\n14500867\nhttps://d17aqltn7cihbm.cloudfront.net/uploads/small_a7e674332af320c3766d7448d1b0bee1\nIllegal Dumping\nApartment complex is dumping trash on our street again! Please help or tell me the proper channels I need to take. Thank you!\nsubmitted\n6400 N Smedley St,Philadelphia, PA 19126\nPhiladelphia, Pennsylvania\n19126\n16306384\n1697501287\n0\n0\n0\n40.051265\n-75.146395\n0\n0\n0\n1\nMaxdawn\n\n\n3\nNaN\n14500812\n\nTraffic Sign Complaint\nPeople speed up the street like they’re all 95 it needs to have street cushions put in or speed bumps whatever you wanna call\nsubmitted\n3532 Mercer St,Philadelphia, PA 19134\nPhiladelphia, Pennsylvania\n19134\n16306373\n1697500549\n0\n0\n0\n39.989440\n-75.095472\n0\n0\n0\n1\nLisa BUCHER\n\n\n4\n{'id': 4618920, 'extension': 'jpeg', 'content_type': 'image/jpeg', 'url': 'https://d17aqltn7cihbm.cloudfront.net/uploads/021404250e358776466e2a1eed0b37b7', 'versions': {'small': 'https://d17aqltn7cihbm.cloudfront.net/uploads/small_021404250e358776466e2a1eed0b37b7', 'medium': 'https://d17aqltn7cihbm.cloudfront.net/uploads/medium_021404250e358776466e2a1eed0b37b7', 'large': 'https://d17aqltn7cihbm.cloudfront.net/uploads/large_021404250e358776466e2a1eed0b37b7'}}\n14500796\nhttps://d17aqltn7cihbm.cloudfront.net/uploads/small_021404250e358776466e2a1eed0b37b7\nAbandoned Automobile\nThis vehicle has been parked on the 5300 block of Sycamore Street. The car appears to be stolen and parts from the vehicle were removed such as Steering wheel – and other items\nsubmitted\n5414 B St, Philadelphia, PA 19120, USA\n\nNone\n16306368\n1697500317\n0\n0\n0\n40.032428\n-75.118470\n0\n0\n0\n1\n\n\n\n\n\n\n\n\nLet’s remove rows with missing descriptions and get our list of descriptions:\n\n# Remove rows with missing descriptions\ndata = data.dropna(subset=[\"description\"])\ndata_final = data.loc[data[\"description\"] != \"\"]\n\n# Strip out spaces and convert to a list\ndescriptions = data_final[\"description\"].str.strip().tolist()\n\nAnd then run our steps to clean up our text data:\n\nBreak strings into words\nRemove capitalization\nRemove stop words\nRemove punctuation\n\n1. Break strings into words\nUse the .split() command to break a string into words by splitting on spaces.\n\ndescriptions_words = [desc.split() for desc in descriptions]\n\nThis is a list of lists, e.g., the first element is a list of words. Let’s flatten this into a list of just words:\n\ndescriptions_words_flat = []\n\nfor list_of_words in descriptions_words:\n    for word in list_of_words:\n        descriptions_words_flat.append(word)\n\n2. Convert all words to lower case\nUse .lower() makes all words lower cased\n\ndescriptions_words_lower = [word.lower() for word in descriptions_words_flat]\n\n3. Remove stop words\nCommon words that do not carry much significance and are often ignored in text analysis.\n\nimport nltk\n\nnltk.download(\"stopwords\");\n\n[nltk_data] Downloading package stopwords to /Users/nhand/nltk_data...\n[nltk_data]   Package stopwords is already up-to-date!\n\n\nGet the list of common stop words:\n\nstop_words = list(set(nltk.corpus.stopwords.words(\"english\")))\n\nstop_words[:10]\n\n['after',\n 'on',\n 'not',\n 'any',\n 'hers',\n 'your',\n \"you've\",\n 'theirs',\n 'has',\n \"hadn't\"]\n\n\n\ndescriptions_no_stop = []\n\nfor word in descriptions_words_lower:\n    if word not in stop_words:\n        descriptions_no_stop.append(word)\n\n\nlen(descriptions_no_stop)\n\n5418\n\n\n4. Remove punctuation\nGet the list of common punctuation:\n\nimport string\n\n\npunctuation = list(string.punctuation)\n\n\npunctuation[:5]\n\n['!', '\"', '#', '$', '%']\n\n\nRemove punctuation from words:\n\ndescriptions_final = []\n\n# Loop over all words\nfor word in descriptions_no_stop:\n    \n    # Remove any punctuation from the words\n    for p in punctuation:\n        word = word.replace(p, \"\")\n        \n    # Save it if the string is not empty\n    if word != \"\":\n        descriptions_final.append(word)\n\nConvert to a Dataframe with one column:\n\nwords = pd.DataFrame({\"words\": descriptions_final})\n\n\nwords.head()\n\n\n\n\n\n\n\n\nwords\n\n\n\n\n0\nsouthwest\n\n\n1\ncorner\n\n\n2\nintersection\n\n\n3\ns\n\n\n4\n46th\n\n\n\n\n\n\n\n\nUse case #1: calculating word frequencies\nAn example of text mining\nUse a pandas groupby and sort to put in descending order:\n\nN = words.groupby(\"words\", as_index=False).size().sort_values(\"size\", ascending=False, ignore_index=True)\n\nThe top 15 words by frequency:\n\ntop15 = N.head(15)\n\ntop15\n\n\n\n\n\n\n\n\nwords\nsize\n\n\n\n\n0\nstreet\n141\n\n\n1\ntrash\n113\n\n\n2\nside\n64\n\n\n3\nblock\n41\n\n\n4\nsidewalk\n39\n\n\n5\nvehicle\n39\n\n\n6\nplease\n38\n\n\n7\nproperty\n35\n\n\n8\nlot\n35\n\n\n9\ncar\n33\n\n\n10\ncorner\n33\n\n\n11\ngraffiti\n30\n\n\n12\nfront\n30\n\n\n13\nmonths\n30\n\n\n14\npicked\n29\n\n\n\n\n\n\n\nPlot the frequencies\nUse seaborn to plot our DataFrame of word counts…\n\nfig, ax = plt.subplots(figsize=(8, 8))\n\n# Plot horizontal bar graph\nsns.barplot(\n    y=\"words\",\n    x=\"size\",\n    data=top15,\n    ax=ax,\n    color=\"#cc3000\",\n    saturation=1.0,\n)\n\nax.set_title(\"Most Common Words Found in 311 Requests\", fontsize=16);\n\n\n\n\nTakeaway: Philly cares about trash! They don’t call it Filthadelphia for nothing…\nNow, let’s visualize with a word cloud\nUse the wordcloud package to make a simple word cloud of the word frequencies.\n\n\n\n\n\n\nNote\n\n\n\nWe’ll need to pass a single string to the WordCloud function. We can combine a list of strings by using the join function and specifying the join separator to be a space (” “)\n&gt; strings = [\"this\", \"is\", \"an\", \"example\"]\n\n&gt; combined_string = \" \".join(strings)\n\n&gt; combined_string\n'this is an example'\n\n\n\nfrom wordcloud import WordCloud\n\n\n# Create a word cloud object\nwc = WordCloud(\n    background_color=\"black\", max_words=100, width=1000, height=500, colormap=\"tab20c\"\n)\n\n# NEW: Create a single string from all of our descriptions\ntext = \" \".join(descriptions_final)\n\n# Generate the image\nimg = wc.generate(text)\n\n# The matplotlib fig/ax\nfig, ax = plt.subplots()\n\n# Show the image\nax.imshow(img, interpolation=\"bilinear\")\n\n# Format\nax.set_axis_off()\nplt.show();\n\n\n\n\n\n\nUse case #2: sentiment analysis\nThe goal of a sentiment analysis is to determine the attitude or emotional state of the person who wrote a piece of text. It is often used by brands to evaluate public opinion about a product.\nThe goal\nDetermine the “sentiment” of every word in the English language\nThe hard way\nTrain a machine learning algorithm to classify words as positive vs. negative, given an input training sample of words.\nThe easy way\nLuckily, this is a very common task in NLP and there are several packages available that have done the hard work for you.\nThey provide out-of-the-box sentiment analysis using pre-trained machine learning algorithms.\n\nThe textblob package\nFirst, let’s try out a package called textblob. Textblob can calculate the “polarity” of words, from negative -1 to postive +1.\nIt’s algorithm is not particularly sophisticated (as we will see). It was trained on IMDB movie reviews and uses a dictionary mapping of adjectives to sentiment values. So, it knows about a set of adjectives and an approximate polarity for those words.\nLet’s try it out on the words from the 311 requests\n\nimport textblob\n\nFirst, copy our “words” dataframe and drop any duplicate words. We’ll try to calculate the sentiment for each word.\n\nsentiment = words.copy().drop_duplicates(subset=['words'])\n\n\nsentiment.head()\n\n\n\n\n\n\n\n\nwords\n\n\n\n\n0\nsouthwest\n\n\n1\ncorner\n\n\n2\nintersection\n\n\n3\ns\n\n\n4\n46th\n\n\n\n\n\n\n\nNow, create our “text blob” objects:\n\nblobs = [textblob.TextBlob(word) for word in sentiment['words']]\n\nNow use the “.polarity” attribute to calculate the sentiment:\n\nsentiment[\"polarity\"] = [blob.polarity for blob in blobs]\n\n\nsentiment.head(10)\n\n\n\n\n\n\n\n\nwords\npolarity\n\n\n\n\n0\nsouthwest\n0.0\n\n\n1\ncorner\n0.0\n\n\n2\nintersection\n0.0\n\n\n3\ns\n0.0\n\n\n4\n46th\n0.0\n\n\n5\nstreet\n0.0\n\n\n6\nwoodland\n0.0\n\n\n7\navenue\n0.0\n\n\n8\nno\n0.0\n\n\n9\ndumping\n0.0\n\n\n\n\n\n\n\nMost of these words are zero!\n\n(sentiment['polarity'] == 0).sum()\n\n1689\n\n\n\nlen(sentiment)\n\n1827\n\n\nWhy did this happen?\nBecause the universe of words that TextBlob knows about is pretty small! Mostly confined to common adjectives/adverbs that appeared in its IMDB review dataset.\nLet’s take a look at the words with nonzero polarity:\n\nsentiment_nonzero = sentiment.query(\"polarity != 0\")\n\nWhat are the top 15 most positive words?\n\nsentiment_nonzero.sort_values(\"polarity\", ascending=False, ignore_index=True).head(15)\n\n\n\n\n\n\n\n\nwords\npolarity\n\n\n\n\n0\nincredibly\n0.900000\n\n\n1\nfly\n0.800000\n\n\n2\nexperienced\n0.800000\n\n\n3\ngreat\n0.800000\n\n\n4\npleasant\n0.733333\n\n\n5\nbright\n0.700000\n\n\n6\namazing\n0.600000\n\n\n7\nhazardous\n0.600000\n\n\n8\nwarm\n0.600000\n\n\n9\napt\n0.600000\n\n\n10\nbetter\n0.500000\n\n\n11\ntop\n0.500000\n\n\n12\nsafe\n0.500000\n\n\n13\nsurely\n0.500000\n\n\n14\nmostly\n0.500000\n\n\n\n\n\n\n\nWhat are the top 15 most negative words?\n\nsentiment_nonzero.sort_values(\"polarity\", ascending=True, ignore_index=True).head(15)\n\n\n\n\n\n\n\n\nwords\npolarity\n\n\n\n\n0\noutrageous\n-1.0\n\n\n1\nhorrible\n-1.0\n\n\n2\nterrible\n-1.0\n\n\n3\nhate\n-0.8\n\n\n4\nbad\n-0.7\n\n\n5\ndangerous\n-0.6\n\n\n6\ndirty\n-0.6\n\n\n7\nafraid\n-0.6\n\n\n8\nfrightening\n-0.5\n\n\n9\nillegal\n-0.5\n\n\n10\nillegally\n-0.5\n\n\n11\nuncomfortable\n-0.5\n\n\n12\nrandom\n-0.5\n\n\n13\nunable\n-0.5\n\n\n14\nwrong\n-0.5\n\n\n\n\n\n\n\nWhat about a histogram of the sentiment?\n\n# create a figure and axes\nfig, ax = plt.subplots(figsize=(10, 6))\n\n# histogram\nax.hist(sentiment_nonzero[\"polarity\"], bins=\"auto\")\nax.axvline(x=0, c=\"k\", lw=2)\n\n# format\nax.set_xlabel(\"Polarity\")\nax.set_title(\"Polarity of 311 Request Words\", fontsize=16);\n\n\n\n\nHmm…this is surprising! There are many more positive words than I would have guessed!\nWhat could be going on?\nMost of the 311 requests are in fact very negative. They are mostly complaints, after all.\nIn the previous analysis, TextBlob only knows the sentiment for a small subset of the words. This is makes it difficult to produce a comprehensive sentiment for the entirety of the text for each 311 request. This is difficult because context really matters! Let’s see an example:\nAs you can see in the below example, the negation is not picked up by the algorithm:\n\ntextblob.TextBlob(\"Philly 311 is the best\").polarity\n\n1.0\n\n\n\ntextblob.TextBlob(\"Philly 311 is NOT the best\").polarity\n\n1.0\n\n\nBoth are marked as positive! (because of the word “best”)\nCan we do better? YES!\n\n\nThe transformers package\nThe Hugging Face transformers package (documentation) provides access to state-of-the-art, pre-trained machine learning algorithms for natural language processing.\nIt provides access to more sophisticated machine learning models that are capable of measuring the sentiment of a piece of text using the full context of the words.\nWe can use the transformers pipeline() function to load and run our pre-trained models\n\nfrom transformers import pipeline\n\n\n\nPositive/Negative sentiment analysis\nWe’ll start with a version of the DistilBERT model that has been fine-tuned on the Stanford Sentiment Treebank dataset.\nFor an input series of text, this model will predict the POSITIVE / NEGATIVE labels with associated confidence scores. It will tell us how likely it thinks the text is positive or negative.\n\n\n\n\n\n\nTip\n\n\n\nFor more info on sentiment analysis with the transformers package, check out this tutorial.\n\n\n\n# The name of the model we are using\nmodel = \"distilbert-base-uncased-finetuned-sst-2-english\"\n\n# Initialize our sentiment analyzer\nsentiment_classifier = pipeline(\n    task=\"sentiment-analysis\",  # The task we are doing\n    model=model,  # The specific model name\n    top_k=None,  # Predict all labels, not just top ones\n    tokenizer=model,  # Tokenize inputs using model tokenizer\n    truncation=True,  # Truncate text if we need to\n)\n\nNo CUDA runtime is found, using CUDA_HOME='/usr/local/cuda'\nXformers is not installed correctly. If you want to use memory_efficient_attention to accelerate training use the following command to install Xformers\npip install xformers.\n\n\nNow, let’s pass our original list of request descriptions to the classifier.\n\n\n\n\n\n\nNote\n\n\n\nWe don’t need to do any text pre-processing here! We’ll just pass in the raw text, so no need to remove stop words, punctuation, etc.\n\n\nWe’re now running a much more sophisticated model, so it will take more time to execute! This will likely take 2-3 minutes to run…\n\n%%time\n\nscores = sentiment_classifier(descriptions)\n\nCPU times: user 23min 10s, sys: 10.5 s, total: 23min 20s\nWall time: 2min 51s\n\n\nWhat does the response structure look like?\nFor each description, we get a dictionary containing the label (POSITIVE or NEGATIVE) and the associated score:\n\nscores[:10]\n\n[[{'label': 'POSITIVE', 'score': 0.9495417475700378},\n  {'label': 'NEGATIVE', 'score': 0.050458285957574844}],\n [{'label': 'POSITIVE', 'score': 0.508097231388092},\n  {'label': 'NEGATIVE', 'score': 0.49190279841423035}],\n [{'label': 'NEGATIVE', 'score': 0.6410784721374512},\n  {'label': 'POSITIVE', 'score': 0.35892152786254883}],\n [{'label': 'NEGATIVE', 'score': 0.9990324974060059},\n  {'label': 'POSITIVE', 'score': 0.000967523199506104}],\n [{'label': 'NEGATIVE', 'score': 0.9988860487937927},\n  {'label': 'POSITIVE', 'score': 0.0011139643611386418}],\n [{'label': 'NEGATIVE', 'score': 0.9983736276626587},\n  {'label': 'POSITIVE', 'score': 0.001626323675736785}],\n [{'label': 'NEGATIVE', 'score': 0.8497042059898376},\n  {'label': 'POSITIVE', 'score': 0.15029579401016235}],\n [{'label': 'NEGATIVE', 'score': 0.8308085799217224},\n  {'label': 'POSITIVE', 'score': 0.1691913902759552}],\n [{'label': 'POSITIVE', 'score': 0.9935035109519958},\n  {'label': 'NEGATIVE', 'score': 0.006496530957520008}],\n [{'label': 'NEGATIVE', 'score': 0.9966918230056763},\n  {'label': 'POSITIVE', 'score': 0.003308200277388096}]]\n\n\nLet’s unpack this to a more useful format:\n\nyes_no = pd.DataFrame([{d[\"label\"]: d[\"score\"] for d in dd} for dd in scores]).assign(\n    text=descriptions\n)\n\n\nyes_no.head()\n\n\n\n\n\n\n\n\nPOSITIVE\nNEGATIVE\ntext\n\n\n\n\n0\n0.949542\n0.050458\nOn the southwest corner of the intersection of S. 46th Street and Woodland Avenue.\n\n\n1\n0.508097\n0.491903\nOn the 'No Dumping' street sign on the south side of Cedar Avenue about 11 steps west of S. 46th Street. Next to the tiny park.\n\n\n2\n0.358922\n0.641078\nApartment complex is dumping trash on our street again! Please help or tell me the proper channels I need to take. Thank you!\n\n\n3\n0.000968\n0.999032\nPeople speed up the street like they’re all 95 it needs to have street cushions put in or speed bumps whatever you wanna call\n\n\n4\n0.001114\n0.998886\nThis vehicle has been parked on the 5300 block of Sycamore Street. The car appears to be stolen and parts from the vehicle were removed such as Steering wheel – and other items\n\n\n\n\n\n\n\nNote: The scores summed across both labels will sum up to 1.\nTotal sentiment calculation: We can calculate the overall score by multiplying the value for each label, e.g., (POSITIVE = +1 and NEGATIVE = -1) by the confidence score for each label. This gives an overall sentiment estimate for each piece of text:\n\nyes_no[\"sentiment\"] = (yes_no[\"POSITIVE\"] * +1) + (yes_no[\"NEGATIVE\"] * -1)\n\n\nyes_no.head()\n\n\n\n\n\n\n\n\nPOSITIVE\nNEGATIVE\ntext\nsentiment\n\n\n\n\n0\n0.949542\n0.050458\nOn the southwest corner of the intersection of S. 46th Street and Woodland Avenue.\n0.899083\n\n\n1\n0.508097\n0.491903\nOn the 'No Dumping' street sign on the south side of Cedar Avenue about 11 steps west of S. 46th Street. Next to the tiny park.\n0.016194\n\n\n2\n0.358922\n0.641078\nApartment complex is dumping trash on our street again! Please help or tell me the proper channels I need to take. Thank you!\n-0.282157\n\n\n3\n0.000968\n0.999032\nPeople speed up the street like they’re all 95 it needs to have street cushions put in or speed bumps whatever you wanna call\n-0.998065\n\n\n4\n0.001114\n0.998886\nThis vehicle has been parked on the 5300 block of Sycamore Street. The car appears to be stolen and parts from the vehicle were removed such as Steering wheel – and other items\n-0.997772\n\n\n\n\n\n\n\nQuestion: Are most of the reviews positive or negative?\nLet’s take a look at the mean and median:\n\nyes_no['sentiment'].mean()\n\n-0.708985571766335\n\n\n\nyes_no['sentiment'].median()\n\n-0.9924230165779591\n\n\nAh! By far, most of these are negative!\nPhiladelphians using the 311 system appear to be very upset.\nLet’s take a look at the overall histogram of sentiment too:\n\n# Create a figure and axes\nfig, ax = plt.subplots(figsize=(10, 6))\n\n# Histogram\nax.hist(yes_no['sentiment'], bins=\"auto\")\nax.axvline(x=0, c=\"k\", lw=2)\n\n# Format\nax.set_xlabel(\"Polarity\")\nax.set_title(\"Polarity of 311 Requests\", fontsize=16);\n\n\n\n\nWhoa! Very negative sentiment!\nThis makes much more sense than our earlier results with the Textblob package.\nLet’s look at the 10 requests with the lowest sentiment scores:\n\nyes_no.sort_values(\"sentiment\", ascending=True).head(10)\n\n\n\n\n\n\n\n\nPOSITIVE\nNEGATIVE\ntext\nsentiment\n\n\n\n\n388\n0.000206\n0.999794\nExpired tags and appears abandoned\n-0.999587\n\n\n89\n0.000217\n0.999783\nSewer is letting out really bad smell and is full of garbage.\n-0.999565\n\n\n74\n0.000240\n0.999760\nsidewalk collapse\n-0.999520\n\n\n153\n0.000252\n0.999748\nThe park lights that go on when it is dark out have been out non-functioning for over a month now. It is incredibly dark in the evening and is not safe.\n-0.999496\n\n\n399\n0.000255\n0.999745\nThe 2nd floor of the 1155 S 9th Street moved out and they dumped their stuff on the sidewalk.\n-0.999489\n\n\n46\n0.000256\n0.999744\nDangerous trash items dumped in the funeral home parking lot that was never removed properly from the past construction site at 625 Byberry Rd phila PA 19116\n-0.999489\n\n\n81\n0.000264\n0.999736\nThe trash on this block is unreal. No one bags anything up, so it blows all over. It's bad every day of the week, not just trash day. This block needs to be given real trash cans.\n-0.999471\n\n\n227\n0.000268\n0.999731\nThese chairs have been sitting here for months, on City (PHA) Property. They say \"Mummers Museum\" on them, but they're just rusting and looking like trash in our neighborhood.\n-0.999463\n\n\n130\n0.000270\n0.999730\nDumped boat alongside the 6400 Cottage St along Roosevelt Playground. It is filled with trash\n-0.999460\n\n\n49\n0.000272\n0.999728\nTrash has been on sidewalk for nearly a month. City Trash truck will not pick it up.\n-0.999455\n\n\n\n\n\n\n\nAnd the 10 requests with the highest sentiment:\n\nyes_no.sort_values(\"sentiment\", ascending=False).head(10)\n\n\n\n\n\n\n\n\nPOSITIVE\nNEGATIVE\ntext\nsentiment\n\n\n\n\n314\n0.999784\n0.000216\nGraffiti and sticker on sign. Please and thank you!\n0.999567\n\n\n323\n0.999711\n0.000289\nGraffiti on sign. Please and thank you!\n0.999422\n\n\n324\n0.999711\n0.000289\nGraffiti on sign. Please and thank you!\n0.999422\n\n\n154\n0.999605\n0.000395\nGraffiti on entire side of building on 1850 Hope. Thank you!\n0.999210\n\n\n33\n0.999430\n0.000570\nPeople speed up this street and we have children on this street\n0.998860\n\n\n223\n0.998891\n0.001109\nThe Calder Gardens construction site has a bright light on all night every night that shines across the entire neighborhood. I understand they need to light up the construction area but surely it doesn’t need to shine upwards into all of our bedrooms at night? It’s much brighter than any other light in the area.\n0.997782\n\n\n129\n0.998437\n0.001563\nOverflowing into my property\n0.996873\n\n\n212\n0.998410\n0.001590\ncenter of Cianfrani Park\n0.996820\n\n\n348\n0.998193\n0.001807\nEveryone trash was picked up except mine, and my trash was at curbside on time. I live at the corner house it’s not hard to miss\n0.996387\n\n\n51\n0.997944\n0.002056\nhey there is still an encampment here. growing bigger every day.\n0.995888\n\n\n\n\n\n\n\nTakeaway\nThe model is still clearly focusing on some crucial words (please, thank you = “positive”) but overall, doing a much, much better job overall of understanding the full context of the text.\n\n\nEmotion sentiment analysis\nThe transformers package also includes pre-trained models that can predict emotion labels.\nAs an example, let’s try out this version of the DistilBERT model that can predict the following labels for a string of text: anger, fear, sadness, joy, love, and surprise.\n\n# The model\nmodel = \"bhadresh-savani/distilbert-base-uncased-emotion\"\n\n# Initialize our sentiment analyzer\nemotion_classifier = pipeline(\n    task=\"text-classification\",  # The task we are doing\n    model=model,  # The specific model name\n    top_k=None,  # Predict all labels, not just top ones\n    tokenizer=model,  # Tokenize inputs using model tokenizer\n    truncation=True,  # Truncate text if we need to\n)\n\nClassify the 311 descriptions using our emotions model. Once again, this will likely take 2-3 minutes to run:\n\n%%time \n\nemotion_scores = emotion_classifier(descriptions)\n\nCPU times: user 23min 21s, sys: 8.8 s, total: 23min 30s\nWall time: 2min 48s\n\n\n\nemotion_scores[0]\n\n[{'label': 'fear', 'score': 0.6695271134376526},\n {'label': 'anger', 'score': 0.19726096093654633},\n {'label': 'joy', 'score': 0.09402022510766983},\n {'label': 'sadness', 'score': 0.01936410740017891},\n {'label': 'surprise', 'score': 0.012043606489896774},\n {'label': 'love', 'score': 0.0077839684672653675}]\n\n\nUnpack the label/score combos into a DataFrame:\n\nemotion = pd.DataFrame(\n    [{d[\"label\"]: d[\"score\"] for d in dd} for dd in emotion_scores]\n).assign(text=descriptions)\n\n\nemotion.head()\n\n\n\n\n\n\n\n\nfear\nanger\njoy\nsadness\nsurprise\nlove\ntext\n\n\n\n\n0\n0.669527\n0.197261\n0.094020\n0.019364\n0.012044\n0.007784\nOn the southwest corner of the intersection of S. 46th Street and Woodland Avenue.\n\n\n1\n0.859705\n0.120488\n0.010728\n0.003260\n0.004663\n0.001155\nOn the 'No Dumping' street sign on the south side of Cedar Avenue about 11 steps west of S. 46th Street. Next to the tiny park.\n\n\n2\n0.000414\n0.002554\n0.989055\n0.001997\n0.000243\n0.005738\nApartment complex is dumping trash on our street again! Please help or tell me the proper channels I need to take. Thank you!\n\n\n3\n0.184317\n0.698201\n0.062046\n0.050890\n0.002694\n0.001853\nPeople speed up the street like they’re all 95 it needs to have street cushions put in or speed bumps whatever you wanna call\n\n\n4\n0.740593\n0.133473\n0.011053\n0.108852\n0.004859\n0.001170\nThis vehicle has been parked on the 5300 block of Sycamore Street. The car appears to be stolen and parts from the vehicle were removed such as Steering wheel – and other items\n\n\n\n\n\n\n\nNow, let’s calculate the predicted label for each text. This is the label with the highest score for each text.\n\nemotion_labels = [\"anger\", \"fear\", \"sadness\", \"joy\", \"surprise\", \"love\"]\n\nUse the idxmax() function to find the column with the maximum value for each row:\n\nemotion[emotion_labels].idxmax(axis=1)\n\n0       fear\n1       fear\n2        joy\n3      anger\n4       fear\n       ...  \n462    anger\n463    anger\n464    anger\n465     fear\n466     fear\nLength: 467, dtype: object\n\n\n\nemotion['prediction'] = emotion[emotion_labels].idxmax(axis=1)\n\n\nemotion.head()\n\n\n\n\n\n\n\n\nfear\nanger\njoy\nsadness\nsurprise\nlove\ntext\nprediction\n\n\n\n\n0\n0.669527\n0.197261\n0.094020\n0.019364\n0.012044\n0.007784\nOn the southwest corner of the intersection of S. 46th Street and Woodland Avenue.\nfear\n\n\n1\n0.859705\n0.120488\n0.010728\n0.003260\n0.004663\n0.001155\nOn the 'No Dumping' street sign on the south side of Cedar Avenue about 11 steps west of S. 46th Street. Next to the tiny park.\nfear\n\n\n2\n0.000414\n0.002554\n0.989055\n0.001997\n0.000243\n0.005738\nApartment complex is dumping trash on our street again! Please help or tell me the proper channels I need to take. Thank you!\njoy\n\n\n3\n0.184317\n0.698201\n0.062046\n0.050890\n0.002694\n0.001853\nPeople speed up the street like they’re all 95 it needs to have street cushions put in or speed bumps whatever you wanna call\nanger\n\n\n4\n0.740593\n0.133473\n0.011053\n0.108852\n0.004859\n0.001170\nThis vehicle has been parked on the 5300 block of Sycamore Street. The car appears to be stolen and parts from the vehicle were removed such as Steering wheel – and other items\nfear\n\n\n\n\n\n\n\nWhat’s the breakdown across the predicted labels?\n\nemotion.groupby(\"prediction\").size().plot(kind='barh');\n\n\n\n\nTakeaway: Most descriptions are classified as “fear” or “anger”\nHow about visualizing the full distribution of scores across all emotions?\nLet’s get a tidy version for analysis:\n\nemotion_tidy = emotion.melt(\n    id_vars=[\"text\"], value_vars=emotion_labels, var_name=\"emotion\", value_name=\"score\"\n)\n\n\nemotion_tidy.head()\n\n\n\n\n\n\n\n\ntext\nemotion\nscore\n\n\n\n\n0\nOn the southwest corner of the intersection of S. 46th Street and Woodland Avenue.\nanger\n0.197261\n\n\n1\nOn the 'No Dumping' street sign on the south side of Cedar Avenue about 11 steps west of S. 46th Street. Next to the tiny park.\nanger\n0.120488\n\n\n2\nApartment complex is dumping trash on our street again! Please help or tell me the proper channels I need to take. Thank you!\nanger\n0.002554\n\n\n3\nPeople speed up the street like they’re all 95 it needs to have street cushions put in or speed bumps whatever you wanna call\nanger\n0.698201\n\n\n4\nThis vehicle has been parked on the 5300 block of Sycamore Street. The car appears to be stolen and parts from the vehicle were removed such as Steering wheel – and other items\nanger\n0.133473\n\n\n\n\n\n\n\nMake a box plot of the distribution across all emotions:\n\nsns.catplot(data=emotion_tidy, x=\"emotion\", y=\"score\", kind=\"box\");\n\n/Users/nhand/mambaforge/envs/musa-550-fall-2023/lib/python3.10/site-packages/seaborn/axisgrid.py:118: UserWarning: The figure layout has changed to tight\n  self._figure.tight_layout(*args, **kwargs)\n\n\n\n\n\nTakeaway:\nFear and anger! For emotions other than anger/fear, confidence scores are concentrated near zero, indicating that the text likely does not contain those emotions.\nLet’s do a deeper dive on some of the emotions:\nAnger\n\nangry_requests = emotion.query(\"anger &gt; 0.8\").sort_values(\"anger\", ascending=False)\n\n\nlen(angry_requests)\n\n80\n\n\n\nangry_requests.head(20)\n\n\n\n\n\n\n\n\nfear\nanger\njoy\nsadness\nsurprise\nlove\ntext\nprediction\n\n\n\n\n246\n0.001147\n0.997735\n0.000239\n0.000609\n0.000134\n0.000136\nThe are rocks and other debris items that have been picked out of the trash blocking the entry and exit way to the driveway. The owner also puts some type of white chemicals on it and it has caused damage to my vehicle numerous times. There are dirty trash bags hanging along the fence area. If a resident ask her to move it she becomes very irate and combative.\nanger\n\n\n160\n0.000773\n0.996903\n0.000356\n0.001579\n0.000128\n0.000261\nHate speech on side of building on 13th and spruce\nanger\n\n\n132\n0.001949\n0.996713\n0.000410\n0.000497\n0.000167\n0.000264\nTree coming down. Very dangerous\nanger\n\n\n53\n0.003206\n0.995312\n0.000421\n0.000688\n0.000160\n0.000212\nTree coming down on Proctor Rd. Very dangerous\nanger\n\n\n312\n0.002940\n0.995312\n0.000595\n0.000742\n0.000163\n0.000248\nIt is extremely hard to see at night especially since there is not stop sign on the road leading up to it. We hear cars hit it often and it is loud, sometimes flat tires happen and it’s dangerous for electric bikes and scooters.\nanger\n\n\n255\n0.003880\n0.994278\n0.000740\n0.000621\n0.000198\n0.000283\nVery bad hole whole tire goes in. You can’t see it which makes it even more dangerous. It’s on the drivers side of the street. Right before the bridge. Thanks\nanger\n\n\n64\n0.004393\n0.993969\n0.000550\n0.000664\n0.000175\n0.000248\nstreet light is out creating a dangerous area with crime in the neighborhood.\nanger\n\n\n61\n0.004737\n0.993821\n0.000505\n0.000447\n0.000204\n0.000286\nView from our roof deck: looks like the back wall of their house has fallen down and into the surrounding yards and areas. Very dangerous. Homeowner attempting to put the pieces of wall back together himself. Someone go help that man!\nanger\n\n\n409\n0.007373\n0.990195\n0.000709\n0.001310\n0.000198\n0.000215\nManton St is already a narrow street, the pothole makes trash collection difficult because the trash truck has to reverse and maneuver thru cars that are already parked on the curb, very dangerous\nanger\n\n\n46\n0.009776\n0.987523\n0.000854\n0.001446\n0.000197\n0.000205\nDangerous trash items dumped in the funeral home parking lot that was never removed properly from the past construction site at 625 Byberry Rd phila PA 19116\nanger\n\n\n256\n0.010180\n0.986226\n0.001814\n0.001106\n0.000227\n0.000447\nThe light pole has been out for almost 2 weeks. Please is very dark at night and in the morning. The other street light is all the way at the end of the block. With the light pole light off is making the block very dark and dangerous. Please can you send someone to fix it as soon as possible. Thank you. Maria Torres 4002 Gilham st.\nanger\n\n\n156\n0.006585\n0.985632\n0.000858\n0.006336\n0.000319\n0.000270\npeople are dumping all kinds of trash outside our business\nanger\n\n\n189\n0.009659\n0.979324\n0.003577\n0.006531\n0.000243\n0.000665\nHate messaging on electrical box facing street. Should be prioritized\nanger\n\n\n459\n0.002977\n0.977072\n0.001047\n0.018333\n0.000232\n0.000340\nMy trash collection day is Thursday but due to the holiday, it was Friday. I put my trash out on Friday morning. I return home in the evening and my trash was not picked up. All other trash on my block was picked up except mine. It was one bag, bagged correctly and placed on the sidewalk \\n\\nI don’t understand why everyone else’s bags were picked up and mine was not. \\n\\nThis has happened several times this year. It’s unacceptable. I’ve never experienced my trash being left on the sidewalk. There’s a breakdown somewhere and I want answers \\n\\nI pay taxes like everyone else and I expect the services available to me. \\n\\nI would like to speak with a supervisor regarding this matter. This is happening one too many times\nanger\n\n\n42\n0.015931\n0.976699\n0.002130\n0.004426\n0.000417\n0.000396\nThis has been open and tearing up the bottom of cars for over six weeks. Fix it or put a steel plate over it.\nanger\n\n\n417\n0.024150\n0.971062\n0.001833\n0.002366\n0.000305\n0.000285\nThe hole is in front of a dangerous vacant house. It was fixed only about 2 months ago and has reopened and growing.\nanger\n\n\n352\n0.015262\n0.968072\n0.005341\n0.010229\n0.000613\n0.000484\nlong this back park there trash that have been out there for the past two months\nanger\n\n\n213\n0.025253\n0.966334\n0.004253\n0.003255\n0.000459\n0.000447\nIn the resistance 653 E Thayer st there was a fire last night which is resistance I do not pass inspection and they are renting it\nanger\n\n\n293\n0.016661\n0.961744\n0.002837\n0.017831\n0.000588\n0.000340\nTrash has not been picked up\nanger\n\n\n272\n0.012939\n0.960171\n0.009602\n0.015907\n0.000799\n0.000582\nThe property is a triplex that doubles as a airbnb. They put garbage bags out everyday not on trash day.\nanger\n\n\n\n\n\n\n\nFear\nAnd the most fearful:\n\nfearful_requests = emotion.query(\"fear &gt; 0.8\").sort_values(\"fear\", ascending=False)\n\n\nlen(fearful_requests)\n\n76\n\n\n\nfearful_requests.head(20)\n\n\n\n\n\n\n\n\nfear\nanger\njoy\nsadness\nsurprise\nlove\ntext\nprediction\n\n\n\n\n38\n0.997108\n0.000887\n0.000408\n0.000987\n0.000443\n0.000168\nI reside next door to this vacant property. The entire back of the house is falling down. There are several squirrels, possums and raccoons hanging out of the house. There is debris falling into my backyard and my children are afraid to play back there. There are now magets falling through my sons room because I believe there is something dead in his walls. Please contact me at 267-904-1753, thank you\nfear\n\n\n261\n0.992042\n0.004499\n0.000603\n0.002248\n0.000411\n0.000196\nOpen flames are being lit underneath 95 every night, which is a major fire hazard. Area has become an illegal dumping site filled with mounds of trash. Unsafe conditions with discarded needles, human waste, tents, shopping carts. Residents are afraid to walk by due to unsanitary conditions and aggressive nature of camp dwellers.\nfear\n\n\n203\n0.991208\n0.002228\n0.000442\n0.000383\n0.005459\n0.000279\nThe cave-in is getting larger as time goes by. When trucks or buses go by, our whole house shakes, it is frightening.\nfear\n\n\n277\n0.990393\n0.004574\n0.000967\n0.003393\n0.000470\n0.000203\n2840 N Judson St porch is danger of collapse, held up by a board. ppl in the home dumping construction trash on the corner. Neighbors homes next door is in danger when the porch collapse too. couldn't load pic.\nfear\n\n\n110\n0.988391\n0.003221\n0.001139\n0.005514\n0.001511\n0.000224\nMissing street name sign for Cypress Street, located on the SW corner at South 9th Street.\nfear\n\n\n163\n0.984954\n0.007672\n0.000770\n0.005747\n0.000573\n0.000284\nAn tenant on the second floor Clarence Young Apt 2 C has an bed bugs infestation, an refuse examination will has the other tenants, an great inconvenience we can’t used our laundry room or community room, we’re restricted from meeting in other areas, while this individual is still walking around, management can’t seem to handle the matter efficiently, his presence is everybody extremely uncomfortable , this contribute to his mental health\nfear\n\n\n340\n0.982761\n0.004817\n0.001064\n0.008939\n0.002184\n0.000234\nWrecked vehicle parked blocking crosswalk and too close to fire hydrant. Possibility of being stolen and abandoned.\nfear\n\n\n72\n0.981407\n0.010381\n0.001214\n0.005825\n0.000919\n0.000253\nProperty is unsealed. People are entering frequently.\nfear\n\n\n320\n0.968219\n0.008872\n0.001683\n0.019192\n0.001595\n0.000439\nthe fence fell on me while i was walking resulting in minor injuries.\nfear\n\n\n230\n0.966225\n0.024689\n0.004373\n0.003271\n0.001061\n0.000381\nBulb has been out since last winter. Has been reported previously and never fixed, Not saf to walk on strett as park is very dark.\nfear\n\n\n292\n0.965217\n0.017342\n0.005371\n0.010168\n0.001536\n0.000367\nIt has been in this spot without moving for approximately 6 months.\nfear\n\n\n361\n0.964056\n0.014632\n0.002278\n0.016545\n0.002014\n0.000475\nCar been parked in front of house for six months. Expired inspection stickers, two flat tires, damage to the drivers side.\nfear\n\n\n434\n0.961617\n0.024714\n0.001440\n0.010248\n0.001597\n0.000384\nAbandon house fell on electric wires in the back.\nfear\n\n\n201\n0.955390\n0.038087\n0.002316\n0.002883\n0.000855\n0.000470\nVan with people sleeping in the park on the play ground.\nfear\n\n\n414\n0.953619\n0.030410\n0.001820\n0.012103\n0.001673\n0.000377\nstop sign knocked down by construction vehicle\nfear\n\n\n35\n0.953109\n0.020269\n0.001983\n0.022810\n0.001401\n0.000428\ncement around inlet is cracked. Danger to pedestrians\nfear\n\n\n171\n0.951624\n0.026008\n0.012353\n0.006975\n0.002333\n0.000708\nPedestrian crossing sign OUT and NOT FUNCTIONING at the SW corner of 30th and Market Street.\nfear\n\n\n140\n0.950077\n0.022618\n0.002368\n0.023805\n0.000685\n0.000447\nTrees planting into the ground and moving toward street. Unsafe\nfear\n\n\n97\n0.948384\n0.044143\n0.001950\n0.004101\n0.001067\n0.000355\nHome under construction. Not secured. Squatters have broken into the building.\nfear\n\n\n69\n0.945735\n0.039572\n0.002658\n0.010071\n0.001614\n0.000350\nCar has been here for over two weeks in front of my house. Large accident 2 weeks ago every car was towed but this one. It’s also sticking out onto the street.\nfear\n\n\n\n\n\n\n\nTakeaway:\nOverall, the algorithm is doing a pretty good job picking up the emotion and sentiment in the requests.\nOne potential use case for a model like this: prioritizing responses. For example:\n\nYou might want to respond more quickly to those that are classified as the most fearful, given that those situations might be the most dangerous.\nOr, requests that are classified as the angriest might warrant a closer follow-up from a city representative, since many of these requests are likely repeated requests from frustrated residents.\n\nBut, once again, we see the limitations of sentiment analysis as text with words like “thank you” and “please” get classified as positive (“joy”):\n\njoyful_requests = emotion.query(\"joy &gt; 0.8\").sort_values(\"joy\", ascending=False)\n\nNot that many requests!\n\nlen(joyful_requests)\n\n24\n\n\n\njoyful_requests.head(20)\n\n\n\n\n\n\n\n\nfear\nanger\njoy\nsadness\nsurprise\nlove\ntext\nprediction\n\n\n\n\n218\n0.000202\n0.000358\n0.998168\n0.000476\n0.000334\n0.000462\nvehicle hasnt ran well over a year inspection sticker in front appears to have been alter it read 11/2020 now you only see the 11 this vehicle is just taking up some valuable spot for another car that runs SO MANY VIOLATION IN THE 15TH DISTRICT THAT JUST GETTING THEY ARE SO MANY CARS IN AREA THAT ARE NOT RUNNING THEY ARE IILEGAL taking up so many spots\njoy\n\n\n314\n0.000329\n0.001318\n0.990678\n0.000946\n0.000373\n0.006355\nGraffiti and sticker on sign. Please and thank you!\njoy\n\n\n154\n0.000567\n0.002886\n0.989135\n0.002578\n0.000688\n0.004146\nGraffiti on entire side of building on 1850 Hope. Thank you!\njoy\n\n\n2\n0.000414\n0.002554\n0.989055\n0.001997\n0.000243\n0.005738\nApartment complex is dumping trash on our street again! Please help or tell me the proper channels I need to take. Thank you!\njoy\n\n\n323\n0.000729\n0.003696\n0.988631\n0.001794\n0.000529\n0.004622\nGraffiti on sign. Please and thank you!\njoy\n\n\n324\n0.000729\n0.003696\n0.988631\n0.001794\n0.000529\n0.004622\nGraffiti on sign. Please and thank you!\njoy\n\n\n456\n0.000768\n0.004943\n0.988528\n0.004332\n0.000329\n0.001101\nHi i so a resident from 633,634,643 E Thayer st and the people from the garage on F st and Ontario st. And the beauty salon through in trash next to the electricity pole on F st. & Ontario st and they know that the pole have a sign of fine they don’t put a address in the bags because they know they can get a fine\njoy\n\n\n460\n0.000843\n0.005435\n0.987868\n0.004306\n0.000416\n0.001132\nNo recycle pickup yesterday for the odd numbers side of the block. All recycle bins are at the curbside waiting. Please pick up as a continued effort to keep our City clean.\njoy\n\n\n397\n0.000218\n0.000780\n0.976723\n0.000954\n0.000370\n0.020955\nThe trash was not removed,the lid was off so someone obviously looked at it but decided not to put it in the truck. I've put the lid back in and would appreciate it being taken. Thanks\njoy\n\n\n223\n0.006227\n0.015431\n0.973137\n0.003297\n0.001020\n0.000887\nThe Calder Gardens construction site has a bright light on all night every night that shines across the entire neighborhood. I understand they need to light up the construction area but surely it doesn’t need to shine upwards into all of our bedrooms at night? It’s much brighter than any other light in the area.\njoy\n\n\n437\n0.000971\n0.014033\n0.965937\n0.003748\n0.000639\n0.014671\nThere's a tag in red spray paint on the retaining wall for the Betsy Ross Bridge that's by the on-ramp behind the big green sign. \\r\\nThanks.\njoy\n\n\n319\n0.001974\n0.027491\n0.962027\n0.006175\n0.000655\n0.001678\nRecycling was never picked up! My entire block still has their Recycling outside. Trash was picked up yesterday, why wasn't the recycling?????? Please pick up Immediately. Thank you! I guess the city doesn't care. Next time I summit a request it won't be to 311 but to City hall. Along with pictures!\njoy\n\n\n29\n0.008942\n0.015654\n0.960725\n0.003665\n0.010158\n0.000856\nOn the metal staircase at the rear of the apartment building. Use alley on the west side of the building to get to the rear of the building. \\nGraffiti is at or very near this point:\\nHere is a precise what3words address, made of 3 random words. Every 10ft square in the world has its own unique what3words address.\\n\\nhttps://w3w.co/clap.digs.buzz\njoy\n\n\n426\n0.005569\n0.010426\n0.951224\n0.015387\n0.016442\n0.000953\nI've been having this problem of getting this area cleaned up for the longest time.I don't understand why those city workers are not doing their jobs. if you don't have adequate people those people need to be replaced. I am going to send this video to the city officials and the News. Amazing, in those white areas there are city workers picking up trash constantly.\njoy\n\n\n366\n0.038893\n0.005748\n0.947229\n0.005978\n0.001100\n0.001052\nKids walk through here and I noticed a bunch of little kids trip over the hole. It’s not safe .\njoy\n\n\n135\n0.002884\n0.045254\n0.945802\n0.003459\n0.001008\n0.001593\nGraffiti on our purple building. I have clear videos of the perpeatror.\njoy\n\n\n170\n0.007085\n0.049680\n0.929838\n0.005769\n0.001051\n0.006578\nSink Hole would be the more exact term. Across the SINK HOLE is 6 inches. A straight down depth is 18 inches. A straight across depth of 48 inches or more measured underneath the SINK HOLE by using a broomstick is almost 4 FEET heading back to the center of 33xx Oakmont Street. One Orange Cone has been placed over the SINK HOLE for safety & visibility. Thank you,\\nTHE NE_CAPED_CRUSADER\\nne_caped_crusader@outlook.com\\nJose Williams (Zip Code 19136)\\n6th Council District. & 15 Police District.\\nPhiladelphia, Pa. 19136 U.S.A.\njoy\n\n\n153\n0.052773\n0.011042\n0.922465\n0.011364\n0.001248\n0.001109\nThe park lights that go on when it is dark out have been out non-functioning for over a month now. It is incredibly dark in the evening and is not safe.\njoy\n\n\n431\n0.016508\n0.077170\n0.878651\n0.014538\n0.001941\n0.011193\nGraffiti Removal on the Penny-Pack Park Bridge on EAST Bound Welsh Road (Between Rowland Ave & Winchester Ave). 10 Different Pictures attached. Please power wash for removal.\\n\\nThank you,\\nJose Williams (Zip Code 19136)\\n\"THE NE_CAPED_CRUSADER\"\\nne_caped_crusader@Outlook.com\\nPHILADELPHIA, PA. 19136 U.S.A.\\n15th Police District. & 6th Council District.\njoy\n\n\n430\n0.020282\n0.084760\n0.873991\n0.016648\n0.001504\n0.002814\nThe walkway lights in the center of the park just north of and parallel to the 2500 block of Delancey Street have been out all summer. Please fix them!!\njoy\n\n\n\n\n\n\n\nSentiment analysis – a helpful, but imperfect analysis tool!"
  },
  {
    "objectID": "content/week-7/lecture-7B.html#part-2-the-census-api",
    "href": "content/week-7/lecture-7B.html#part-2-the-census-api",
    "title": "Week 7BGetting Data, Part 2: Working with APIs",
    "section": "Part 2: The Census API",
    "text": "Part 2: The Census API\n\nUS Census data is foundational\n\nRich data sets with annual releases\nDecennial results plus American Community Survey (ACS) results\nWide range of topics covered: sex, income, poverty, education, housing\n\n\n\nGetting census data (the new way)census.data.gov\n\n\n\n\n\nExample: poverty data\n\n\n\n\nVia the API\nhttps://api.census.gov/data/2021/acs/acs1?get=NAME,B17001_002E&for=state:*\n\nBase endpoint: https://api.census.gov/data/2021/acs/acs1\nRequest parameters: “get”, “for”\n\n\n\n\n\nHow to find the right variable names?\nThe census provides web-based documentation:\n\nOverview of all data tables: https://api.census.gov/data.html\nAll data tables for 2021: https://api.census.gov/data/2021.html\nAll variables for 2021 ACS 5-year data set: https://api.census.gov/data/2021/acs/acs5/variables.html\n\n\n\nA detailed Census API guide\nhttps://www.census.gov/data/developers/guidance/api-user-guide.html\n\n\nAccessing the API is easier from Python\nSeveral packages provide easier Python interfaces to census data based on the census API.\nWe’ll focus on cenpy - “Explore and download data from Census APIs” - Documentation - GitHub\n\n\nExample: the racial “dot” map\n\nSource: Washington Post\nLet’s make this for Philadelphia in Python!\n\n# First step: import cenpy\nimport cenpy\n\n\nThe “explorer” module\nFunctions to help you explore the Census API from Python\n\ncenpy.explorer.available: Returns information about available datasets in Census API\ncenpy.explorer.explain: Explain a specific Census dataset\ncenpy.explorer.fips_table: Get a table of FIPS codes for a specific geography\n\nNote: we can change pandas display options to see all rows/columns and large cells\n\n# UNCOMMENT TO SEE ALL ROWS/COLUMNS IN DATAFRAMES\n# pd.options.display.max_rows = 9999 \n# pd.options.display.max_colwidth = 200\n\n\n\nStep 1: Identify what dataset we want\n\nToday, we’ll use the 5-year American Community Survey (latest available year: 2021)\nOther common datasets:\n\n1-year ACS datasets as well (latest available year: 2022)\n10-year decennial survey (latest available year: 2020)\n\n\n\navailable = cenpy.explorer.available()\n\navailable.head()\n\n\n\n\n\n\n\n\nc_isTimeseries\nc_isMicrodata\npublisher\ntemporal\nspatial\nprogramCode\nmodified\nkeyword\ncontactPoint\ndistribution\ndescription\nbureauCode\naccessLevel\ntitle\nc_isAvailable\nc_isCube\nc_isAggregate\nc_dataset\nvintage\n\n\n\n\nABSCB2017\nNaN\nNaN\nU.S. Census Bureau\n2017/2017\nUS\n006:007\n2020-04-30 00:00:00.0\n(census,)\n{'fn': 'ASE Staff', 'hasEmail': 'mailto:erd.annual.survey.of.entrepreneurs@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2017/abscb', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe Annual Business Survey (ABS) provides information on selected economic and demographic characteristics for businesses and business owners by sex, ethnicity, race, and veteran status. Further, the survey measures research and development (for microbusinesses), new business topics such as innovation and technology, as well as other business characteristics. The U.S. Census Bureau and the National Center conduct the ABS jointly for Science and Engineering Statistics within the National Science Foundation. The ABS replaces the five-year Survey of Business Owners (SBO) for employer businesses, the Annual Survey of Entrepreneurs (ASE), the Business R&D and Innovation for Microbusinesses survey (BRDI-M), and the innovation section of the Business R&D and Innovation Survey (BRDI-S). https://www.census.gov/programs-surveys/abs.html\n006:07\npublic\nAnnual Business Survey: Characteristics of Businesses: 2017\nTrue\nNaN\nTrue\n(abscb,)\n2017.0\n\n\nABSCB2018\nNaN\nNaN\nU.S. Census Bureau\n2018/2018\nUS\n006:007\n2020-10-26 00:00:00.0\n(census,)\n{'fn': 'ASE Staff', 'hasEmail': 'mailto:Erd.annual.survey.of.entrepreneurs@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2018/abscb', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe Annual Business Survey (ABS) provides information on selected economic and demographic characteristics for businesses and business owners by sex, ethnicity, race, and veteran status. Further, the survey measures research and development (for microbusinesses), new business topics such as innovation and technology, as well as other business characteristics. The U.S. Census Bureau and the National Center conduct the ABS jointly for Science and Engineering Statistics within the National Science Foundation. The ABS replaces the five-year Survey of Business Owners (SBO) for employer businesses, the Annual Survey of Entrepreneurs (ASE), the Business R&D and Innovation for Microbusinesses survey (BRDI-M), and the innovation section of the Business R&D and Innovation Survey (BRDI-S). https://www.census.gov/programs-surveys/abs.html\n006:07\npublic\nAnnual Business Survey: 2018\nTrue\nNaN\nTrue\n(abscb,)\n2018.0\n\n\nABSCB2019\nNaN\nNaN\nU.S. Census Bureau\n2019/2019\nUS\n006:007\n2021-08-17 00:00:00.0\n(census,)\n{'fn': 'ASE Staff', 'hasEmail': 'mailto:ERD.annual.survey.of.entrepreneurs@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2019/abscb', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe Annual Business Survey (ABS) provides information on selected economic and demographic characteristics for businesses and business owners by sex, ethnicity, race, and veteran status. Further, the survey measures research and development (for microbusinesses), new business topics such as innovation and technology, as well as other business characteristics. The U.S. Census Bureau and the National Center conduct the ABS jointly for Science and Engineering Statistics within the National Science Foundation. The ABS replaces the five-year Survey of Business Owners (SBO) for employer businesses, the Annual Survey of Entrepreneurs (ASE), the Business R&D and Innovation for Microbusinesses survey (BRDI-M), and the innovation section of the Business R&D and Innovation Survey (BRDI-S). https://www.census.gov/programs-surveys/abs.html\n006:07\npublic\n2019 Annual Business Survey: Characteristics of Business\nTrue\nNaN\nTrue\n(abscb,)\n2019.0\n\n\nABSCB2020\nNaN\nNaN\nU.S. Census Bureau\n2020/2020\nUS\n006:007\n2022-08-03 00:00:00.0\n(census,)\n{'fn': 'ASE Staff', 'hasEmail': 'mailto:ERD.annual.survey.of.entrepreneurs@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2020/abscb', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe Annual Business Survey (ABS) provides information on selected economic and demographic characteristics for businesses and business owners by sex, ethnicity, race, and veteran status. Further, the survey measures research and development (for microbusinesses), new business topics such as innovation and technology, as well as other business characteristics. The U.S. Census Bureau and the National Center conduct the ABS jointly for Science and Engineering Statistics within the National Science Foundation. The ABS replaces the five-year Survey of Business Owners (SBO) for employer businesses, the Annual Survey of Entrepreneurs (ASE), the Business R&D and Innovation for Microbusinesses survey (BRDI-M), and the innovation section of the Business R&D and Innovation Survey (BRDI-S). https://www.census.gov/programs-surveys/abs.html\n006:07\npublic\n2020 Annual Business Survey: Characteristics of Business\nTrue\nNaN\nTrue\n(abscb,)\n2020.0\n\n\nABSCBO2017\nNaN\nNaN\nU.S. Census Bureau\n2017/2017\nUS\n006:007\n2020-04-30 00:00:00.0\n(census,)\n{'fn': 'ASE Staff', 'hasEmail': 'mailto:erd.annual.survey.of.entrepreneurs@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2017/abscbo', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe Annual Business Survey (ABS) provides information on selected economic and demographic characteristics for businesses and business owners by sex, ethnicity, race, and veteran status. Further, the survey measures research and development (for microbusinesses), new business topics such as innovation and technology, as well as other business characteristics. The U.S. Census Bureau and the National Center conduct the ABS jointly for Science and Engineering Statistics within the National Science Foundation. The ABS replaces the five-year Survey of Business Owners (SBO) for employer businesses, the Annual Survey of Entrepreneurs (ASE), the Business R&D and Innovation for Microbusinesses survey (BRDI-M), and the innovation section of the Business R&D and Innovation Survey (BRDI-S). https://www.census.gov/programs-surveys/abs.html\n006:07\npublic\nAnnual Business Survey: Characteristics of Business Owners: 2017\nTrue\nNaN\nTrue\n(abscbo,)\n2017.0\n\n\n\n\n\n\n\nWe can use the pandas filter() to search for specific identifiers in the dataframe.\nIn this case, let’s search for the American Community Survey datasets. We’ll match index labels using regular expressions.\nIn particular, we’ll search for labels that start with “ACS”. In the language of regular expressions, we’ll use the “^” to mean “match labels that start with”\nFor more info on regular expressions, the documentation for the re module is a good place to start.\n\n# Return a dataframe of all datasets that start with \"ACS\"\n# Axis=0 means to filter the index labels!\nacs = available.filter(regex=\"^ACS\", axis=0)\n\nacs\n\n\n\n\n\n\n\n\nc_isTimeseries\nc_isMicrodata\npublisher\ntemporal\nspatial\nprogramCode\nmodified\nkeyword\ncontactPoint\ndistribution\ndescription\nbureauCode\naccessLevel\ntitle\nc_isAvailable\nc_isCube\nc_isAggregate\nc_dataset\nvintage\n\n\n\n\nACSCD1132011\nNaN\nNaN\nU.S. Census Bureau\n2011/2011\nUnited States\n006:004\n2014-10-06\n(census,)\n{'fn': 'American Community Survey Office', 'hasEmail': 'mailto:acso.users.support@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2011/acs1/cd113', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe American Community Survey (ACS) is a nationwide survey designed to provide communities a fresh look at how they are changing. The ACS replaced the decennial census long form in 2010 and thereafter by collecting long form type information throughout the decade rather than only once every 10 years. Questionnaires are mailed to a sample of addresses to obtain information about households -- that is, about each person and the housing unit itself. The American Community Survey produces demographic, social, housing and economic estimates in the form of 1-year, 3-year and 5-year estimates based on population thresholds. The strength of the ACS is in estimating population and housing characteristics. The 3-year data provide key estimates for each of the topic areas covered by the ACS for the nation, all 50 states, the District of Columbia, Puerto Rico, every congressional district, every metropolitan area, and all counties and places with populations of 20,000 or more. Although the ACS produces population, demographic and housing unit estimates,it is the Census Bureau's Population Estimates Program that produces and disseminates the official estimates of the population for the nation, states, counties, cities and towns, and estimates of housing units for states and counties. For 2010 and other decennial census years, the Decennial Census provides the official counts of population and housing units.\n006:07\npublic\n2011 American Community Survey 1-Year Profiles for the 113th Congressional Districts\nTrue\nNaN\nTrue\n(acs1, cd113)\n2011.0\n\n\nACSCD1152015\nNaN\nNaN\nU.S. Census Bureau\n2015/2015\nUnited States\n006:004\n2017-02-10\n(census,)\n{'fn': 'American Community Survey Office', 'hasEmail': 'mailto:acso.users.support@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2015/acs1/cd115', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe American Community Survey (ACS) is an ongoing survey that provides data every year -- giving communities the current information they need to plan investments and services. The ACS covers a broad range of topics about social, economic, demographic, and housing characteristics of the U.S. population. The 115th Congressional District Data Profiles are available for the nation, all 50 states, the District of Columbia, and Puerto Rico (at large). Data profiles contain broad social, economic, housing, and demographic information. The data are presented as population counts for over 1,000 distinct variables.\n006:07\npublic\n2015 American Community Survey 1-Year Data Profile 115th Congressional District\nTrue\nNaN\nTrue\n(acs1, cd115)\n2015.0\n\n\nACSCP1Y2010\nNaN\nNaN\nU.S. Census Bureau\nNaN\nUnited States\n006:004\n2018-09-18 00:00:00.0\n(census,)\n{'fn': 'American Community Survey Office', 'hasEmail': 'mailto:acso.users.support@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2010/acs/acs1/cprofile', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe American Community Survey (ACS) is an ongoing survey that provides data every year -- giving communities the current information they need to plan investments and services. The ACS covers a broad range of topics about social, economic, demographic, and housing characteristics of the U.S. population. Much of the ACS data provided on the Census Bureau's Web site are available separately by age group, race, Hispanic origin, and sex. Summary files, Subject tables, Data profiles, and Comparison profiles are available for the nation, all 50 states, the District of Columbia, Puerto Rico, every congressional district, every metropolitan area, and all counties and places with populations of 65,000 or more. Comparison profiles are similar to data profiles but also include comparisons with past-year data. The current year data are compared with each of the last four years of data and include statistical significance testing. There are over 1,000 variables in this dataset.\n006:07\npublic\nACS 1-Year Comparison Profiles\nTrue\nTrue\nTrue\n(acs, acs1, cprofile)\n2010.0\n\n\nACSCP1Y2011\nNaN\nNaN\nU.S. Census Bureau\nNaN\nUnited States\n006:004\n2018-09-18 00:00:00.0\n(census,)\n{'fn': 'American Community Survey Office', 'hasEmail': 'mailto:acso.users.support@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2011/acs/acs1/cprofile', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe American Community Survey (ACS) is an ongoing survey that provides data every year -- giving communities the current information they need to plan investments and services. The ACS covers a broad range of topics about social, economic, demographic, and housing characteristics of the U.S. population. Much of the ACS data provided on the Census Bureau's Web site are available separately by age group, race, Hispanic origin, and sex. Summary files, Subject tables, Data profiles, and Comparison profiles are available for the nation, all 50 states, the District of Columbia, Puerto Rico, every congressional district, every metropolitan area, and all counties and places with populations of 65,000 or more. Comparison profiles are similar to data profiles but also include comparisons with past-year data. The current year data are compared with each of the last four years of data and include statistical significance testing. There are over 1,000 variables in this dataset.\n006:07\npublic\nACS 1-Year Comparison Profiles\nTrue\nTrue\nTrue\n(acs, acs1, cprofile)\n2011.0\n\n\nACSCP1Y2012\nNaN\nNaN\nU.S. Census Bureau\nNaN\nNaN\n006:004\n2018-07-05 00:00:00.0\n(census,)\n{'fn': 'American Community Survey Office', 'hasEmail': 'mailto:acso.users.support@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2012/acs/acs1/cprofile', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe American Community Survey (ACS) is an ongoing survey that provides data every year -- giving communities the current information they need to plan investments and services. The ACS covers a broad range of topics about social, economic, demographic, and housing characteristics of the U.S. population. Much of the ACS data provided on the Census Bureau's Web site are available separately by age group, race, Hispanic origin, and sex. Summary files, Subject tables, Data profiles, and Comparison profiles are available for the nation, all 50 states, the District of Columbia, Puerto Rico, every congressional district, every metropolitan area, and all counties and places with populations of 65,000 or more. Comparison profiles are similar to data profiles but also include comparisons with past-year data. The current year data are compared with each of the last four years of data and include statistical significance testing. There are over 1,000 variables in this dataset.\n006:07\npublic\nACS 1-Year Comparison Profiles\nTrue\nTrue\nTrue\n(acs, acs1, cprofile)\n2012.0\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\nACSST5Y2017\nNaN\nNaN\nU.S. Census Bureau\nNaN\nNaN\n006:004\n2018-10-19 00:00:00.0\n(census,)\n{'fn': 'American Community Survey Office', 'hasEmail': 'mailto:acso.users.support@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2017/acs/acs5/subject', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe American Community Survey (ACS) is an ongoing survey that provides data every year -- giving communities the current information they need to plan investments and services. The ACS covers a broad range of topics about social, economic, demographic, and housing characteristics of the U.S. population. The subject tables include the following geographies: nation, all states (including DC and Puerto Rico), all metropolitan areas, all congressional districts, all counties, all places and all tracts. Subject tables provide an overview of the estimates available in a particular topic. The data are presented as both counts and percentages. There are over 66,000 variables in this dataset.\n006:07\npublic\nACS 5-Year Subject Tables\nTrue\nTrue\nTrue\n(acs, acs5, subject)\n2017.0\n\n\nACSST5Y2018\nNaN\nNaN\nU.S. Census Bureau\nNaN\nNaN\n006:004\n2019-10-22 15:36:29.0\n(census,)\n{'fn': 'American Community Survey Office', 'hasEmail': 'mailto:Acso.users.support@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2018/acs/acs5/subject', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe American Community Survey (ACS) is an ongoing survey that provides data every year -- giving communities the current information they need to plan investments and services. The ACS covers a broad range of topics about social, economic, demographic, and housing characteristics of the U.S. population. The subject tables include the following geographies: nation, all states (including DC and Puerto Rico), all metropolitan areas, all congressional districts, all counties, all places and all tracts. Subject tables provide an overview of the estimates available in a particular topic. The data are presented as both counts and percentages. There are over 66,000 variables in this dataset.\n006:07\npublic\nACS 5-Year Subject Tables\nTrue\nTrue\nTrue\n(acs, acs5, subject)\n2018.0\n\n\nACSST5Y2019\nNaN\nNaN\nU.S. Census Bureau\nNaN\nNaN\n006:004\n2020-04-03 00:00:00.0\n(census,)\n{'fn': 'American Community Survey Office', 'hasEmail': 'mailto:acso.users.support@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2019/acs/acs5/subject', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe American Community Survey (ACS) is an ongoing survey that provides data every year -- giving communities the current information they need to plan investments and services. The ACS covers a broad range of topics about social, economic, demographic, and housing characteristics of the U.S. population. The subject tables include the following geographies: nation, all states (including DC and Puerto Rico), all metropolitan areas, all congressional districts, all counties, all places and all tracts. Subject tables provide an overview of the estimates available in a particular topic. The data are presented as both counts and percentages. There are over 66,000 variables in this dataset.\n006:07\npublic\nAmerican Community Survey: 5-Year Estimates: Subject Tables 5-Year\nTrue\nTrue\nTrue\n(acs, acs5, subject)\n2019.0\n\n\nACSST5Y2020\nNaN\nNaN\nU.S. Census Bureau\n2020/2020\nUS\n006:004\n2021-07-13 00:00:00.0\n(census,)\n{'fn': 'American Community Survey Office', 'hasEmail': 'mailto:acso.users.support@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2020/acs/acs5/subject', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe American Community Survey (ACS) is an ongoing survey that provides data every year -- giving communities the current information they need to plan investments and services. The ACS covers a broad range of topics about social, economic, demographic, and housing characteristics of the U.S. population. The subject tables include the following geographies: nation, all states (including DC and Puerto Rico), all metropolitan areas, all congressional districts, all counties, all places and all tracts. Subject tables provide an overview of the estimates available in a particular topic. The data are presented as both counts and percentages. There are over 66,000 variables in this dataset.\n006:07\npublic\nAmerican Community Survey: 5-Year Estimates: Subject Tables 5-Year\nTrue\nTrue\nTrue\n(acs, acs5, subject)\n2020.0\n\n\nACSST5Y2021\nNaN\nNaN\nU.S. Census Bureau\n2021/2021\nUS\n006:004\n2022-08-08 00:00:00.0\n(census,)\n{'fn': 'American Community Survey Office', 'hasEmail': 'mailto:acso.users.support@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2021/acs/acs5/subject', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe American Community Survey (ACS) is an ongoing survey that provides data every year -- giving communities the current information they need to plan investments and services. The ACS covers a broad range of topics about social, economic, demographic, and housing characteristics of the U.S. population. The subject tables include the following geographies: nation, all states (including DC and Puerto Rico), all metropolitan areas, all congressional districts, all counties, all places and all tracts. Subject tables provide an overview of the estimates available in a particular topic. The data are presented as both counts and percentages. There are over 66,000 variables in this dataset.\n006:07\npublic\nAmerican Community Survey: 5-Year Estimates: Subject Tables 5-Year\nTrue\nTrue\nTrue\n(acs, acs5, subject)\n2021.0\n\n\n\n\n234 rows × 19 columns\n\n\n\nMany flavors of ACS datasets are available — we want to use the detailed tables version, specifically the 5-year survey.\nThe relevant identifiers start with: “ACSDT5Y”.\n\n# Return a dataframe of all datasets that start with \"ACSDT5Y\"\navailable.filter(regex=\"^ACSDT5Y\", axis=0)\n\n\n\n\n\n\n\n\nc_isTimeseries\nc_isMicrodata\npublisher\ntemporal\nspatial\nprogramCode\nmodified\nkeyword\ncontactPoint\ndistribution\ndescription\nbureauCode\naccessLevel\ntitle\nc_isAvailable\nc_isCube\nc_isAggregate\nc_dataset\nvintage\n\n\n\n\nACSDT5Y2009\nNaN\nNaN\nU.S. Census Bureau\nNaN\nNaN\n006:004\n2019-08-27 13:11:18.0\n(census,)\n{'fn': 'American Community Survey Office', 'hasEmail': 'mailto:acso.users.support@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2009/acs/acs5', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe American Community Survey (ACS) is an ongoing survey that provides data every year -- giving communities the current information they need to plan investments and services. The ACS covers a broad range of topics about social, economic, demographic, and housing characteristics of the U.S. population. Summary files include the following geographies: nation, all states (including DC and Puerto Rico), all metropolitan areas, all congressional districts (114th congress), all counties, all places, and all tracts and block groups. Summary files contain the most detailed cross-tabulations, many of which are published down to block groups. The data are population and housing counts. There are over 64,000 variables in this dataset.\n006:07\npublic\nAmerican Community Survey: 5-Year Estimates: Detailed Tables 5-Year\nTrue\nTrue\nTrue\n(acs, acs5)\n2009.0\n\n\nACSDT5Y2010\nNaN\nNaN\nU.S. Census Bureau\nNaN\nUnited States\n006:004\n2018-07-04 00:00:00.0\n(census,)\n{'fn': 'American Community Survey Office', 'hasEmail': 'mailto:acso.users.support@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2010/acs/acs5', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe American Community Survey (ACS) is an ongoing survey that provides data every year -- giving communities the current information they need to plan investments and services. The ACS covers a broad range of topics about social, economic, demographic, and housing characteristics of the U.S. population. Summary files include the following geographies: nation, all states (including DC and Puerto Rico), all metropolitan areas, all congressional districts (114th congress), all counties, all places, and all tracts and block groups. Summary files contain the most detailed cross-tabulations, many of which are published down to block groups. The data are population and housing counts. There are over 64,000 variables in this dataset.\n006:07\npublic\nACS 5-Year Detailed Tables\nTrue\nTrue\nTrue\n(acs, acs5)\n2010.0\n\n\nACSDT5Y2011\nNaN\nNaN\nU.S. Census Bureau\nNaN\nNaN\n006:004\n2018-07-04 00:00:00.0\n(census,)\n{'fn': 'American Community Survey Office', 'hasEmail': 'mailto:acso.users.support@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2011/acs/acs5', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe American Community Survey (ACS) is an ongoing survey that provides data every year -- giving communities the current information they need to plan investments and services. The ACS covers a broad range of topics about social, economic, demographic, and housing characteristics of the U.S. population. Summary files include the following geographies: nation, all states (including DC and Puerto Rico), all metropolitan areas, all congressional districts (116th Congress), all counties, all places, and all tracts and block groups. Summary files contain the most detailed cross-tabulations, many of which are published down to block groups. The data are population and housing counts. There are over 64,000 variables in this dataset.\n006:07\npublic\nACS 5-Year Detailed Tables\nTrue\nTrue\nTrue\n(acs, acs5)\n2011.0\n\n\nACSDT5Y2012\nNaN\nNaN\nU.S. Census Bureau\nNaN\nNaN\n006:004\n2018-07-04 00:00:00.0\n(census,)\n{'fn': 'American Community Survey Office', 'hasEmail': 'mailto:acso.users.support@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2012/acs/acs5', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe American Community Survey (ACS) is an ongoing survey that provides data every year -- giving communities the current information they need to plan investments and services. The ACS covers a broad range of topics about social, economic, demographic, and housing characteristics of the U.S. population. Summary files include the following geographies: nation, all states (including DC and Puerto Rico), all metropolitan areas, all congressional districts (116th Congress), all counties, all places, and all tracts and block groups. Summary files contain the most detailed cross-tabulations, many of which are published down to block groups. The data are population and housing counts. There are over 64,000 variables in this dataset.\n006:07\npublic\nACS 5-Year Detailed Tables\nTrue\nTrue\nTrue\n(acs, acs5)\n2012.0\n\n\nACSDT5Y2013\nNaN\nNaN\nU.S. Census Bureau\nNaN\nNaN\n006:004\n2018-07-04 00:00:00.0\n(census,)\n{'fn': 'American Community Survey Office', 'hasEmail': 'mailto:acso.users.support@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2013/acs/acs5', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe American Community Survey (ACS) is an ongoing survey that provides data every year -- giving communities the current information they need to plan investments and services. The ACS covers a broad range of topics about social, economic, demographic, and housing characteristics of the U.S. population. Summary files include the following geographies: nation, all states (including DC and Puerto Rico), all metropolitan areas, all congressional districts (116th Congress), all counties, all places, and all tracts and block groups. Summary files contain the most detailed cross-tabulations, many of which are published down to block groups. The data are population and housing counts. There are over 64,000 variables in this dataset.\n006:07\npublic\nACS 5-Year Detailed Tables\nTrue\nTrue\nTrue\n(acs, acs5)\n2013.0\n\n\nACSDT5Y2014\nNaN\nNaN\nU.S. Census Bureau\nNaN\nNaN\n006:004\n2018-07-04 00:00:00.0\n(census,)\n{'fn': 'American Community Survey Office', 'hasEmail': 'mailto:acso.users.support@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2014/acs/acs5', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe American Community Survey (ACS) is an ongoing survey that provides data every year -- giving communities the current information they need to plan investments and services. The ACS covers a broad range of topics about social, economic, demographic, and housing characteristics of the U.S. population. Summary files include the following geographies: nation, all states (including DC and Puerto Rico), all metropolitan areas, all congressional districts (116th Congress), all counties, all places, and all tracts and block groups. Summary files contain the most detailed cross-tabulations, many of which are published down to block groups. The data are population and housing counts. There are over 64,000 variables in this dataset.\n006:07\npublic\nACS 5-Year Detailed Tables\nTrue\nTrue\nTrue\n(acs, acs5)\n2014.0\n\n\nACSDT5Y2015\nNaN\nNaN\nU.S. Census Bureau\nNaN\nNaN\n006:004\n2018-07-05 00:00:00.0\n(census,)\n{'fn': 'American Community Survey Office', 'hasEmail': 'mailto:acso.users.support@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2015/acs/acs5', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe American Community Survey (ACS) is an ongoing survey that provides data every year -- giving communities the current information they need to plan investments and services. The ACS covers a broad range of topics about social, economic, demographic, and housing characteristics of the U.S. population. Summary files include the following geographies: nation, all states (including DC and Puerto Rico), all metropolitan areas, all congressional districts (116th Congress), all counties, all places, and all tracts and block groups. Summary files contain the most detailed cross-tabulations, many of which are published down to block groups. The data are population and housing counts. There are over 64,000 variables in this dataset.\n006:07\npublic\nACS 5-Year Detailed Tables\nTrue\nTrue\nTrue\n(acs, acs5)\n2015.0\n\n\nACSDT5Y2016\nNaN\nNaN\nU.S. Census Bureau\nNaN\nNaN\n006:004\n2018-07-05 00:00:00.0\n(census,)\n{'fn': 'American Community Survey Office', 'hasEmail': 'mailto:acso.users.support@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2016/acs/acs5', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe American Community Survey (ACS) is an ongoing survey that provides data every year -- giving communities the current information they need to plan investments and services. The ACS covers a broad range of topics about social, economic, demographic, and housing characteristics of the U.S. population. Summary files include the following geographies: nation, all states (including DC and Puerto Rico), all metropolitan areas, all congressional districts (116th Congress), all counties, all places, and all tracts and block groups. Summary files contain the most detailed cross-tabulations, many of which are published down to block groups. The data are population and housing counts. There are over 64,000 variables in this dataset.\n006:07\npublic\nACS 5-Year Detailed Tables\nTrue\nTrue\nTrue\n(acs, acs5)\n2016.0\n\n\nACSDT5Y2017\nNaN\nNaN\nU.S. Census Bureau\nNaN\nNaN\n006:004\n2018-08-21 07:11:43.0\n(census,)\n{'fn': 'American Community Survey Office', 'hasEmail': 'mailto:acso.users.support@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2017/acs/acs5', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe American Community Survey (ACS) is an ongoing survey that provides data every year -- giving communities the current information they need to plan investments and services. The ACS covers a broad range of topics about social, economic, demographic, and housing characteristics of the U.S. population. Summary files include the following geographies: nation, all states (including DC and Puerto Rico), all metropolitan areas, all congressional districts (116th Congress), all counties, all places, and all tracts and block groups. Summary files contain the most detailed cross-tabulations, many of which are published down to block groups. The data are population and housing counts. There are over 64,000 variables in this dataset.\n006:07\npublic\nACS 5-Year Detailed Tables\nTrue\nTrue\nTrue\n(acs, acs5)\n2017.0\n\n\nACSDT5Y2018\nNaN\nNaN\nU.S. Census Bureau\nNaN\nNaN\n006:004\n2019-10-22 16:28:02.0\n(census,)\n{'fn': 'American Community Survey Office', 'hasEmail': 'mailto:Acso.users.support@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2018/acs/acs5', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe American Community Survey (ACS) is an ongoing survey that provides data every year -- giving communities the current information they need to plan investments and services. The ACS covers a broad range of topics about social, economic, demographic, and housing characteristics of the U.S. population. Summary files include the following geographies: nation, all states (including DC and Puerto Rico), all metropolitan areas, all congressional districts (116th Congress), all counties, all places, and all tracts and block groups. Summary files contain the most detailed cross-tabulations, many of which are published down to block groups. The data are population and housing counts. There are over 64,000 variables in this dataset.\n006:07\npublic\nAmerican Community Survey: 5-Year Estimates: Detailed Tables 5-Year\nTrue\nTrue\nTrue\n(acs, acs5)\n2018.0\n\n\nACSDT5Y2019\nNaN\nNaN\nU.S. Census Bureau\nNaN\nNaN\n006:004\n2020-04-03 00:00:00.0\n(census,)\n{'fn': 'American Community Survey Office', 'hasEmail': 'mailto:Acso.users.support@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2019/acs/acs5', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe American Community Survey (ACS) is an ongoing survey that provides data every year -- giving communities the current information they need to plan investments and services. The ACS covers a broad range of topics about social, economic, demographic, and housing characteristics of the U.S. population. Summary files include the following geographies: nation, all states (including DC and Puerto Rico), all metropolitan areas, all congressional districts (116th Congress), all counties, all places, and all tracts and block groups. Summary files contain the most detailed cross-tabulations, many of which are published down to block groups. The data are population and housing counts. There are over 64,000 variables in this dataset.\n006:07\npublic\nAmerican Community Survey: 5-Year Estimates: Detailed Tables 5-Year\nTrue\nTrue\nTrue\n(acs, acs5)\n2019.0\n\n\nACSDT5Y2020\nNaN\nNaN\nU.S. Census Bureau\n2020/2020\nUS\n006:004\n2021-07-13 00:00:00.0\n(census,)\n{'fn': 'American Community Survey Office', 'hasEmail': 'mailto:acso.users.support@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2020/acs/acs5', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe American Community Survey (ACS) is an ongoing survey that provides data every year -- giving communities the current information they need to plan investments and services. The ACS covers a broad range of topics about social, economic, demographic, and housing characteristics of the U.S. population. Summary files include the following geographies: nation, all states (including DC and Puerto Rico), all metropolitan areas, all congressional districts (117th Congress), all counties, all places, and all tracts and block groups. Summary files contain the most detailed cross-tabulations, many of which are published down to block groups. The data are population and housing counts. There are over 64,000 variables in this dataset.\n006:07\npublic\nAmerican Community Survey: 5-Year Estimates: Detailed Tables 5-Year\nTrue\nTrue\nTrue\n(acs, acs5)\n2020.0\n\n\nACSDT5Y2021\nNaN\nNaN\nU.S. Census Bureau\n2021/2021\nUS\n006:004\n2022-08-08 00:00:00.0\n(census,)\n{'fn': 'American Community Survey Office', 'hasEmail': 'mailto:acso.users.support@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2021/acs/acs5', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe American Community Survey (ACS) is an ongoing survey that provides data every year -- giving communities the current information they need to plan investments and services. The ACS covers a broad range of topics about social, economic, demographic, and housing characteristics of the U.S. population. Summary files include the following geographies: nation, all states (including DC and Puerto Rico), all metropolitan areas, all congressional districts, all counties, all places, and all tracts and block groups. Summary files contain the most detailed cross-tabulations, many of which are published down to block groups. The data are population and housing counts. There are over 64,000 variables in this dataset.\n006:07\npublic\nAmerican Community Survey: 5-Year Estimates: Detailed Tables 5-Year\nTrue\nTrue\nTrue\n(acs, acs5)\n2021.0\n\n\nACSDT5YAIAN2010\nNaN\nNaN\nU.S. Census Bureau\nNaN\nNaN\n006:004\n2019-10-24 07:18:57.0\n(census,)\n{'fn': 'American Community Survey Office', 'hasEmail': 'mailto:acso.users.support@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2010/acs/acs5/aian', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe American Indian and Alaska Native (AIAN) tables are released every five years. They are available for selected tribal populations, with more detailed tribal categories compared to those in the Selected Population Tables.\n006:07\npublic\nAmerican Community Survey: 5-Year Estimates: American Indian and Alaska Native Detailed Tables 5-Year\nTrue\nTrue\nTrue\n(acs, acs5, aian)\n2010.0\n\n\nACSDT5YAIAN2015\nNaN\nNaN\nU.S. Census Bureau\nNaN\nNaN\n006:004\n2020-02-13 00:00:00.0\n(census,)\n{'fn': 'American Community Survey Office', 'hasEmail': 'mailto:acso.users.support@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2015/acs/acs5/aian', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe American Indian and Alaska Native (AIAN) tables are released every five years. They are available for selected tribal populations, with more detailed tribal categories compared to those in the Selected Population Tables.\n006:07\npublic\nACS 5-Year AIAN Detailed Tables\nTrue\nTrue\nTrue\n(acs, acs5, aian)\n2015.0\n\n\nACSDT5YAIAN2021\nNaN\nNaN\nU.S. Census Bureau\n2021/2021\nUS\n006:004\n2022-11-29 00:00:00.0\n(census,)\n{'fn': 'American Community Survey Office', 'hasEmail': 'mailto:acso.users.support@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2021/acs/acs5/aian', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe American Indian and Alaska Native (AIAN) tables are released every five years. They are available for selected tribal populations, with more detailed tribal categories compared to those in the Selected Population Tables.\n006:07\npublic\nAmerican Community Survey: 5-Year Estimates: American Indian and Alaska Native Detailed Tables 5-Year\nTrue\nTrue\nTrue\n(acs, acs5, aian)\n2021.0\n\n\nACSDT5YSPT2010\nNaN\nNaN\nU.S. Census Bureau\nNaN\nNaN\n006:004\n2019-10-11 14:16:00.0\n(census,)\n{'fn': 'American Community Survey Office', 'hasEmail': 'mailto:acso.users.support@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2010/acs/acs5/spt', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe Selected Population Tables (SPT) are released every five years. They are available for selected race, Hispanic origin, tribal, and ancestry populations.\n006:07\npublic\nAmerican Community Survey: 5-Year Estimates: Selected Population Detailed Tables 5-Year\nTrue\nTrue\nTrue\n(acs, acs5, spt)\n2010.0\n\n\nACSDT5YSPT2015\nNaN\nNaN\nU.S. Census Bureau\nNaN\nNaN\n006:004\n2020-02-18 00:00:00.0\n(census,)\n{'fn': 'American Community Survey Office', 'hasEmail': 'mailto:acso.users.support@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2015/acs/acs5/spt', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe Selected Population Tables (SPT) are released every five years. They are available for selected race, Hispanic origin, tribal, and ancestry populations.\n006:07\npublic\nAmerican Community Survey: 5-Year Estimates: Selected Population Detailed Tables 5-Year\nTrue\nTrue\nTrue\n(acs, acs5, spt)\n2015.0\n\n\nACSDT5YSPT2021\nNaN\nNaN\nU.S. Census Bureau\n2021/2021\nUS\n006:004\n2022-11-29 00:00:00.0\n(census,)\n{'fn': 'American Community Survey Office', 'hasEmail': 'mailto:acso.users.support@census.gov'}\n{'@type': 'dcat:Distribution', 'accessURL': 'http://api.census.gov/data/2021/acs/acs5/spt', 'description': 'API endpoint', 'format': 'API', 'mediaType': 'application/json', 'title': 'API endpoint'}\nThe Selected Population Tables (SPT) are released every five years. They are available for selected race, Hispanic origin, tribal, and ancestry populations.\n006:07\npublic\nAmerican Community Survey: 5-Year Estimates: Selected Population Detailed Tables 5-Year\nTrue\nTrue\nTrue\n(acs, acs5, spt)\n2021.0\n\n\n\n\n\n\n\nLet’s use the latest available 5-year data (2021). We can use the explain() function to print out a description of the dataset:\n\ncenpy.explorer.explain(\"ACSDT5Y2021\")\n\n{'American Community Survey: 5-Year Estimates: Detailed Tables 5-Year': 'The American Community Survey (ACS) is an ongoing survey that provides data every year -- giving communities the current information they need to plan investments and services. The ACS covers a broad range of topics about social, economic, demographic, and housing characteristics of the U.S. population. Summary files include the following geographies: nation, all states (including DC and Puerto Rico), all metropolitan areas, all congressional districts, all counties, all places, and all tracts and block groups. Summary files contain the most detailed cross-tabulations, many of which are published down to block groups. The data are population and housing counts. There are over 64,000 variables in this dataset.'}\n\n\n\n\nStep 2: Initialize the API connection\nUse the cenpy.remote.APIConnection object, and pass it the name of the dataset.\n\nacs = cenpy.remote.APIConnection(\"ACSDT5Y2021\")\n\n\n\nStep 3: Find the variables we want to load\nThe .variables attribute stores the available variables (across all Census tables).\nWe can use the varslike() function to search the variables dataframe (it’s just a simple wrapper around the pandas filter() function).\n\nlen(acs.variables)\n\n27927\n\n\n\nacs.variables.head(n=10)\n\n\n\n\n\n\n\n\nlabel\nconcept\npredicateType\ngroup\nlimit\npredicateOnly\nhasGeoCollectionSupport\nattributes\nrequired\n\n\n\n\nfor\nCensus API FIPS 'for' clause\nCensus API Geography Specification\nfips-for\nN/A\n0\nTrue\nNaN\nNaN\nNaN\n\n\nin\nCensus API FIPS 'in' clause\nCensus API Geography Specification\nfips-in\nN/A\n0\nTrue\nNaN\nNaN\nNaN\n\n\nucgid\nUniform Census Geography Identifier clause\nCensus API Geography Specification\nucgid\nN/A\n0\nTrue\nTrue\nNaN\nNaN\n\n\nB24022_060E\nEstimate!!Total:!!Female:!!Service occupations:!!Food preparation and serving related occupations\nSEX BY OCCUPATION AND MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE FULL-TIME, YEAR-ROUND CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER\nint\nB24022\n0\nNaN\nNaN\nB24022_060EA,B24022_060M,B24022_060MA\nNaN\n\n\nB19001B_014E\nEstimate!!Total:!!$100,000 to $124,999\nHOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (BLACK OR AFRICAN AMERICAN ALONE HOUSEHOLDER)\nint\nB19001B\n0\nNaN\nNaN\nB19001B_014EA,B19001B_014M,B19001B_014MA\nNaN\n\n\nB07007PR_019E\nEstimate!!Total:!!Moved from different municipio:!!Foreign born:!!Naturalized U.S. citizen\nGEOGRAPHICAL MOBILITY IN THE PAST YEAR BY CITIZENSHIP STATUS FOR CURRENT RESIDENCE IN PUERTO RICO\nint\nB07007PR\n0\nNaN\nNaN\nB07007PR_019EA,B07007PR_019M,B07007PR_019MA\nNaN\n\n\nB19101A_004E\nEstimate!!Total:!!$15,000 to $19,999\nFAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (WHITE ALONE HOUSEHOLDER)\nint\nB19101A\n0\nNaN\nNaN\nB19101A_004EA,B19101A_004M,B19101A_004MA\nNaN\n\n\nB24022_061E\nEstimate!!Total:!!Female:!!Service occupations:!!Building and grounds cleaning and maintenance occupations\nSEX BY OCCUPATION AND MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE FULL-TIME, YEAR-ROUND CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER\nint\nB24022\n0\nNaN\nNaN\nB24022_061EA,B24022_061M,B24022_061MA\nNaN\n\n\nB19001B_013E\nEstimate!!Total:!!$75,000 to $99,999\nHOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (BLACK OR AFRICAN AMERICAN ALONE HOUSEHOLDER)\nint\nB19001B\n0\nNaN\nNaN\nB19001B_013EA,B19001B_013M,B19001B_013MA\nNaN\n\n\nB07007PR_018E\nEstimate!!Total:!!Moved from different municipio:!!Foreign born:\nGEOGRAPHICAL MOBILITY IN THE PAST YEAR BY CITIZENSHIP STATUS FOR CURRENT RESIDENCE IN PUERTO RICO\nint\nB07007PR\n0\nNaN\nNaN\nB07007PR_018EA,B07007PR_018M,B07007PR_018MA\nNaN\n\n\n\n\n\n\n\nWe’re interested in variables about hispanic origin broken down by race — let’s see if we can find the variables where the “Concept” column starts with “RACE”\n\nacs.varslike?\n\n\nSignature: acs.varslike(pattern=None, by=None, engine='re', within=None)\nDocstring:\nGrabs columns that match a particular search pattern.\nParameters\n----------\npattern : str\n          a search pattern to match\nby      : str\n          a column in the APIConnection.variables to conduct the search\n          within\nengine  : {'re', 'fnmatch', callable}\n          backend string matching module to use, or a function of the form\n          match(candidate, pattern). (default: 're')\nwithin  : pandas.DataFrame \n          the variables over which to search.\nNotes\n------\nOnly regex and fnmatch will be supported modules. Note that, while\nregex is the default, the python regular expressions module has some\nstrange behavior if you're used to VIM or Perl-like regex. It may be\neasier to use fnmatch if regex is not providing the results you expect.\nIf you want, you can also pass an engine that is a function. If so, this\nneeds to be a function that has a signature like:\nfn(candidate, pattern)\nand return True or False if the candidate matches the pattern. So, for\ninstance, you can use any string processing function:\n    &gt;&gt;&gt; cxn.varslike('_100M', engine = lambda c,p: c.endswith(p)\nwhich may also be expressed as a regexp:\n    &gt;&gt;&gt; cxn.varslike('_100M$', engine='re')\nor an fnmatch pattern:\n    &gt;&gt;&gt; cxn.varslike('*_100M', engine='fnmatch')\nFile:      ~/mambaforge/envs/musa-550-fall-2023/lib/python3.10/site-packages/cenpy/remote.py\nType:      method\n\n\n\n\nrace_matches = acs.varslike(\n    pattern=\"HISPANIC OR LATINO ORIGIN BY RACE\",\n    by=\"concept\",  # searches along concept column\n).sort_index()\n\n\nrace_matches\n\n\n\n\n\n\n\n\nlabel\nconcept\npredicateType\ngroup\nlimit\npredicateOnly\nhasGeoCollectionSupport\nattributes\nrequired\n\n\n\n\nB03002_001E\nEstimate!!Total:\nHISPANIC OR LATINO ORIGIN BY RACE\nint\nB03002\n0\nNaN\nNaN\nB03002_001EA,B03002_001M,B03002_001MA\nNaN\n\n\nB03002_002E\nEstimate!!Total:!!Not Hispanic or Latino:\nHISPANIC OR LATINO ORIGIN BY RACE\nint\nB03002\n0\nNaN\nNaN\nB03002_002EA,B03002_002M,B03002_002MA\nNaN\n\n\nB03002_003E\nEstimate!!Total:!!Not Hispanic or Latino:!!White alone\nHISPANIC OR LATINO ORIGIN BY RACE\nint\nB03002\n0\nNaN\nNaN\nB03002_003EA,B03002_003M,B03002_003MA\nNaN\n\n\nB03002_004E\nEstimate!!Total:!!Not Hispanic or Latino:!!Black or African American alone\nHISPANIC OR LATINO ORIGIN BY RACE\nint\nB03002\n0\nNaN\nNaN\nB03002_004EA,B03002_004M,B03002_004MA\nNaN\n\n\nB03002_005E\nEstimate!!Total:!!Not Hispanic or Latino:!!American Indian and Alaska Native alone\nHISPANIC OR LATINO ORIGIN BY RACE\nint\nB03002\n0\nNaN\nNaN\nB03002_005EA,B03002_005M,B03002_005MA\nNaN\n\n\nB03002_006E\nEstimate!!Total:!!Not Hispanic or Latino:!!Asian alone\nHISPANIC OR LATINO ORIGIN BY RACE\nint\nB03002\n0\nNaN\nNaN\nB03002_006EA,B03002_006M,B03002_006MA\nNaN\n\n\nB03002_007E\nEstimate!!Total:!!Not Hispanic or Latino:!!Native Hawaiian and Other Pacific Islander alone\nHISPANIC OR LATINO ORIGIN BY RACE\nint\nB03002\n0\nNaN\nNaN\nB03002_007EA,B03002_007M,B03002_007MA\nNaN\n\n\nB03002_008E\nEstimate!!Total:!!Not Hispanic or Latino:!!Some other race alone\nHISPANIC OR LATINO ORIGIN BY RACE\nint\nB03002\n0\nNaN\nNaN\nB03002_008EA,B03002_008M,B03002_008MA\nNaN\n\n\nB03002_009E\nEstimate!!Total:!!Not Hispanic or Latino:!!Two or more races:\nHISPANIC OR LATINO ORIGIN BY RACE\nint\nB03002\n0\nNaN\nNaN\nB03002_009EA,B03002_009M,B03002_009MA\nNaN\n\n\nB03002_010E\nEstimate!!Total:!!Not Hispanic or Latino:!!Two or more races:!!Two races including Some other race\nHISPANIC OR LATINO ORIGIN BY RACE\nint\nB03002\n0\nNaN\nNaN\nB03002_010EA,B03002_010M,B03002_010MA\nNaN\n\n\nB03002_011E\nEstimate!!Total:!!Not Hispanic or Latino:!!Two or more races:!!Two races excluding Some other race, and three or more races\nHISPANIC OR LATINO ORIGIN BY RACE\nint\nB03002\n0\nNaN\nNaN\nB03002_011EA,B03002_011M,B03002_011MA\nNaN\n\n\nB03002_012E\nEstimate!!Total:!!Hispanic or Latino:\nHISPANIC OR LATINO ORIGIN BY RACE\nint\nB03002\n0\nNaN\nNaN\nB03002_012EA,B03002_012M,B03002_012MA\nNaN\n\n\nB03002_013E\nEstimate!!Total:!!Hispanic or Latino:!!White alone\nHISPANIC OR LATINO ORIGIN BY RACE\nint\nB03002\n0\nNaN\nNaN\nB03002_013EA,B03002_013M,B03002_013MA\nNaN\n\n\nB03002_014E\nEstimate!!Total:!!Hispanic or Latino:!!Black or African American alone\nHISPANIC OR LATINO ORIGIN BY RACE\nint\nB03002\n0\nNaN\nNaN\nB03002_014EA,B03002_014M,B03002_014MA\nNaN\n\n\nB03002_015E\nEstimate!!Total:!!Hispanic or Latino:!!American Indian and Alaska Native alone\nHISPANIC OR LATINO ORIGIN BY RACE\nint\nB03002\n0\nNaN\nNaN\nB03002_015EA,B03002_015M,B03002_015MA\nNaN\n\n\nB03002_016E\nEstimate!!Total:!!Hispanic or Latino:!!Asian alone\nHISPANIC OR LATINO ORIGIN BY RACE\nint\nB03002\n0\nNaN\nNaN\nB03002_016EA,B03002_016M,B03002_016MA\nNaN\n\n\nB03002_017E\nEstimate!!Total:!!Hispanic or Latino:!!Native Hawaiian and Other Pacific Islander alone\nHISPANIC OR LATINO ORIGIN BY RACE\nint\nB03002\n0\nNaN\nNaN\nB03002_017EA,B03002_017M,B03002_017MA\nNaN\n\n\nB03002_018E\nEstimate!!Total:!!Hispanic or Latino:!!Some other race alone\nHISPANIC OR LATINO ORIGIN BY RACE\nint\nB03002\n0\nNaN\nNaN\nB03002_018EA,B03002_018M,B03002_018MA\nNaN\n\n\nB03002_019E\nEstimate!!Total:!!Hispanic or Latino:!!Two or more races:\nHISPANIC OR LATINO ORIGIN BY RACE\nint\nB03002\n0\nNaN\nNaN\nB03002_019EA,B03002_019M,B03002_019MA\nNaN\n\n\nB03002_020E\nEstimate!!Total:!!Hispanic or Latino:!!Two or more races:!!Two races including Some other race\nHISPANIC OR LATINO ORIGIN BY RACE\nint\nB03002\n0\nNaN\nNaN\nB03002_020EA,B03002_020M,B03002_020MA\nNaN\n\n\nB03002_021E\nEstimate!!Total:!!Hispanic or Latino:!!Two or more races:!!Two races excluding Some other race, and three or more races\nHISPANIC OR LATINO ORIGIN BY RACE\nint\nB03002\n0\nNaN\nNaN\nB03002_021EA,B03002_021M,B03002_021MA\nNaN\n\n\nGEO_ID\nGeography\nGEOGRAPHICAL MOBILITY IN THE PAST YEAR BY INDIVIDUAL INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR RESIDENCE 1 YEAR AGO IN PUERTO RICO;MEDIAN INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY GEOGRAPHICAL MOBILITY IN THE PAST YEAR FOR RESIDENCE 1 YEAR AGO IN THE UNITED STATES;MEDIAN INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY GEOGRAPHICAL MOBILITY IN THE PAST YEAR FOR RESIDENCE 1 YEAR AGO IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY POVERTY STATUS IN THE PAST 12 MONTHS FOR RESIDENCE 1 YEAR AGO IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY POVERTY STATUS IN THE PAST 12 MONTHS FOR RESIDENCE 1 YEAR AGO IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY TENURE FOR RESIDENCE 1 YEAR AGO IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY TENURE FOR RESIDENCE 1 YEAR AGO IN PUERTO RICO;SEX OF WORKERS BY MEANS OF TRANSPORTATION TO WORK;SEX OF WORKERS BY PLACE OF WORK--STATE AND COUNTY LEVEL;SEX OF WORKERS BY PLACE OF WORK--PLACE LEVEL;SEX OF WORKERS BY PLACE OF WORK--MINOR CIVIL DIVISION LEVEL FOR 12 SELECTED STATES (CT, ME, MA, MI, MN, NH, NJ, NY, PA, RI, VT, WI);SEX OF WORKERS BY TIME OF DEPARTURE TO GO TO WORK;SEX OF WORKERS BY TRAVEL TIME TO WORK;AGGREGATE TRAVEL TIME TO WORK (IN MINUTES) OF WORKERS BY SEX;SEX OF WORKERS BY VEHICLES AVAILABLE;AGGREGATE NUMBER OF VEHICLES (CAR, TRUCK, OR VAN) USED IN COMMUTING BY WORKERS 16 YEARS AND OVER BY SEX;PLACE OF WORK FOR WORKERS 16 YEARS AND OVER--METROPOLITAN STATISTICAL AREA LEVEL;PLACE OF WORK FOR WORKERS 16 YEARS AND OVER--MICROPOLITAN STATISTICAL AREA LEVEL;PLACE OF WORK FOR WORKERS 16 YEARS AND OVER--NOT METROPOLITAN OR MICROPOLITAN STATISTICAL AREA LEVEL;MEANS OF TRANSPORTATION TO WORK BY AGE;MEDIAN AGE BY MEANS OF TRANSPORTATION TO WORK;MEANS OF TRANSPORTATION TO WORK (WHITE ALONE);MEANS OF TRANSPORTATION TO WORK (BLACK OR AFRICAN AMERICAN ALONE);MEANS OF TRANSPORTATION TO WORK (AMERICAN INDIAN AND ALASKA NATIVE ALONE);MEANS OF TRANSPORTATION TO WORK (ASIAN ALONE);MEANS OF TRANSPORTATION TO WORK (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);MEANS OF TRANSPORTATION TO WORK (SOME OTHER RACE ALONE);MEANS OF TRANSPORTATION TO WORK (TWO OR MORE RACES);MEANS OF TRANSPORTATION TO WORK (WHITE ALONE, NOT HISPANIC OR LATINO);MEANS OF TRANSPORTATION TO WORK (HISPANIC OR LATINO);MEANS OF TRANSPORTATION TO WORK BY CITIZENSHIP STATUS;MEANS OF TRANSPORTATION TO WORK BY LANGUAGE SPOKEN AT HOME AND ABILITY TO SPEAK ENGLISH;MEANS OF TRANSPORTATION TO WORK BY WORKERS' EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS);MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY MEANS OF TRANSPORTATION TO WORK;MEANS OF TRANSPORTATION TO WORK BY POVERTY STATUS IN THE PAST 12 MONTHS;MEANS OF TRANSPORTATION TO WORK BY OCCUPATION;MEANS OF TRANSPORTATION TO WORK BY INDUSTRY;TENURE (WHITE ALONE, NOT HISPANIC OR LATINO HOUSEHOLDER);TENURE (HISPANIC OR LATINO HOUSEHOLDER);VACANCY STATUS;VACANT - CURRENT RESIDENCE ELSEWHERE;RACE OF HOUSEHOLDER;TENURE BY AGE OF HOUSEHOLDER;TOTAL POPULATION IN OCCUPIED HOUSING UNITS BY TENURE;TENURE BY HOUSEHOLD SIZE;AVERAGE HOUSEHOLD SIZE OF OCCUPIED HOUSING UNITS BY TENURE;TENURE BY HOUSEHOLD TYPE (INCLUDING LIVING ALONE) AND AGE OF HOUSEHOLDER;TENURE BY FAMILIES AND PRESENCE OF OWN CHILDREN;TENURE BY EDUCATIONAL ATTAINMENT OF HOUSEHOLDER;TENURE BY OCCUPANTS PER ROOM;OCCUPANTS PER ROOM (WHITE ALONE HOUSEHOLDER);OCCUPANTS PER ROOM (BLACK OR AFRICAN AMERICAN ALONE HOUSEHOLDER);OCCUPANTS PER ROOM (AMERICAN INDIAN AND ALASKA NATIVE ALONE HOUSEHOLDER);OCCUPANTS PER ROOM (ASIAN ALONE HOUSEHOLDER);OCCUPANTS PER ROOM (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE HOUSEHOLDER);OCCUPANTS PER ROOM (SOME OTHER RACE ALONE HOUSEHOLDER);OCCUPANTS PER ROOM (TWO OR MORE RACES HOUSEHOLDER);OCCUPANTS PER ROOM (WHITE ALONE, NOT HISPANIC OR LATINO HOUSEHOLDER);OCCUPANTS PER ROOM (HISPANIC OR LATINO HOUSEHOLDER);TENURE BY AGE OF HOUSEHOLDER BY OCCUPANTS PER ROOM;TENURE BY PLUMBING FACILITIES BY OCCUPANTS PER ROOM;ROOMS;MEDIAN NUMBER OF ROOMS;AGGREGATE NUMBER OF ROOMS;TENURE BY ROOMS;MEDIAN NUMBER OF ROOMS BY TENURE;AGGREGATE NUMBER OF ROOMS BY TENURE;UNITS IN STRUCTURE;TOTAL POPULATION IN OCCUPIED HOUSING UNITS BY TENURE BY YEAR HOUSEHOLDER MOVED INTO UNIT;MORTGAGE STATUS BY AGE OF HOUSEHOLDER;MEDIAN GROSS RENT BY BEDROOMS;TENURE BY UNITS IN STRUCTURE;UNITS IN STRUCTURE (WHITE ALONE HOUSEHOLDER);UNITS IN STRUCTURE (BLACK OR AFRICAN AMERICAN ALONE HOUSEHOLDER);UNITS IN STRUCTURE (AMERICAN INDIAN AND ALASKA NATIVE ALONE HOUSEHOLDER);UNITS IN STRUCTURE (ASIAN ALONE HOUSEHOLDER);UNITS IN STRUCTURE (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE HOUSEHOLDER);MEANS OF TRANSPORTATION TO WORK BY CLASS OF WORKER;MEANS OF TRANSPORTATION TO WORK BY PLACE OF WORK--STATE AND COUNTY LEVEL;AGGREGATE TRAVEL TIME TO WORK (IN MINUTES) OF WORKERS BY PLACE OF WORK--STATE AND COUNTY LEVEL;MEANS OF TRANSPORTATION TO WORK BY TIME OF DEPARTURE TO GO TO WORK;AGGREGATE TRAVEL TIME TO WORK (IN MINUTES) OF WORKERS BY TIME OF DEPARTURE TO GO TO WORK;MEANS OF TRANSPORTATION TO WORK BY TRAVEL TIME TO WORK;AGGREGATE TRAVEL TIME TO WORK (IN MINUTES) OF WORKERS BY TRAVEL TIME TO WORK;AGGREGATE TRAVEL TIME TO WORK (IN MINUTES) OF WORKERS BY MEANS OF TRANSPORTATION TO WORK;MEANS OF TRANSPORTATION TO WORK BY TENURE;MEANS OF TRANSPORTATION TO WORK BY VEHICLES AVAILABLE;HOUSEHOLD SIZE BY VEHICLES AVAILABLE;HOUSEHOLD SIZE BY NUMBER OF WORKERS IN HOUSEHOLD;NUMBER OF WORKERS IN HOUSEHOLD BY VEHICLES AVAILABLE;MEANS OF TRANSPORTATION TO WORK;TIME OF DEPARTURE TO GO TO WORK;TRAVEL TIME TO WORK;SEX OF WORKERS BY MEANS OF TRANSPORTATION TO WORK FOR WORKPLACE GEOGRAPHY;SEX OF WORKERS BY TRAVEL TIME TO WORK FOR WORKPLACE GEOGRAPHY;MEANS OF TRANSPORTATION TO WORK BY AGE FOR WORKPLACE GEOGRAPHY;MEDIAN AGE BY MEANS OF TRANSPORTATION TO WORK FOR WORKPLACE GEOGRAPHY;MEANS OF TRANSPORTATION TO WORK FOR WORKPLACE GEOGRAPHY (WHITE ALONE);MEANS OF TRANSPORTATION TO WORK FOR WORKPLACE GEOGRAPHY (BLACK OR AFRICAN AMERICAN ALONE);MEANS OF TRANSPORTATION TO WORK FOR WORKPLACE GEOGRAPHY (AMERICAN INDIAN AND ALASKA NATIVE ALONE);MEANS OF TRANSPORTATION TO WORK FOR WORKPLACE GEOGRAPHY (ASIAN ALONE);MEANS OF TRANSPORTATION TO WORK FOR WORKPLACE GEOGRAPHY (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);MEANS OF TRANSPORTATION TO WORK FOR WORKPLACE GEOGRAPHY (SOME OTHER RACE ALONE);MEANS OF TRANSPORTATION TO WORK FOR WORKPLACE GEOGRAPHY (TWO OR MORE RACES);MEANS OF TRANSPORTATION TO WORK FOR WORKPLACE GEOGRAPHY (WHITE ALONE, NOT HISPANIC OR LATINO);MEANS OF TRANSPORTATION TO WORK FOR WORKPLACE GEOGRAPHY (HISPANIC OR LATINO);MEANS OF TRANSPORTATION TO WORK BY CITIZENSHIP STATUS FOR WORKPLACE GEOGRAPHY;MEANS OF TRANSPORTATION TO WORK BY LANGUAGE SPOKEN AT HOME AND ABILITY TO SPEAK ENGLISH FOR WORKPLACE GEOGRAPHY;MEANS OF TRANSPORTATION TO WORK BY WORKERS' EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR WORKPLACE GEOGRAPHY;MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY MEANS OF TRANSPORTATION TO WORK FOR WORKPLACE GEOGRAPHY;MEANS OF TRANSPORTATION TO WORK BY POVERTY STATUS IN THE PAST 12 MONTHS FOR WORKPLACE GEOGRAPHY;MEANS OF TRANSPORTATION TO WORK BY OCCUPATION FOR WORKPLACE GEOGRAPHY;UNITS IN STRUCTURE (SOME OTHER RACE ALONE HOUSEHOLDER);UNITS IN STRUCTURE (TWO OR MORE RACES HOUSEHOLDER);UNITS IN STRUCTURE (WHITE ALONE, NOT HISPANIC OR LATINO HOUSEHOLDER);UNITS IN STRUCTURE (HISPANIC OR LATINO HOUSEHOLDER);TOTAL POPULATION IN OCCUPIED HOUSING UNITS BY TENURE BY UNITS IN STRUCTURE;YEAR STRUCTURE BUILT;MEDIAN YEAR STRUCTURE BUILT;TENURE BY YEAR STRUCTURE BUILT;MEDIAN YEAR STRUCTURE BUILT BY TENURE;TENURE BY YEAR HOUSEHOLDER MOVED INTO UNIT;MEDIAN YEAR HOUSEHOLDER MOVED INTO UNIT BY TENURE;HOUSE HEATING FUEL;BEDROOMS;TENURE BY BEDROOMS;TENURE BY TELEPHONE SERVICE AVAILABLE BY AGE OF HOUSEHOLDER;TENURE BY VEHICLES AVAILABLE;TENURE BY VEHICLES AVAILABLE BY AGE OF HOUSEHOLDER;AGGREGATE NUMBER OF VEHICLES AVAILABLE BY TENURE;PLUMBING FACILITIES FOR ALL HOUSING UNITS;PLUMBING FACILITIES FOR OCCUPIED HOUSING UNITS;TENURE BY PLUMBING FACILITIES;PLUMBING FACILITIES BY OCCUPANTS PER ROOM BY YEAR STRUCTURE BUILT;KITCHEN FACILITIES FOR ALL HOUSING UNITS;KITCHEN FACILITIES FOR OCCUPIED HOUSING UNITS;TENURE BY KITCHEN FACILITIES;KITCHEN FACILITIES BY MEALS INCLUDED IN RENT;AGE OF HOUSEHOLDER BY MEALS INCLUDED IN RENT;CONTRACT RENT;LOWER CONTRACT RENT QUARTILE (DOLLARS);MEDIAN CONTRACT RENT (DOLLARS);UPPER CONTRACT RENT QUARTILE (DOLLARS);AGGREGATE CONTRACT RENT (DOLLARS);RENT ASKED;AGGREGATE RENT ASKED (DOLLARS);GROSS RENT;MEDIAN GROSS RENT (DOLLARS);AGGREGATE GROSS RENT (DOLLARS);AGGREGATE GROSS RENT (DOLLARS) BY UNITS IN STRUCTURE;AGGREGATE GROSS RENT (DOLLARS) BY MEALS INCLUDED IN RENT;BEDROOMS BY GROSS RENT;INCLUSION OF UTILITIES IN RENT;GROSS RENT AS A PERCENTAGE OF HOUSEHOLD INCOME IN THE PAST 12 MONTHS;MEDIAN GROSS RENT AS A PERCENTAGE OF HOUSEHOLD INCOME IN THE PAST 12 MONTHS (DOLLARS);AGE OF HOUSEHOLDER BY GROSS RENT AS A PERCENTAGE OF HOUSEHOLD INCOME IN THE PAST 12 MONTHS;HOUSEHOLD INCOME BY GROSS RENT AS A PERCENTAGE OF HOUSEHOLD INCOME IN THE PAST 12 MONTHS;VALUE;MEANS OF TRANSPORTATION TO WORK BY INDUSTRY FOR WORKPLACE GEOGRAPHY;MEANS OF TRANSPORTATION TO WORK BY CLASS OF WORKER FOR WORKPLACE GEOGRAPHY;MEANS OF TRANSPORTATION TO WORK BY TIME ARRIVING AT WORK FOR WORKPLACE GEOGRAPHY;MEANS OF TRANSPORTATION TO WORK BY TRAVEL TIME TO WORK FOR WORKPLACE GEOGRAPHY;AGGREGATE TRAVEL TIME TO WORK (IN MINUTES) OF WORKERS BY MEANS OF TRANSPORTATION TO WORK FOR WORKPLACE GEOGRAPHY;MEANS OF TRANSPORTATION TO WORK BY TENURE FOR WORKPLACE GEOGRAPHY;MEANS OF TRANSPORTATION TO WORK BY VEHICLES AVAILABLE FOR WORKPLACE GEOGRAPHY;MEANS OF TRANSPORTATION TO WORK FOR WORKPLACE GEOGRAPHY;TIME ARRIVING AT WORK FOR WORKPLACE GEOGRAPHY;TRAVEL TIME TO WORK FOR WORKPLACE GEOGRAPHY;WORKER POPULATION FOR WORKPLACE GEOGRAPHY;POPULATION UNDER 18 YEARS BY AGE;OWN CHILDREN UNDER 18 YEARS BY FAMILY TYPE AND AGE;HOUSEHOLD TYPE FOR CHILDREN UNDER 18 YEARS IN HOUSEHOLDS (EXCLUDING HOUSEHOLDERS, SPOUSES, AND UNMARRIED PARTNERS);RECEIPT OF SUPPLEMENTAL SECURITY INCOME (SSI), CASH PUBLIC ASSISTANCE INCOME, OR FOOD STAMPS/SNAP IN THE PAST 12 MONTHS BY HOUSEHOLD TYPE FOR CHILDREN UNDER 18 YEARS IN HOUSEHOLDS;RELATIONSHIP TO HOUSEHOLDER FOR CHILDREN UNDER 18 YEARS IN HOUSEHOLDS;HOUSEHOLD TYPE (INCLUDING LIVING ALONE) BY RELATIONSHIP;RELATIONSHIP BY HOUSEHOLD TYPE (INCLUDING LIVING ALONE) FOR THE POPULATION 65 YEARS AND OVER;LIVING ARRANGEMENTS OF ADULTS 18 YEARS AND OVER BY AGE;GRANDCHILDREN UNDER 18 YEARS LIVING WITH A GRANDPARENT HOUSEHOLDER BY AGE OF GRANDCHILD;GRANDCHILDREN UNDER 18 YEARS LIVING WITH A GRANDPARENT HOUSEHOLDER BY GRANDPARENT RESPONSIBILITY AND PRESENCE OF PARENT;MEDIAN FAMILY INCOME FOR FAMILIES WITH GRANDPARENT HOUSEHOLDERS AND/OR SPOUSES LIVING WITH OWN GRANDCHILDREN UNDER 18 YEARS BY RESPONSIBILITY FOR OWN GRANDCHILDREN AND PRESENCE OF PARENT OF GRANDCHILDREN;GRANDPARENTS LIVING WITH OWN GRANDCHILDREN UNDER 18 YEARS BY RESPONSIBILITY FOR OWN GRANDCHILDREN BY LENGTH OF TIME RESPONSIBLE FOR OWN GRANDCHILDREN FOR THE POPULATION 30 YEARS AND OVER;GRANDPARENTS LIVING WITH OWN GRANDCHILDREN UNDER 18 YEARS BY RESPONSIBILITY FOR OWN GRANDCHILDREN BY PRESENCE OF PARENT OF GRANDCHILDREN AND AGE OF GRANDPARENT;GRANDPARENTS LIVING WITH OWN GRANDCHILDREN UNDER 18 YEARS BY RESPONSIBILITY FOR OWN GRANDCHILDREN AND AGE OF GRANDPARENT (WHITE ALONE);GRANDPARENTS LIVING WITH OWN GRANDCHILDREN UNDER 18 YEARS BY RESPONSIBILITY FOR OWN GRANDCHILDREN AND AGE OF GRANDPARENT (BLACK OR AFRICAN AMERICAN ALONE);GRANDPARENTS LIVING WITH OWN GRANDCHILDREN UNDER 18 YEARS BY RESPONSIBILITY FOR OWN GRANDCHILDREN AND AGE OF GRANDPARENT (AMERICAN INDIAN AND ALASKA NATIVE ALONE);GRANDPARENTS LIVING WITH OWN GRANDCHILDREN UNDER 18 YEARS BY RESPONSIBILITY FOR OWN GRANDCHILDREN AND AGE OF GRANDPARENT (ASIAN ALONE);GRANDPARENTS LIVING WITH OWN GRANDCHILDREN UNDER 18 YEARS BY RESPONSIBILITY FOR OWN GRANDCHILDREN AND AGE OF GRANDPARENT (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);GRANDPARENTS LIVING WITH OWN GRANDCHILDREN UNDER 18 YEARS BY RESPONSIBILITY FOR OWN GRANDCHILDREN AND AGE OF GRANDPARENT (SOME OTHER RACE ALONE);GRANDPARENTS LIVING WITH OWN GRANDCHILDREN UNDER 18 YEARS BY RESPONSIBILITY FOR OWN GRANDCHILDREN AND AGE OF GRANDPARENT (TWO OR MORE RACES);GRANDPARENTS LIVING WITH OWN GRANDCHILDREN UNDER 18 YEARS BY RESPONSIBILITY FOR OWN GRANDCHILDREN AND AGE OF GRANDPARENT (WHITE ALONE, NOT HISPANIC OR LATINO);LOWER VALUE QUARTILE (DOLLARS);MEDIAN VALUE (DOLLARS);UPPER VALUE QUARTILE (DOLLARS);AGGREGATE VALUE (DOLLARS) BY AGE OF HOUSEHOLDER;AGGREGATE VALUE (DOLLARS) BY UNITS IN STRUCTURE;MORTGAGE STATUS;AGGREGATE VALUE (DOLLARS) BY MORTGAGE STATUS;MEDIAN VALUE (DOLLARS) FOR MOBILE HOMES;PRICE ASKED;AGGREGATE PRICE ASKED (DOLLARS);MORTGAGE STATUS AND SELECTED MONTHLY OWNER COSTS;MEDIAN SELECTED MONTHLY OWNER COSTS (DOLLARS) BY MORTGAGE STATUS;AGGREGATE SELECTED MONTHLY OWNER COSTS (DOLLARS) BY MORTGAGE STATUS;MORTGAGE STATUS BY AGGREGATE REAL ESTATE TAXES PAID (DOLLARS);MORTGAGE STATUS BY SELECTED MONTHLY OWNER COSTS AS A PERCENTAGE OF HOUSEHOLD INCOME IN THE PAST 12 MONTHS;MEDIAN SELECTED MONTHLY OWNER COSTS AS A PERCENTAGE OF HOUSEHOLD INCOME IN THE PAST 12 MONTHS;AGE OF HOUSEHOLDER BY SELECTED MONTHLY OWNER COSTS AS A PERCENTAGE OF HOUSEHOLD INCOME IN THE PAST 12 MONTHS;SELECTED MONTHLY OWNER COSTS;HOUSEHOLD INCOME BY SELECTED MONTHLY OWNER COSTS AS A PERCENTAGE OF HOUSEHOLD INCOME IN THE PAST 12 MONTHS;MORTGAGE STATUS BY VALUE;MORTGAGE STATUS BY MEDIAN VALUE (DOLLARS);MORTGAGE STATUS BY HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS);MORTGAGE STATUS BY MEDIAN HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS);MORTGAGE STATUS BY RATIO OF VALUE TO HOUSEHOLD INCOME IN THE PAST 12 MONTHS;MORTGAGE STATUS BY MONTHLY HOUSING COSTS AS A PERCENTAGE OF HOUSEHOLD INCOME IN THE PAST 12 MONTHS;MORTGAGE STATUS BY REAL ESTATE TAXES PAID;MORTGAGE STATUS BY MEDIAN REAL ESTATE TAXES PAID (DOLLARS);MONTHLY HOUSING COSTS;MEDIAN MONTHLY HOUSING COSTS (DOLLARS);TENURE BY HOUSING COSTS AS A PERCENTAGE OF HOUSEHOLD INCOME IN THE PAST 12 MONTHS;MEDIAN VALUE BY YEAR STRUCTURE BUILT;AGGREGATE VALUE (DOLLARS) BY YEAR STRUCTURE BUILT;MEDIAN VALUE BY YEAR HOUSEHOLDER MOVED INTO UNIT;AGGREGATE VALUE (DOLLARS) BY YEAR HOUSEHOLDER MOVED INTO UNIT;MEDIAN GROSS RENT BY YEAR STRUCTURE BUILT;AGGREGATE GROSS RENT (DOLLARS) BY YEAR STRUCTURE BUILT;MEDIAN GROSS RENT BY YEAR HOUSEHOLDER MOVED INTO UNIT;AGGREGATE GROSS RENT (DOLLARS) BY YEAR HOUSEHOLDER MOVED INTO UNIT;TENURE BY HOUSEHOLD TYPE AND PRESENCE AND AGE OF OWN CHILDREN;TENURE BY HOUSEHOLD SIZE BY AGE OF HOUSEHOLDER;TENURE BY HOUSE HEATING FUEL;TENURE BY HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS);MEDIAN HOUSEHOLD INCOME THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY TENURE;GRANDPARENTS LIVING WITH OWN GRANDCHILDREN UNDER 18 YEARS BY RESPONSIBILITY FOR OWN GRANDCHILDREN AND AGE OF GRANDPARENT (HISPANIC OR LATINO);DISABILITY STATUS OF GRANDPARENTS LIVING WITH OWN GRANDCHILDREN UNDER 18 YEARS BY RESPONSIBILITY FOR OWN GRANDCHILDREN AND AGE OF GRANDPARENT;NATIVITY BY GRANDPARENTS RESPONSIBLE FOR OWN GRANDCHILDREN UNDER 18 YEARS BY AGE OF GRANDPARENT;LANGUAGE AND ABILITY TO SPEAK ENGLISH OF GRANDPARENTS LIVING WITH OWN GRANDCHILDREN UNDER 18 YEARS BY RESPONSIBILITY FOR OWN GRANDCHILDREN AND AGE OF GRANDPARENT;SEX OF GRANDPARENTS LIVING WITH OWN GRANDCHILDREN UNDER 18 YEARS BY RESPONSIBILITY FOR OWN GRANDCHILDREN AND AGE OF GRANDPARENT;MARITAL STATUS BY GRANDPARENTS LIVING WITH OWN GRANDCHILDREN UNDER 18 YEARS BY RESPONSIBILITY FOR OWN GRANDCHILDREN AND AGE OF GRANDPARENT;EMPLOYMENT STATUS OF GRANDPARENTS LIVING WITH OWN GRANDCHILDREN UNDER 18 YEARS BY RESPONSIBILITY FOR OWN GRANDCHILDREN AND AGE OF GRANDPARENT;POVERTY STATUS IN THE PAST 12 MONTHS OF GRANDPARENTS LIVING WITH OWN GRANDCHILDREN UNDER 18 YEARS BY RESPONSIBILITY FOR OWN GRANDCHILDREN AND AGE OF GRANDPARENT;HOUSEHOLDS WITH GRANDPARENTS LIVING WITH OWN GRANDCHILDREN UNDER 18 YEARS BY RESPONSIBILITY FOR OWN GRANDCHILDREN AND PRESENCE OF PARENT OF GRANDCHILDREN;HOUSEHOLD TYPE (INCLUDING LIVING ALONE);HOUSEHOLD TYPE (INCLUDING LIVING ALONE) (WHITE ALONE);HOUSEHOLD TYPE (INCLUDING LIVING ALONE) (BLACK OR AFRICAN AMERICAN ALONE);HOUSEHOLD TYPE (INCLUDING LIVING ALONE) (AMERICAN INDIAN AND ALASKA NATIVE ALONE);HOUSEHOLD TYPE (INCLUDING LIVING ALONE) (ASIAN ALONE);HOUSEHOLD TYPE (INCLUDING LIVING ALONE) (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);HOUSEHOLD TYPE (INCLUDING LIVING ALONE) (SOME OTHER RACE ALONE);HOUSEHOLD TYPE (INCLUDING LIVING ALONE) (TWO OR MORE RACES);HOUSEHOLD TYPE (INCLUDING LIVING ALONE) (WHITE ALONE, NOT HISPANIC OR LATINO);HOUSEHOLD TYPE (INCLUDING LIVING ALONE) (HISPANIC OR LATINO);HOUSEHOLD TYPE BY RELATIVES AND NONRELATIVES FOR POPULATION IN HOUSEHOLDS;HOUSEHOLD TYPE BY RELATIVES AND NONRELATIVES FOR POPULATION IN HOUSEHOLDS (WHITE ALONE);HOUSEHOLD TYPE BY RELATIVES AND NONRELATIVES FOR POPULATION IN HOUSEHOLDS (BLACK OR AFRICAN AMERICAN ALONE);HOUSEHOLD TYPE BY RELATIVES AND NONRELATIVES FOR POPULATION IN HOUSEHOLDS (AMERICAN INDIAN AND ALASKA NATIVE ALONE);HOUSEHOLD TYPE BY RELATIVES AND NONRELATIVES FOR POPULATION IN HOUSEHOLDS (ASIAN ALONE);HOUSEHOLD TYPE BY RELATIVES AND NONRELATIVES FOR POPULATION IN HOUSEHOLDS (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);HOUSEHOLD TYPE BY RELATIVES AND NONRELATIVES FOR POPULATION IN HOUSEHOLDS (SOME OTHER RACE ALONE);HOUSEHOLD TYPE BY RELATIVES AND NONRELATIVES FOR POPULATION IN HOUSEHOLDS (TWO OR MORE RACES);HOUSEHOLD TYPE BY RELATIVES AND NONRELATIVES FOR POPULATION IN HOUSEHOLDS (WHITE ALONE, NOT HISPANIC OR LATINO);HOUSEHOLD TYPE BY RELATIVES AND NONRELATIVES FOR POPULATION IN HOUSEHOLDS (HISPANIC OR LATINO);FAMILY TYPE BY PRESENCE AND AGE OF OWN CHILDREN UNDER 18 YEARS;FAMILY TYPE BY PRESENCE AND AGE OF RELATED CHILDREN UNDER 18 YEARS;HOUSEHOLDS BY PRESENCE OF PEOPLE UNDER 18 YEARS BY HOUSEHOLD TYPE;HOUSEHOLDS BY PRESENCE OF PEOPLE 60 YEARS AND OVER BY HOUSEHOLD TYPE;HOUSEHOLDS BY PRESENCE OF PEOPLE 65 YEARS AND OVER, HOUSEHOLD SIZE AND HOUSEHOLD TYPE;HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY VALUE;HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY GROSS RENT;TENURE BY SELECTED PHYSICAL AND FINANCIAL CONDITIONS;AGGREGATE HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY TENURE AND MORTGAGE STATUS;TENURE BY HOUSEHOLD SIZE BY UNITS IN STRUCTURE;TENURE BY AGE OF HOUSEHOLDER BY UNITS IN STRUCTURE;TENURE BY AGE OF HOUSEHOLDER BY YEAR STRUCTURE BUILT;TENURE BY YEAR STRUCTURE BUILT BY UNITS IN STRUCTURE;TENURE BY AGE OF HOUSEHOLDER BY YEAR HOUSEHOLDER MOVED INTO UNIT;TENURE BY YEAR HOUSEHOLDER MOVED INTO UNIT BY UNITS IN STRUCTURE;MONTHLY ELECTRICITY COSTS;MONTHLY GAS COSTS;ANNUAL WATER AND SEWER COSTS;ANNUAL OTHER FUEL COSTS;GROUP QUARTERS POPULATION;GROUP QUARTERS TYPE (3 TYPES) BY SEX BY AGE;MEDIAN AGE BY GROUP QUARTERS TYPE (3 TYPES);GROUP QUARTERS TYPE (3 TYPES);GROUP QUARTERS TYPE (3 TYPES) (WHITE ALONE);GROUP QUARTERS TYPE (3 TYPES) (BLACK OR AFRICAN AMERICAN ALONE);GROUP QUARTERS TYPE (3 TYPES) (AMERICAN INDIAN AND ALASKA NATIVE ALONE);GROUP QUARTERS TYPE (3 TYPES) (ASIAN ALONE);GROUP QUARTERS TYPE (3 TYPES) (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);GROUP QUARTERS TYPE (3 TYPES) (SOME OTHER RACE ALONE);GROUP QUARTERS TYPE (3 TYPES) (TWO OR MORE RACES);GROUP QUARTERS TYPE (3 TYPES) (WHITE ALONE, NOT HISPANIC OR LATINO);GROUP QUARTERS TYPE (3 TYPES) (HISPANIC OR LATINO);GROUP QUARTERS TYPE (3 TYPES) BY MARITAL STATUS;GROUP QUARTERS TYPE (3 TYPES) BY SCHOOL ENROLLMENT;GROUP QUARTERS TYPE (3 TYPES) BY EDUCATIONAL ATTAINMENT;GROUP QUARTERS TYPE (3 TYPES) BY VETERAN STATUS;GROUP QUARTERS TYPE (3 TYPES) BY AGE BY DISABILITY STATUS;GROUP QUARTERS TYPE (3 TYPES) BY GEOGRAPHICAL MOBILITY IN THE PAST YEAR FOR CURRENT RESIDENCE IN THE UNITED STATES;GROUP QUARTERS TYPE (3 TYPES) BY GEOGRAPHICAL MOBILITY IN THE PAST YEAR FOR CURRENT RESIDENCE IN PUERTO RICO;GROUP QUARTERS TYPE (3 TYPES) BY NATIVITY AND CITIZENSHIP STATUS BY SEX;GROUP QUARTERS TYPE (3 TYPES) BY LANGUAGE SPOKEN AT HOME BY ABILITY TO SPEAK ENGLISH;GROUP QUARTERS TYPE (3 TYPES) BY EMPLOYMENT STATUS;GROUP QUARTERS TYPE (3 TYPES) BY OCCUPATION;GROUP QUARTERS TYPE (3 TYPES) BY SEX WITH EARNINGS IN THE PAST 12 MONTHS;AGGREGATE EARNINGS IN THE PAST 12 MONTHS BY GROUP QUARTERS TYPE (3 TYPES) BY SEX;MEDIAN EARNINGS IN THE PAST 12 MONTHS BY GROUP QUARTERS TYPE (3 TYPES) BY SEX;GROUP QUARTERS TYPE (3 TYPES) BY RECEIPT OF FOOD STAMPS/SNAP IN THE PAST 12 MONTHS;GROUP QUARTERS TYPE (5 TYPES) BY SEX BY AGE;COHABITING COUPLE HOUSEHOLDS BY PRESENCE AND AGE OF OWN CHILDREN UNDER 18 YEARS;COUPLED HOUSEHOLDS BY TYPE;NONFAMILY HOUSEHOLDS BY SEX OF HOUSEHOLDER BY LIVING ALONE BY AGE OF HOUSEHOLDER;HOUSEHOLD TYPE BY UNITS IN STRUCTURE;HOUSEHOLDS BY TYPE;SUBFAMILY TYPE BY PRESENCE OF OWN CHILDREN UNDER 18 YEARS;POPULATION IN SUBFAMILIES BY SUBFAMILY TYPE BY RELATIONSHIP;HOUSEHOLDS BY PRESENCE OF NONRELATIVES;HOUSEHOLD TYPE BY HOUSEHOLD SIZE;MULTIGENERATIONAL HOUSEHOLDS;SEX BY MARITAL STATUS FOR THE POPULATION 15 YEARS AND OVER;SEX BY MARITAL STATUS BY AGE FOR THE POPULATION 15 YEARS AND OVER;SEX BY MARITAL STATUS FOR THE POPULATION 15 YEARS AND OVER (WHITE ALONE);SEX BY MARITAL STATUS FOR THE POPULATION 15 YEARS AND OVER (BLACK OR AFRICAN AMERICAN ALONE);SEX BY MARITAL STATUS FOR THE POPULATION 15 YEARS AND OVER (AMERICAN INDIAN AND ALASKA NATIVE ALONE);SEX BY MARITAL STATUS FOR THE POPULATION 15 YEARS AND OVER (ASIAN ALONE);SEX BY MARITAL STATUS FOR THE POPULATION 15 YEARS AND OVER (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);SEX BY MARITAL STATUS FOR THE POPULATION 15 YEARS AND OVER (SOME OTHER RACE ALONE);SEX BY MARITAL STATUS FOR THE POPULATION 15 YEARS AND OVER (TWO OR MORE RACES);SEX BY MARITAL STATUS FOR THE POPULATION 15 YEARS AND OVER (WHITE ALONE, NOT HISPANIC OR LATINO);SEX BY MARITAL STATUS FOR THE POPULATION 15 YEARS AND OVER (HISPANIC OR LATINO);MARITAL STATUS BY SEX BY LABOR FORCE PARTICIPATION;MEDIAN AGE AT FIRST MARRIAGE;MEDIAN AGE AT FIRST MARRIAGE (WHITE ALONE);MEDIAN AGE AT FIRST MARRIAGE (BLACK OR AFRICAN AMERICAN ALONE);MEDIAN AGE AT FIRST MARRIAGE (AMERICAN INDIAN AND ALASKA NATIVE ALONE);MEDIAN AGE AT FIRST MARRIAGE (ASIAN ALONE);MEDIAN AGE AT FIRST MARRIAGE (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);MEDIAN AGE AT FIRST MARRIAGE (SOME OTHER RACE ALONE);MEDIAN AGE AT FIRST MARRIAGE (TWO OR MORE RACES);MEDIAN AGE AT FIRST MARRIAGE (WHITE ALONE, NOT HISPANIC OR LATINO);MEDIAN AGE AT FIRST MARRIAGE (HISPANIC OR LATINO);MARRIAGES IN THE LAST YEAR BY SEX BY MARITAL STATUS FOR THE POPULATION 15 YEARS AND OVER;MARRIAGES ENDING IN WIDOWHOOD IN THE LAST YEAR BY SEX BY MARITAL STATUS FOR THE POPULATION 15 YEARS AND OVER;DIVORCES IN THE LAST YEAR BY SEX BY MARITAL STATUS FOR THE POPULATION 15 YEARS AND OVER;MEDIAN DURATION OF CURRENT MARRIAGE IN YEARS BY SEX BY MARITAL STATUS FOR THE MARRIED POPULATION 15 YEARS AND OVER;NUMBER OF TIMES MARRIED BY SEX BY MARITAL STATUS FOR THE POPULATION 15 YEARS AND OVER;WOMEN 15 TO 50 YEARS WHO HAD A BIRTH IN THE PAST 12 MONTHS BY MARITAL STATUS AND AGE;WOMEN 15 TO 50 YEARS WHO HAD A BIRTH IN THE PAST 12 MONTHS BY MARITAL STATUS (WHITE ALONE);WOMEN 15 TO 50 YEARS WHO HAD A BIRTH IN THE PAST 12 MONTHS BY MARITAL STATUS (BLACK OR AFRICAN AMERICAN ALONE);MEDIAN AGE BY GROUP QUARTERS TYPE (5 TYPES);GROUP QUARTERS TYPE (5 TYPES);GROUP QUARTERS TYPE (5 TYPES) (WHITE ALONE);GROUP QUARTERS TYPE (5 TYPES) (BLACK OR AFRICAN AMERICAN ALONE);GROUP QUARTERS TYPE (5 TYPES) (AMERICAN INDIAN AND ALASKA NATIVE ALONE);GROUP QUARTERS TYPE (5 TYPES) (ASIAN ALONE);GROUP QUARTERS TYPE (5 TYPES) (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);GROUP QUARTERS TYPE (5 TYPES) (SOME OTHER RACE ALONE);GROUP QUARTERS TYPE (5 TYPES) (TWO OR MORE RACES);GROUP QUARTERS TYPE (5 TYPES) (WHITE ALONE, NOT HISPANIC OR LATINO);GROUP QUARTERS TYPE (5 TYPES) (HISPANIC OR LATINO);GROUP QUARTERS TYPE (5 TYPES) BY MARITAL STATUS;GROUP QUARTERS TYPE (5 TYPES) BY SCHOOL ENROLLMENT;GROUP QUARTERS TYPE (5 TYPES) BY EDUCATIONAL ATTAINMENT;GROUP QUARTERS TYPE (5 TYPES) BY VETERAN STATUS;GROUP QUARTERS TYPE (5 TYPES) BY AGE BY DISABILITY STATUS;GROUP QUARTERS TYPE (5 TYPES) BY GEOGRAPHICAL MOBILITY IN THE PAST YEAR FOR CURRENT RESIDENCE IN THE UNITED STATES;GROUP QUARTERS TYPE (5 TYPES) BY NATIVITY AND CITIZENSHIP STATUS BY SEX;GROUP QUARTERS TYPE (5 TYPES) BY YEAR OF ENTRY;GROUP QUARTERS TYPE (5 TYPES) BY WORLD REGION OF BIRTH;GROUP QUARTERS TYPE (5 TYPES) BY LANGUAGE SPOKEN AT HOME BY ABILITY TO SPEAK ENGLISH;GROUP QUARTERS TYPE (5 TYPES) BY EMPLOYMENT STATUS;GROUP QUARTERS TYPE (5 TYPES) BY OCCUPATION;AGGREGATE INCOME IN THE PAST 12 MONTHS BY GROUP QUARTERS TYPE (5 TYPES);GROUP QUARTERS TYPE (5 TYPES) BY SEX WITH EARNINGS IN THE PAST 12 MONTHS;AGGREGATE EARNINGS IN THE PAST 12 MONTHS BY GROUP QUARTERS TYPE (5 TYPES) BY SEX;MEDIAN EARNINGS IN THE PAST 12 MONTHS BY GROUP QUARTERS TYPE (5 TYPES) BY SEX;GROUP QUARTERS TYPE (5 TYPES) BY RECEIPT OF FOOD STAMPS/SNAP IN THE PAST 12 MONTHS;HEALTH INSURANCE COVERAGE STATUS BY SEX BY AGE;PRIVATE HEALTH INSURANCE STATUS BY SEX BY AGE;PUBLIC HEALTH INSURANCE STATUS BY SEX BY AGE;TYPES OF HEALTH INSURANCE COVERAGE BY AGE;HEALTH INSURANCE COVERAGE STATUS AND TYPE BY EMPLOYMENT STATUS;HEALTH INSURANCE COVERAGE STATUS AND TYPE BY HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS);HEALTH INSURANCE COVERAGE STATUS AND TYPE BY AGE BY EDUCATIONAL ATTAINMENT;HEALTH INSURANCE COVERAGE STATUS AND TYPE BY CITIZENSHIP STATUS;HEALTH INSURANCE COVERAGE STATUS BY SEX BY ENROLLMENT STATUS FOR YOUNG ADULTS AGED 19 TO 25;PRIVATE HEALTH INSURANCE BY SEX BY ENROLLMENT STATUS FOR YOUNG ADULTS AGED 19 TO 25;TYPES OF COMPUTERS IN HOUSEHOLD;PRESENCE AND TYPES OF INTERNET SUBSCRIPTIONS IN HOUSEHOLD;PRESENCE OF A COMPUTER AND TYPE OF INTERNET SUBSCRIPTION IN HOUSEHOLD;HOUSEHOLD INCOME IN THE LAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY PRESENCE AND TYPE OF INTERNET SUBSCRIPTION IN HOUSEHOLD;WOMEN 15 TO 50 YEARS WHO HAD A BIRTH IN THE PAST 12 MONTHS BY MARITAL STATUS (AMERICAN INDIAN AND ALASKA NATIVE ALONE);WOMEN 15 TO 50 YEARS WHO HAD A BIRTH IN THE PAST 12 MONTHS BY MARITAL STATUS (ASIAN ALONE);WOMEN 15 TO 50 YEARS WHO HAD A BIRTH IN THE PAST 12 MONTHS BY MARITAL STATUS (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);WOMEN 15 TO 50 YEARS WHO HAD A BIRTH IN THE PAST 12 MONTHS BY MARITAL STATUS (SOME OTHER RACE ALONE);WOMEN 15 TO 50 YEARS WHO HAD A BIRTH IN THE PAST 12 MONTHS BY MARITAL STATUS (TWO OR MORE RACES);WOMEN 15 TO 50 YEARS WHO HAD A BIRTH IN THE PAST 12 MONTHS BY MARITAL STATUS (WHITE ALONE, NOT HISPANIC OR LATINO);WOMEN 15 TO 50 YEARS WHO HAD A BIRTH IN THE PAST 12 MONTHS BY MARITAL STATUS (HISPANIC OR LATINO);WOMEN 15 TO 50 YEARS WHO HAD A BIRTH IN THE PAST 12 MONTHS BY PRESENCE OF SPOUSE OR UNMARRIED PARTNER;WOMEN 15 TO 50 YEARS WHO HAD A BIRTH IN THE PAST 12 MONTHS BY MARITAL STATUS AND NATIVITY;WOMEN 15 TO 50 YEARS WHO HAD A BIRTH IN THE PAST 12 MONTHS BY MARITAL STATUS AND POVERTY STATUS IN THE PAST 12 MONTHS;WOMEN 16 TO 50 YEARS WHO HAD A BIRTH IN THE PAST 12 MONTHS BY MARITAL STATUS AND LABOR FORCE STATUS;WOMEN 15 TO 50 YEARS WHO HAD A BIRTH IN THE PAST 12 MONTHS BY MARITAL STATUS AND EDUCATIONAL ATTAINMENT;WOMEN 15 TO 50 YEARS WHO HAD A BIRTH IN THE PAST 12 MONTHS BY MARITAL STATUS AND RECEIPT OF PUBLIC ASSISTANCE INCOME IN THE PAST 12 MONTHS;WOMEN 15 TO 50 YEARS WHO HAD A BIRTH IN THE PAST 12 MONTHS BY AGE;SCHOOL ENROLLMENT BY LEVEL OF SCHOOL FOR THE POPULATION 3 YEARS AND OVER;SEX BY SCHOOL ENROLLMENT BY LEVEL OF SCHOOL BY TYPE OF SCHOOL FOR THE POPULATION 3 YEARS AND OVER;SEX BY SCHOOL ENROLLMENT BY TYPE OF SCHOOL BY AGE FOR THE POPULATION 3 YEARS AND OVER;SEX BY COLLEGE OR GRADUATE SCHOOL ENROLLMENT BY TYPE OF SCHOOL BY AGE FOR THE POPULATION 15 YEARS AND OVER;SEX BY SCHOOL ENROLLMENT BY EDUCATIONAL ATTAINMENT BY EMPLOYMENT STATUS FOR THE POPULATION 16 TO 19 YEARS;POVERTY STATUS IN THE PAST 12 MONTHS BY SCHOOL ENROLLMENT BY LEVEL OF SCHOOL FOR THE POPULATION 3 YEARS AND OVER;SCHOOL ENROLLMENT BY DETAILED LEVEL OF SCHOOL FOR THE POPULATION 3 YEARS AND OVER;SCHOOL ENROLLMENT BY DETAILED LEVEL OF SCHOOL FOR THE POPULATION 3 YEARS AND OVER (WHITE ALONE);SCHOOL ENROLLMENT BY DETAILED LEVEL OF SCHOOL FOR THE POPULATION 3 YEARS AND OVER (BLACK OR AFRICAN AMERICAN ALONE);SCHOOL ENROLLMENT BY DETAILED LEVEL OF SCHOOL FOR THE POPULATION 3 YEARS AND OVER (AMERICAN INDIAN AND ALASKA NATIVE ALONE);SCHOOL ENROLLMENT BY DETAILED LEVEL OF SCHOOL FOR THE POPULATION 3 YEARS AND OVER (ASIAN ALONE);SCHOOL ENROLLMENT BY DETAILED LEVEL OF SCHOOL FOR THE POPULATION 3 YEARS AND OVER (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);SCHOOL ENROLLMENT BY DETAILED LEVEL OF SCHOOL FOR THE POPULATION 3 YEARS AND OVER (SOME OTHER RACE ALONE);SCHOOL ENROLLMENT BY DETAILED LEVEL OF SCHOOL FOR THE POPULATION 3 YEARS AND OVER (TWO OR MORE RACES);SCHOOL ENROLLMENT BY DETAILED LEVEL OF SCHOOL FOR THE POPULATION 3 YEARS AND OVER (WHITE ALONE, NOT HISPANIC OR LATINO);SCHOOL ENROLLMENT BY DETAILED LEVEL OF SCHOOL FOR THE POPULATION 3 YEARS AND OVER (HISPANIC OR LATINO);SEX BY AGE BY EDUCATIONAL ATTAINMENT FOR THE POPULATION 18 YEARS AND OVER;SEX BY EDUCATIONAL ATTAINMENT FOR THE POPULATION 25 YEARS AND OVER;EDUCATIONAL ATTAINMENT FOR THE POPULATION 25 YEARS AND OVER;SEX BY AGE BY FIELD OF BACHELOR'S DEGREE FOR FIRST MAJOR FOR THE POPULATION 25 YEARS AND OVER;AGE BY PRESENCE OF A COMPUTER AND TYPES OF INTERNET SUBSCRIPTION IN HOUSEHOLD;EDUCATIONAL ATTAINMENT BY PRESENCE OF A COMPUTER AND TYPES OF INTERNET SUBSCRIPTION IN HOUSEHOLD;LABOR FORCE STATUS BY PRESENCE OF A COMPUTER AND TYPES OF INTERNET SUBSCRIPTION IN HOUSEHOLD;PRESENCE OF A COMPUTER AND TYPE OF INTERNET SUBSCRIPTION IN HOUSEHOLD;PRESENCE OF A COMPUTER AND TYPE OF INTERNET SUBSCRIPTION IN HOUSEHOLD (WHITE ALONE);PRESENCE OF A COMPUTER AND TYPE OF INTERNET SUBSCRIPTION IN HOUSEHOLD (BLACK OR AFRICAN AMERICAN ALONE);PRESENCE OF A COMPUTER AND TYPE OF INTERNET SUBSCRIPTION IN HOUSEHOLD (AMERICAN INDIAN AND ALASKA NATIVE ALONE);PRESENCE OF A COMPUTER AND TYPE OF INTERNET SUBSCRIPTION IN HOUSEHOLD (ASIAN ALONE);PRESENCE OF A COMPUTER AND TYPE OF INTERNET SUBSCRIPTION IN HOUSEHOLD (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);PRESENCE OF A COMPUTER AND TYPE OF INTERNET SUBSCRIPTION IN HOUSEHOLD (SOME OTHER RACE ALONE);PRESENCE OF A COMPUTER AND TYPE OF INTERNET SUBSCRIPTION IN HOUSEHOLD (TWO OR MORE RACES);PRESENCE OF A COMPUTER AND TYPE OF INTERNET SUBSCRIPTION IN HOUSEHOLD (WHITE ALONE, NOT HISPANIC OR LATINO);PRESENCE OF A COMPUTER AND TYPE OF INTERNET SUBSCRIPTION IN HOUSEHOLD (HISPANIC OR LATINO);COMPUTERS IN HOUSEHOLD;INTERNET SUBSCRIPTIONS IN HOUSEHOLD;AGE AND ENROLLMENT STATUS BY COMPUTER OWNERSHIP AND INTERNET SUBSCRIPTION STATUS;CITIZEN, VOTING-AGE POPULATION BY AGE;CITIZEN, VOTING-AGE POPULATION BY EDUCATIONAL ATTAINMENT;CITIZEN, VOTING-AGE POPULATION BY POVERTY STATUS;MEDIAN HOUSEHOLD INCOME FOR HOUSEHOLDS WITH A CITIZEN, VOTING-AGE HOUSEHOLDER (IN 2021 INFLATION-ADJUSTED DOLLARS);UNWEIGHTED HOUSING UNIT SAMPLE;UNWEIGHTED GROUP QUARTERS POPULATION SAMPLE;UNWEIGHTED TOTAL POPULATION SAMPLE;HOUSING UNIT COVERAGE RATE;TOTAL POPULATION COVERAGE RATE BY SEX;TOTAL POPULATION COVERAGE RATE BY WEIGHTING RACE AND HISPANIC OR LATINO GROUPS;GROUP QUARTERS POPULATION COVERAGE RATE;HOUSING UNIT RESPONSE AND NONRESPONSE RATES WITH REASONS FOR NONINTERVIEWS;GROUP QUARTERS POPULATION RESPONSE AND NONRESPONSE RATES WITH REASONS FOR NONINTERVIEWS;OVERALL PERSON CHARACTERISTIC ALLOCATION RATE;OVERALL HOUSING UNIT CHARACTERISTIC ALLOCATION RATE;ALLOCATION OF SEX;ALLOCATION OF AGE;ALLOCATION OF RACE;ALLOCATION OF HISPANIC OR LATINO ORIGIN;ALLOCATION OF CITIZENSHIP STATUS;ALLOCATION OF YEAR OF ENTRY;ALLOCATION OF YEAR OF ENTRY FOR POPULATION BORN OUTSIDE PUERTO RICO;ALLOCATION OF YEAR OF NATURALIZATION;ALLOCATION OF PLACE OF BIRTH;ALLOCATION OF MOBILITY STATUS FOR THE POPULATION 1 YEAR AND OVER;ALLOCATION OF RESIDENCE 1 YEAR AGO FOR THE POPULATION 1 YEAR AND OVER;TOTAL FIELDS OF BACHELOR'S DEGREES REPORTED;LANGUAGE SPOKEN AT HOME BY ABILITY TO SPEAK ENGLISH FOR THE POPULATION 5 YEARS AND OVER;AGE BY LANGUAGE SPOKEN AT HOME FOR THE POPULATION 5 YEARS AND OVER IN LIMITED ENGLISH SPEAKING HOUSEHOLDS;AGE BY LANGUAGE SPOKEN AT HOME BY ABILITY TO SPEAK ENGLISH FOR THE POPULATION 5 YEARS AND OVER;NATIVITY BY LANGUAGE SPOKEN AT HOME BY ABILITY TO SPEAK ENGLISH FOR THE POPULATION 5 YEARS AND OVER;NATIVITY BY LANGUAGE SPOKEN AT HOME BY ABILITY TO SPEAK ENGLISH FOR THE POPULATION 5 YEARS AND OVER (WHITE ALONE);NATIVITY BY LANGUAGE SPOKEN AT HOME BY ABILITY TO SPEAK ENGLISH FOR THE POPULATION 5 YEARS AND OVER (BLACK OR AFRICAN AMERICAN ALONE);NATIVITY BY LANGUAGE SPOKEN AT HOME BY ABILITY TO SPEAK ENGLISH FOR THE POPULATION 5 YEARS AND OVER (AMERICAN INDIAN AND ALASKA NATIVE ALONE);NATIVITY BY LANGUAGE SPOKEN AT HOME BY ABILITY TO SPEAK ENGLISH FOR THE POPULATION 5 YEARS AND OVER (ASIAN ALONE);NATIVITY BY LANGUAGE SPOKEN AT HOME BY ABILITY TO SPEAK ENGLISH FOR THE POPULATION 5 YEARS AND OVER (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);NATIVITY BY LANGUAGE SPOKEN AT HOME BY ABILITY TO SPEAK ENGLISH FOR THE POPULATION 5 YEARS AND OVER (SOME OTHER RACE ALONE);NATIVITY BY LANGUAGE SPOKEN AT HOME BY ABILITY TO SPEAK ENGLISH FOR THE POPULATION 5 YEARS AND OVER (TWO OR MORE RACES);NATIVITY BY LANGUAGE SPOKEN AT HOME BY ABILITY TO SPEAK ENGLISH FOR THE POPULATION 5 YEARS AND OVER (WHITE ALONE, NOT HISPANIC OR LATINO);NATIVITY BY LANGUAGE SPOKEN AT HOME BY ABILITY TO SPEAK ENGLISH FOR THE POPULATION 5 YEARS AND OVER (HISPANIC OR LATINO);LANGUAGE SPOKEN AT HOME BY ABILITY TO SPEAK ENGLISH FOR THE POPULATION 5 YEARS AND OVER (HISPANIC OR LATINO);AGE BY LANGUAGE SPOKEN AT HOME FOR THE POPULATION 5 YEARS AND OVER;CITIZENSHIP STATUS BY AGE BY LANGUAGE SPOKEN AT HOME AND ABILITY TO SPEAK ENGLISH FOR THE POPULATION 5 YEARS AND OVER;POVERTY STATUS IN THE PAST 12 MONTHS BY AGE BY LANGUAGE SPOKEN AT HOME FOR THE POPULATION 5 YEARS AND OVER;EDUCATIONAL ATTAINMENT AND EMPLOYMENT STATUS BY LANGUAGE SPOKEN AT HOME FOR THE POPULATION 25 YEARS AND OVER;POVERTY STATUS IN THE PAST 12 MONTHS BY SEX BY AGE;POVERTY STATUS IN THE PAST 12 MONTHS BY SEX BY AGE (WHITE ALONE);POVERTY STATUS IN THE PAST 12 MONTHS BY SEX BY AGE (BLACK OR AFRICAN AMERICAN ALONE);POVERTY STATUS IN THE PAST 12 MONTHS BY SEX BY AGE (AMERICAN INDIAN AND ALASKA NATIVE ALONE);POVERTY STATUS IN THE PAST 12 MONTHS BY SEX BY AGE (ASIAN ALONE);POVERTY STATUS IN THE PAST 12 MONTHS BY SEX BY AGE (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);POVERTY STATUS IN THE PAST 12 MONTHS BY SEX BY AGE (SOME OTHER RACE ALONE);POVERTY STATUS IN THE PAST 12 MONTHS BY SEX BY AGE (TWO OR MORE RACES);POVERTY STATUS IN THE PAST 12 MONTHS BY SEX BY AGE (WHITE ALONE, NOT HISPANIC OR LATINO);POVERTY STATUS IN THE PAST 12 MONTHS BY SEX BY AGE (HISPANIC OR LATINO);POVERTY STATUS IN THE PAST 12 MONTHS OF INDIVIDUALS BY SEX BY EDUCATIONAL ATTAINMENT;POVERTY STATUS IN THE PAST 12 MONTHS OF INDIVIDUALS BY SEX BY WORK EXPERIENCE;POVERTY STATUS IN THE PAST 12 MONTHS OF INDIVIDUALS BY SEX BY EMPLOYMENT STATUS;POVERTY STATUS IN THE PAST 12 MONTHS OF RELATED CHILDREN UNDER 18 YEARS BY FAMILY TYPE BY AGE OF RELATED CHILDREN UNDER 18 YEARS;POVERTY STATUS IN THE PAST 12 MONTHS OF UNRELATED INDIVIDUALS 15 YEARS AND OVER BY SEX BY AGE;ALLOCATION OF PLACE OF WORK;ALLOCATION OF PRIVATE VEHICLE OCCUPANCY;ALLOCATION OF TIME OF DEPARTURE TO GO TO WORK;ALLOCATION OF TRAVEL TIME TO WORK;ALLOCATION OF MEANS OF TRANSPORTATION TO WORK;ALLOCATION OF VEHICLES AVAILABLE FOR WORKERS;ALLOCATION OF MEANS OF TRANSPORTATION TO WORK FOR WORKPLACE GEOGRAPHY;ALLOCATION OF TIME ARRIVING AT WORK FROM HOME FOR WORKPLACE GEOGRAPHY;ALLOCATION OF TRAVEL TIME TO WORK FOR WORKPLACE GEOGRAPHY;ALLOCATION OF VEHICLES AVAILABLE FOR WORKERS FOR WORKPLACE GEOGRAPHY;ALLOCATION OF RELATIONSHIP;ALLOCATION OF GRANDPARENTS LIVING WITH GRANDCHILDREN UNDER 18 YEARS;ALLOCATION OF GRANDPARENTS RESPONSIBLE FOR GRANDCHILDREN UNDER 18 YEARS;ALLOCATION OF LENGTH OF TIME GRANDPARENT RESPONSIBLE FOR OWN GRANDCHILDREN UNDER 18 YEARS FOR THE POPULATION 30 YEARS AND OVER;ALLOCATION OF MARITAL STATUS FOR THE POPULATION 15 YEARS AND OVER;ALLOCATION OF DIVORCED IN THE PAST 12 MONTHS FOR THE POPULATION 15 YEARS AND OVER;ALLOCATION OF MARRIED IN THE PAST 12 MONTHS FOR THE POPULATION 15 YEARS AND OVER;ALLOCATION OF WIDOWED IN THE PAST 12 MONTHS FOR THE POPULATION 15 YEARS AND OVER;ALLOCATION OF TIMES MARRIED FOR THE POPULATION 15 YEARS AND OVER;ALLOCATION OF YEAR LAST MARRIED FOR THE POPULATION 15 YEARS AND OVER;ALLOCATION OF MARITAL STATUS FOR FEMALES 15 TO 50 YEARS;ALLOCATION OF FERTILITY OF WOMEN 15 TO 50 YEARS;ALLOCATION OF SCHOOL ENROLLMENT FOR THE POPULATION 3 YEARS AND OVER;ALLOCATION OF GRADE ENROLLED FOR THE POPULATION 3 YEARS AND OVER ENROLLED IN SCHOOL;ALLOCATION OF EDUCATIONAL ATTAINMENT FOR THE POPULATION 25 YEARS AND OVER;ALLOCATION OF FIELD OF DEGREE FOR POPULATION 25 YEARS AND OVER;ALLOCATION OF LANGUAGE STATUS FOR THE POPULATION 5 YEARS AND OVER;ALLOCATION OF LANGUAGE SPOKEN AT HOME FOR THE POPULATION 5 YEARS AND OVER;ALLOCATION OF ABILITY TO SPEAK ENGLISH FOR THE POPULATION 5 YEARS AND OVER;ALLOCATION OF POVERTY STATUS IN THE PAST 12 MONTHS FOR UNRELATED INDIVIDUALS;ALLOCATION OF POVERTY STATUS IN THE PAST 12 MONTHS FOR FAMILIES;ALLOCATION OF DISABILITY ITEMS FOR THE CIVILIAN NONINSTITUTIONALIZED POPULATION;ALLOCATION OF HEARING DIFFICULTY FOR THE CIVILIAN NONINSTITUTIONALIZED POPULATION;ALLOCATION OF VISION DIFFICULTY FOR THE CIVILIAN NONINSTITUTIONALIZED POPULATION;ALLOCATION OF COGNITIVE DIFFICULTY FOR THE CIVILIAN NONINSTITUTIONALIZED POPULATION 5 YEARS AND OVER;ALLOCATION OF AMBULATORY DIFFICULTY FOR THE CIVILIAN NONINSTITUTIONALIZED POPULATION 5 YEARS AND OVER;ALLOCATION OF SELF-CARE DIFFICULTY FOR THE CIVILIAN NONINSTITUTIONALIZED POPULATION 5 YEARS AND OVER;AGE BY ALLOCATION OF INDEPENDENT LIVING DIFFICULTY FOR THE CIVILIAN NONINSTITUTIONALIZED POPULATION 15 YEARS AND OVER;ALLOCATION OF INDIVIDUALS' INCOME IN THE PAST 12 MONTHS FOR THE POPULATION 15 YEARS AND OVER - PERCENT OF INCOME ALLOCATED;AGGREGATE INCOME DEFICIT (DOLLARS) IN THE PAST 12 MONTHS OF UNRELATED INDIVIDUALS BY SEX;POVERTY STATUS BY WORK EXPERIENCE OF UNRELATED INDIVIDUALS BY HOUSEHOLDER STATUS;POVERTY STATUS IN THE PAST 12 MONTHS OF FAMILIES BY FAMILY TYPE BY PRESENCE OF RELATED CHILDREN UNDER 18 YEARS BY AGE OF RELATED CHILDREN;POVERTY STATUS IN THE PAST 12 MONTHS OF FAMILIES BY FAMILY TYPE BY PRESENCE OF RELATED CHILDREN UNDER 18 YEARS BY AGE OF RELATED CHILDREN (WHITE ALONE HOUSEHOLDER);POVERTY STATUS IN THE PAST 12 MONTHS OF FAMILIES BY FAMILY TYPE BY PRESENCE OF RELATED CHILDREN UNDER 18 YEARS BY AGE OF RELATED CHILDREN (BLACK OR AFRICAN AMERICAN ALONE HOUSEHOLDER);POVERTY STATUS IN THE PAST 12 MONTHS OF FAMILIES BY FAMILY TYPE BY PRESENCE OF RELATED CHILDREN UNDER 18 YEARS BY AGE OF RELATED CHILDREN (AMERICAN INDIAN AND ALASKA NATIVE ALONE);POVERTY STATUS IN THE PAST 12 MONTHS OF FAMILIES BY FAMILY TYPE BY PRESENCE OF RELATED CHILDREN UNDER 18 YEARS BY AGE OF RELATED CHILDREN (ASIAN ALONE HOUSEHOLDER);POVERTY STATUS IN THE PAST 12 MONTHS OF FAMILIES BY FAMILY TYPE BY PRESENCE OF RELATED CHILDREN UNDER 18 YEARS BY AGE OF RELATED CHILDREN (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE HOUSEHOLDER);POVERTY STATUS IN THE PAST 12 MONTHS OF FAMILIES BY FAMILY TYPE BY PRESENCE OF RELATED CHILDREN UNDER 18 YEARS BY AGE OF RELATED CHILDREN (SOME OTHER RACE ALONE HOUSEHOLDER);POVERTY STATUS IN THE PAST 12 MONTHS OF FAMILIES BY FAMILY TYPE BY PRESENCE OF RELATED CHILDREN UNDER 18 YEARS BY AGE OF RELATED CHILDREN (TWO OR MORE RACES HOUSEHOLDER);POVERTY STATUS IN THE PAST 12 MONTHS OF FAMILIES BY FAMILY TYPE BY PRESENCE OF RELATED CHILDREN UNDER 18 YEARS BY AGE OF RELATED CHILDREN (WHITE ALONE, NOT HISPANIC OR LATINO HOUSEHOLDER);POVERTY STATUS IN THE PAST 12 MONTHS OF FAMILIES BY FAMILY TYPE BY PRESENCE OF RELATED CHILDREN UNDER 18 YEARS BY AGE OF RELATED CHILDREN (HISPANIC OR LATINO);AGGREGATE INCOME DEFICIT (DOLLARS) IN THE PAST 12 MONTHS FOR FAMILIES BY FAMILY TYPE;POVERTY STATUS IN THE PAST 12 MONTHS OF FAMILIES BY HOUSEHOLD TYPE BY NUMBER OF RELATED CHILDREN UNDER 18 YEARS;POVERTY STATUS IN THE PAST 12 MONTHS OF FAMILIES BY HOUSEHOLD TYPE BY NUMBER OF PERSONS IN FAMILY;POVERTY STATUS IN THE PAST 12 MONTHS OF FAMILIES BY HOUSEHOLD TYPE BY NUMBER OF WORKERS IN FAMILY;POVERTY STATUS IN THE PAST 12 MONTHS OF FAMILIES BY FAMILY TYPE BY SOCIAL SECURITY INCOME BY SUPPLEMENTAL SECURITY INCOME (SSI) AND CASH PUBLIC ASSISTANCE INCOME;POVERTY STATUS IN THE PAST 12 MONTHS OF FAMILIES BY FAMILY TYPE BY WORK EXPERIENCE OF HOUSEHOLDER AND SPOUSE;POVERTY STATUS IN THE PAST 12 MONTHS BY HOUSEHOLD TYPE BY AGE OF HOUSEHOLDER;POVERTY STATUS IN THE PAST 12 MONTHS OF FAMILIES BY HOUSEHOLD TYPE BY EDUCATIONAL ATTAINMENT OF HOUSEHOLDER;POVERTY STATUS IN THE PAST 12 MONTHS OF FAMILIES BY HOUSEHOLD TYPE BY TENURE;POVERTY STATUS IN THE PAST 12 MONTHS BY AGE;POVERTY STATUS IN THE PAST 12 MONTHS BY AGE (WHITE ALONE);POVERTY STATUS IN THE PAST 12 MONTHS BY AGE (BLACK OR AFRICAN AMERICAN ALONE);POVERTY STATUS IN THE PAST 12 MONTHS BY AGE (AMERICAN INDIAN AND ALASKA NATIVE ALONE);POVERTY STATUS IN THE PAST 12 MONTHS BY AGE (ASIAN ALONE);POVERTY STATUS IN THE PAST 12 MONTHS BY AGE (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);POVERTY STATUS IN THE PAST 12 MONTHS BY AGE (SOME OTHER RACE ALONE);POVERTY STATUS IN THE PAST 12 MONTHS BY AGE (TWO OR MORE RACES);POVERTY STATUS IN THE PAST 12 MONTHS BY AGE (WHITE ALONE, NOT HISPANIC OR LATINO);POVERTY STATUS IN THE PAST 12 MONTHS BY AGE (HISPANIC OR LATINO);POVERTY STATUS OF INDIVIDUALS IN THE PAST 12 MONTHS BY LIVING ARRANGEMENT;ALLOCATION OF HOUSEHOLD INCOME IN THE PAST 12 MONTHS - PERCENT OF INCOME ALLOCATED;ALLOCATION OF FAMILY INCOME IN THE PAST 12 MONTHS -- PERCENT OF INCOME ALLOCATED;ALLOCATION OF NONFAMILY HOUSEHOLD INCOME IN THE PAST 12 MONTHS -- PERCENT OF INCOME ALLOCATED;ALLOCATION OF EARNINGS IN THE PAST 12 MONTHS FOR THE POPULATION 16 YEARS AND OVER - PERCENT OF EARNINGS ALLOCATED;ALLOCATION OF VETERAN STATUS FOR THE POPULATION 18 YEARS AND OVER;ALLOCATION OF PERIOD OF MILITARY SERVICE FOR CIVILIAN VETERANS 18 YEARS AND OVER;ALLOCATION OF FOOD STAMPS/SNAP RECEIPT;ALLOCATION OF EMPLOYMENT STATUS FOR THE POPULATION 16 YEARS AND OVER;ALLOCATION OF WORK STATUS IN THE PAST 12 MONTHS FOR THE POPULATION 16 YEARS AND OVER;ALLOCATION OF USUAL HOURS WORKED PER WEEK IN THE PAST 12 MONTHS FOR THE POPULATION 16 YEARS AND OVER;ALLOCATION OF WEEKS WORKED IN THE PAST 12 MONTHS FOR THE POPULATION 16 YEARS AND OVER;ALLOCATION OF INDUSTRY FOR THE CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;ALLOCATION OF OCCUPATION FOR THE CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;ALLOCATION OF CLASS OF WORKER FOR THE CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;ALLOCATION OF INDUSTRY FOR THE FULL-TIME, YEAR-ROUND CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;ALLOCATION OF OCCUPATION FOR THE FULL-TIME, YEAR-ROUND CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;ALLOCATION OF CLASS OF WORKER FOR THE FULL-TIME, YEAR-ROUND CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;ALLOCATION OF KITCHEN FACILITIES;ALLOCATION OF HOUSE HEATING FUEL;ALLOCATION OF VEHICLES AVAILABLE;ALLOCATION OF TELEPHONE SERVICE AVAILABLE;ALLOCATION OF MEALS INCLUDED IN RENT;ALLOCATION OF CONTRACT RENT;ALLOCATION OF RENT ASKED;ALLOCATION OF GROSS RENT;ALLOCATION OF VALUE;ALLOCATION OF TENURE;ALLOCATION OF PRICE ASKED;ALLOCATION OF MORTGAGE STATUS;ALLOCATION OF MORTGAGE STATUS AND SELECTED MONTHLY OWNER COSTS;ALLOCATION OF SELECTED MONTHLY OWNER COSTS FOR OWNER-OCCUPIED HOUSING UNITS;ALLOCATION OF VACANCY STATUS;ALLOCATION OF ROOMS;ALLOCATION OF UNITS IN STRUCTURE;ALLOCATION OF YEAR STRUCTURE BUILT;ALLOCATION OF YEAR HOUSEHOLDER MOVED INTO UNIT;ALLOCATION OF BEDROOMS;ALLOCATION OF PLUMBING FACILITIES;ALLOCATION OF HEALTH INSURANCE COVERAGE;ALLOCATION OF PRIVATE HEALTH INSURANCE;ALLOCATION OF PUBLIC HEALTH INSURANCE;ALLOCATION OF EMPLOYER-BASED HEALTH INSURANCE;ALLOCATION OF DIRECT-PURCHASE HEALTH INSURANCE;ALLOCATION OF MEDICARE COVERAGE;RATIO OF INCOME TO POVERTY LEVEL IN THE PAST 12 MONTHS OF FAMILIES BY FAMILY TYPE BY PRESENCE OF RELATED CHILDREN UNDER 18 YEARS BY AGE OF RELATED CHILDREN;POVERTY STATUS IN THE PAST 12 MONTHS OF FAMILIES BY HOUSEHOLD TYPE BY NUMBER OF OWN CHILDREN UNDER 18 YEARS;AGE BY RATIO OF INCOME TO POVERTY LEVEL IN THE PAST 12 MONTHS;POVERTY STATUS IN THE PAST 12 MONTHS BY NATIVITY;RATIO OF INCOME TO POVERTY LEVEL OF FAMILIES IN THE PAST 12 MONTHS;POVERTY STATUS IN THE PAST 12 MONTHS OF PEOPLE IN HOUSING UNITS;SEX BY AGE BY DISABILITY STATUS;AGE BY DISABILITY STATUS (WHITE ALONE);AGE BY DISABILITY STATUS (BLACK OR AFRICAN AMERICAN ALONE);AGE BY DISABILITY STATUS (AMERICAN INDIAN AND ALASKA NATIVE ALONE);AGE BY DISABILITY STATUS (ASIAN ALONE);AGE BY DISABILITY STATUS (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);AGE BY DISABILITY STATUS (SOME OTHER RACE ALONE);AGE BY DISABILITY STATUS (TWO OR MORE RACES);AGE BY DISABILITY STATUS (WHITE ALONE, NOT HISPANIC OR LATINO);AGE BY DISABILITY STATUS (HISPANIC OR LATINO);SEX BY AGE BY HEARING DIFFICULTY;SEX BY AGE BY VISION DIFFICULTY;SEX BY AGE BY COGNITIVE DIFFICULTY;SEX BY AGE BY AMBULATORY DIFFICULTY;SEX BY AGE BY SELF-CARE DIFFICULTY;SEX BY AGE BY INDEPENDENT LIVING DIFFICULTY;AGE BY DISABILITY STATUS BY HEALTH INSURANCE COVERAGE STATUS;MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY DISABILITY STATUS BY SEX FOR THE CIVILIAN NONINSTITUTIONALIZED POPULATION 16 YEARS AND OVER WITH EARNINGS;HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS);HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (WHITE ALONE HOUSEHOLDER);HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (BLACK OR AFRICAN AMERICAN ALONE HOUSEHOLDER);HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (AMERICAN INDIAN AND ALASKA NATIVE ALONE HOUSEHOLDER);HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (ASIAN ALONE HOUSEHOLDER);HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE HOUSEHOLDER);HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (SOME OTHER RACE ALONE HOUSEHOLDER);HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (TWO OR MORE RACES HOUSEHOLDER);HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (WHITE ALONE, NOT HISPANIC OR LATINO HOUSEHOLDER);HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (HISPANIC OR LATINO HOUSEHOLDER);MEDIAN HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS);MEDIAN HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (WHITE ALONE HOUSEHOLDER);MEDIAN HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (BLACK OR AFRICAN AMERICAN ALONE HOUSEHOLDER);ALLOCATION OF MEDICAID/MEANS-TESTED PUBLIC COVERAGE;ALLOCATION OF TRICARE/MILITARY HEALTH COVERAGE;ALLOCATION OF VA HEALTH CARE;ALLOCATION OF HOUSEHOLD INTERNET ACCESS;ALLOCATION OF HOUSEHOLD COMPUTER TYPE;ALLOCATION OF HOUSEHOLD INTERNET SUBSCRIPTION TYPE;DETAILED RACE;SEX BY EDUCATIONAL ATTAINMENT FOR THE POPULATION 25 YEARS AND OVER (WHITE ALONE);SEX BY EDUCATIONAL ATTAINMENT FOR THE POPULATION 25 YEARS AND OVER (BLACK OR AFRICAN AMERICAN ALONE);SEX BY EDUCATIONAL ATTAINMENT FOR THE POPULATION 25 YEARS AND OVER (AMERICAN INDIAN AND ALASKA NATIVE ALONE);SEX BY EDUCATIONAL ATTAINMENT FOR THE POPULATION 25 YEARS AND OVER (ASIAN ALONE);SEX BY EDUCATIONAL ATTAINMENT FOR THE POPULATION 25 YEARS AND OVER (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);SEX BY EDUCATIONAL ATTAINMENT FOR THE POPULATION 25 YEARS AND OVER (SOME OTHER RACE ALONE);SEX BY EDUCATIONAL ATTAINMENT FOR THE POPULATION 25 YEARS AND OVER (TWO OR MORE RACES);SEX BY EDUCATIONAL ATTAINMENT FOR THE POPULATION 25 YEARS AND OVER (WHITE ALONE, NOT HISPANIC OR LATINO);SEX BY EDUCATIONAL ATTAINMENT FOR THE POPULATION 25 YEARS AND OVER (HISPANIC OR LATINO);FIELD OF BACHELOR'S DEGREE FOR FIRST MAJOR FOR THE POPULATION 25 YEARS AND OVER;FIELD OF BACHELOR'S DEGREE FOR FIRST MAJOR THE POPULATION 25 YEARS AND OVER (WHITE ALONE);FIELD OF BACHELOR'S DEGREE FOR FIRST MAJOR THE POPULATION 25 YEARS AND OVER (BLACK OR AFRICAN AMERICAN ALONE);FIELD OF BACHELOR'S DEGREE FOR FIRST MAJOR THE POPULATION 25 YEARS AND OVER (AMERICAN INDIAN AND ALASKA NATIVE ALONE);FIELD OF BACHELOR'S DEGREE FOR FIRST MAJOR THE POPULATION 25 YEARS AND OVER (ASIAN ALONE);FIELD OF BACHELOR'S DEGREE FOR FIRST MAJOR THE POPULATION 25 YEARS AND OVER (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);FIELD OF BACHELOR'S DEGREE FOR FIRST MAJOR THE POPULATION 25 YEARS AND OVER (SOME OTHER RACE ALONE);FIELD OF BACHELOR'S DEGREE FOR FIRST MAJOR THE POPULATION 25 YEARS AND OVER (TWO OR MORE RACES);FIELD OF BACHELOR'S DEGREE FOR FIRST MAJOR THE POPULATION 25 YEARS AND OVER (WHITE ALONE, NOT HISPANIC OR LATINO);FIELD OF BACHELOR'S DEGREE FOR FIRST MAJOR THE POPULATION 25 YEARS AND OVER (HISPANIC OR LATINO);LANGUAGE SPOKEN AT HOME FOR THE POPULATION 5 YEARS AND OVER;HOUSEHOLD LANGUAGE BY HOUSEHOLD LIMITED ENGLISH SPEAKING STATUS;RATIO OF INCOME TO POVERTY LEVEL IN THE PAST 12 MONTHS;AGE BY NUMBER OF DISABILITIES;EMPLOYMENT STATUS BY DISABILITY STATUS;WORK EXPERIENCE BY DISABILITY STATUS;AGE BY DISABILITY STATUS BY POVERTY STATUS;RATIO OF INCOME TO POVERTY LEVEL IN THE PAST 12 MONTHS BY DISABILITY STATUS;SEX BY AGE BY VETERAN STATUS FOR THE CIVILIAN POPULATION 18 YEARS AND OVER (WHITE ALONE);SEX BY AGE BY VETERAN STATUS FOR THE CIVILIAN POPULATION 18 YEARS AND OVER (BLACK OR AFRICAN AMERICAN ALONE);SEX BY AGE BY VETERAN STATUS FOR THE CIVILIAN POPULATION 18 YEARS AND OVER (AMERICAN INDIAN AND ALASKA NATIVE ALONE);MEDIAN HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (AMERICAN INDIAN AND ALASKA NATIVE ALONE HOUSEHOLDER);MEDIAN HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (ASIAN ALONE HOUSEHOLDER);MEDIAN HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE HOUSEHOLDER);MEDIAN HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (SOME OTHER RACE ALONE HOUSEHOLDER);MEDIAN HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (TWO OR MORE RACES HOUSEHOLDER);MEDIAN HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (WHITE ALONE, NOT HISPANIC OR LATINO HOUSEHOLDER);MEDIAN HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (HISPANIC OR LATINO HOUSEHOLDER);MEDIAN HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY HOUSEHOLD SIZE;AGGREGATE HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS);AGGREGATE HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (WHITE ALONE HOUSEHOLDER);AGGREGATE HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (BLACK OR AFRICAN AMERICAN ALONE HOUSEHOLDER);AGGREGATE HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (AMERICAN INDIAN AND ALASKA NATIVE ALONE HOUSEHOLDER);AGGREGATE HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (ASIAN ALONE HOUSEHOLDER);AGGREGATE HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE HOUSEHOLDER);AGGREGATE HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (SOME OTHER RACE ALONE HOUSEHOLDER);AGGREGATE HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (TWO OR MORE RACES HOUSEHOLDER);AGGREGATE HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (WHITE ALONE, NOT HISPANIC OR LATINO HOUSEHOLDER);AGGREGATE HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (HISPANIC OR LATINO HOUSEHOLDER);AGE OF HOUSEHOLDER BY HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS);AGE OF HOUSEHOLDER BY HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (WHITE ALONE HOUSEHOLDER);AGE OF HOUSEHOLDER BY HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (BLACK OR AFRICAN AMERICAN ALONE HOUSEHOLDER);AGE OF HOUSEHOLDER BY HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (AMERICAN INDIAN AND ALASKA NATIVE ALONE HOUSEHOLDER);AGE OF HOUSEHOLDER BY HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (ASIAN ALONE HOUSEHOLDER);AGE OF HOUSEHOLDER BY HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE HOUSEHOLDER);AGE OF HOUSEHOLDER BY HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (SOME OTHER RACE ALONE HOUSEHOLDER);AGE OF HOUSEHOLDER BY HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (TWO OR MORE RACES HOUSEHOLDER);AGE OF HOUSEHOLDER BY HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (WHITE ALONE, NOT HISPANIC OR LATINO HOUSEHOLDER);AGE OF HOUSEHOLDER BY HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (HISPANIC OR LATINO HOUSEHOLDER);MEDIAN HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY AGE OF HOUSEHOLDER;AGGREGATE HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY AGE OF HOUSEHOLDER;SEX BY AGE BY VETERAN STATUS FOR THE CIVILIAN POPULATION 18 YEARS AND OVER (ASIAN ALONE);SEX BY AGE BY VETERAN STATUS FOR THE CIVILIAN POPULATION 18 YEARS AND OVER (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);SEX BY AGE BY VETERAN STATUS FOR THE CIVILIAN POPULATION 18 YEARS AND OVER (SOME OTHER RACE ALONE);SEX BY AGE BY VETERAN STATUS FOR THE CIVILIAN POPULATION 18 YEARS AND OVER (TWO OR MORE RACES);SEX BY AGE BY VETERAN STATUS FOR THE CIVILIAN POPULATION 18 YEARS AND OVER (WHITE ALONE, NOT HISPANIC OR LATINO);SEX BY AGE BY VETERAN STATUS FOR THE CIVILIAN POPULATION 18 YEARS AND OVER (HISPANIC OR LATINO);AGE BY VETERAN STATUS BY POVERTY STATUS IN THE PAST 12 MONTHS BY DISABILITY STATUS FOR THE CIVILIAN POPULATION 18 YEARS AND OVER;SEX BY AGE BY EMPLOYMENT STATUS FOR THE POPULATION 16 YEARS AND OVER (WHITE ALONE);SEX BY AGE BY EMPLOYMENT STATUS FOR THE POPULATION 16 YEARS AND OVER (BLACK OR AFRICAN AMERICAN ALONE);SEX BY AGE BY EMPLOYMENT STATUS FOR THE POPULATION 16 YEARS AND OVER (AMERICAN INDIAN AND ALASKA NATIVE ALONE);SEX BY AGE BY EMPLOYMENT STATUS FOR THE POPULATION 16 YEARS AND OVER (ASIAN ALONE);SEX BY AGE BY EMPLOYMENT STATUS FOR THE POPULATION 16 YEARS AND OVER (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);SEX BY AGE BY EMPLOYMENT STATUS FOR THE POPULATION 16 YEARS AND OVER (SOME OTHER RACE ALONE);SEX BY AGE BY EMPLOYMENT STATUS FOR THE POPULATION 16 YEARS AND OVER (TWO OR MORE RACES);SEX BY AGE BY EMPLOYMENT STATUS FOR THE POPULATION 16 YEARS AND OVER (WHITE ALONE, NOT HISPANIC OR LATINO);SEX BY AGE BY EMPLOYMENT STATUS FOR THE POPULATION 16 YEARS AND OVER (HISPANIC OR LATINO);SEX BY OCCUPATION FOR THE CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;SEX BY OCCUPATION FOR THE CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER (WHITE ALONE);SEX BY OCCUPATION FOR THE CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER (BLACK OR AFRICAN AMERICAN ALONE);SEX BY OCCUPATION FOR THE CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER (AMERICAN INDIAN AND ALASKA NATIVE ALONE);SEX BY OCCUPATION FOR THE CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER (ASIAN ALONE);SEX BY OCCUPATION FOR THE CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);SEX BY OCCUPATION FOR THE CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER (SOME OTHER RACE ALONE);SEX BY OCCUPATION FOR THE CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER (TWO OR MORE RACES);SEX BY OCCUPATION FOR THE CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER (WHITE ALONE, NOT HISPANIC OR LATINO);SEX BY OCCUPATION FOR THE CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER (HISPANIC OR LATINO);SEX BY OCCUPATION FOR THE FULL-TIME, YEAR-ROUND CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;SEX BY INDUSTRY FOR THE CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;SEX BY INDUSTRY FOR THE FULL-TIME, YEAR-ROUND CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;INDUSTRY BY OCCUPATION FOR THE CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;OCCUPATION BY CLASS OF WORKER FOR THE CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;INDUSTRY BY CLASS OF WORKER FOR THE CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;HEALTH INSURANCE COVERAGE STATUS BY AGE (WHITE ALONE);HEALTH INSURANCE COVERAGE STATUS BY AGE (BLACK OR AFRICAN AMERICAN ALONE);EARNINGS IN THE PAST 12 MONTHS FOR HOUSEHOLDS;WAGE OR SALARY INCOME IN THE PAST 12 MONTHS FOR HOUSEHOLDS;SELF-EMPLOYMENT INCOME IN THE PAST 12 MONTHS FOR HOUSEHOLDS;INTEREST, DIVIDENDS, OR NET RENTAL INCOME IN THE PAST 12 MONTHS FOR HOUSEHOLDS;SOCIAL SECURITY INCOME IN THE PAST 12 MONTHS FOR HOUSEHOLDS;SUPPLEMENTAL SECURITY INCOME (SSI) IN THE PAST 12 MONTHS FOR HOUSEHOLDS;PUBLIC ASSISTANCE INCOME IN THE PAST 12 MONTHS FOR HOUSEHOLDS;PUBLIC ASSISTANCE INCOME OR FOOD STAMPS/SNAP IN THE PAST 12 MONTHS FOR HOUSEHOLDS;RETIREMENT INCOME IN THE PAST 12 MONTHS FOR HOUSEHOLDS;OTHER TYPES OF INCOME IN THE PAST 12 MONTHS FOR HOUSEHOLDS;AGGREGATE EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR HOUSEHOLDS;AGGREGATE WAGE OR SALARY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR HOUSEHOLDS;AGGREGATE SELF-EMPLOYMENT INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR HOUSEHOLDS;AGGREGATE INTEREST, DIVIDENDS, OR NET RENTAL INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR HOUSEHOLDS;AGGREGATE SOCIAL SECURITY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR HOUSEHOLDS;AGGREGATE SUPPLEMENTAL SECURITY INCOME (SSI) IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR HOUSEHOLDS;AGGREGATE PUBLIC ASSISTANCE INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR HOUSEHOLDS;AGGREGATE RETIREMENT INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR HOUSEHOLDS;AGGREGATE OTHER TYPES OF INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR HOUSEHOLDS;HOUSEHOLD INCOME QUINTILE UPPER LIMITS;MEAN HOUSEHOLD INCOME OF QUINTILES;SHARES OF AGGREGATE HOUSEHOLD INCOME BY QUINTILE;GINI INDEX OF INCOME INEQUALITY;FAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS);FAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (WHITE ALONE HOUSEHOLDER);FAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (BLACK OR AFRICAN AMERICAN ALONE HOUSEHOLDER);FAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (AMERICAN INDIAN AND ALASKA NATIVE ALONE HOUSEHOLDER);FAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (ASIAN ALONE HOUSEHOLDER);FAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE HOUSEHOLDER);FAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (SOME OTHER RACE ALONE HOUSEHOLDER);FAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (TWO OR MORE RACES HOUSEHOLDER);FAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (WHITE ALONE, NOT HISPANIC OR LATINO HOUSEHOLDER);FAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (HISPANIC OR LATINO HOUSEHOLDER);MEDIAN FAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS);MEDIAN FAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (WHITE ALONE HOUSEHOLDER);MEDIAN FAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (BLACK OR AFRICAN AMERICAN ALONE HOUSEHOLDER);HEALTH INSURANCE COVERAGE STATUS BY AGE (AMERICAN INDIAN AND ALASKA NATIVE ALONE);HEALTH INSURANCE COVERAGE STATUS BY AGE (ASIAN ALONE);HEALTH INSURANCE COVERAGE STATUS BY AGE (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);HEALTH INSURANCE COVERAGE STATUS BY AGE (SOME OTHER RACE ALONE);HEALTH INSURANCE COVERAGE STATUS BY AGE (TWO OR MORE RACES);HEALTH INSURANCE COVERAGE STATUS BY AGE (WHITE ALONE, NOT HISPANIC OR LATINO);HEALTH INSURANCE COVERAGE STATUS BY AGE (HISPANIC OR LATINO);EMPLOYER-BASED HEALTH INSURANCE BY SEX BY AGE;DIRECT-PURCHASE HEALTH INSURANCE BY SEX BY AGE;MEDICARE COVERAGE BY SEX BY AGE;MEDICAID/MEANS-TESTED PUBLIC COVERAGE BY SEX BY AGE;TRICARE/MILITARY HEALTH COVERAGE BY SEX BY AGE;VA HEALTH CARE BY SEX BY AGE;HEALTH INSURANCE COVERAGE STATUS AND TYPE BY WORK EXPERIENCE;PRIVATE HEALTH INSURANCE BY WORK EXPERIENCE;PUBLIC HEALTH INSURANCE BY WORK EXPERIENCE;HEALTH INSURANCE COVERAGE STATUS BY RATIO OF INCOME TO POVERTY LEVEL IN THE PAST 12 MONTHS BY AGE;PRIVATE HEALTH INSURANCE BY RATIO OF INCOME TO POVERTY LEVEL IN THE PAST 12 MONTHS BY AGE;PUBLIC HEALTH INSURANCE BY RATIO OF INCOME TO POVERTY LEVEL IN THE PAST 12 MONTHS BY AGE;HEALTH INSURANCE COVERAGE STATUS BY LIVING ARRANGEMENT;MEDIAN FAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (AMERICAN INDIAN AND ALASKA NATIVE ALONE HOUSEHOLDER);MEDIAN FAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (ASIAN ALONE HOUSEHOLDER);MEDIAN FAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE HOUSEHOLDER);MEDIAN FAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (SOME OTHER RACE ALONE HOUSEHOLDER);MEDIAN FAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (TWO OR MORE RACES);MEDIAN FAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (WHITE ALONE, NOT HISPANIC OR LATINO HOUSEHOLDER);MEDIAN FAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (HISPANIC OR LATINO HOUSEHOLDER);MEDIAN FAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY FAMILY SIZE;MEDIAN FAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY NUMBER OF EARNERS IN FAMILY;NUMBER OF EARNERS IN FAMILY;FAMILY SIZE BY CASH PUBLIC ASSISTANCE INCOME OR HOUSEHOLDS RECEIVING FOOD STAMPS/SNAP BENEFITS IN THE PAST 12 MONTHS;MEDIAN FAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY PRESENCE OF OWN CHILDREN UNDER 18 YEARS;MEDIAN FAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY FAMILY TYPE BY PRESENCE OF OWN CHILDREN UNDER 18 YEARS;AGGREGATE FAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS);AGGREGATE FAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY FAMILY TYPE BY PRESENCE OF OWN CHILDREN UNDER 18 YEARS;AGGREGATE FAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY NUMBER OF WORKERS IN FAMILY;AGGREGATE FAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY FAMILY TYPE BY AGE OF HOUSEHOLDER;FAMILY TYPE BY PRESENCE OF OWN CHILDREN UNDER 18 YEARS BY FAMILY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS);NONFAMILY HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS);MEDIAN NONFAMILY HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS);MEDIAN NONFAMILY HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (WHITE ALONE HOUSEHOLDER);MEDIAN NONFAMILY HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (BLACK OR AFRICAN AMERICAN ALONE HOUSEHOLDER);MEDIAN NONFAMILY HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (AMERICAN INDIAN AND ALASKA NATIVE ALONE HOUSEHOLDER);MEDIAN NONFAMILY HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (ASIAN ALONE HOUSEHOLDER);MEDIAN NONFAMILY HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE HOUSEHOLDER);MEDIAN NONFAMILY HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (SOME OTHER RACE ALONE HOUSEHOLDER);MEDIAN NONFAMILY HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (TWO OR MORE RACES HOUSEHOLDER);MEDIAN NONFAMILY HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (WHITE ALONE, NOT HISPANIC OR LATINO HOUSEHOLDER);MEDIAN NONFAMILY HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (HISPANIC OR LATINO HOUSEHOLDER);AGGREGATE NONFAMILY HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS);MEDIAN NONFAMILY HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY SEX OF HOUSEHOLDER BY LIVING ALONE BY AGE OF HOUSEHOLDER;SEX BY AGE;SEX BY AGE (WHITE ALONE);SEX BY AGE (BLACK OR AFRICAN AMERICAN ALONE);SEX BY AGE (AMERICAN INDIAN AND ALASKA NATIVE ALONE);SEX BY AGE (ASIAN ALONE);SEX BY AGE (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);SEX BY AGE (SOME OTHER RACE ALONE);SEX BY AGE (TWO OR MORE RACES);SEX BY AGE (WHITE ALONE, NOT HISPANIC OR LATINO);SEX BY AGE (HISPANIC OR LATINO);MEDIAN AGE BY SEX;MEDIAN AGE BY SEX (WHITE ALONE);MEDIAN AGE BY SEX (BLACK OR AFRICAN AMERICAN ALONE);MEDIAN AGE BY SEX (AMERICAN INDIAN AND ALASKA NATIVE ALONE);MEDIAN AGE BY SEX (ASIAN ALONE);MEDIAN AGE BY SEX (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);MEDIAN AGE BY SEX (SOME OTHER RACE ALONE);MEDIAN AGE BY SEX (TWO OR MORE RACES);MEDIAN AGE BY SEX (WHITE ALONE, NOT HISPANIC OR LATINO);MEDIAN AGE BY SEX (HISPANIC OR LATINO);TOTAL POPULATION;RACE;WHITE ALONE OR IN COMBINATION WITH ONE OR MORE OTHER RACES;BLACK OR AFRICAN AMERICAN ALONE OR IN COMBINATION WITH ONE OR MORE OTHER RACES;AMERICAN INDIAN AND ALASKA NATIVE ALONE OR IN COMBINATION WITH ONE OR MORE OTHER RACES;ASIAN ALONE OR IN COMBINATION WITH ONE OR MORE OTHER RACES;NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE OR IN COMBINATION WITH ONE OR MORE OTHER RACES;SOME OTHER RACE ALONE OR IN COMBINATION WITH ONE OR MORE OTHER RACES;AMERICAN INDIAN AND ALASKA NATIVE ALONE FOR SELECTED TRIBAL GROUPINGS;ASIAN ALONE BY SELECTED GROUPS;NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE BY SELECTED GROUPS;AMERICAN INDIAN AND ALASKA NATIVE (AIAN) ALONE OR IN ANY COMBINATION BY SELECTED TRIBAL GROUPINGS;ASIAN ALONE OR IN ANY COMBINATION BY SELECTED GROUPS;NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE OR IN ANY COMBINATION BY SELECTED GROUPS;HISPANIC OR LATINO ORIGIN BY SPECIFIC ORIGIN;HISPANIC OR LATINO ORIGIN BY RACE;HISPANIC OR LATINO ORIGIN;PEOPLE REPORTING SINGLE ANCESTRY;PEOPLE REPORTING MULTIPLE ANCESTRY;PEOPLE REPORTING ANCESTRY;ANCESTRY;NATIVITY AND CITIZENSHIP STATUS IN THE UNITED STATES;NATIVITY AND CITIZENSHIP STATUS IN PUERTO RICO;AGGREGATE NONFAMILY HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY SEX OF HOUSEHOLDER BY LIVING ALONE BY AGE OF HOUSEHOLDER;PER CAPITA INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS);PER CAPITA INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (WHITE ALONE);PER CAPITA INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (BLACK OR AFRICAN AMERICAN ALONE);PER CAPITA INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (AMERICAN INDIAN AND ALASKA NATIVE ALONE);PER CAPITA INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (ASIAN ALONE);PER CAPITA INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);PER CAPITA INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (SOME OTHER RACE ALONE);PER CAPITA INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (TWO OR MORE RACES);PER CAPITA INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (WHITE ALONE, NOT HISPANIC OR LATINO);PER CAPITA INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) (HISPANIC OR LATINO);AGGREGATE INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS);AGGREGATE INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE POPULATION 15 YEARS AND OVER (WHITE ALONE);AGGREGATE INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE POPULATION 15 YEARS AND OVER (BLACK OR AFRICAN AMERICAN ALONE);AGGREGATE INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE POPULATION 15 YEARS AND OVER (AMERICAN INDIAN AND ALASKA NATIVE ALONE);AGGREGATE INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE POPULATION 15 YEARS AND OVER (ASIAN ALONE);AGGREGATE INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE POPULATION 15 YEARS AND OVER (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);AGGREGATE INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE POPULATION 15 YEARS AND OVER (SOME OTHER RACE ALONE);AGGREGATE INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE POPULATION 15 YEARS AND OVER (TWO OR MORE RACES);AGGREGATE INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE POPULATION 15 YEARS AND OVER (WHITE ALONE, NOT HISPANIC OR LATINO);AGGREGATE INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE POPULATION 15 YEARS AND OVER (HISPANIC OR LATINO);SEX BY WORK EXPERIENCE IN THE PAST 12 MONTHS BY INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE POPULATION 15 YEARS AND OVER;MEDIAN INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY SEX BY WORK EXPERIENCE IN THE PAST 12 MONTHS FOR THE POPULATION 15 YEARS AND OVER WITH INCOME;SEX BY EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE POPULATION 16 YEARS AND OVER WITH EARNINGS IN THE PAST 12 MONTHS;MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY SEX FOR THE POPULATION 16 YEARS AND OVER WITH EARNINGS IN THE PAST 12 MONTHS;AGGREGATE EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY SEX BY WORK EXPERIENCE FOR THE POPULATION 16 YEARS AND OVER WITH EARNINGS;MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY SEX BY EDUCATIONAL ATTAINMENT FOR THE POPULATION 25 YEARS AND OVER;SEX BY WORK EXPERIENCE IN THE PAST 12 MONTHS BY EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE POPULATION 16 YEARS AND OVER;SEX BY WORK EXPERIENCE IN THE PAST 12 MONTHS BY EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE POPULATION 16 YEARS AND OVER (WHITE ALONE);SEX BY WORK EXPERIENCE IN THE PAST 12 MONTHS BY EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE POPULATION 16 YEARS AND OVER (BLACK OR AFRICAN AMERICAN ALONE);PLACE OF BIRTH BY NATIVITY AND CITIZENSHIP STATUS;SEX BY AGE BY NATIVITY AND CITIZENSHIP STATUS;SEX BY AGE BY NATIVITY AND CITIZENSHIP STATUS (WHITE ALONE);SEX BY AGE BY NATIVITY AND CITIZENSHIP STATUS (BLACK OR AFRICAN AMERICAN ALONE);SEX BY AGE BY NATIVITY AND CITIZENSHIP STATUS (AMERICAN INDIAN AND ALASKA NATIVE ALONE);SEX BY AGE BY NATIVITY AND CITIZENSHIP STATUS (ASIAN ALONE);SEX BY AGE BY NATIVITY AND CITIZENSHIP STATUS (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);SEX BY AGE BY NATIVITY AND CITIZENSHIP STATUS (SOME OTHER RACE ALONE);SEX BY AGE BY NATIVITY AND CITIZENSHIP STATUS (TWO OR MORE RACES);SEX BY AGE BY NATIVITY AND CITIZENSHIP STATUS (WHITE ALONE, NOT HISPANIC OR LATINO);SEX BY AGE BY NATIVITY AND CITIZENSHIP STATUS (HISPANIC OR LATINO);MEDIAN AGE BY NATIVITY AND CITIZENSHIP STATUS BY SEX;PERIOD OF ENTRY BY NATIVITY AND CITIZENSHIP STATUS IN THE UNITED STATES;PERIOD OF ENTRY BY NATIVITY AND CITIZENSHIP STATUS IN PUERTO RICO;PLACE OF BIRTH FOR THE FOREIGN-BORN POPULATION IN THE UNITED STATES;PLACE OF BIRTH FOR THE FOREIGN-BORN POPULATION IN PUERTO RICO;PLACE OF BIRTH BY YEAR OF ENTRY BY CITIZENSHIP STATUS FOR THE FOREIGN-BORN POPULATION;SEX BY PLACE OF BIRTH BY YEAR OF ENTRY FOR THE FOREIGN-BORN POPULATION;AGE AND NATIVITY OF OWN CHILDREN UNDER 18 YEARS IN FAMILIES AND SUBFAMILIES BY NUMBER AND NATIVITY OF PARENTS;RATIO OF INCOME TO POVERTY LEVEL IN THE PAST 12 MONTHS BY NATIVITY OF CHILDREN UNDER 18 YEARS IN FAMILIES AND SUBFAMILIES BY LIVING ARRANGEMENTS AND NATIVITY OF PARENTS;PERIOD OF NATURALIZATION;NATIVITY IN THE UNITED STATES;NATIVITY IN PUERTO RICO;SEX BY AGE FOR THE FOREIGN-BORN POPULATION;SEX BY AGE FOR THE FOREIGN-BORN POPULATION;PLACE OF BIRTH BY YEAR OF ENTRY FOR THE FOREIGN-BORN POPULATION;PLACE OF BIRTH BY AGE IN THE UNITED STATES;PLACE OF BIRTH BY AGE IN PUERTO RICO;MEDIAN AGE BY PLACE OF BIRTH IN THE UNITED STATES;MEDIAN AGE BY PLACE OF BIRTH IN PUERTO RICO;PLACE OF BIRTH BY SEX IN THE UNITED STATES;PLACE OF BIRTH BY SEX IN PUERTO RICO;PLACE OF BIRTH (WHITE ALONE) IN THE UNITED STATES;PLACE OF BIRTH (WHITE ALONE) IN PUERTO RICO;PLACE OF BIRTH (BLACK OR AFRICAN AMERICAN ALONE) IN THE UNITED STATES;PLACE OF BIRTH (BLACK OR AFRICAN AMERICAN ALONE) IN PUERTO RICO;PLACE OF BIRTH (AMERICAN INDIAN AND ALASKA NATIVE ALONE) IN THE UNITED STATES;PLACE OF BIRTH (AMERICAN INDIAN AND ALASKA NATIVE ALONE) IN PUERTO RICO;PLACE OF BIRTH (ASIAN ALONE) IN THE UNITED STATES;PLACE OF BIRTH (ASIAN ALONE) IN PUERTO RICO;PLACE OF BIRTH (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE) IN THE UNITED STATES;PLACE OF BIRTH (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE) IN PUERTO RICO;SEX BY WORK EXPERIENCE IN THE PAST 12 MONTHS BY EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE POPULATION 16 YEARS AND OVER (AMERICAN INDIAN AND ALASKA NATIVE ALONE);SEX BY WORK EXPERIENCE IN THE PAST 12 MONTHS BY EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE POPULATION 16 YEARS AND OVER (ASIAN ALONE);SEX BY WORK EXPERIENCE IN THE PAST 12 MONTHS BY EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE POPULATION 16 YEARS AND OVER (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);SEX BY WORK EXPERIENCE IN THE PAST 12 MONTHS BY EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE POPULATION 16 YEARS AND OVER (SOME OTHER RACE ALONE);SEX BY WORK EXPERIENCE IN THE PAST 12 MONTHS BY EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE POPULATION 16 YEARS AND OVER (TWO OR MORE RACES);SEX BY WORK EXPERIENCE IN THE PAST 12 MONTHS BY EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE POPULATION 16 YEARS AND OVER (WHITE ALONE, NOT HISPANIC OR LATINO);SEX BY WORK EXPERIENCE IN THE PAST 12 MONTHS BY EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE POPULATION 16 YEARS AND OVER (HISPANIC OR LATINO);MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY SEX BY WORK EXPERIENCE IN THE PAST 12 MONTHS FOR THE POPULATION 16 YEARS AND OVER WITH EARNINGS IN THE PAST 12 MONTHS;MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY SEX BY WORK EXPERIENCE IN THE PAST 12 MONTHS FOR THE POPULATION 16 YEARS AND OVER WITH EARNINGS IN THE PAST 12 MONTHS (WHITE ALONE);MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY SEX BY WORK EXPERIENCE IN THE PAST 12 MONTHS FOR THE POPULATION 16 YEARS AND OVER WITH EARNINGS IN THE PAST 12 MONTHS (BLACK OR AFRICAN AMERICAN ALONE);MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY SEX BY WORK EXPERIENCE IN THE PAST 12 MONTHS FOR THE POPULATION 16 YEARS AND OVER WITH EARNINGS IN THE PAST 12 MONTHS (AMERICAN INDIAN AND ALASKA NATIVE ALONE);MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY SEX BY WORK EXPERIENCE IN THE PAST 12 MONTHS FOR THE POPULATION 16 YEARS AND OVER WITH EARNINGS IN THE PAST 12 MONTHS (ASIAN ALONE);MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY SEX BY WORK EXPERIENCE IN THE PAST 12 MONTHS FOR THE POPULATION 16 YEARS AND OVER WITH EARNINGS IN THE PAST 12 MONTHS (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY SEX BY WORK EXPERIENCE IN THE PAST 12 MONTHS FOR THE POPULATION 16 YEARS AND OVER WITH EARNINGS IN THE PAST 12 MONTHS (SOME OTHER RACE ALONE);MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY SEX BY WORK EXPERIENCE IN THE PAST 12 MONTHS FOR THE POPULATION 16 YEARS AND OVER WITH EARNINGS IN THE PAST 12 MONTHS (TWO OR MORE RACES);MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY SEX BY WORK EXPERIENCE IN THE PAST 12 MONTHS FOR THE POPULATION 16 YEARS AND OVER WITH EARNINGS IN THE PAST 12 MONTHS (WHITE ALONE, NOT HISPANIC OR LATINO);MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY SEX BY WORK EXPERIENCE IN THE PAST 12 MONTHS FOR THE POPULATION 16 YEARS AND OVER WITH EARNINGS (HISPANIC OR LATINO);MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE POPULATION 16 YEARS AND OVER WHO WORKED FULL-TIME, YEAR-ROUND WITH EARNINGS IN THE PAST 12 MONTHS;SEX BY AGE BY VETERAN STATUS FOR THE CIVILIAN POPULATION 18 YEARS AND OVER;PERIOD OF MILITARY SERVICE FOR CIVILIAN VETERANS 18 YEARS AND OVER;VETERAN STATUS BY EDUCATIONAL ATTAINMENT FOR THE CIVILIAN POPULATION 25 YEARS AND OVER;MEDIAN INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY VETERAN STATUS BY SEX FOR THE CIVILIAN POPULATION 18 YEARS AND OVER WITH INCOME;AGE BY VETERAN STATUS BY EMPLOYMENT STATUS FOR THE CIVILIAN POPULATION 18 TO 64 YEARS;SERVICE-CONNECTED DISABILITY-RATING STATUS AND RATINGS FOR CIVILIAN VETERANS 18 YEARS AND OVER;RECEIPT OF FOOD STAMPS/SNAP IN THE PAST 12 MONTHS BY PRESENCE OF PEOPLE 60 YEARS AND OVER FOR HOUSEHOLDS;PLACE OF BIRTH (SOME OTHER RACE ALONE) IN THE UNITED STATES;PLACE OF BIRTH (SOME OTHER RACE ALONE) IN PUERTO RICO;PLACE OF BIRTH (TWO OR MORE RACES) IN THE UNITED STATES;PLACE OF BIRTH (TWO OR MORE RACES) IN PUERTO RICO;PLACE OF BIRTH (WHITE ALONE, NOT HISPANIC OR LATINO) IN THE UNITED STATES;PLACE OF BIRTH (WHITE ALONE, NOT HISPANIC OR LATINO) IN PUERTO RICO;PLACE OF BIRTH (HISPANIC OR LATINO) IN THE UNITED STATES;PLACE OF BIRTH (HISPANIC OR LATINO) IN PUERTO RICO;PLACE OF BIRTH BY LANGUAGE SPOKEN AT HOME AND ABILITY TO SPEAK ENGLISH IN THE UNITED STATES;PLACE OF BIRTH BY LANGUAGE SPOKEN AT HOME AND ABILITY TO SPEAK ENGLISH IN PUERTO RICO;PLACE OF BIRTH BY MARITAL STATUS IN THE UNITED STATES;PLACE OF BIRTH BY MARITAL STATUS IN PUERTO RICO;PLACE OF BIRTH BY EDUCATIONAL ATTAINMENT IN THE UNITED STATES;PLACE OF BIRTH BY EDUCATIONAL ATTAINMENT IN PUERTO RICO;PLACE OF BIRTH BY INDIVIDUAL INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) IN THE UNITED STATES;PLACE OF BIRTH BY INDIVIDUAL INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) IN PUERTO RICO;MEDIAN INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY PLACE OF BIRTH IN THE UNITED STATES;MEDIAN INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY PLACE OF BIRTH IN PUERTO RICO;PLACE OF BIRTH BY POVERTY STATUS IN THE PAST 12 MONTHS IN THE UNITED STATES;PLACE OF BIRTH BY POVERTY STATUS IN THE PAST 12 MONTHS IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY AGE FOR CURRENT RESIDENCE IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY AGE FOR CURRENT RESIDENCE IN PUERTO RICO;MEDIAN AGE BY GEOGRAPHICAL MOBILITY IN THE PAST YEAR FOR CURRENT RESIDENCE IN THE UNITED STATES;MEDIAN AGE BY GEOGRAPHICAL MOBILITY IN THE PAST YEAR FOR CURRENT RESIDENCE IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY SEX FOR CURRENT RESIDENCE IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY SEX FOR CURRENT RESIDENCE IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (WHITE ALONE) FOR CURRENT RESIDENCE IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (WHITE ALONE) FOR CURRENT RESIDENCE IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (BLACK OR AFRICAN AMERICAN ALONE) FOR CURRENT RESIDENCE IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (BLACK OR AFRICAN AMERICAN ALONE) FOR CURRENT RESIDENCE IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (AMERICAN INDIAN AND ALASKA NATIVE ALONE) FOR CURRENT RESIDENCE IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (AMERICAN INDIAN AND ALASKA NATIVE ALONE) FOR CURRENT RESIDENCE IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (ASIAN ALONE) FOR CURRENT RESIDENCE IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (ASIAN ALONE) FOR CURRENT RESIDENCE IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE) FOR CURRENT RESIDENCE IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE) FOR CURRENT RESIDENCE IN PUERTO RICO;RECEIPT OF FOOD STAMPS/SNAP IN THE PAST 12 MONTHS BY PRESENCE OF CHILDREN UNDER 18 YEARS BY HOUSEHOLD TYPE FOR HOUSEHOLDS;RECEIPT OF FOOD STAMPS/SNAP IN THE PAST 12 MONTHS BY POVERTY STATUS IN THE PAST 12 MONTHS FOR HOUSEHOLDS;RECEIPT OF FOOD STAMPS/SNAP IN THE PAST 12 MONTHS BY RACE OF HOUSEHOLDER (WHITE ALONE);RECEIPT OF FOOD STAMPS/SNAP IN THE PAST 12 MONTHS BY RACE OF HOUSEHOLDER (BLACK OR AFRICAN AMERICAN ALONE);RECEIPT OF FOOD STAMPS/SNAP IN THE PAST 12 MONTHS BY RACE OF HOUSEHOLDER (AMERICAN INDIAN AND ALASKA NATIVE ALONE);RECEIPT OF FOOD STAMPS/SNAP IN THE PAST 12 MONTHS BY RACE OF HOUSEHOLDER (ASIAN ALONE);RECEIPT OF FOOD STAMPS/SNAP IN THE PAST 12 MONTHS BY RACE OF HOUSEHOLDER (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE);RECEIPT OF FOOD STAMPS/SNAP IN THE PAST 12 MONTHS BY RACE OF HOUSEHOLDER (SOME OTHER RACE ALONE);RECEIPT OF FOOD STAMPS/SNAP IN THE PAST 12 MONTHS BY RACE OF HOUSEHOLDER (TWO OR MORE RACES);RECEIPT OF FOOD STAMPS/SNAP IN THE PAST 12 MONTHS BY RACE OF HOUSEHOLDER (WHITE ALONE, NOT HISPANIC OR LATINO);RECEIPT OF FOOD STAMPS/SNAP IN THE PAST 12 MONTHS BY RACE OF HOUSEHOLDER (HISPANIC OR LATINO);RECEIPT OF FOOD STAMPS/SNAP IN THE PAST 12 MONTHS BY FAMILY TYPE BY NUMBER OF WORKERS IN FAMILY IN THE PAST 12 MONTHS;MEDIAN HOUSEHOLD INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY RECEIPT OF FOOD STAMPS/SNAP IN THE PAST 12 MONTHS;RECEIPT OF FOOD STAMPS/SNAP IN THE PAST 12 MONTHS BY DISABILITY STATUS FOR HOUSEHOLDS;SEX BY AGE BY EMPLOYMENT STATUS FOR THE POPULATION 16 YEARS AND OVER;PRESENCE OF OWN CHILDREN UNDER 18 YEARS BY AGE OF OWN CHILDREN UNDER 18 YEARS BY EMPLOYMENT STATUS FOR FEMALES 20 TO 64 YEARS;EDUCATIONAL ATTAINMENT BY EMPLOYMENT STATUS FOR THE POPULATION 25 TO 64 YEARS;PRESENCE OF OWN CHILDREN UNDER 18 YEARS BY FAMILY TYPE BY EMPLOYMENT STATUS;AGE OF OWN CHILDREN UNDER 18 YEARS IN FAMILIES AND SUBFAMILIES BY LIVING ARRANGEMENTS BY EMPLOYMENT STATUS OF PARENTS;PRESENCE OF OWN CHILDREN UNDER 18 YEARS BY FAMILY TYPE BY NUMBER OF WORKERS IN FAMILY IN THE PAST 12 MONTHS;PRESENCE OF OWN CHILDREN UNDER 18 YEARS IN MARRIED-COUPLE FAMILIES BY WORK EXPERIENCE OF HOUSEHOLDER AND SPOUSE;MEDIAN AGE BY SEX FOR WORKERS 16 TO 64 YEARS;AGGREGATE USUAL HOURS WORKED IN THE PAST 12 MONTHS BY SEX FOR WORKERS 16 TO 64 YEARS;MEAN USUAL HOURS WORKED IN THE PAST 12 MONTHS FOR WORKERS 16 TO 64 YEARS;SEX BY WORK STATUS IN THE PAST 12 MONTHS BY USUAL HOURS WORKED PER WEEK IN THE PAST 12 MONTHS BY WEEKS WORKED IN THE PAST 12 MONTHS FOR THE POPULATION 16 TO 64 YEARS;POVERTY STATUS IN THE PAST 12 MONTHS BY DISABILITY STATUS BY EMPLOYMENT STATUS FOR THE POPULATION 20 TO 64 YEARS;EMPLOYMENT STATUS FOR THE POPULATION 16 YEARS AND OVER;SEX BY WORK STATUS IN THE PAST 12 MONTHS BY USUAL HOURS WORKED PER WEEK IN THE PAST 12 MONTHS BY WEEKS WORKED IN THE PAST 12 MONTHS FOR THE POPULATION 65 YEARS AND OVER;FULL-TIME, YEAR-ROUND WORK STATUS IN THE PAST 12 MONTHS BY AGE FOR THE POPULATION 16 YEARS AND OVER;OCCUPATION BY MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;SEX BY OCCUPATION AND MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;OCCUPATION BY MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE FULL-TIME, YEAR-ROUND CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (SOME OTHER RACE ALONE) FOR CURRENT RESIDENCE IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (SOME OTHER RACE ALONE) FOR CURRENT RESIDENCE IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (TWO OR MORE RACES) FOR CURRENT RESIDENCE IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (TWO OR MORE RACES) FOR CURRENT RESIDENCE IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (WHITE ALONE, NOT HISPANIC OR LATINO) FOR CURRENT RESIDENCE IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (WHITE ALONE, NOT HISPANIC OR LATINO) FOR CURRENT RESIDENCE IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (HISPANIC OR LATINO) FOR CURRENT RESIDENCE IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (HISPANIC OR LATINO) FOR CURRENT RESIDENCE IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY CITIZENSHIP STATUS FOR CURRENT RESIDENCE IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY CITIZENSHIP STATUS FOR CURRENT RESIDENCE IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY MARITAL STATUS FOR CURRENT RESIDENCE IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY MARITAL STATUS FOR CURRENT RESIDENCE IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY EDUCATIONAL ATTAINMENT FOR CURRENT RESIDENCE IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY EDUCATIONAL ATTAINMENT FOR CURRENT RESIDENCE IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY INDIVIDUAL INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR CURRENT RESIDENCE IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY INDIVIDUAL INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR CURRENT RESIDENCE IN PUERTO RICO;MEDIAN INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY GEOGRAPHICAL MOBILITY IN THE PAST YEAR FOR CURRENT RESIDENCE IN THE UNITED STATES;MEDIAN INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) BY GEOGRAPHICAL MOBILITY IN THE PAST YEAR FOR CURRENT RESIDENCE IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY POVERTY STATUS IN THE PAST 12 MONTHS FOR CURRENT RESIDENCE IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY POVERTY STATUS IN THE PAST 12 MONTHS FOR CURRENT RESIDENCE IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY TENURE FOR CURRENT RESIDENCE IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY TENURE FOR CURRENT RESIDENCE IN PUERTO RICO;MOVERS BETWEEN REGIONS IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR FOR CURRENT RESIDENCE--METROPOLITAN STATISTICAL AREA LEVEL IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR FOR CURRENT RESIDENCE--METROPOLITAN STATISTICAL AREA LEVEL IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR FOR CURRENT RESIDENCE--MICROPOLITAN STATISTICAL AREA LEVEL IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR FOR CURRENT RESIDENCE--MICROPOLITAN STATISTICAL AREA LEVEL IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR FOR CURRENT RESIDENCE--NOT METROPOLITAN OR MICROPOLITAN STATISTICAL AREA LEVEL IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR FOR CURRENT RESIDENCE--NOT METROPOLITAN OR MICROPOLITAN STATISTICAL AREA LEVEL IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR FOR CURRENT RESIDENCE--STATE, COUNTY AND PLACE LEVEL IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR FOR CURRENT RESIDENCE--STATE, COUNTY AND PLACE LEVEL IN PUERTO RICO;SEX BY OCCUPATION AND MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE FULL-TIME, YEAR-ROUND CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;INDUSTRY BY MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;SEX BY INDUSTRY AND MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;INDUSTRY BY MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE FULL-TIME, YEAR-ROUND CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;SEX BY INDUSTRY AND MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE FULL-TIME, YEAR-ROUND CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;SEX BY CLASS OF WORKER FOR THE CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;CLASS OF WORKER BY MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;SEX BY CLASS OF WORKER AND MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;SEX BY CLASS OF WORKER FOR THE FULL-TIME, YEAR-ROUND CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;CLASS OF WORKER BY MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE FULL-TIME, YEAR-ROUND CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;SEX BY CLASS OF WORKER AND MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE FULL-TIME, YEAR-ROUND CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;DETAILED OCCUPATION FOR THE CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;DETAILED OCCUPATION FOR THE CIVILIAN EMPLOYED MALE POPULATION 16 YEARS AND OVER;DETAILED OCCUPATION FOR THE CIVILIAN EMPLOYED FEMALE POPULATION 16 YEARS AND OVER;DETAILED OCCUPATION BY MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE FULL-TIME, YEAR-ROUND CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;DETAILED OCCUPATION BY MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE FULL-TIME, YEAR-ROUND CIVILIAN EMPLOYED MALE POPULATION 16 YEARS AND OVER;DETAILED OCCUPATION BY MEDIAN EARNINGS IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR THE FULL-TIME, YEAR-ROUND CIVILIAN EMPLOYED FEMALE POPULATION 16 YEARS AND OVER;DETAILED OCCUPATION FOR THE FULL-TIME, YEAR-ROUND CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;DETAILED OCCUPATION FOR THE FULL-TIME, YEAR-ROUND CIVILIAN EMPLOYED MALE POPULATION 16 YEARS AND OVER;DETAILED OCCUPATION FOR THE FULL-TIME, YEAR-ROUND CIVILIAN EMPLOYED FEMALE POPULATION 16 YEARS AND OVER;DETAILED INDUSTRY FOR THE CIVILIAN EMPLOYED POPULATION 16 YEARS AND OVER;DETAILED INDUSTRY FOR THE CIVILIAN EMPLOYED MALE POPULATION 16 YEARS AND OVER;DETAILED INDUSTRY FOR THE CIVILIAN EMPLOYED FEMALE POPULATION 16 YEARS AND OVER;HOUSING UNITS;OCCUPANCY STATUS;TENURE;TENURE (WHITE ALONE HOUSEHOLDER);TENURE (BLACK OR AFRICAN AMERICAN ALONE HOUSEHOLDER);TENURE (AMERICAN INDIAN AND ALASKA NATIVE ALONE HOUSEHOLDER);TENURE (ASIAN ALONE HOUSEHOLDER);TENURE (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE HOUSEHOLDER);TENURE (SOME OTHER RACE ALONE HOUSEHOLDER);TENURE (TWO OR MORE RACES HOUSEHOLDER);GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY AGE FOR RESIDENCE 1 YEAR AGO IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY AGE FOR RESIDENCE 1 YEAR AGO IN PUERTO RICO;MEDIAN AGE BY GEOGRAPHICAL MOBILITY IN THE PAST YEAR FOR RESIDENCE 1 YEAR AGO IN THE UNITED STATES;MEDIAN AGE BY GEOGRAPHICAL MOBILITY IN THE PAST YEAR FOR RESIDENCE 1 YEAR AGO IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY SEX FOR RESIDENCE 1 YEAR AGO IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY SEX FOR RESIDENCE 1 YEAR AGO IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (WHITE ALONE) FOR RESIDENCE 1 YEAR AGO IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (WHITE ALONE) FOR RESIDENCE 1 YEAR AGO IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (BLACK OR AFRICAN AMERICAN ALONE) FOR RESIDENCE 1 YEAR AGO IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (BLACK OR AFRICAN AMERICAN ALONE) FOR RESIDENCE 1 YEAR AGO IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (AMERICAN INDIAN AND ALASKA NATIVE ALONE) FOR RESIDENCE 1 YEAR AGO IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (AMERICAN INDIAN AND ALASKA NATIVE ALONE) FOR RESIDENCE 1 YEAR AGO IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (ASIAN ALONE) FOR RESIDENCE 1 YEAR AGO IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (ASIAN ALONE) FOR RESIDENCE 1 YEAR AGO IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE) FOR RESIDENCE 1 YEAR AGO IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE) FOR RESIDENCE 1 YEAR AGO IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (SOME OTHER RACE ALONE) FOR RESIDENCE 1 YEAR AGO IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (SOME OTHER RACE ALONE) FOR RESIDENCE 1 YEAR AGO IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (TWO OR MORE RACES) FOR RESIDENCE 1 YEAR AGO IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (TWO OR MORE RACES) FOR RESIDENCE 1 YEAR AGO IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (WHITE ALONE, NOT HISPANIC OR LATINO) FOR RESIDENCE 1 YEAR AGO IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (WHITE ALONE, NOT HISPANIC OR LATINO) FOR RESIDENCE 1 YEAR AGO IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (HISPANIC OR LATINO) FOR RESIDENCE 1 YEAR AGO IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR (HISPANIC OR LATINO) FOR RESIDENCE 1 YEAR AGO IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY CITIZENSHIP STATUS FOR RESIDENCE 1 YEAR AGO IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY CITIZENSHIP STATUS FOR RESIDENCE 1 YEAR AGO IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY MARITAL STATUS FOR RESIDENCE 1 YEAR AGO IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY MARITAL STATUS FOR RESIDENCE 1 YEAR AGO IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY EDUCATIONAL ATTAINMENT FOR RESIDENCE 1 YEAR AGO IN THE UNITED STATES;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY EDUCATIONAL ATTAINMENT FOR RESIDENCE 1 YEAR AGO IN PUERTO RICO;GEOGRAPHICAL MOBILITY IN THE PAST YEAR BY INDIVIDUAL INCOME IN THE PAST 12 MONTHS (IN 2021 INFLATION-ADJUSTED DOLLARS) FOR RESIDENCE 1 YEAR AGO IN THE UNITED STATES\nstring\nB17015,B18104,B17016,B18105,B17017,B18106,B17018,B18107,B17011,B19301A,B07001PR,B17012,B18101,B17013,B18102,B17014,B18103,B19301E,B19301D,B19301C,B17010,B19301B,B98013,B99102,B19301I,B98012,B19301H,B99104,B19301G,B98014,B99103,B19301F,B08536,B08537,B08534,B98011,B07203,B07204,B07408PR,B08532,B07201,B07202,B07404APR,B17019,B17004,B17005,B17006,B17007,B18101I,B07012PR,B17001,B17003,B08303,B98022,B98021,B08301,B08302,B08541,B17008,B17009,B05008,B08519,B05007,B06004HPR,B05009,B25097,B05004,B25096,B05003,B25099,B05006,B08513,B25098,B05005,B08511,B05002,B05001,B25091,B25090,B25093,B25092,B25095,B25094,B07004DPR,B26103G,B26103F,B26103I,B26103H,B26103C,B26103B,B26103E,B26103D,B98002,B98001,B26103A,B08528,B98003,B25086,B27023,B05015,B08526,B25085,B05014,B25088,B08524,B25087,B27022,B25014I,B08521,B01001F,B05011,B25014H,B08522,B25089,B01001G,B05010,B25014G,B01001H,B05013,B25014F,B01001I,B05012,B25014E,B01001B,B25014D,B01001C,B25014C,B25080,B01001D,B25014B,B01001E,B25014A,B25082,B25081,B27020,B25083,B01001A,B12007C,B12007B,B12007A,B07003PR,B18140,B07009,B07008,B07007,B01002G,B07002,B01002H,B07001,B01002I,B07003,B01002C,B01002D,B12007I,B01002E,B07404CPR,B12007H,B01002F,B12007G,B12007F,B12007E,B01002A,B12007D,B01002B,B18135,B25032I,B25032H,B25032G,B25032F,B08103,B25032E,B06003PR,B07013,B25032D,B07012,B08101,B25032C,B25032B,B25032A,B07011,B07010,B99052PR,B19216,B19215,B19214,B06004FPR,B11001B,B11001A,B11001D,B11001C,B11001F,B11001E,B11001H,B11001G,B11001I,B17026,C15010H,C15010I,B17022,B19201,B07004FPR,B17023,B17024,B17025,B19202,B17020,B17021,B11002A,B29004,B29003,B11002C,B29002,B11002B,B29001,B11002E,B11002D,B11002G,B11002F,B11002I,B11002H,B25039,B25038,B25031,B26120,B03001,B03002,B25033,B03003,B25032,B25035,B25034,B25037,B25036,B07201PR,B26117,B25027,B26119,B26118,C18108,B25020,B25022,B06001PR,B25021,B26110,B25024,B26113,B25026,B26115,B26114,C18131,C18130,B25017,B26106,C27001B,B25016,B26105,C27001A,B25019,B26108,C27001D,B25018,B26107,C27001C,C27001F,B26109,C27001E,C27001H,C27001G,B25011,B06012PR,B25010,B25013,B26102,B25012,B26101,B25015,B26104,B25014,B26103,C18120,B07004HPR,C18121,B25006,B25005,B25008,B25007,B25009,B25002,B12002I,B25001,B25004,B12002H,B12002G,B25003,B12002F,B12002E,B12002D,B12002C,B12002B,B12002A,B07402PR,B07409,B27019,B07407,B07408,B25075,B07403,B25074,B25077,B27010,B07401,B25076,B27011,B07402,B25079,B25078,B27015,B25071,B25070,B07007PR,B25072,B14007A,B07203PR,B08105A,B08105B,B08105C,B07413PR,B08105D,B08105E,B08105F,B08105G,B08105H,B08105I,B08503,B25064,B27001,B25063,B27002,B07412,B08501,B25066,B07413,B25065,B25068,B07410,B07411,B25067,B27003,B25069,B14007F,B14007G,B14007H,B14007I,B25060,B14007B,B14007C,B25062,B14007D,B25061,B14007E,B15012,B15011,B20005A,B20005B,B20005C,B20005D,B25053,B06010PR,B25052,B25055,B25054,B25057,B25056,B25059,B25058,B20005E,B20005F,B20005G,B20005H,B20005I,B25051,B25050,B15001,B13002G,B13002F,B13002I,B15003,B13002H,B15002,B13002C,B25049,B13002B,B13002E,B13002D,B13002A,B25042,B25041,B25044,B25043,B25046,B05005PR,B25045,B25048,B25047,B25040,C24070,B23018,B23010,B23013,B07009PR,C24060,B23003,B07411PR,B22005A,B22005B,B23006,B23007,B23008,B23009,B22005G,B22005H,B22005I,B22005C,B22005D,B22005E,B23001,B22005F,B11010,B11012,B11011,B992516,B992514,B992515,B992518,B992519,B11014,B11013,B11016,B11015,B992512,B11017,B992513,B992510,B992511,B11001,B11003,B11002,B992520,B11005,B11004,B11007,B992523,B11006,B11009,B992521,B11008,B992522,B13010,B13014,B13012,B13015,B13016,B13002,B24136,C16001,C16002,C27001I,B24134,B24135,B13004,B13008,B05012PR,B24125,B24126,B01003,B99087,B99086,B99089,B99088,B99083,B01002,B24121,B99082,B01001,B24122,B99085,B24123,B99084,B24124,B99081,B99080,B05001PR,B23025,B24114,B23026,B24115,B23027,B24116,B23020,B23022,B23024,B99092,B08017,B19013H,B08018,B19013I,B08015,B99061,B08016,B08013,B08014,B08011,B08012,C15010A,C15010B,C15010C,C15010D,C15010E,C15010F,C15010G,B08505A,B08505C,B08505B,B08505E,B08505D,B19037A,B08505G,B08505F,B08505I,B19013B,B19037D,B08505H,B19013C,B19037E,B992709,B19037B,B06009PR,B19013A,B19037C,B19013F,B19037H,B19013G,B19037I,B19013D,B19037F,B19013E,B19037G,B992703,B992704,B992701,B992702,B99072,B992707,B99071,B992708,B992705,B992706,C24010,B19101B,B19131,B19101C,B19130,B06004DPR,B19101A,B19101F,B19101G,B19101D,B19101E,B99281,B07404FPR,B99283,B99282,B12501,B12503,B12502,B12505,B12504,B19128,B19127,B19129,B19123,B19126,B19125,B19122,B19121,B08008,B08009,B99053,B08006,B08007,B99052,B99051,B26203I,C24030,B26203G,B26203H,B26203E,B26203F,B26203C,B26203D,B26203A,B26203B,B99021,C02003,C24020,B17010E,B06007PR,B17010F,B17010C,B17010D,B17010A,B17010B,B99031,B19101H,B19101I,C24050,B06004BPR,B99245,B99244,B99246,B99241,B07409PR,B99243,B99242,B17010I,B17010G,B17010H,B07404HPR,B18101E,B18101F,B18101G,B18101H,B18101A,B18101B,B18101C,B18101D,B07004BPR,B21005,B21004,B21003,B21002,B21001,B07011PR,B99259,C24040,B99256,B99255,B99258,B99257,B99252,B99012,B99254,B99011,B99253,B19313B,B19313A,B19313,B17001G,B19313F,B17001H,B19313E,B17001E,B19313D,B17001F,B19313C,B17001C,B06004IPR,B17001D,B19313I,B17001A,B19313H,B17001B,B19313G,B99221,B08412,C21007,B07004CPR,B19301,B99234,B06009,B99233,B06008,B28011,B99232,B06007,B28012,B99231,B06001,B17001I,B06003,B06002,B28010,B07002PR,B28008,B99201,B28002,B28003,B07407PR,B28001,B25003H,B28006,B25003I,B28007,B28004,B25003F,B28005,B25003G,B25003D,B25003E,B07404BPR,B25003B,B25003C,B25003A,C23002G,C23002F,C23002I,B16010,C23002H,B07013PR,B17101,C23002A,B99212,C23002C,B99211,C23002B,B08406,C23002E,C23002D,B19119,B19113,B06004GPR,C15002A,C15002B,C15002C,C15002D,C15002E,C15002F,C15002G,C15002H,C15002I,C21001G,B19101,C21001H,B07004EPR,C21001I,C21001C,C21001D,C21001E,C21001F,C21001A,C21001B,B26109PR,B06012,B07101,B06011,B06010,B07404DPR,B19326,B28009I,B19325,B28009B,B28009A,B28009D,B28009C,B28009F,B28009E,B28009H,B28009G,B08202,B08203,B06002PR,B08201,B16005F,B16005G,B26001,B16005H,B16005I,B16005A,B16005B,B16005C,B16005D,B16005E,B07004GPR,B05006PR,B14003,B14004,B14001,B14002,B02018,B02017,B02016,B02015,B02019,B02010,B24041,B25132,B24042,B26220,B25134,B02014,B25133,B02013,B02012,B07403PR,B25135,B02011,B14007,B14005,B14006,B07202PR,B25127,B26216,B25126,B26215,B25129,B26218,B25128,B26217,B26219,B25121,B26210,B24031,B25120,B24032,B25123,B26212,B25122,B26211,B25125,B26214,B25124,B26213,B16001,B16006,B16005,B16004,B16003,B06011PR,B16009,B07004IPR,B16008,B16007,B07004B,B07004A,B07004D,B07004C,B07004F,B07004E,B24090,B07004H,B24091,B07004G,B24092,B07004I,B20017A,B20017B,B20017C,B20017D,B20017E,B07401PR,B20017F,B20017G,B20017H,B20017I,B24080,B24081,B24082,B07008PR,B10051B,B10051A,B07204PR,B10051F,B07412PR,B10051E,B10051D,B10051C,B04006,B10051I,B04007,B08604,B10051H,B10051G,B08602,B08603,B04004,B08601,B04005,B10063,B06004APR,B06004C,B06004B,B12002,B06004A,B12001,B06004G,B06004F,B06004E,B06004D,B06004I,B06004H,B07404IPR,B12006,B12007,B10050,B10051,B10052,B10053,B10054,B10056,B10057,B10058,B10059,C27007,C27006,C27005,C27004,C27009,C27008,C15010,B07410PR,B19082,B19083,B22010,B25116,B26205,C27021,B25115,B26204,B25118,B26207,B25117,B26206,B26209,B25119,B26208,B25110,B24021,B25112,B26201,B24022,B25111,B25114,B26203,B25113,B26202,C27018,C27017,C27016,C27014,C27013,C27012,B25105,B25104,B25107,B25106,B25109,B25108,B02009,B02008,B25101,B24011,B25100,B24012,B25103,B02001,B25102,C17002,B05003A,B05003C,B05003B,B05003I,B05003H,B05003E,B05003D,B05003G,B05003F,B19037,B06004EPR,B99186,B19001I,B99185,B19001G,B19025I,B99187,B19001H,B08136,B99182,B07404EPR,B08137,B99181,B08134,B99184,B08135,B99183,B08132,B08133,B08130,B08131,B20017,B20018,B19025,B21100,B19001A,B19025C,B19001B,B19025D,B19025A,B19025B,B19001E,B19025G,B19001F,B19025H,B19001C,B19025E,B19001D,B19025F,B07404B,B07404A,B99193,B07404F,B99192,B07404E,B07404D,B99194,B07404C,B07404I,B08141,B99191,B07404H,B07404G,B19019,B20004,B20005,B19013,B20002,B20003,B20001,B19113C,B19113D,B19113A,B19113B,B19113G,B19113H,B19113E,B19113F,B08119,B99163,B99162,B08113,B99161,B08111,B17020D,B17020E,B17020B,B17020C,B19001,B06008PR,B17020A,B08128,B99171,B08126,B08124,B99172,B08121,B08122,B22008,B22007,B22003,B22002,B06004CPR,B99142,C24010A,B99141,B19080,B19081,B17020H,B17020I,B17020F,B07404GPR,B17020G,C24010I,B22001,C24010H,B09021,C24010G,C24010F,C24010E,B09020,C24010D,C24010C,C24010B,B07004APR,B19069,B10010,B07010PR,B19064,B19065,B19066,B19067,B19060,B19061,B19062,B19063,B99152,B19113I,B19070,B99151,B19057,B19202A,B19058,B19059,B19053,B19202E,B19054,B19202D,B19055,B19202C,B19056,B19202B,B99124,B19202I,B99123,B19050,B19202H,B99126,B19051,B19202G,B99125,B19052,B19202F,B98031,B99122,B98032,B99121,B09005,B09001,B10001,B09002,B10002,B19049,B99131,B09018,B09019,B99132,B09010\n0\nNaN\nNaN\nNAME\nNaN\n\n\n\n\n\n\n\nIt looks like the table we want is “B03002” — we can also easily filter for all variables in this table\n\nvariables = [\n    \"NAME\",\n    \"B03002_001E\", # Total\n    \"B03002_003E\", # Not Hispanic, White\n    \"B03002_004E\", # Not Hispanic, Black\n    \"B03002_005E\", # Not Hispanic, American Indian\n    \"B03002_006E\", # Not Hispanic, Asian\n    \"B03002_007E\", # Not Hispanic, Native Hawaiian\n    \"B03002_008E\", # Not Hispanic, Other\n    \"B03002_009E\", # Not Hispanic, Two or More Races\n    \"B03002_012E\", # Hispanic\n]\n\n\n\n\n\n\n\nNote\n\n\n\nWe’ve also include the “NAME” variable which returns the name of the Census geography we are querying for.\n\n\n\n\nStep 4: Identify the geographies to use\nThe Census API use heirarchy of geographies when requesting data.\nFor example, you cannot just request data for a specific county — you need to specify the state and the county.\n\nCommon hierarchies\n\nState –&gt; county\nState –&gt; place (e.g., cities)\nState –&gt; county –&gt; tract\nState –&gt; county –&gt; tract –&gt; block group\n\nTip: Use the .geographies attribute\nThis allows you to see:\n\nWhat geographies are available for a specific dataset\nThe other required geographies in the heirarchy\n\n\nacs.geographies['fips']\n\n\n\n\n\n\n\n\nname\ngeoLevelDisplay\nreferenceDate\nrequires\nwildcard\noptionalWithWCFor\n\n\n\n\n0\nus\n010\n2021-01-01\nNaN\nNaN\nNaN\n\n\n1\nregion\n020\n2021-01-01\nNaN\nNaN\nNaN\n\n\n2\ndivision\n030\n2021-01-01\nNaN\nNaN\nNaN\n\n\n3\nstate\n040\n2021-01-01\nNaN\nNaN\nNaN\n\n\n4\ncounty\n050\n2021-01-01\n[state]\n[state]\nstate\n\n\n...\n...\n...\n...\n...\n...\n...\n\n\n82\npublic use microdata area\n795\n2021-01-01\n[state]\n[state]\nstate\n\n\n83\nzip code tabulation area\n860\n2021-01-01\nNaN\nNaN\nNaN\n\n\n84\nschool district (elementary)\n950\n2021-01-01\n[state]\n[state]\nstate\n\n\n85\nschool district (secondary)\n960\n2021-01-01\n[state]\n[state]\nstate\n\n\n86\nschool district (unified)\n970\n2021-01-01\n[state]\n[state]\nstate\n\n\n\n\n87 rows × 6 columns\n\n\n\nFor the racial dot map, we’ll use the most granular available geography: block group.\nThe hierarchy is: state –&gt; county –&gt; tract –&gt; block group but we can use the * operator for tracts so we’ll need to know the FIPS codes for PA and Philadelphia County\n\ncounties = cenpy.explorer.fips_table(\"COUNTY\")\ncounties.head()\n\n\n\n\n\n\n\n\n0\n1\n2\n3\n4\n\n\n\n\n0\nAL\n1\n1\nAutauga County\nH1\n\n\n1\nAL\n1\n3\nBaldwin County\nH1\n\n\n2\nAL\n1\n5\nBarbour County\nH1\n\n\n3\nAL\n1\n7\nBibb County\nH1\n\n\n4\nAL\n1\n9\nBlount County\nH1\n\n\n\n\n\n\n\n\n# Trim to just Philadelphia\n# Search for rows where name contains \"Philadelphia\"\ncounties.loc[ counties[3].str.contains(\"Philadelphia\") ]\n\n\n\n\n\n\n\n\n0\n1\n2\n3\n4\n\n\n\n\n2294\nPA\n42\n101\nPhiladelphia County\nH6\n\n\n\n\n\n\n\nFor Philadelphia County, the FIPS codes are:\n\nPhiladelphia County: “101”\nPA: “42”\n\n\nphilly_county_code = \"101\"\npa_state_code = \"42\"\n\nYou can also look up FIPS codes on Google! Wikipedia is usually a trustworthy source…\n\n\nStep 5: Build the query (finally)\nWe’ll use the .query() function, which takes the following arguments:\n\ncols - the list of variables desired from the dataset\ngeo_unit - string denoting the smallest geographic unit; syntax is “name:FIPS”\ngeo_filter - dictionary containing groupings of geo_units, if required by the hierarchy\n\n\nphilly_demo_data = acs.query(\n    cols=variables,\n    geo_unit=\"block group:*\",\n    geo_filter={\"state\": pa_state_code, \"county\": philly_county_code, \"tract\": \"*\"},\n)\n\n\nphilly_demo_data.head()\n\n\n\n\n\n\n\n\nNAME\nB03002_001E\nB03002_003E\nB03002_004E\nB03002_005E\nB03002_006E\nB03002_007E\nB03002_008E\nB03002_009E\nB03002_012E\nstate\ncounty\ntract\nblock group\n\n\n\n\n0\nBlock Group 1, Census Tract 1.01, Philadelphia County, Pennsylvania\n0\n0\n0\n0\n0\n0\n0\n0\n0\n42\n101\n000101\n1\n\n\n1\nBlock Group 2, Census Tract 1.01, Philadelphia County, Pennsylvania\n0\n0\n0\n0\n0\n0\n0\n0\n0\n42\n101\n000101\n2\n\n\n2\nBlock Group 3, Census Tract 1.01, Philadelphia County, Pennsylvania\n0\n0\n0\n0\n0\n0\n0\n0\n0\n42\n101\n000101\n3\n\n\n3\nBlock Group 4, Census Tract 1.01, Philadelphia County, Pennsylvania\n1129\n770\n11\n0\n88\n0\n0\n37\n223\n42\n101\n000101\n4\n\n\n4\nBlock Group 5, Census Tract 1.01, Philadelphia County, Pennsylvania\n875\n683\n0\n0\n69\n0\n0\n0\n123\n42\n101\n000101\n5\n\n\n\n\n\n\n\n\nlen(philly_demo_data)\n\n1338\n\n\nImportant: data is returned as strings rather than numeric values\n\nfor variable in variables:\n    # Convert all variables EXCEPT for NAME\n    if variable != \"NAME\":\n        philly_demo_data[variable] = philly_demo_data[variable].astype(float)\n\nWhat if we mess up the geographic hierarchy?\nIf you forget to include required parts of the geography heirarchy, you’ll get an error!\n\nacs.query(\n    cols=variables,\n    geo_unit=\"block group:*\",\n    geo_filter={\"state\": pa_state_code},\n)\n\n/Users/nhand/mambaforge/envs/musa-550-fall-2023/lib/python3.10/site-packages/cenpy/remote.py:224: SyntaxWarning: \"is not\" with a literal. Did you mean \"!=\"?\n  if index is not \"\":\n/Users/nhand/mambaforge/envs/musa-550-fall-2023/lib/python3.10/site-packages/cenpy/remote.py:224: SyntaxWarning: \"is not\" with a literal. Did you mean \"!=\"?\n  if index is not \"\":\n\n\nHTTPError: 400 error: unknown/unsupported geography heirarchy\n\n\n\n\nStep 6: We need the block group geometries too!\nUse the pygris package to download geometries. It’s a port of the R package tigris to Python!\n\nimport pygris\n\nThere’s a function to return each of the main Census geographies. We’ll use the block_groups() function.\n\npygris.block_groups?\n\n\nSignature:\npygris.block_groups(\n    state=None,\n    county=None,\n    cb=False,\n    year=None,\n    cache=False,\n    subset_by=None,\n)\nDocstring:\n Load a Census block groups shapefile into Python as a GeoDataFrame\nParameters\n----------\nstate : str \n    The state name, state abbreviation, or two-digit FIPS code of the desired state. \n    If None, block groups for the entire United States will be downloaded if \n    available for that year / dataset combination.  \ncounty : str\n    The county name or three-digit FIPS code of the desired county. If None, block groups\n    for the selected state will be downloaded. \ncb : bool \n    If set to True, download a generalized (1:500k) cartographic boundary file.  \n    Defaults to False (the regular TIGER/Line file).\nyear : int \n    The year of the TIGER/Line or cartographic boundary shapefile. \ncache : bool \n    If True, the function will download a Census shapefile to a cache directory \n    on the user's computer for future access.  If False, the function will load\n    the shapefile directly from the Census website.      \nsubset_by : tuple, int, slice, dict, geopandas.GeoDataFrame, or geopandas.GeoSeries\n    An optional directive telling pygris to return a subset of data using \n    underlying arguments in geopandas.read_file().  \n    subset_by operates as follows:\n        * If a user supplies a tuple of format (minx, miny, maxx, maxy), \n        it will be interpreted as a bounding box and rows will be returned\n        that intersect that bounding box;\n        * If a user supplies a integer or a slice object, the first n rows\n        (or the rows defined by the slice object) will be returned;\n        * If a user supplies an object of type geopandas.GeoDataFrame\n        or of type geopandas.GeoSeries, rows that intersect the input \n        object will be returned. CRS misalignment will be resolved \n        internally.  \n        * A dict of format {\"address\": \"buffer_distance\"} will return rows\n        that intersect a buffer of a given distance (in meters) around an \n        input address.  \nReturns\n----------\ngeopandas.GeoDataFrame: A GeoDataFrame of Census block groups.\nNotes\n----------\nSee https://www2.census.gov/geo/pdfs/reference/GARM/Ch10GARM.pdf for more information.    \nFile:      ~/mambaforge/envs/musa-550-fall-2023/lib/python3.10/site-packages/pygris/enumeration_units.py\nType:      function\n\n\n\n\nphilly_block_groups = pygris.block_groups(\n    state=pa_state_code, county=philly_county_code, year=2021\n)\n\n\nphilly_block_groups.head()\n\n\n\n\n\n\n\n\nSTATEFP\nCOUNTYFP\nTRACTCE\nBLKGRPCE\nGEOID\nNAMELSAD\nMTFCC\nFUNCSTAT\nALAND\nAWATER\nINTPTLAT\nINTPTLON\ngeometry\n\n\n\n\n124\n42\n101\n989100\n2\n421019891002\nBlock Group 2\nG5030\nS\n373653\n7060\n+40.0373207\n-075.0177378\nPOLYGON ((-75.02195 40.03435, -75.02191 40.03451, -75.02173 40.03482, -75.02151 40.03515, -75.02135 40.03544, -75.02129 40.03562, -75.02130 40.03582, -75.02134 40.03607, -75.02150 40.03638, -75.02163 40.03663, -75.02181 40.03702, -75.02168 40.03709, -75.01967 40.03813, -75.01902 40.03847, -75.01843 40.03877, -75.01783 40.03908, -75.01703 40.03950, -75.01621 40.03991, -75.01535 40.03894, -75.01500 40.03910, -75.01432 40.03945, -75.01254 40.03803, -75.01216 40.03772, -75.01195 40.03755, -75.01131 40.03704, -75.01225 40.03654, -75.01530 40.03485, -75.01790 40.03340, -75.01797 40.03336, -75.01817 40.03350, -75.01862 40.03366, -75.01959 40.03374, -75.01986 40.03376, -75.02000 40.03377, -75.02011 40.03377, -75.02022 40.03378, -75.02043 40.03379, -75.02083 40.03378, -75.02125 40.03374, -75.02142 40.03375, -75.02157 40.03381, -75.02173 40.03392, -75.02180 40.03401, -75.02189 40.03411, -75.02195 40.03422, -75.02195 40.03435))\n\n\n125\n42\n101\n989100\n4\n421019891004\nBlock Group 4\nG5030\nS\n1399991\n948653\n+40.0407424\n-074.9975532\nPOLYGON ((-75.01254 40.03803, -75.01195 40.03824, -75.01165 40.03836, -75.01134 40.03848, -75.01104 40.03860, -75.01074 40.03873, -75.01045 40.03887, -75.01016 40.03901, -75.01010 40.03904, -75.00987 40.03915, -75.00959 40.03930, -75.00943 40.03937, -75.00901 40.03959, -75.00873 40.03973, -75.00844 40.03988, -75.00817 40.04003, -75.00789 40.04019, -75.00735 40.04051, -75.00681 40.04084, -75.00654 40.04100, -75.00628 40.04116, -75.00519 40.04181, -75.00351 40.04282, -75.00297 40.04315, -75.00062 40.04458, -75.00035 40.04474, -75.00008 40.04490, -74.99981 40.04507, -74.99954 40.04523, -74.99873 40.04572, -74.99712 40.04669, -74.99631 40.04718, -74.99627 40.04720, -74.99540 40.04644, -74.99472 40.04584, -74.99410 40.04530, -74.99382 40.04504, -74.99349 40.04476, -74.99320 40.04449, -74.99288 40.04421, -74.99227 40.04368, -74.99166 40.04313, -74.99098 40.04253, -74.99094 40.04252, -74.99061 40.04237, -74.99030 40.04238, -74.98657 40.03896, -74.98764 40.03819, -74.99007 40.03643, -74.99409 40.03341, -74.99530 40.03257, -74.99620 40.03193, -74.99711 40.03129, -74.99817 40.03051, -75.00062 40.02870, -75.00198 40.02798, -75.00335 40.02726, -75.00546 40.03110, -75.00533 40.03118, -75.00522 40.03126, -75.00508 40.03134, -75.00498 40.03143, -75.00487 40.03151, -75.00471 40.03168, -75.00465 40.03178, -75.00457 40.03187, -75.00455 40.03191, -75.00456 40.03194, -75.00464 40.03202, -75.00473 40.03207, -75.00485 40.03212, -75.00497 40.03215, -75.00508 40.03216, -75.00519 40.03215, -75.00529 40.03214, -75.00548 40.03213, -75.00559 40.03210, -75.00570 40.03205, -75.00582 40.03204, -75.00592 40.03204, -75.00610 40.03220, -75.00621 40.03219, -75.00651 40.03233, -75.00694 40.03258, -75.00729 40.03289, -75.00741 40.03309, -75.00741 40.03330, -75.00728 40.03375, -75.00722 40.03412, -75.00726 40.03439, -75.00739 40.03471, -75.00766 40.03505, -75.00795 40.03534, -75.00818 40.03551, -75.00861 40.03557, -75.00928 40.03547, -75.01001 40.03522, -75.01076 40.03475, -75.01106 40.03450, -75.01119 40.03464, -75.01122 40.03471, -75.01128 40.03479, -75.01140 40.03491, -75.01148 40.03496, -75.01159 40.03503, -75.01178 40.03514, -75.01181 40.03518, -75.01222 40.03553, -75.01196 40.03621, -75.01225 40.03654, -75.01131 40.03704, -75.01195 40.03755, -75.01216 40.03772, -75.01254 40.03803))\n\n\n126\n42\n101\n989100\n3\n421019891003\nBlock Group 3\nG5030\nS\n820212\n566882\n+40.0297287\n-075.0119000\nPOLYGON ((-75.02251 40.03083, -75.02176 40.03124, -75.02157 40.03135, -75.02127 40.03152, -75.02056 40.03192, -75.01994 40.03227, -75.01984 40.03232, -75.01814 40.03327, -75.01805 40.03332, -75.01797 40.03336, -75.01787 40.03329, -75.01710 40.03270, -75.01666 40.03231, -75.01632 40.03190, -75.01611 40.03154, -75.01587 40.03125, -75.01558 40.03106, -75.01505 40.03085, -75.01464 40.03074, -75.01430 40.03070, -75.01382 40.03072, -75.01340 40.03083, -75.01294 40.03107, -75.01262 40.03139, -75.01234 40.03193, -75.01215 40.03262, -75.01198 40.03349, -75.01184 40.03380, -75.01159 40.03408, -75.01106 40.03450, -75.01076 40.03475, -75.01001 40.03522, -75.00928 40.03547, -75.00861 40.03557, -75.00818 40.03551, -75.00795 40.03534, -75.00766 40.03505, -75.00739 40.03471, -75.00726 40.03439, -75.00722 40.03412, -75.00728 40.03375, -75.00741 40.03330, -75.00741 40.03309, -75.00729 40.03289, -75.00694 40.03258, -75.00651 40.03233, -75.00621 40.03219, -75.00610 40.03220, -75.00592 40.03204, -75.00582 40.03204, -75.00570 40.03205, -75.00559 40.03210, -75.00548 40.03213, -75.00529 40.03214, -75.00519 40.03215, -75.00508 40.03216, -75.00497 40.03215, -75.00485 40.03212, -75.00473 40.03207, -75.00464 40.03202, -75.00456 40.03194, -75.00455 40.03191, -75.00457 40.03187, -75.00465 40.03178, -75.00471 40.03168, -75.00487 40.03151, -75.00498 40.03143, -75.00508 40.03134, -75.00522 40.03126, -75.00533 40.03118, -75.00546 40.03110, -75.00335 40.02726, -75.00385 40.02700, -75.01037 40.02249, -75.01242 40.02092, -75.01324 40.02030, -75.01378 40.02017, -75.01558 40.02313, -75.01977 40.02793, -75.02180 40.03026, -75.02194 40.03045, -75.02251 40.03083))\n\n\n156\n42\n101\n028300\n1\n421010283001\nBlock Group 1\nG5030\nS\n69892\n0\n+40.0299231\n-075.1408226\nPOLYGON ((-75.14202 40.02998, -75.14200 40.03005, -75.14167 40.03160, -75.14088 40.03149, -75.14010 40.03140, -75.13930 40.03129, -75.13966 40.02974, -75.13998 40.02824, -75.14076 40.02835, -75.14156 40.02845, -75.14233 40.02854, -75.14202 40.02998))\n\n\n158\n42\n101\n028400\n1\n421010284001\nBlock Group 1\nG5030\nS\n94792\n0\n+40.0293965\n-075.1380180\nPOLYGON ((-75.13966 40.02974, -75.13930 40.03129, -75.13848 40.03118, -75.13769 40.03108, -75.13725 40.03102, -75.13722 40.03102, -75.13676 40.03096, -75.13702 40.02980, -75.13703 40.02974, -75.13709 40.02941, -75.13679 40.02938, -75.13643 40.02933, -75.13616 40.02930, -75.13580 40.02925, -75.13614 40.02774, -75.13648 40.02779, -75.13676 40.02782, -75.13709 40.02787, -75.13742 40.02792, -75.13792 40.02798, -75.13837 40.02803, -75.13917 40.02814, -75.13998 40.02824, -75.13966 40.02974))\n\n\n\n\n\n\n\n\nlen(philly_block_groups)\n\n1338\n\n\n\n\nStep 7: Merge the demographic data with geometries\nMerge based on multiple columns: state, county, tract, and block group IDs.\nThe relevant columns are:\n\n“STATEFP”, “COUNTYFP”, “TRACTCE”, “BLKGRCE” in the spatial data\n“state”, “county”, “tract”, “block group” in the non-spatial data\n\n\nphilly_demo_final = philly_block_groups.merge(\n    philly_demo_data,\n    left_on=[\"STATEFP\", \"COUNTYFP\", \"TRACTCE\", \"BLKGRPCE\"],\n    right_on=[\"state\", \"county\", \"tract\", \"block group\"],\n)\n\n\nphilly_demo_final.head()\n\n\n\n\n\n\n\n\nSTATEFP\nCOUNTYFP\nTRACTCE\nBLKGRPCE\nGEOID\nNAMELSAD\nMTFCC\nFUNCSTAT\nALAND\nAWATER\nINTPTLAT\nINTPTLON\ngeometry\nNAME\nB03002_001E\nB03002_003E\nB03002_004E\nB03002_005E\nB03002_006E\nB03002_007E\nB03002_008E\nB03002_009E\nB03002_012E\nstate\ncounty\ntract\nblock group\n\n\n\n\n0\n42\n101\n989100\n2\n421019891002\nBlock Group 2\nG5030\nS\n373653\n7060\n+40.0373207\n-075.0177378\nPOLYGON ((-75.02195 40.03435, -75.02191 40.03451, -75.02173 40.03482, -75.02151 40.03515, -75.02135 40.03544, -75.02129 40.03562, -75.02130 40.03582, -75.02134 40.03607, -75.02150 40.03638, -75.02163 40.03663, -75.02181 40.03702, -75.02168 40.03709, -75.01967 40.03813, -75.01902 40.03847, -75.01843 40.03877, -75.01783 40.03908, -75.01703 40.03950, -75.01621 40.03991, -75.01535 40.03894, -75.01500 40.03910, -75.01432 40.03945, -75.01254 40.03803, -75.01216 40.03772, -75.01195 40.03755, -75.01131 40.03704, -75.01225 40.03654, -75.01530 40.03485, -75.01790 40.03340, -75.01797 40.03336, -75.01817 40.03350, -75.01862 40.03366, -75.01959 40.03374, -75.01986 40.03376, -75.02000 40.03377, -75.02011 40.03377, -75.02022 40.03378, -75.02043 40.03379, -75.02083 40.03378, -75.02125 40.03374, -75.02142 40.03375, -75.02157 40.03381, -75.02173 40.03392, -75.02180 40.03401, -75.02189 40.03411, -75.02195 40.03422, -75.02195 40.03435))\nBlock Group 2, Census Tract 9891, Philadelphia County, Pennsylvania\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n42\n101\n989100\n2\n\n\n1\n42\n101\n989100\n4\n421019891004\nBlock Group 4\nG5030\nS\n1399991\n948653\n+40.0407424\n-074.9975532\nPOLYGON ((-75.01254 40.03803, -75.01195 40.03824, -75.01165 40.03836, -75.01134 40.03848, -75.01104 40.03860, -75.01074 40.03873, -75.01045 40.03887, -75.01016 40.03901, -75.01010 40.03904, -75.00987 40.03915, -75.00959 40.03930, -75.00943 40.03937, -75.00901 40.03959, -75.00873 40.03973, -75.00844 40.03988, -75.00817 40.04003, -75.00789 40.04019, -75.00735 40.04051, -75.00681 40.04084, -75.00654 40.04100, -75.00628 40.04116, -75.00519 40.04181, -75.00351 40.04282, -75.00297 40.04315, -75.00062 40.04458, -75.00035 40.04474, -75.00008 40.04490, -74.99981 40.04507, -74.99954 40.04523, -74.99873 40.04572, -74.99712 40.04669, -74.99631 40.04718, -74.99627 40.04720, -74.99540 40.04644, -74.99472 40.04584, -74.99410 40.04530, -74.99382 40.04504, -74.99349 40.04476, -74.99320 40.04449, -74.99288 40.04421, -74.99227 40.04368, -74.99166 40.04313, -74.99098 40.04253, -74.99094 40.04252, -74.99061 40.04237, -74.99030 40.04238, -74.98657 40.03896, -74.98764 40.03819, -74.99007 40.03643, -74.99409 40.03341, -74.99530 40.03257, -74.99620 40.03193, -74.99711 40.03129, -74.99817 40.03051, -75.00062 40.02870, -75.00198 40.02798, -75.00335 40.02726, -75.00546 40.03110, -75.00533 40.03118, -75.00522 40.03126, -75.00508 40.03134, -75.00498 40.03143, -75.00487 40.03151, -75.00471 40.03168, -75.00465 40.03178, -75.00457 40.03187, -75.00455 40.03191, -75.00456 40.03194, -75.00464 40.03202, -75.00473 40.03207, -75.00485 40.03212, -75.00497 40.03215, -75.00508 40.03216, -75.00519 40.03215, -75.00529 40.03214, -75.00548 40.03213, -75.00559 40.03210, -75.00570 40.03205, -75.00582 40.03204, -75.00592 40.03204, -75.00610 40.03220, -75.00621 40.03219, -75.00651 40.03233, -75.00694 40.03258, -75.00729 40.03289, -75.00741 40.03309, -75.00741 40.03330, -75.00728 40.03375, -75.00722 40.03412, -75.00726 40.03439, -75.00739 40.03471, -75.00766 40.03505, -75.00795 40.03534, -75.00818 40.03551, -75.00861 40.03557, -75.00928 40.03547, -75.01001 40.03522, -75.01076 40.03475, -75.01106 40.03450, -75.01119 40.03464, -75.01122 40.03471, -75.01128 40.03479, -75.01140 40.03491, -75.01148 40.03496, -75.01159 40.03503, -75.01178 40.03514, -75.01181 40.03518, -75.01222 40.03553, -75.01196 40.03621, -75.01225 40.03654, -75.01131 40.03704, -75.01195 40.03755, -75.01216 40.03772, -75.01254 40.03803))\nBlock Group 4, Census Tract 9891, Philadelphia County, Pennsylvania\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n42\n101\n989100\n4\n\n\n2\n42\n101\n989100\n3\n421019891003\nBlock Group 3\nG5030\nS\n820212\n566882\n+40.0297287\n-075.0119000\nPOLYGON ((-75.02251 40.03083, -75.02176 40.03124, -75.02157 40.03135, -75.02127 40.03152, -75.02056 40.03192, -75.01994 40.03227, -75.01984 40.03232, -75.01814 40.03327, -75.01805 40.03332, -75.01797 40.03336, -75.01787 40.03329, -75.01710 40.03270, -75.01666 40.03231, -75.01632 40.03190, -75.01611 40.03154, -75.01587 40.03125, -75.01558 40.03106, -75.01505 40.03085, -75.01464 40.03074, -75.01430 40.03070, -75.01382 40.03072, -75.01340 40.03083, -75.01294 40.03107, -75.01262 40.03139, -75.01234 40.03193, -75.01215 40.03262, -75.01198 40.03349, -75.01184 40.03380, -75.01159 40.03408, -75.01106 40.03450, -75.01076 40.03475, -75.01001 40.03522, -75.00928 40.03547, -75.00861 40.03557, -75.00818 40.03551, -75.00795 40.03534, -75.00766 40.03505, -75.00739 40.03471, -75.00726 40.03439, -75.00722 40.03412, -75.00728 40.03375, -75.00741 40.03330, -75.00741 40.03309, -75.00729 40.03289, -75.00694 40.03258, -75.00651 40.03233, -75.00621 40.03219, -75.00610 40.03220, -75.00592 40.03204, -75.00582 40.03204, -75.00570 40.03205, -75.00559 40.03210, -75.00548 40.03213, -75.00529 40.03214, -75.00519 40.03215, -75.00508 40.03216, -75.00497 40.03215, -75.00485 40.03212, -75.00473 40.03207, -75.00464 40.03202, -75.00456 40.03194, -75.00455 40.03191, -75.00457 40.03187, -75.00465 40.03178, -75.00471 40.03168, -75.00487 40.03151, -75.00498 40.03143, -75.00508 40.03134, -75.00522 40.03126, -75.00533 40.03118, -75.00546 40.03110, -75.00335 40.02726, -75.00385 40.02700, -75.01037 40.02249, -75.01242 40.02092, -75.01324 40.02030, -75.01378 40.02017, -75.01558 40.02313, -75.01977 40.02793, -75.02180 40.03026, -75.02194 40.03045, -75.02251 40.03083))\nBlock Group 3, Census Tract 9891, Philadelphia County, Pennsylvania\n939.0\n62.0\n702.0\n0.0\n6.0\n0.0\n0.0\n16.0\n153.0\n42\n101\n989100\n3\n\n\n3\n42\n101\n028300\n1\n421010283001\nBlock Group 1\nG5030\nS\n69892\n0\n+40.0299231\n-075.1408226\nPOLYGON ((-75.14202 40.02998, -75.14200 40.03005, -75.14167 40.03160, -75.14088 40.03149, -75.14010 40.03140, -75.13930 40.03129, -75.13966 40.02974, -75.13998 40.02824, -75.14076 40.02835, -75.14156 40.02845, -75.14233 40.02854, -75.14202 40.02998))\nBlock Group 1, Census Tract 283, Philadelphia County, Pennsylvania\n470.0\n0.0\n470.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n42\n101\n028300\n1\n\n\n4\n42\n101\n028400\n1\n421010284001\nBlock Group 1\nG5030\nS\n94792\n0\n+40.0293965\n-075.1380180\nPOLYGON ((-75.13966 40.02974, -75.13930 40.03129, -75.13848 40.03118, -75.13769 40.03108, -75.13725 40.03102, -75.13722 40.03102, -75.13676 40.03096, -75.13702 40.02980, -75.13703 40.02974, -75.13709 40.02941, -75.13679 40.02938, -75.13643 40.02933, -75.13616 40.02930, -75.13580 40.02925, -75.13614 40.02774, -75.13648 40.02779, -75.13676 40.02782, -75.13709 40.02787, -75.13742 40.02792, -75.13792 40.02798, -75.13837 40.02803, -75.13917 40.02814, -75.13998 40.02824, -75.13966 40.02974))\nBlock Group 1, Census Tract 284, Philadelphia County, Pennsylvania\n1300.0\n0.0\n938.0\n0.0\n334.0\n0.0\n0.0\n0.0\n28.0\n42\n101\n028400\n1\n\n\n\n\n\n\n\nWe’re done! Plot it to make sure it makes sense\nPlot the total population using geopandas.explore()…\n\nphilly_demo_final.explore(column=\"B03002_001E\", tiles=\"CartoDB positron\")\n\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\n\nNow let’s prep the data for the dot map\n\nRename columns to more user-friendly versions\nAdd a general “Other” category\n\n\n# Rename columns\nphilly_demo_final = philly_demo_final.rename(\n    columns={\n        \"B03002_001E\": \"Total\",  # Total\n        \"B03002_003E\": \"White\",  # Not Hispanic, White\n        \"B03002_004E\": \"Black\",  # Not Hispanic, Black\n        \"B03002_005E\": \"AI/AN\",  # Not Hispanic, American Indian\n        \"B03002_006E\": \"Asian\",  # Not Hispanic, Asian\n        \"B03002_007E\": \"NH/PI\",  # Not Hispanic, Native Hawaiian\n        \"B03002_008E\": \"Other_\",  # Not Hispanic, Other\n        \"B03002_009E\": \"Two Plus\",  # Not Hispanic, Two or More Races\n        \"B03002_012E\": \"Hispanic\",  # Hispanic\n    }\n)\n\n\n# Add an \"Other\" column \ncols = ['AI/AN', 'NH/PI','Other_', 'Two Plus']\nphilly_demo_final['Other'] = philly_demo_final[cols].sum(axis=1)\n\n\n\nDefine a function to create random points\nGiven a polygon, create randomly distributed points that fall within the polygon.\n\nfrom shapely.geometry import Point\n\n\ndef random_points_in_polygon(number, polygon):\n    \"\"\"\n    Generate a random number of points within the \n    specified polygon.\n    \"\"\"\n    points = []\n    min_x, min_y, max_x, max_y = polygon.bounds\n    i= 0\n    while i &lt; number:\n        point = Point(np.random.uniform(min_x, max_x), np.random.uniform(min_y, max_y))\n        if polygon.contains(point):\n            points.append(point)\n            i += 1\n    return points\n\nRandom points example\n\n# get the first block group polygon in the data set\ngeo = philly_demo_final.iloc[0].geometry\n\ngeo\n\n\n\n\n\nfig, ax = plt.subplots(figsize=(6, 6))\n\n# Generate some random points\nrandom_points = random_points_in_polygon(100, geo)\n\n# Plot random points\ngpd.GeoSeries(random_points).plot(ax=ax, markersize=20, color=\"red\")\n\n# Plot boundary of block group\ngpd.GeoSeries([geo]).plot(ax=ax, facecolor=\"none\", edgecolor=\"black\")\n\nax.set_axis_off()\n\n\n\n\n\ndef generate_dot_map(data, people_per_dot):\n    \"\"\"\n    Given a GeoDataFrame with demographic columns, generate a dot \n    map according to the population in each geometry.\n    \"\"\"\n    results = []\n    for field in [\"White\", \"Hispanic\", \"Black\", \"Asian\", \"Other\"]:\n\n        # generate random points\n        pts = data.apply(\n            lambda row: random_points_in_polygon(\n                row[field] / people_per_dot, row[\"geometry\"]\n            ),\n            axis=1,\n        )\n\n        # combine into single GeoSeries\n        pts = gpd.GeoSeries(pts.apply(pd.Series).stack(), dtype=object, crs=data[\"geometry\"].crs)\n        pts.name = \"geometry\"\n\n        # make into a GeoDataFrame\n        pts = gpd.GeoDataFrame(pts)\n        pts[\"field\"] = field\n\n        # save\n        results.append(pts)\n\n    return gpd.GeoDataFrame(pd.concat(results), crs=data[\"geometry\"].crs).reset_index(\n        drop=True\n    )\n\n\n\nCalculate the dot map\n\ndot_map = generate_dot_map(philly_demo_final, people_per_dot=50)\n\n\nprint(\"number of points = \", len(dot_map))\n\nnumber of points =  34470\n\n\n\ndot_map.tail()\n\n\n\n\n\n\n\n\ngeometry\nfield\n\n\n\n\n34465\nPOINT (-75.23781 40.06410)\nOther\n\n\n34466\nPOINT (-75.23271 40.06475)\nOther\n\n\n34467\nPOINT (-75.07932 40.03467)\nOther\n\n\n34468\nPOINT (-75.08050 40.03537)\nOther\n\n\n34469\nPOINT (-75.08110 40.03554)\nOther\n\n\n\n\n\n\n\n\n\nNow let’s plot it\n\n# setup a custom color map from ColorBrewer\nfrom matplotlib.colors import ListedColormap\n\n\ncolors = {\n    \"Black\": \"steelblue\",\n    \"White\": \"tomato\",\n    \"Hispanic\": \"khaki\",\n    \"Asian\": \"palegreen\",\n    \"Other\": \"darkgray\",\n}\n\ncmap = ListedColormap([t[1] for t in sorted(colors.items())])\n\n\n# Convert to 3857\ndot_map_3857 = dot_map.to_crs(epsg=3857)\n\n\n# Initialize the figure and axes\nfig, ax = plt.subplots(figsize=(10, 10), facecolor=\"#2a2a2a\")\n\n# Plot\ndot_map_3857.plot(\n    ax=ax,\n    column=\"field\",\n    categorical=True,\n    legend=True,\n    alpha=1,\n    markersize=0.5,\n    cmap=cmap,\n    legend_kwds=dict(labelcolor=\"white\"),\n)\n\n# format\nax.set_title(\"Philadelphia, PA\", fontsize=16, color=\"white\")\nax.text(\n    0.5,\n    0.95,\n    \"1 dot = 50 people\",\n    fontsize=12,\n    transform=ax.transAxes,\n    ha=\"center\",\n    color=\"white\",\n)\nax.set_axis_off()"
  },
  {
    "objectID": "content/week-7/lecture-7B.html#thats-it",
    "href": "content/week-7/lecture-7B.html#thats-it",
    "title": "Week 7BGetting Data, Part 2: Working with APIs",
    "section": "That’s it!",
    "text": "That’s it!\n\nNext week: working with big (1M+ rows) datasets\nSee you on Monday!"
  },
  {
    "objectID": "content/week-6/lecture-6B.html",
    "href": "content/week-6/lecture-6B.html",
    "title": "Week 6BWeb Scraping",
    "section": "",
    "text": "Section 401\nWednesday, October 11, 2023"
  },
  {
    "objectID": "content/week-6/lecture-6B.html#week-6-agenda-web-scraping",
    "href": "content/week-6/lecture-6B.html#week-6-agenda-web-scraping",
    "title": "Week 6BWeb Scraping",
    "section": "Week 6 agenda: web scraping",
    "text": "Week 6 agenda: web scraping\nLast time: - Why web scraping? - Getting familiar with the Web - Web scraping: extracting data from static sites\nToday: - Practice with web scraping - How to deal with dynamic content\n\n# Start with the usual imports\n# We'll use these throughout\nimport pandas as pd\nfrom bs4 import BeautifulSoup\nimport requests"
  },
  {
    "objectID": "content/week-6/lecture-6B.html#part-1-web-scraping-exercises",
    "href": "content/week-6/lecture-6B.html#part-1-web-scraping-exercises",
    "title": "Week 6BWeb Scraping",
    "section": "Part 1: Web scraping exercises",
    "text": "Part 1: Web scraping exercises\nFor each of the exercises, use the Web Inspector to inspect the structure of the relevant web page, and identify the HTML content you will need to scrape with Python.\n\n1. The number of votes for Cherelle Parker in the May mayoral primary\nThe relevant URL is: https://philadelphiaresults.azurewebsites.us/ResultsSW.aspx?type=MAY&map=CTY\nHint: We’re interested in just a single HTML element so you can inspect the website, identify the right element, and copy the selector for the element.\n\n# Make the request\nurl = \"https://philadelphiaresults.azurewebsites.us/ResultsSW.aspx?type=MAY&map=CTY\"\nresponse = requests.get(url)\n\n# Initialize the soup for this page\nsoup1 = BeautifulSoup(response.content, \"html.parser\")\n\n\n# Select the element holding the number of votes\nselector = \"#ctl01 &gt; div.outside-wrapper &gt; div:nth-child(16) &gt; div:nth-child(1) &gt; div.section.group.winner &gt; div.col.display-results-box-f &gt; h1\"\n\n\n# Select the element\nelement = soup1.select_one(selector)\n\n\n# Get the text of the element\nvotes_str = element.text\n\nvotes_str\n\n'81,080'\n\n\n\n# Convert to integer!\nnum_votes = int(votes_str.replace(\",\", \"\"))\n\n# Print\nprint(f\"Number of votes for Cherelle Parker = {num_votes}\")\n\nNumber of votes for Cherelle Parker = 81080\n\n\n\n\n2. How many millions of people are currently experiencing drought?\nRelevant URL: https://www.drought.gov/current-conditions\nHint: We’re interested in just a single HTML element so you can inspect the website, identify the right element, and copy the selector for the element.\n\n# Make the request\nurl = \"https://www.drought.gov/current-conditions\"\nresponse = requests.get(url)\n\n# Initialize the soup for this page\nsoup2 = BeautifulSoup(response.content, \"html.parser\")\n\n\nselector = \"#block-uswds-drought-content &gt; div &gt; div &gt; div.grid-container.grid-container--standard.padding-top-6 &gt; div:nth-child(5) &gt; div &gt; div:nth-child(3) &gt; div &gt; div &gt; div.u--color--accent.text-center.font-sans-xl.field.field--name-field-number-stat.field--type-string.field--label-hidden\"\n\n\nsoup2.select_one(selector).text\n\n'95.8 Million'\n\n\n\n\n3. Scrape the Weitzman School directory\nThe Weitzman School lists their directory of people on this page: https://www.design.upenn.edu/people/list. From this site, let’s extract out following information:\n\nThe person’s name;\ntitle, and;\nassociated department.\n\n\n\n\n\n\n\nTip\n\n\n\nThis example is similar to the Inquirer Clean Plates demo from last lecture.\nThe info we want for each person is wrapped up in a &lt;div&gt; element. You can select all of those elements, loop over each one in a “for” loop, extract the three pieces of content we want from each &lt;div&gt;, and then save the result to a list.\n\n\n\n# Make the request\nurl = \"https://www.design.upenn.edu/people/list\"\nresponse = requests.get(url)\n\n# Initialize the soup for this page\nsoup3 = BeautifulSoup(response.content, \"html.parser\")\n\n\n# Select all rows\nrows = soup3.select(\".views-row\")\n\n\nlen(rows)\n\n536\n\n\n\n# Extract out specific content from each row\nprint(rows[0].prettify())\n\n&lt;div class=\"views-row\"&gt;\n &lt;a class=\"list-item profile-item\" href=\"/graduate-admissions/people/anushka-samant\"&gt;\n  &lt;span class=\"text\"&gt;\n   &lt;span class=\"title heading-5\"&gt;\n    Anushka Samant\n   &lt;/span&gt;\n   &lt;span class=\"meta body-small\"&gt;\n    MCP '24\n   &lt;/span&gt;\n  &lt;/span&gt;\n  &lt;span class=\"dept body-subhead\"&gt;\n   Admissions\n  &lt;/span&gt;\n  &lt;span class=\"arrow\"&gt;\n   &lt;span aria-hidden=\"true\" class=\"fa fa-arrow-right\"&gt;\n   &lt;/span&gt;\n  &lt;/span&gt;\n &lt;/a&gt;\n &lt;div class=\"views-field views-field-edit-node-1 edit\"&gt;\n &lt;/div&gt;\n&lt;/div&gt;\n\n\n\n\n# Save content here\ndata = []\n\n# Loop over all rows\nfor row in rows:\n    # Person name\n    person = row.select_one(\".title\").text\n\n    # Title\n    title = row.select_one(\".meta\").text\n\n    # Deptarment\n    dept = row.select_one(\".dept\").text.strip()\n\n    data.append({\"person\": person, \"title\": title, \"dept\": dept})\n\n\ndata = pd.DataFrame(data)\n\ndata\n\n\n\n\n\n\n\n\nperson\ntitle\ndept\n\n\n\n\n0\nAnushka Samant\nMCP '24\nAdmissions\n\n\n1\nTom Abel\nExternal Faculty Collaborator\nCenter for Environmental Building & Design\n\n\n2\nMostafa Akbari\nPhD Candidate in Architecture\nArchitecture\n\n\n3\nMasoud Akbarzadeh\nAssistant Professor of Architecture\nArchitecture\n\n\n4\nScott Aker\nLecturer\nArchitecture\n\n\n...\n...\n...\n...\n\n\n531\nDr. Hao Zheng\nPhD Architecture Alum, 2023\nPhD Architecture\n\n\n532\nYefan Zhi\nPhD Student in Architecture\nArchitecture\n\n\n533\nCynthia Zhou\nAnimator Researcher//Design and Fine Arts\nPenn Animation as Research Lab\n\n\n534\nJessica Zofchak\nLecturer\nArchitecture\n\n\n535\nSyd Zolf\nArtist in Residence CPCW & GSWS, FNAR Lecturer\nFine Arts\n\n\n\n\n536 rows × 3 columns"
  },
  {
    "objectID": "content/week-6/lecture-6B.html#part-2-what-about-dynamic-content",
    "href": "content/week-6/lecture-6B.html#part-2-what-about-dynamic-content",
    "title": "Week 6BWeb Scraping",
    "section": "Part 2: What about dynamic content?",
    "text": "Part 2: What about dynamic content?\nHow do you scrape data that is loaded via Javascript or only appears after user interaction?\n\n\n\n\n\n\n\n\n\nNote: web browser needed\n\n\n\nYou’ll need a web browser installed to use selenium, e.g., FireFox, Google Chrome, Edge, etc.\n\n\n\nSelenium\n\nDesigned as a framework for testing webpages during development\nProvides an interface to interact with webpages just as a user would\nBecoming increasingly popular for web scraping dynamic content from pages\n\n\n\nTwo common use cases\nTwo cases when requests.get() won’t work:\n\nMany sites load content via javascript, so requests.get() won’t return anything. It doesn’t load any javascript on the page, just returns the static HTML content.\nIf the site requires user interaction via buttons, dropdowns, etc., then get requests won’t be able to show that information.\n\nBut how to solve them?\n\nLook on the “Network” tab for the external requests that the javascript is using to pull the data.\nSelenium to the rescue!\n\nLet’s try it out!\n\n\nExample #1: Philly’s Property App\n\nURL: https://property.phila.gov/\nLet’s see if we can extract the property assessment values for my old apartment in Fairmount\n\nProblem: We’ll need to enter an address, click a button, and THEN scrape the information.\n\n1. Initialize the web driver\nThe initialization steps will depend on which browser you want to use!\n\n# Import the webdriver from selenium\nfrom selenium import webdriver\n\n\n\n\n\n\n\nImportant: Working on Binder\n\n\n\nIf you are working on Binder, you’ll need to use FireFox in “headless” mode, which prevents a browser window from opening.\nIf you are working locally, it’s better to run with the default options — you’ll be able to see the browser window open and change as we perform the web scraping.\n\n\n\nUsing Google Chrome\n\n# UNCOMMENT BELOW TO USE CHROME\n\ndriver = webdriver.Chrome()\n\n\n\nUsing Firefox\nIf you are working on Binder, use the below code!\n\n# UNCOMMENT BELOW IF ON BINDER\n\n# options = webdriver.FirefoxOptions()\n\n# IF ON BINDER, RUN IN \"HEADLESS\" MODE (NO BROWSER WINDOW IS OPENED)\n# COMMENT THIS LINE IF WORKING LOCALLY\n# options.add_argument(\"--headless\")\n\n# Initialize\n# driver = webdriver.Firefox(options=options)\n\n\n\nUsing Microsoft Edge\n\n# UNCOMMENT BELOW TO USE MICROSOFT EDGE\n\n#driver = webdriver.Edge()\n\n\n\n\n2. Navigate to the URL\n\nurl = \"https://property.phila.gov/\"\ndriver.get(url)\n\n\n\n3. Select the address input element\nAfter it loads, let’s take a look in the web inspector. We’ll need to identify the search bar so we can input our desired address.\nIt looks like the search bar has a class of \"pvm-search-control-input\".\n\n# Use the dot syntax for class selectors\naddress_input_selector = \".pvm-search-control-input\"\n\nWe can select it directly in selenium using the driver.find_element() function and telling selenium we are using a css selector to do the selection.\n\nfrom selenium.webdriver.common.by import By\n\n\n# Select the address input by the element's CSS selector\naddress_input = driver.find_element(By.CSS_SELECTOR, address_input_selector)\n\n\n\n4. Type the address\nUse the send_keys() function to enter the text into the input element:\n\n# Input our example address\naddress_input.send_keys(\"1739 Wallace St #102\")\n\n\n\n5. Select the search button and click it\nUsing the web inspector, it looks like both the clear and search buttons have the class of \"pvm-search-control-button\". Let’s select both, choose the second button, and click it.\n\nbutton_selector = \".pvm-search-control-button\"\n\n# Get the button element\nbuttons = driver.find_elements(By.CSS_SELECTOR, button_selector)\n\n\ndelete_button, search_button = buttons\n\n\n# Click it\nsearch_button.click()\n\n\n\n6. Use BeautifulSoup to parse the results\n\nUse the page_source attribute to get the current HTML displayed on the page\nInitialize a “soup” object with the HTML\n\n\npropertySoup = BeautifulSoup(driver.page_source, \"html.parser\")\n\nFrom the web inspector, it looks like the table we want has an ID of \"ownerProperties\". Let’s select all of the elements with that ID:\n\n# Use the # for ID selector\ntable_selector = \"#ownerProperties\"\n\ntables = propertySoup.select(table_selector)\n\n\nlen(tables)\n\n2\n\n\n\n\n\n\n\n\nWatch out!\n\n\n\nWe selected by element ID, which should be unique but sometimes isn’t! Here we see that multiple tables all share the same ID on the page.\n\n\nThe table we want is the second table on the page with the ID “ownerProperties” — let’s select it.\n\ntables[1]\n\n&lt;table class=\"stack\" data-v-49670532=\"\" id=\"ownerProperties\" role=\"grid\"&gt;&lt;thead data-v-49670532=\"\"&gt;&lt;tr data-v-49670532=\"\"&gt;&lt;th class=\"\" data-v-49670532=\"\" title=\"\"&gt; Year &lt;/th&gt;&lt;th class=\"\" data-v-49670532=\"\" title=\"\"&gt; Market Value &lt;/th&gt;&lt;th class=\"\" data-v-49670532=\"\" title=\"\"&gt; Taxable Land &lt;/th&gt;&lt;th class=\"\" data-v-49670532=\"\" title=\"\"&gt; Taxable Improvement &lt;/th&gt;&lt;th class=\"\" data-v-49670532=\"\" title=\"\"&gt; Exempt Land &lt;/th&gt;&lt;th class=\"\" data-v-49670532=\"\" title=\"\"&gt; Exempt Improvement &lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody data-v-49670532=\"\"&gt;&lt;tr class=\"\" data-v-49670532=\"\" data-v-6ed23da8=\"\"&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"2024\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;2024&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;2024&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"291400\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$291,400&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$291,400&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"43700\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$43,700&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$43,700&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"247700\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$247,700&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$247,700&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=\"\" data-v-49670532=\"\" data-v-6ed23da8=\"\"&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"2023\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;2023&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;2023&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"291400\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$291,400&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$291,400&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"43700\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$43,700&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$43,700&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"247700\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$247,700&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$247,700&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=\"\" data-v-49670532=\"\" data-v-6ed23da8=\"\"&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"2022\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;2022&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;2022&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"264900\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$264,900&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$264,900&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"39735\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$39,735&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$39,735&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"225165\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$225,165&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$225,165&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=\"\" data-v-49670532=\"\" data-v-6ed23da8=\"\"&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"2021\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;2021&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;2021&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"264900\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$264,900&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$264,900&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"39735\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$39,735&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$39,735&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"225165\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$225,165&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$225,165&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=\"\" data-v-49670532=\"\" data-v-6ed23da8=\"\"&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"2020\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;2020&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;2020&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"264900\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$264,900&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$264,900&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"39735\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$39,735&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$39,735&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"225165\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$225,165&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$225,165&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=\"\" data-v-49670532=\"\" data-v-6ed23da8=\"\"&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"2019\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;2019&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;2019&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"264900\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$264,900&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$264,900&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"39735\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$39,735&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$39,735&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"185165\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$185,165&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$185,165&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"40000\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$40,000&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$40,000&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=\"\" data-v-49670532=\"\" data-v-6ed23da8=\"\"&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"2018\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;2018&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;2018&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"240800\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$240,800&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$240,800&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"38528\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$38,528&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$38,528&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"172272\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$172,272&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$172,272&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"30000\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$30,000&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$30,000&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=\"\" data-v-49670532=\"\" data-v-6ed23da8=\"\"&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"2017\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;2017&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;2017&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"240800\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$240,800&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$240,800&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"38528\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$38,528&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$38,528&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"172272\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$172,272&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$172,272&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"30000\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$30,000&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$30,000&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=\"\" data-v-49670532=\"\" data-v-6ed23da8=\"\"&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"2016\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;2016&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;2016&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"209400\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$209,400&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$209,400&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"20940\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$20,940&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$20,940&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"158460\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$158,460&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$158,460&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"30000\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$30,000&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$30,000&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=\"\" data-v-49670532=\"\" data-v-6ed23da8=\"\"&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"2015\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;2015&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;2015&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"209400\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$209,400&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$209,400&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"20940\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$20,940&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$20,940&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"158460\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$158,460&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$158,460&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$0&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"30000\"&gt;&lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;&lt;div data-v-2ca357c0=\"\"&gt;&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;$30,000&lt;/div&gt;&lt;/b&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;!-- --&gt;&lt;div data-v-6ed23da8=\"\"&gt;&lt;div data-v-6ed23da8=\"\"&gt;$30,000&lt;/div&gt;&lt;!-- --&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;!-- --&gt;&lt;/tbody&gt;&lt;/table&gt;\n\n\n\ntable = tables[1]\n\nSelect all the rows in the table (the &lt;tr&gt; elements):\n\n# Select all row (&lt;tr&gt;) elements in the table tbody\nrows = table.select(\"tbody tr\")\n\nNow, we can take a look at each &lt;tr&gt; element and extract each cell’s data in the &lt;td&gt; cell\n\nprint(rows[0].prettify())\n\n&lt;tr class=\"\" data-v-49670532=\"\" data-v-6ed23da8=\"\"&gt;\n &lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"2024\"&gt;\n  &lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;\n   &lt;div data-v-2ca357c0=\"\"&gt;\n   &lt;/div&gt;\n   &lt;!-- --&gt;\n  &lt;/div&gt;\n  &lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;\n   &lt;!-- --&gt;\n   &lt;div data-v-6ed23da8=\"\"&gt;\n    2024\n   &lt;/div&gt;\n  &lt;/b&gt;\n  &lt;div data-v-6ed23da8=\"\"&gt;\n   &lt;!-- --&gt;\n   &lt;div data-v-6ed23da8=\"\"&gt;\n    &lt;div data-v-6ed23da8=\"\"&gt;\n     2024\n    &lt;/div&gt;\n    &lt;!-- --&gt;\n   &lt;/div&gt;\n  &lt;/div&gt;\n &lt;/td&gt;\n &lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"291400\"&gt;\n  &lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;\n   &lt;div data-v-2ca357c0=\"\"&gt;\n   &lt;/div&gt;\n   &lt;!-- --&gt;\n  &lt;/div&gt;\n  &lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;\n   &lt;!-- --&gt;\n   &lt;div data-v-6ed23da8=\"\"&gt;\n    $291,400\n   &lt;/div&gt;\n  &lt;/b&gt;\n  &lt;div data-v-6ed23da8=\"\"&gt;\n   &lt;!-- --&gt;\n   &lt;div data-v-6ed23da8=\"\"&gt;\n    &lt;div data-v-6ed23da8=\"\"&gt;\n     $291,400\n    &lt;/div&gt;\n    &lt;!-- --&gt;\n   &lt;/div&gt;\n  &lt;/div&gt;\n &lt;/td&gt;\n &lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"43700\"&gt;\n  &lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;\n   &lt;div data-v-2ca357c0=\"\"&gt;\n   &lt;/div&gt;\n   &lt;!-- --&gt;\n  &lt;/div&gt;\n  &lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;\n   &lt;!-- --&gt;\n   &lt;div data-v-6ed23da8=\"\"&gt;\n    $43,700\n   &lt;/div&gt;\n  &lt;/b&gt;\n  &lt;div data-v-6ed23da8=\"\"&gt;\n   &lt;!-- --&gt;\n   &lt;div data-v-6ed23da8=\"\"&gt;\n    &lt;div data-v-6ed23da8=\"\"&gt;\n     $43,700\n    &lt;/div&gt;\n    &lt;!-- --&gt;\n   &lt;/div&gt;\n  &lt;/div&gt;\n &lt;/td&gt;\n &lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"247700\"&gt;\n  &lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;\n   &lt;div data-v-2ca357c0=\"\"&gt;\n   &lt;/div&gt;\n   &lt;!-- --&gt;\n  &lt;/div&gt;\n  &lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;\n   &lt;!-- --&gt;\n   &lt;div data-v-6ed23da8=\"\"&gt;\n    $247,700\n   &lt;/div&gt;\n  &lt;/b&gt;\n  &lt;div data-v-6ed23da8=\"\"&gt;\n   &lt;!-- --&gt;\n   &lt;div data-v-6ed23da8=\"\"&gt;\n    &lt;div data-v-6ed23da8=\"\"&gt;\n     $247,700\n    &lt;/div&gt;\n    &lt;!-- --&gt;\n   &lt;/div&gt;\n  &lt;/div&gt;\n &lt;/td&gt;\n &lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"\"&gt;\n  &lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;\n   &lt;div data-v-2ca357c0=\"\"&gt;\n   &lt;/div&gt;\n   &lt;!-- --&gt;\n  &lt;/div&gt;\n  &lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;\n   &lt;!-- --&gt;\n   &lt;div data-v-6ed23da8=\"\"&gt;\n    $0\n   &lt;/div&gt;\n  &lt;/b&gt;\n  &lt;div data-v-6ed23da8=\"\"&gt;\n   &lt;!-- --&gt;\n   &lt;div data-v-6ed23da8=\"\"&gt;\n    &lt;div data-v-6ed23da8=\"\"&gt;\n     $0\n    &lt;/div&gt;\n    &lt;!-- --&gt;\n   &lt;/div&gt;\n  &lt;/div&gt;\n &lt;/td&gt;\n &lt;td class=\"\" data-v-6ed23da8=\"\" sorttable_customkey=\"\"&gt;\n  &lt;div data-v-2ca357c0=\"\" data-v-6ed23da8=\"\"&gt;\n   &lt;div data-v-2ca357c0=\"\"&gt;\n   &lt;/div&gt;\n   &lt;!-- --&gt;\n  &lt;/div&gt;\n  &lt;b data-v-6ed23da8=\"\" style=\"display: none;\"&gt;\n   &lt;!-- --&gt;\n   &lt;div data-v-6ed23da8=\"\"&gt;\n    $0\n   &lt;/div&gt;\n  &lt;/b&gt;\n  &lt;div data-v-6ed23da8=\"\"&gt;\n   &lt;!-- --&gt;\n   &lt;div data-v-6ed23da8=\"\"&gt;\n    &lt;div data-v-6ed23da8=\"\"&gt;\n     $0\n    &lt;/div&gt;\n    &lt;!-- --&gt;\n   &lt;/div&gt;\n  &lt;/div&gt;\n &lt;/td&gt;\n&lt;/tr&gt;\n\n\n\nIt looks like the content for each cell is inside a &lt;b&gt; tag inside a &lt;td&gt; cell:\n\n# Empty list to store scraped data\nscraped_data = []\n\n# Loop over all rows\nfor row in rows:\n    #\n    # Create a list for each cell in this particular row\n    row_data = [cell.text for cell in row.select(\"td b\")]\n\n    # Save it\n    scraped_data.append(row_data)\n\nscraped_data\n\n[['2024', '$291,400', '$43,700', '$247,700', '$0', '$0'],\n ['2023', '$291,400', '$43,700', '$247,700', '$0', '$0'],\n ['2022', '$264,900', '$39,735', '$225,165', '$0', '$0'],\n ['2021', '$264,900', '$39,735', '$225,165', '$0', '$0'],\n ['2020', '$264,900', '$39,735', '$225,165', '$0', '$0'],\n ['2019', '$264,900', '$39,735', '$185,165', '$0', '$40,000'],\n ['2018', '$240,800', '$38,528', '$172,272', '$0', '$30,000'],\n ['2017', '$240,800', '$38,528', '$172,272', '$0', '$30,000'],\n ['2016', '$209,400', '$20,940', '$158,460', '$0', '$30,000'],\n ['2015', '$209,400', '$20,940', '$158,460', '$0', '$30,000']]\n\n\nMake it into a DataFrame:\n\nassessments = pd.DataFrame(\n    scraped_data,\n    columns=[\n        \"Year\",\n        \"Market Value\",\n        \"Taxable Land\",\n        \"Taxable Improvement\",\n        \"Exempt Land\",\n        \"Exempt Improvement\",\n    ],\n)\n\nassessments\n\n\n\n\n\n\n\n\nYear\nMarket Value\nTaxable Land\nTaxable Improvement\nExempt Land\nExempt Improvement\n\n\n\n\n0\n2024\n$291,400\n$43,700\n$247,700\n$0\n$0\n\n\n1\n2023\n$291,400\n$43,700\n$247,700\n$0\n$0\n\n\n2\n2022\n$264,900\n$39,735\n$225,165\n$0\n$0\n\n\n3\n2021\n$264,900\n$39,735\n$225,165\n$0\n$0\n\n\n4\n2020\n$264,900\n$39,735\n$225,165\n$0\n$0\n\n\n5\n2019\n$264,900\n$39,735\n$185,165\n$0\n$40,000\n\n\n6\n2018\n$240,800\n$38,528\n$172,272\n$0\n$30,000\n\n\n7\n2017\n$240,800\n$38,528\n$172,272\n$0\n$30,000\n\n\n8\n2016\n$209,400\n$20,940\n$158,460\n$0\n$30,000\n\n\n9\n2015\n$209,400\n$20,940\n$158,460\n$0\n$30,000\n\n\n\n\n\n\n\nSuccess!\n\n\n\nExample #2: Scraping the Philadelphia Municipal Courts portal\n\nURL: https://ujsportal.pacourts.us/CaseSearch\nGiven a Police incident number, we’ll see if there is an associated court case with the incident\n\nProblem: we’ll need to click several buttons before we can see the info we want!\n\n\nRun the scraping analysis\nStrategy:\n\nRely on the Web Inspector to identify specific elements of the webpage\nUse Selenium to interact with the webpage\n\nChange dropdown elements\nClick buttons\n\n\n\n1. Open the URL\n\n# Open the URL\nurl = \"https://ujsportal.pacourts.us/CaseSearch\"\ndriver.get(url)\n\n\n\n2. Create a dropdown “Select” element\nWe’ll need to: - Select the dropdown element on the main page by its ID - Initialize a selenium Select() object\n\n# Use the Web Inspector to get the css selector of the dropdown select element\ndropdown_selector = \"#SearchBy-Control &gt; select\" \n\n\n# Select the dropdown by the element's CSS selector\ndropdown = driver.find_element(By.CSS_SELECTOR, dropdown_selector)\n\nCreate the Select object:\n\nfrom selenium.webdriver.support.ui import Select\n\n# Initialize a Select object\ndropdown_select = Select(dropdown)\n\n\n\n3. Change the selected text in the dropdown\nChange the selected element: “Police Incident/Complaint Number”\n\n# Set the selected text in the dropdown element\ndropdown_select.select_by_visible_text(\"Incident Number\")\n\n\n\n4. Set the incident number\n\n# Get the input element for the DC number\nincident_input_selector = \"#IncidentNumber-Control &gt; input[type=text]\" \nincident_input = driver.find_element(By.CSS_SELECTOR, incident_input_selector)\n\n\n# Clear any existing entry\nincident_input.clear()\n\n# Input our example incident number\nincident_input.send_keys(\"1725088232\")\n\n\n\n5. Click the search button!\n\n# Submit the search\nsearch_button_selector = \"#btnSearch\"\nsearch_button = driver.find_element(By.CSS_SELECTOR, search_button_selector)\nsearch_button.click()\n\n\n\n6. Use BeautifulSoup to parse the results\n\nUse the page_source attribute to get the current HTML displayed on the page\nInitialize a “soup” object with the HTML\n\n\ncourtsSoup = BeautifulSoup(driver.page_source, \"html.parser\")\n\nNow we can: - Identify the element holding all of the results - Within this container, find the &lt;table&gt; element and each &lt;tr&gt; element within the table\n\n# Select the results container by its ID \nresults_table = courtsSoup.select_one(\"#caseSearchResultGrid\")\n\n\n# Get all of the &lt;tr&gt; rows inside the tbody element \n# NOTE: we using nested selections here!\nresults_rows = results_table.select(\"tbody &gt; tr\")\n\nExample: The number of court cases\n\n# Number of court cases\nnumber_of_cases = len(results_rows)\nprint(f\"Number of courts cases: {number_of_cases}\")\n\nNumber of courts cases: 2\n\n\nExample: Extract the text elements from the first row of the results\n\nfirst_row = results_rows[0]\n\n\nprint(first_row.prettify())\n\n&lt;tr class=\"slide-active\"&gt;\n &lt;td class=\"display-none\"&gt;\n  1\n &lt;/td&gt;\n &lt;td class=\"display-none\"&gt;\n  0\n &lt;/td&gt;\n &lt;td&gt;\n  MC-51-CR-0030672-2017\n &lt;/td&gt;\n &lt;td&gt;\n  Common Pleas\n &lt;/td&gt;\n &lt;td&gt;\n  Comm. v. Velquez, Victor\n &lt;/td&gt;\n &lt;td&gt;\n  Closed\n &lt;/td&gt;\n &lt;td&gt;\n  10/13/2017\n &lt;/td&gt;\n &lt;td&gt;\n  Velquez, Victor\n &lt;/td&gt;\n &lt;td&gt;\n  09/05/1974\n &lt;/td&gt;\n &lt;td&gt;\n  Philadelphia\n &lt;/td&gt;\n &lt;td&gt;\n  MC-01-51-Crim\n &lt;/td&gt;\n &lt;td&gt;\n  U0981035\n &lt;/td&gt;\n &lt;td&gt;\n  1725088232-0030672\n &lt;/td&gt;\n &lt;td&gt;\n  1725088232\n &lt;/td&gt;\n &lt;td class=\"display-none\"&gt;\n &lt;/td&gt;\n &lt;td class=\"display-none\"&gt;\n &lt;/td&gt;\n &lt;td class=\"display-none\"&gt;\n &lt;/td&gt;\n &lt;td class=\"display-none\"&gt;\n &lt;/td&gt;\n &lt;td&gt;\n  &lt;div class=\"grid inline-block\"&gt;\n   &lt;div&gt;\n    &lt;div class=\"inline-block\"&gt;\n     &lt;a class=\"icon-wrapper\" href=\"/Report/CpDocketSheet?docketNumber=MC-51-CR-0030672-2017&amp;dnh=%2FGgePQykMpAymRENgxLBzg%3D%3D\" target=\"_blank\"&gt;\n      &lt;img alt=\"Docket Sheet\" class=\"icon-size\" src=\"https://ujsportal.pacourts.us/resource/Images/svg-defs.svg?v=qJ77ypOpzSMFk7r1gsI6H0xjdteha_ZIjvGslGgQV2M#icon-document-letter-D\" title=\"Docket Sheet\"/&gt;\n      &lt;label class=\"link-text\"&gt;\n       Docket Sheet\n      &lt;/label&gt;\n     &lt;/a&gt;\n    &lt;/div&gt;\n   &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"grid inline-block\"&gt;\n   &lt;div&gt;\n    &lt;div class=\"inline-block\"&gt;\n     &lt;a class=\"icon-wrapper\" href=\"/Report/CpCourtSummary?docketNumber=MC-51-CR-0030672-2017&amp;dnh=%2FGgePQykMpAymRENgxLBzg%3D%3D\" target=\"_blank\"&gt;\n      &lt;img alt=\"Court Summary\" class=\"icon-size\" src=\"https://ujsportal.pacourts.us/resource/Images/svg-defs.svg?v=qJ77ypOpzSMFk7r1gsI6H0xjdteha_ZIjvGslGgQV2M#icon-court-summary\" title=\"Court Summary\"/&gt;\n      &lt;label class=\"link-text\"&gt;\n       Court Summary\n      &lt;/label&gt;\n     &lt;/a&gt;\n    &lt;/div&gt;\n   &lt;/div&gt;\n  &lt;/div&gt;\n &lt;/td&gt;\n&lt;/tr&gt;\n\n\n\n\n# Extract out all of the \"&lt;td&gt;\" cells from the first row\ntd_cells = first_row.select(\"td\")\n\n# Loop over each &lt;td&gt; cell\nfor cell in td_cells:\n    \n    # Extract out the text from the &lt;td&gt; element\n    text = cell.text\n    \n    # Print out text\n    if text != \"\":\n        print(text)\n\n1\n0\nMC-51-CR-0030672-2017\nCommon Pleas\nComm. v. Velquez, Victor\nClosed\n10/13/2017\nVelquez, Victor\n09/05/1974\nPhiladelphia\nMC-01-51-Crim\nU0981035\n1725088232-0030672\n1725088232\nDocket SheetCourt Summary\n\n\n\n\n7. Close the driver!\n\ndriver.close()"
  },
  {
    "objectID": "content/week-6/lecture-6B.html#thats-it",
    "href": "content/week-6/lecture-6B.html#thats-it",
    "title": "Week 6BWeb Scraping",
    "section": "That’s it!",
    "text": "That’s it!\n\nNext week: Part 2 of “getting data” with APIs\nSee you on Monday!"
  },
  {
    "objectID": "content/week-1/index.html",
    "href": "content/week-1/index.html",
    "title": "Week 1: Exploratory Data Science in Python",
    "section": "",
    "text": "Content for lectures 1A and 1B\n\n\n        \n            \n             \n            View materials:\n             \n            MUSA-550-Fall-2023/week-1\n        \n\n        \n            \n             \n            HTML slides:\n             \n            \n                Lecture 1A\n            \n             \n            \n                Lecture 1B\n            \n        \n        \n\n        \n            \n             \n            Executable slides:\n             \n            \n                Lecture 1A\n            \n             \n            \n                Lecture 1B"
  },
  {
    "objectID": "content/week-1/index.html#topics",
    "href": "content/week-1/index.html#topics",
    "title": "Week 1: Exploratory Data Science in Python",
    "section": "Topics",
    "text": "Topics\n\nCourse Logistics\nUsing Jupyter Notebooks\nIntroduction to Pandas"
  },
  {
    "objectID": "content/week-1/index.html#initial-survey",
    "href": "content/week-1/index.html#initial-survey",
    "title": "Week 1: Exploratory Data Science in Python",
    "section": "Initial Survey",
    "text": "Initial Survey\nPlease fill out this anonymous survey for some initial feedback:\nhttps://bit.ly/musa550-initial-feedback"
  },
  {
    "objectID": "content/week-1/index.html#recommended-readings",
    "href": "content/week-1/index.html#recommended-readings",
    "title": "Week 1: Exploratory Data Science in Python",
    "section": "Recommended Readings",
    "text": "Recommended Readings\n\nCourse syllabus\nGuide for installing Python and initial set up\nGuide for mamba/conda\n\nCheck out this 20-minute guide on the conda docs\n\nGuide for Jupyter notebooks and JupyterLab\n\nGood readings on the Jupyter docs include:\n\nStarting JupyterLab\nThe JupyterLab interface\nThe structure of a notebook document\nThe notebook workflow\nWorking with notebooks in JupyterLab\nWorking with files\n\n\nRecommended tutorial for students with little Python background: Practical Python Programming\n\n\nPython tutorials & DataCamp access\nA number of Python resources are listed on the course website. In particular, DataCamp is providing 6 months of complimentary access to its courses for students in MUSA 550. Whether you have experience with Python or not, this is a great opportunity to learn the basics of Python and practice your skills.\nIt is strongly recommended that you watch some or all of the introductory videos below to build a stronger Python foundation for the semester. The more advanced, intermediate courses are also great — the more the merrier!\nCheck out the resources page for more information, including how to sign up."
  },
  {
    "objectID": "content/week-1/index.html#additional-materials",
    "href": "content/week-1/index.html#additional-materials",
    "title": "Week 1: Exploratory Data Science in Python",
    "section": "Additional materials",
    "text": "Additional materials\n\nDocumentation\n\nGit and GitHub:\n\nSetting up git\nManaging files on GitHub\n\nConda user guide\nJupyter notebook\nGuide to Markdown in notebook cells\nBinder Documentation\npandas documentation\nmatplotlib documentation\n\n\n\nReadings/reference\n\nStackOverflow: The Incredible Growth of Python\n2015 Funding Proposal for the Jupyter Notebook\nA history of Jupyter Notebooks by its founder\nGoogle’s Colab\nTidy Data\nJoining Datasets\nZIllow Data\nIntroduction to writing your first Python program\nVisual Studio Code"
  },
  {
    "objectID": "content/week-1/lecture-1A.html",
    "href": "content/week-1/lecture-1A.html",
    "title": "Welcome to MUSA 550:Geospatial Data Science in Python",
    "section": "",
    "text": "Section 401\nAug. 30, 2023"
  },
  {
    "objectID": "content/week-1/lecture-1A.html#today",
    "href": "content/week-1/lecture-1A.html#today",
    "title": "Welcome to MUSA 550:Geospatial Data Science in Python",
    "section": "Today",
    "text": "Today\n\nCourse logistics\nUsing Jupyter Notebooks and Jupyter Lab\nIntroduction to Python & Pandas"
  },
  {
    "objectID": "content/week-1/lecture-1A.html#who-am-i",
    "href": "content/week-1/lecture-1A.html#who-am-i",
    "title": "Welcome to MUSA 550:Geospatial Data Science in Python",
    "section": "Who am I?",
    "text": "Who am I?\n\nMy day job\n\nMy name is Nick Hand\nFor the past 5+ years, I have led a small data science team in the City Controller’s Office\nWhat did we do?:\n\nObjective, data-driven analysis of financial policies impacting Philadelphia\nIncreasing transparency through data releases and interactive reports\n\nIn two weeks, I start as a data scientist working at the Consumer Finance Protection Bureau in the federal government\n\nIn my time at the Controller’s Office, we covered a range of policy issues in the city:\n\nAnalysis of the fairness and accuracy of property assessments\nInteractive reports for the City’s cash levels\nAnalysis of the 10-Year Tax Abatement program\nInteractive dashboard of Soda Tax spending\nVisualization of paving & potholes\nSeries on the impact of COVID-19 on Philadelphia’s small businesses and neighborhoods\nVisualization of the City’s most recent budget\nInteractive report on redlining in Philadelphia\nAnalysis of the impact of gun violence on housing prices\nInteractive dashboard of shooting victims in Philadelphia\nInteractive dashboard of neighborhood well-being\n\n\n\n\n\n\n\n\nNote\n\n\n\nTo see more of our work, check out: https://controller.phila.gov/policy-analysis\n\n\n\n\nPreviously:Astrophysics Ph.D. at Berkeley\n\n\n\n\n\n\n\nHow did I get here?\n\nAstrophysics/physics to data science is becoming increasingly common\nLanded a job through Twitter: https://www.parkingjawn.com\n\nDashboard visualization of monthly parking tickets in Philadelphia\nData from OpenDataPhilly\n\n\n\nA nice example of how exploratory analysis + a well-designed dashbord can lead to insights: - The power of cross-filtering: different views of the same data across multiple dimensions - See drop in parking tickets over Jan 24-26, 2016 due to snowstorm\nParking Jawn is not Python based, but dovetails nicely with one of the main goals of the course: &gt; How can we effectively explore and extract insight from complex datasets?"
  },
  {
    "objectID": "content/week-1/lecture-1A.html#course-logistics",
    "href": "content/week-1/lecture-1A.html#course-logistics",
    "title": "Welcome to MUSA 550:Geospatial Data Science in Python",
    "section": "Course logistics",
    "text": "Course logistics\n\nGeneral Info\n\nTwo 90-minute lectures per week — mix of lecturing, interactive demos, and in-class lab time\nMy email: nhand@design.upenn.edu\n\nOffice Hours:\n\n2-hours during the week\nOffice hours will be by appointment and remote via Zoom. You will be able to sign up for 1 (or more) 15-minute time slot via the Canvas calendar.\nTime is to be determined\n\n\nTeaching Assistant: Teresa Chang\n\nEmail: thchang@design.upenn.edu\nOffice hours: TBD\n\n\n\n\nCourse Websites\nCourse has four websites (sorry!). They are:\n\nMain Course: https://musa-550-fall-2023.github.io\nGithub: https://github.com/MUSA-550-Fall-2023\nCanvas: https://canvas.upenn.edu/courses/1740535\nEd Discussion: https://edstem.org/us/courses/42616/discussion/\n\nEach will have its own purpose:\n\nMain course website\n\nCourse schedule with links to weekly slides\nResources for learning Python, setting up software, and dealing with common issues\nGeneral course info and policies\nQuick links to the other websites for the course\n\n\n\nGithub\n\nGithub organization set up for the course\nEach week and assignment will have its own Github repository\nAssignments will also be submitted through Github\n\n\n\nCanvas\n\nWill be used sign up for remote office hours and provide Zoom links for office hours\nGrading will also be tracked here\n\n\n\nEd Discussion\n\nWill be used for question & answer forum for course materials and assignments\nAnnouncements will also be made here so make sure you check frequently or turn on your notifications!\nMain method of communication will be through announcements on this site\nParticipation grade (5% of total grade) will also be determined by user activity on the forum"
  },
  {
    "objectID": "content/week-1/lecture-1A.html#main-course-website-1",
    "href": "content/week-1/lecture-1A.html#main-course-website-1",
    "title": "Welcome to MUSA 550:Geospatial Data Science in Python",
    "section": "Main course website",
    "text": "Main course website\n\n  \n\n\nHighlights\n\nSyllabus\nSchedule\nResources & Guides:\n\nPython resources\nInitial installation guide\n\nWeekly content\nAssignments\nQuick links to Canvas, Ed Discussion, GitHub homepage"
  },
  {
    "objectID": "content/week-1/lecture-1A.html#course-github",
    "href": "content/week-1/lecture-1A.html#course-github",
    "title": "Welcome to MUSA 550:Geospatial Data Science in Python",
    "section": "Course Github",
    "text": "Course Github"
  },
  {
    "objectID": "content/week-1/lecture-1A.html#the-goals-of-this-course",
    "href": "content/week-1/lecture-1A.html#the-goals-of-this-course",
    "title": "Welcome to MUSA 550:Geospatial Data Science in Python",
    "section": "The goals of this course",
    "text": "The goals of this course\n\nProvide students with the knowledge and tools to turn data into meaningful insights and stories\nFocus on the modern data science tools within the Python ecosystem\nThe pipeline approach to data science:\n\ngathering, storing, analyzing, and visualizing data to tell stories\n\nReal-world applications of analysis techniques in the urban planning and public policy realm"
  },
  {
    "objectID": "content/week-1/lecture-1A.html#what-well-cover",
    "href": "content/week-1/lecture-1A.html#what-well-cover",
    "title": "Welcome to MUSA 550:Geospatial Data Science in Python",
    "section": "What we’ll cover",
    "text": "What we’ll cover\n\nModule 1\nExploratory Data Science: Students will be introduced to the main tools needed to get started analyzing and visualizing data using Python\n\n\nModule 2\nIntroduction to Geospatial Data Science: Building on the previous set of tools, this module will teach students how to work with geospatial datasets using a range of modern Python toolkits.\n\n\nModule 3\nData Ingestion & Big Data: Students will learn how to collect new data through web scraping and APIs, as well as how to work effectively with the large datasets often encountered in real-world applications.\n\n\nModule 4\nFrom Exploration to Storytelling: With a solid foundation, students will learn the latest tools to present their analysis results using web-based formats to transform their insights into interactive stories.\n\n\nModule 5\nGeospatial Data Science in the Wild: Armed with the necessary data science tools, the final module introduces a range of advanced analytic and machine learning techniques using a number of innovative examples from modern researchers."
  },
  {
    "objectID": "content/week-1/lecture-1A.html#assignments-and-grading",
    "href": "content/week-1/lecture-1A.html#assignments-and-grading",
    "title": "Welcome to MUSA 550:Geospatial Data Science in Python",
    "section": "Assignments and grading",
    "text": "Assignments and grading\n\nGrading:\n\n50% homework\n45% final project\n5% participation (based on class and Ed Discussion participation)\n\nWhile you are required to submit all six assignments, the assignment with the lowest grade will not count towards your final grade.\nThere’s no penalty for late assignments. I would highly recommend staying caught up on lectures and assignments as much as possible, but if you need to turn something in a few days late, there won’t be a penalty.\n\nNote: Homeworks will be assigned (roughly) every two and a half weeks."
  },
  {
    "objectID": "content/week-1/lecture-1A.html#the-course-schedule",
    "href": "content/week-1/lecture-1A.html#the-course-schedule",
    "title": "Welcome to MUSA 550:Geospatial Data Science in Python",
    "section": "The course schedule",
    "text": "The course schedule\nCheck out the schedule page for the most up-to-date details on lectures, assignment due dates, etc."
  },
  {
    "objectID": "content/week-1/lecture-1A.html#final-project",
    "href": "content/week-1/lecture-1A.html#final-project",
    "title": "Welcome to MUSA 550:Geospatial Data Science in Python",
    "section": "Final project",
    "text": "Final project\nThe final project is to replicate the pipeline approach on a dataset (or datasets) of your choosing.\nStudents will be required to use several of the analysis techniques taught in the class and produce a web-based data visualization that effectively communicates the empirical results to a non-technical audience.\nMore info will be posted here: https://github.com/MUSA-550-Fall-2023/final-project"
  },
  {
    "objectID": "content/week-1/lecture-1A.html#any-questions-so-far",
    "href": "content/week-1/lecture-1A.html#any-questions-so-far",
    "title": "Welcome to MUSA 550:Geospatial Data Science in Python",
    "section": "Any questions so far?",
    "text": "Any questions so far?"
  },
  {
    "objectID": "content/week-1/lecture-1A.html#initial-surveys",
    "href": "content/week-1/lecture-1A.html#initial-surveys",
    "title": "Welcome to MUSA 550:Geospatial Data Science in Python",
    "section": "Initial surveys",
    "text": "Initial surveys\nRoll call: https://bit.ly/musa550-roll-call\nSome initial feedback: https://bit.ly/musa550-initial-feedback"
  },
  {
    "objectID": "content/week-1/lecture-1A.html#the-incredible-growth-of-python",
    "href": "content/week-1/lecture-1A.html#the-incredible-growth-of-python",
    "title": "Welcome to MUSA 550:Geospatial Data Science in Python",
    "section": "The Incredible Growth of Python",
    "text": "The Incredible Growth of Python\nSource: A 2017 analysis of StackOverflow posts"
  },
  {
    "objectID": "content/week-1/lecture-1A.html#the-rise-of-the-jupyter-notebook",
    "href": "content/week-1/lecture-1A.html#the-rise-of-the-jupyter-notebook",
    "title": "Welcome to MUSA 550:Geospatial Data Science in Python",
    "section": "The rise of the Jupyter notebook",
    "text": "The rise of the Jupyter notebook\n\nThe engine of collaborative data science\n\nFirst started by a physics grad student around 2001\nKnown as the IPython notebook originally\nStarting getting popular in ~2011\nFirst funding received in 2015 — the Jupyter notebook was born\n\n\n\nGoogle searches for Jupyter notebook\n\n\n\nKey features\n\nAimed at “computational narratives” — telling stories with data\nInteractive, reproducible, shareable, user-friendly, visualization-focused\nFully open-source and managed by the community\n\nVery versatile: good for both exploratory data analysis and polished finished products\n\n\n\n\n\n\nImportant\n\n\n\nThe lecture slides in the course will all be Jupyter notebooks. The preferred interface for editing and executing them will be JupyterLab. That’s what I’m using now!\n\n\n\n\n\n\n\n\nTip\n\n\n\nFor more info on Jupyter notebooks and JupyterLab, check out the guide on the course website.\nIn particulary, I strongly encourage you to go through the official documentation for JupyterLab and Jupyter notebooks:\n\nStarting JupyterLab\nThe JupyterLab interface\nThe structure of a notebook document\nThe notebook workflow\nWorking with notebooks in JupyterLab\nWorking with files"
  },
  {
    "objectID": "content/week-1/lecture-1A.html#beyond-the-jupyter-notebook",
    "href": "content/week-1/lecture-1A.html#beyond-the-jupyter-notebook",
    "title": "Welcome to MUSA 550:Geospatial Data Science in Python",
    "section": "Beyond the Jupyter notebook",
    "text": "Beyond the Jupyter notebook\nGoogle Colab is the most popular alternative to Jupyter notebooks.\n\n\nA fancier notebook experience built on top of Jupyter notebook\nRunning in the cloud on Google’s servers\nAn internal Google product that was released publicly\nVery popular for Python-based machine learning, since it provides low-barrier access to GPU resources which can be very helpful for training machine learning models\nWe’ll focus on the open-source Jupyter notebook as the foundation for this course\n\nSee, for example: https://colab.research.google.com/notebooks/welcome.ipynb"
  },
  {
    "objectID": "content/week-1/lecture-1A.html#the-binder-service",
    "href": "content/week-1/lecture-1A.html#the-binder-service",
    "title": "Welcome to MUSA 550:Geospatial Data Science in Python",
    "section": "The Binder service",
    "text": "The Binder service\nhttps://mybinder.org\n\n\nA free, open-source service, supported by donors\nAllows you to launch a repository of Jupyter notebooks on GitHub in an executable environment in the cloud\nAmazing if you want to make your code immediately reproducible by anyone, anywhere.\nNote: as a free service, it can be a bit slow sometimes"
  },
  {
    "objectID": "content/week-1/lecture-1A.html#class-lectures",
    "href": "content/week-1/lecture-1A.html#class-lectures",
    "title": "Welcome to MUSA 550:Geospatial Data Science in Python",
    "section": "Class lectures",
    "text": "Class lectures\nWeekly lectures are available on Binder! In the README for each week’s repository on GitHub, you will see badges to launch the lecture slides on Binder.\n\n\n\n\nYou can also access these links from the content section of the course website. For example, here is:\nhttps://musa-550-fall-2023.github.io/content/week-1/\n\n\n\n\n\n\n\n\n\nSuggested weekly workflow\n\n\n\n\nSet up local Python environment as part of first homework assignment\nEach week, you will have two options to follow along with lectures:\n\nUsing Binder in the cloud, launching via the button on the week’s repository\nDownload the week’s repository to your laptop and launch the notebook locally\n\nWork on homeworks locally on your laptop — Binder is only a temporary environment (no save features)\n\n\n\nCheck out the content overview page on the main course website for more info!"
  },
  {
    "objectID": "content/week-1/lecture-1A.html#now-to-the-fun-stuff",
    "href": "content/week-1/lecture-1A.html#now-to-the-fun-stuff",
    "title": "Welcome to MUSA 550:Geospatial Data Science in Python",
    "section": "Now to the fun stuff…",
    "text": "Now to the fun stuff…\nJupyter notebooks are a mix of code cells and text cells in Markdown. You can change the type of cell in the top menu bar.\nThis cell is a Markdown cell.\n\n# Comments begin with a \"#\" character in Python\n# A simple code cell\n# SHIFT-ENTER to execute\n\n\nx = 10\nprint(x)\n\n10\n\n\n\nPython data types\n\n# integer\na = 10\n\n# float\nb = 10.5\n\n# string\nc = \"this is a test string\"\n\n# lists\nd = list(range(0, 10))\n\n# booleans\ne = False\n\n# dictionaries\nf = {\"key1\": 1, \"key2\": 2}\n\n\nprint(a)\nprint(b)\nprint(c)\nprint(d)\nprint(e)\nprint(f)\n\n10\n10.5\nthis is a test string\n[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\nFalse\n{'key1': 1, 'key2': 2}\n\n\n\n\n\n\n\n\nNote\n\n\n\nUnlike R, you’ll need to use quotes more often in Python, particularly around strings and keys of dictionaries.\n\n\n\n\nAlternative method for creating a dictionary\nWe can use the dict() function, which is built in to the Python language. More on functions in a bit…\n\nf = dict(key1=1, key2=2, key3=3)\n\nf\n\n{'key1': 1, 'key2': 2, 'key3': 3}\n\n\n\n\nAccessing dictionary values\n\n# Access the value with key 'key1'\nf['key1']\n\n1\n\n\n\n\nAccessing list values\n\nd\n\n[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\n\n\n\n# Access the second list entry (0 is the first index)\nd[0]  \n\n0\n\n\n\n\nAccessing characters of a string\n\nc\n\n'this is a test string'\n\n\n\n# the first character\nc[0]\n\n't'\n\n\n\n\nIterators and for loops\n\n\n\n\n\n\nImportant\n\n\n\nBe sure to use the right indentation in for loops!\n\n\n\n# Variable that will track the sum\nresult_sum = 0\n\n# Variable i takes on values [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\nfor i in range(0, 10):\n        \n    # Indented, so it runs for each iteration of the loop\n    print(i)\n\n    result_sum = result_sum + i\n\n0\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\nprint(result_sum)\n\n45\n\n\n\n\nPython’s inline syntax\n\na = range(0, 10) # this is an iterator\n\n\nprint(a)\n\nrange(0, 10)\n\n\nUse the list() function to iterate over it and make it into a list:\n\n# convert it to a list explicitly\na = list(range(10))\n\n# Output it from the cell\na\n\n[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\n\n\n\n# or use the INLINE syntax; this is the SAME\na = [i for i in range(10)]\n\na\n\n[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\n\n\n\n\nPython functions\ndef function_name(arg1, arg2, arg3):\n    \n    .\n    .\n    .\n    code lines (indented)\n    .\n    .\n    .\n    \n    return result\n\ndef compute_square(x):\n    \n    sq = x * x\n    return sq\n\n\nsq = compute_square(10)\nprint(sq)\n\n100\n\n\n\n\nKeywords: arguments with a default!\n\ndef compute_product(x, y=5):\n    return x * y\n\n\n# use the default value for y\nprint(compute_product(3))\n\n15\n\n\n\n# specify a y value other than the default\nprint(compute_product(5, 10))\n\n50\n\n\n\n# can also explicitly tell Python which arguments are which\nprint(compute_product(5, y=2))\nprint(compute_product(y=2, x=5))\n\n10\n10\n\n\n\nprint(compute_product(x=5, y=4))\n\n20\n\n\n\n# argument names must match the function signature though!\nprint(compute_product(x=5, z=5))\n\nTypeError: compute_product() got an unexpected keyword argument 'z'\n\n\n\n\nGetting help in the notebook\nUse tab auto-completion and the ? and ?? operators\n\nthis_variable_has_a_long_name = 5\n\n\n# try hitting tab after typing this_ \nthis_variable_has_a_long_name\n\n\n# Forget how to create a range? --&gt; use the help message\nrange?\n\n\n\nPeeking at the source code for a function\nUse the ?? operator\n\n# Lets re-define compute_product() and add a docstring between \"\"\" \"\"\"\ndef compute_product(x, y=5):\n    \"\"\"\n    This computes the product of x and y\n    \n    \n    This is all part of the comment.\n    \"\"\"\n    return x * y\n\n\ncompute_product??\n\n\n\n\n\n\n\nNote\n\n\n\nThe question mark operator gives you access to the help message for any variable or function.\nI use this frequently and it is a great way to understand what a function actually does.\n\n\n\n\nThe JupyterLab Debugger\nYou can enable Debugging mode in JupyterLab by clicking on the “bug” icon in the top right:\n\nThis should open the Debugger panel on the right side of JupyterLab. One of the most useful parts of this panel is the “Variables” section, which gives you the current values of all defined variables in the notebook.\n\n\n\n\n\n\n\nTip\n\n\n\nFor more information on the debugger, see the JupyterLab docs."
  },
  {
    "objectID": "content/week-1/lecture-1A.html#getting-more-python-help",
    "href": "content/week-1/lecture-1A.html#getting-more-python-help",
    "title": "Welcome to MUSA 550:Geospatial Data Science in Python",
    "section": "Getting more Python help",
    "text": "Getting more Python help\nThis was a very brief introduction to Python and Python syntax. We’ll continue practicing and reinforcing the proper syntax throughout the next few weeks, but it can definitely be frustrating. Hang in there!\n\n\n\n\n\n\nImportant: DataCamp Tutorials\n\n\n\nDataCamp is providing 6 months of complimentary access to its courses for students in MUSA 550. Whether you have experience with Python or not, this is a great opportunity to learn the basics of Python and practice your skills.\nIt is strongly recommended that you watch some or all of the introductory videos below to build a stronger Python foundation for the semester. The more advanced, intermediate courses are also great — the more the merrier!\nFor more info, including how to sign up, check out the resources section of the website.\n\n\nAdditional Python resources are listed on our course website under “Resources”\nhttps://musa-550-fall-2023.github.io/resource/python.html\nIn addition to the DataCamp videos, there are links to lots of online tutorials:\n\nIntroductory level tutorials\nMore in depth tutorials\nThe r/learnpython subreddit has a great wiki of resources\nThe Berkeley Institute for Data Science has also compiled a number of Python resources"
  },
  {
    "objectID": "content/week-1/lecture-1A.html#one-more-thing-working-outside-the-notebook",
    "href": "content/week-1/lecture-1A.html#one-more-thing-working-outside-the-notebook",
    "title": "Welcome to MUSA 550:Geospatial Data Science in Python",
    "section": "One more thing: working outside the notebook",
    "text": "One more thing: working outside the notebook\nIn this class, we will almost exclusively work inside Jupyter notebooks — you’ll be writing Python code and doing data analysis directly in the notebook.\nThe more traditional method of using Python is to put your code into a .py file and execute it via the command line (known as the Miniforge/Anaconda Prompt on Windows or Terminal app on MacOS).\nSee this section of the Practical Python Programming tutorial for more info.\n\nThe JupyterLab text editor\nThere is a file called hello_world.py in the repository for week 1. If we execute it, it should print out “Hello, World” to the command line.\nFirst, let’s open up the .py file in the JupyterLab text editor. Double click on the “hello_world.py” item in the file browser on the left:\n\nThis will open the file and allow you to make edits. You should see the following:\n# Our first Python program\nprint(\"Hello World!\")\n\n\n\n\n\n\nTip\n\n\n\nSee the JupyterLab docs for more info on the text editor.\n\n\n\n\nUsing the JupyterLab Terminal\nTo execute the file, we can use the built-in Terminal feature in JupyterLab using the following steps:\n\nBring up the “Launcher” tab by clicking on the blue button with a plus sign in the upper left.\nClick on the “Terminal” button”\nWhen the terminal opens, type the following:\n\npython hello_world.py\nAnd you should see the following output:\nHello World!\nIt should look something like this:"
  },
  {
    "objectID": "content/week-1/lecture-1A.html#code-editors",
    "href": "content/week-1/lecture-1A.html#code-editors",
    "title": "Welcome to MUSA 550:Geospatial Data Science in Python",
    "section": "Code editors",
    "text": "Code editors\nThe JupyterLab text editor will work in a pinch, but it’s not usually the best option when writing software outside the notebook. Other code editors will provide a nice interface for writing Python code and some even have fancy features, like real-time syntax checking and syntax highlighting.\nMy recommended option is Visual Studio Code."
  },
  {
    "objectID": "content/week-1/lecture-1A.html#see-you-next-week",
    "href": "content/week-1/lecture-1A.html#see-you-next-week",
    "title": "Welcome to MUSA 550:Geospatial Data Science in Python",
    "section": "See you next week!",
    "text": "See you next week!\n\nNo lecture on Monday next week due to Labor Day\nNext class a week from today on Wednesday 9/6\nIn the meantime:\n\nFollow [the guide] for setting up your local Python environment\nCheck out Python resources + DataCamp courses in the meantime\nHomework #1 will be posted a week from today (Wednesday 9/6, due on 9/20)"
  },
  {
    "objectID": "content/week-8/lecture-8B.html",
    "href": "content/week-8/lecture-8B.html",
    "title": "Week 8Analyzing and Visualizing Large Datasets",
    "section": "",
    "text": "Oct 25, 2023\nSection 401"
  },
  {
    "objectID": "content/week-8/lecture-8B.html#this-weeks-agenda-working-with-big-data",
    "href": "content/week-8/lecture-8B.html#this-weeks-agenda-working-with-big-data",
    "title": "Week 8Analyzing and Visualizing Large Datasets",
    "section": "This week’s agenda: working with big data",
    "text": "This week’s agenda: working with big data\nBy example: - Open Street Map data - Census data - NYC taxi cab trips\n\n# Initial imports\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\nimport geopandas as gpd\n\n\n# Ignore numpy warnings\nnp.seterr(\"ignore\");\n\nUse intake to load the dataset instructions for this week\n\nimport intake\n\n\ndatasets = intake.open_catalog(\"./datasets.yml\")\n\nImport datashader and related modules:\n\n# Datashader imports\nimport datashader as ds\nimport datashader.transfer_functions as tf\n\n\n# Color-related imports\nfrom datashader.colors import Greys9, viridis, inferno\nfrom colorcet import fire"
  },
  {
    "objectID": "content/week-8/lecture-8B.html#load-the-census-data-to-a-dask-array",
    "href": "content/week-8/lecture-8B.html#load-the-census-data-to-a-dask-array",
    "title": "Week 8Analyzing and Visualizing Large Datasets",
    "section": "Load the Census data to a dask array",
    "text": "Load the Census data to a dask array\n\n# Load the data\n# REMEMBER: this will take some time to download the first time\ncensus_ddf = datasets.census.to_dask()\n\n\n\n\n\ncensus_ddf\n\nDask DataFrame Structure:\n\n\n\n\n\n\n\neasting\nnorthing\nrace\n\n\nnpartitions=36\n\n\n\n\n\n\n\n\nfloat32\nfloat32\ncategory[unknown]\n\n\n\n...\n...\n...\n\n\n...\n...\n...\n...\n\n\n\n...\n...\n...\n\n\n\n...\n...\n...\n\n\n\n\n\nDask Name: read-parquet, 1 graph layer\n\n\n\ncensus_ddf.head()\n\n\n\n\n\n\n\n\neasting\nnorthing\nrace\n\n\n\n\n0\n-12418767.0\n3697425.00\nh\n\n\n1\n-12418512.0\n3697143.50\nh\n\n\n2\n-12418245.0\n3697584.50\nh\n\n\n3\n-12417703.0\n3697636.75\nw\n\n\n4\n-12418120.0\n3697129.25\nh\n\n\n\n\n\n\n\nSetup canvas parameters for USA image:\n\nfrom datashader.utils import lnglat_to_meters\n\n\n# Sensible lat/lng coordinates for U.S. cities\n# NOTE: these are in lat/lng so EPSG=4326\nUSA = [(-124.72,  -66.95), (23.55, 50.06)]\n\n# Get USA xlim and ylim in meters (EPSG=3857)\nUSA_xlim_meters, USA_ylim_meters = [list(r) for r in lnglat_to_meters(USA[0], USA[1])]\n\n\n# Define some a default plot width & height\nplot_width  = 900\nplot_height = int(plot_width*7.0/12)\n\nUse a custom color scheme to map racial demographics:\n\ncolor_key = {\"w\": \"aqua\", \"b\": \"lime\", \"a\": \"red\", \"h\": \"fuchsia\", \"o\": \"yellow\"}"
  },
  {
    "objectID": "content/week-8/lecture-8B.html#can-we-learn-more-than-just-population-density-and-race",
    "href": "content/week-8/lecture-8B.html#can-we-learn-more-than-just-population-density-and-race",
    "title": "Week 8Analyzing and Visualizing Large Datasets",
    "section": "Can we learn more than just population density and race?",
    "text": "Can we learn more than just population density and race?\nWe can use xarray to slice the array of aggregated pixel values to examine specific aspects of the data.\n\nQuestion #1: Where do African Americans live?\nUse the sel() function of the xarray array\n\n# Step 1: Setup canvas\ncvs = ds.Canvas(plot_width=plot_width, plot_height=plot_height)\n\n# Step 2: Aggregate and count race category\naggc = cvs.points(census_ddf, \"easting\", \"northing\", agg=ds.count_cat(\"race\"))\n\n\naggc\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;xarray.DataArray (northing: 525, easting: 900, race: 5)&gt;\narray([[[0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        ...,\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0]],\n\n       [[0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        ...,\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0]],\n\n       [[0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        ...,\n...\n        ...,\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0]],\n\n       [[0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        ...,\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0]],\n\n       [[0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        ...,\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0]]], dtype=uint32)\nCoordinates:\n  * easting   (easting) float64 -1.388e+07 -1.387e+07 ... -7.464e+06 -7.457e+06\n  * northing  (northing) float64 2.822e+06 2.828e+06 ... 6.326e+06 6.333e+06\n  * race      (race) &lt;U1 'a' 'b' 'h' 'o' 'w'\nAttributes:\n    x_range:  (-13884029.0, -7453303.5)\n    y_range:  (2818291.5, 6335972.0)xarray.DataArraynorthing: 525easting: 900race: 50 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 ... 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0array([[[0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        ...,\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0]],\n\n       [[0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        ...,\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0]],\n\n       [[0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        ...,\n...\n        ...,\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0]],\n\n       [[0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        ...,\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0]],\n\n       [[0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        ...,\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0]]], dtype=uint32)Coordinates: (3)easting(easting)float64-1.388e+07 ... -7.457e+06array([-13880456.374722, -13873311.124167, -13866165.873611, ...,\n        -7471166.626389,  -7464021.375833,  -7456876.125278])northing(northing)float642.822e+06 2.828e+06 ... 6.333e+06array([2821641.671905, 2828342.015714, 2835042.359524, ..., 6319221.140476,\n       6325921.484286, 6332621.828095])race(race)&lt;U1'a' 'b' 'h' 'o' 'w'array(['a', 'b', 'h', 'o', 'w'], dtype='&lt;U1')Indexes: (3)eastingPandasIndexPandasIndex(Float64Index([-13880456.374722222, -13873311.124166666, -13866165.873611111,\n              -13859020.623055555, -13851875.372499999, -13844730.121944444,\n              -13837584.871388888, -13830439.620833334, -13823294.370277777,\n              -13816149.119722221,\n              ...\n               -7521183.380277776,  -7514038.129722221, -7506892.8791666655,\n                -7499747.62861111,  -7492602.378055555,  -7485457.127499999,\n               -7478311.876944443,  -7471166.626388888,  -7464021.375833333,\n               -7456876.125277776],\n             dtype='float64', name='easting', length=900))northingPandasIndexPandasIndex(Float64Index([ 2821641.671904762, 2828342.0157142854, 2835042.3595238095,\n               2841742.703333333,  2848443.047142857,  2855143.390952381,\n              2861843.7347619045, 2868544.0785714285,  2875244.422380952,\n              2881944.7661904762,\n              ...\n               6272318.733809524,  6279019.077619048,  6285719.421428571,\n               6292419.765238096,   6299120.10904762,  6305820.452857143,\n               6312520.796666667, 6319221.1404761905,  6325921.484285715,\n               6332621.828095239],\n             dtype='float64', name='northing', length=525))racePandasIndexPandasIndex(Index(['a', 'b', 'h', 'o', 'w'], dtype='object', name='race'))Attributes: (2)x_range :(-13884029.0, -7453303.5)y_range :(2818291.5, 6335972.0)\n\n\n\n# NEW: Select only African Americans (where \"race\" column is equal to \"b\")\nagg_b = aggc.sel(race=\"b\")\n\n\nagg_b\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;xarray.DataArray (northing: 525, easting: 900)&gt;\narray([[0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       ...,\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0]], dtype=uint32)\nCoordinates:\n  * easting   (easting) float64 -1.388e+07 -1.387e+07 ... -7.464e+06 -7.457e+06\n  * northing  (northing) float64 2.822e+06 2.828e+06 ... 6.326e+06 6.333e+06\n    race      &lt;U1 'b'\nAttributes:\n    x_range:  (-13884029.0, -7453303.5)\n    y_range:  (2818291.5, 6335972.0)xarray.DataArraynorthing: 525easting: 9000 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 ... 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0array([[0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       ...,\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0]], dtype=uint32)Coordinates: (3)easting(easting)float64-1.388e+07 ... -7.457e+06array([-13880456.374722, -13873311.124167, -13866165.873611, ...,\n        -7471166.626389,  -7464021.375833,  -7456876.125278])northing(northing)float642.822e+06 2.828e+06 ... 6.333e+06array([2821641.671905, 2828342.015714, 2835042.359524, ..., 6319221.140476,\n       6325921.484286, 6332621.828095])race()&lt;U1'b'array('b', dtype='&lt;U1')Indexes: (2)eastingPandasIndexPandasIndex(Float64Index([-13880456.374722222, -13873311.124166666, -13866165.873611111,\n              -13859020.623055555, -13851875.372499999, -13844730.121944444,\n              -13837584.871388888, -13830439.620833334, -13823294.370277777,\n              -13816149.119722221,\n              ...\n               -7521183.380277776,  -7514038.129722221, -7506892.8791666655,\n                -7499747.62861111,  -7492602.378055555,  -7485457.127499999,\n               -7478311.876944443,  -7471166.626388888,  -7464021.375833333,\n               -7456876.125277776],\n             dtype='float64', name='easting', length=900))northingPandasIndexPandasIndex(Float64Index([ 2821641.671904762, 2828342.0157142854, 2835042.3595238095,\n               2841742.703333333,  2848443.047142857,  2855143.390952381,\n              2861843.7347619045, 2868544.0785714285,  2875244.422380952,\n              2881944.7661904762,\n              ...\n               6272318.733809524,  6279019.077619048,  6285719.421428571,\n               6292419.765238096,   6299120.10904762,  6305820.452857143,\n               6312520.796666667, 6319221.1404761905,  6325921.484285715,\n               6332621.828095239],\n             dtype='float64', name='northing', length=525))Attributes: (2)x_range :(-13884029.0, -7453303.5)y_range :(2818291.5, 6335972.0)\n\n\n\n# Step 3: Shade and set background\nimg = tf.shade(agg_b, cmap=fire, how=\"eq_hist\")\nimg = tf.set_background(img, \"black\")\n\nimg\n\n\n\n\n\n\nQuestion #2: How to identify diverse areas?\nGoal: Select pixels where each race has a non-zero count.\n\naggc.sel(race=[\"w\", \"b\", \"a\", \"h\"]) &gt; 0\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;xarray.DataArray (northing: 525, easting: 900, race: 4)&gt;\narray([[[False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False],\n        ...,\n        [False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False]],\n\n       [[False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False],\n        ...,\n        [False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False]],\n\n       [[False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False],\n        ...,\n...\n        ...,\n        [False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False]],\n\n       [[False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False],\n        ...,\n        [False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False]],\n\n       [[False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False],\n        ...,\n        [False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False]]])\nCoordinates:\n  * easting   (easting) float64 -1.388e+07 -1.387e+07 ... -7.464e+06 -7.457e+06\n  * northing  (northing) float64 2.822e+06 2.828e+06 ... 6.326e+06 6.333e+06\n  * race      (race) &lt;U1 'w' 'b' 'a' 'h'xarray.DataArraynorthing: 525easting: 900race: 4False False False False False False ... False False False False Falsearray([[[False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False],\n        ...,\n        [False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False]],\n\n       [[False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False],\n        ...,\n        [False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False]],\n\n       [[False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False],\n        ...,\n...\n        ...,\n        [False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False]],\n\n       [[False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False],\n        ...,\n        [False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False]],\n\n       [[False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False],\n        ...,\n        [False, False, False, False],\n        [False, False, False, False],\n        [False, False, False, False]]])Coordinates: (3)easting(easting)float64-1.388e+07 ... -7.457e+06array([-13880456.374722, -13873311.124167, -13866165.873611, ...,\n        -7471166.626389,  -7464021.375833,  -7456876.125278])northing(northing)float642.822e+06 2.828e+06 ... 6.333e+06array([2821641.671905, 2828342.015714, 2835042.359524, ..., 6319221.140476,\n       6325921.484286, 6332621.828095])race(race)&lt;U1'w' 'b' 'a' 'h'array(['w', 'b', 'a', 'h'], dtype='&lt;U1')Indexes: (3)eastingPandasIndexPandasIndex(Float64Index([-13880456.374722222, -13873311.124166666, -13866165.873611111,\n              -13859020.623055555, -13851875.372499999, -13844730.121944444,\n              -13837584.871388888, -13830439.620833334, -13823294.370277777,\n              -13816149.119722221,\n              ...\n               -7521183.380277776,  -7514038.129722221, -7506892.8791666655,\n                -7499747.62861111,  -7492602.378055555,  -7485457.127499999,\n               -7478311.876944443,  -7471166.626388888,  -7464021.375833333,\n               -7456876.125277776],\n             dtype='float64', name='easting', length=900))northingPandasIndexPandasIndex(Float64Index([ 2821641.671904762, 2828342.0157142854, 2835042.3595238095,\n               2841742.703333333,  2848443.047142857,  2855143.390952381,\n              2861843.7347619045, 2868544.0785714285,  2875244.422380952,\n              2881944.7661904762,\n              ...\n               6272318.733809524,  6279019.077619048,  6285719.421428571,\n               6292419.765238096,   6299120.10904762,  6305820.452857143,\n               6312520.796666667, 6319221.1404761905,  6325921.484285715,\n               6332621.828095239],\n             dtype='float64', name='northing', length=525))racePandasIndexPandasIndex(Index(['w', 'b', 'a', 'h'], dtype='object', name='race'))Attributes: (0)\n\n\n\n(aggc.sel(race=['w', 'b', 'a', 'h']) &gt; 0).all(dim='race')\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;xarray.DataArray (northing: 525, easting: 900)&gt;\narray([[False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       ...,\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False]])\nCoordinates:\n  * easting   (easting) float64 -1.388e+07 -1.387e+07 ... -7.464e+06 -7.457e+06\n  * northing  (northing) float64 2.822e+06 2.828e+06 ... 6.326e+06 6.333e+06xarray.DataArraynorthing: 525easting: 900False False False False False False ... False False False False Falsearray([[False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       ...,\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False]])Coordinates: (2)easting(easting)float64-1.388e+07 ... -7.457e+06array([-13880456.374722, -13873311.124167, -13866165.873611, ...,\n        -7471166.626389,  -7464021.375833,  -7456876.125278])northing(northing)float642.822e+06 2.828e+06 ... 6.333e+06array([2821641.671905, 2828342.015714, 2835042.359524, ..., 6319221.140476,\n       6325921.484286, 6332621.828095])Indexes: (2)eastingPandasIndexPandasIndex(Float64Index([-13880456.374722222, -13873311.124166666, -13866165.873611111,\n              -13859020.623055555, -13851875.372499999, -13844730.121944444,\n              -13837584.871388888, -13830439.620833334, -13823294.370277777,\n              -13816149.119722221,\n              ...\n               -7521183.380277776,  -7514038.129722221, -7506892.8791666655,\n                -7499747.62861111,  -7492602.378055555,  -7485457.127499999,\n               -7478311.876944443,  -7471166.626388888,  -7464021.375833333,\n               -7456876.125277776],\n             dtype='float64', name='easting', length=900))northingPandasIndexPandasIndex(Float64Index([ 2821641.671904762, 2828342.0157142854, 2835042.3595238095,\n               2841742.703333333,  2848443.047142857,  2855143.390952381,\n              2861843.7347619045, 2868544.0785714285,  2875244.422380952,\n              2881944.7661904762,\n              ...\n               6272318.733809524,  6279019.077619048,  6285719.421428571,\n               6292419.765238096,   6299120.10904762,  6305820.452857143,\n               6312520.796666667, 6319221.1404761905,  6325921.484285715,\n               6332621.828095239],\n             dtype='float64', name='northing', length=525))Attributes: (0)\n\n\n\n# Do a \"logical and\" operation across the \"race\" dimension\n# Pixels will be \"True\" if the pixel has a positive count for each race\ndiverse_selection = (aggc.sel(race=['w', 'b', 'a', 'h']) &gt; 0).all(dim='race')\n\ndiverse_selection\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;xarray.DataArray (northing: 525, easting: 900)&gt;\narray([[False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       ...,\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False]])\nCoordinates:\n  * easting   (easting) float64 -1.388e+07 -1.387e+07 ... -7.464e+06 -7.457e+06\n  * northing  (northing) float64 2.822e+06 2.828e+06 ... 6.326e+06 6.333e+06xarray.DataArraynorthing: 525easting: 900False False False False False False ... False False False False Falsearray([[False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       ...,\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False]])Coordinates: (2)easting(easting)float64-1.388e+07 ... -7.457e+06array([-13880456.374722, -13873311.124167, -13866165.873611, ...,\n        -7471166.626389,  -7464021.375833,  -7456876.125278])northing(northing)float642.822e+06 2.828e+06 ... 6.333e+06array([2821641.671905, 2828342.015714, 2835042.359524, ..., 6319221.140476,\n       6325921.484286, 6332621.828095])Indexes: (2)eastingPandasIndexPandasIndex(Float64Index([-13880456.374722222, -13873311.124166666, -13866165.873611111,\n              -13859020.623055555, -13851875.372499999, -13844730.121944444,\n              -13837584.871388888, -13830439.620833334, -13823294.370277777,\n              -13816149.119722221,\n              ...\n               -7521183.380277776,  -7514038.129722221, -7506892.8791666655,\n                -7499747.62861111,  -7492602.378055555,  -7485457.127499999,\n               -7478311.876944443,  -7471166.626388888,  -7464021.375833333,\n               -7456876.125277776],\n             dtype='float64', name='easting', length=900))northingPandasIndexPandasIndex(Float64Index([ 2821641.671904762, 2828342.0157142854, 2835042.3595238095,\n               2841742.703333333,  2848443.047142857,  2855143.390952381,\n              2861843.7347619045, 2868544.0785714285,  2875244.422380952,\n              2881944.7661904762,\n              ...\n               6272318.733809524,  6279019.077619048,  6285719.421428571,\n               6292419.765238096,   6299120.10904762,  6305820.452857143,\n               6312520.796666667, 6319221.1404761905,  6325921.484285715,\n               6332621.828095239],\n             dtype='float64', name='northing', length=525))Attributes: (0)\n\n\n\n# Select the pixel values where our diverse selection criteria is True\nagg2 = aggc.where(diverse_selection).fillna(0)\n\n# and shade using our color key\nimg = tf.shade(agg2, color_key=color_key)\nimg = tf.set_background(img,\"black\")\n\nimg \n\n\n\n\n\n\nQuestion #3: Where is African American population greater than the White population?\n\n# Select where the \"b\" race dimension is greater than the \"w\" race dimension\nselection = aggc.sel(race='b') &gt; aggc.sel(race='w') \n\nselection\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;xarray.DataArray (northing: 525, easting: 900)&gt;\narray([[False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       ...,\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False]])\nCoordinates:\n  * easting   (easting) float64 -1.388e+07 -1.387e+07 ... -7.464e+06 -7.457e+06\n  * northing  (northing) float64 2.822e+06 2.828e+06 ... 6.326e+06 6.333e+06xarray.DataArraynorthing: 525easting: 900False False False False False False ... False False False False Falsearray([[False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       ...,\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False],\n       [False, False, False, ..., False, False, False]])Coordinates: (2)easting(easting)float64-1.388e+07 ... -7.457e+06array([-13880456.374722, -13873311.124167, -13866165.873611, ...,\n        -7471166.626389,  -7464021.375833,  -7456876.125278])northing(northing)float642.822e+06 2.828e+06 ... 6.333e+06array([2821641.671905, 2828342.015714, 2835042.359524, ..., 6319221.140476,\n       6325921.484286, 6332621.828095])Indexes: (2)eastingPandasIndexPandasIndex(Float64Index([-13880456.374722222, -13873311.124166666, -13866165.873611111,\n              -13859020.623055555, -13851875.372499999, -13844730.121944444,\n              -13837584.871388888, -13830439.620833334, -13823294.370277777,\n              -13816149.119722221,\n              ...\n               -7521183.380277776,  -7514038.129722221, -7506892.8791666655,\n                -7499747.62861111,  -7492602.378055555,  -7485457.127499999,\n               -7478311.876944443,  -7471166.626388888,  -7464021.375833333,\n               -7456876.125277776],\n             dtype='float64', name='easting', length=900))northingPandasIndexPandasIndex(Float64Index([ 2821641.671904762, 2828342.0157142854, 2835042.3595238095,\n               2841742.703333333,  2848443.047142857,  2855143.390952381,\n              2861843.7347619045, 2868544.0785714285,  2875244.422380952,\n              2881944.7661904762,\n              ...\n               6272318.733809524,  6279019.077619048,  6285719.421428571,\n               6292419.765238096,   6299120.10904762,  6305820.452857143,\n               6312520.796666667, 6319221.1404761905,  6325921.484285715,\n               6332621.828095239],\n             dtype='float64', name='northing', length=525))Attributes: (0)\n\n\n\n# Select based on the selection criteria\nagg3 = aggc.where(selection).fillna(0)\n\nimg = tf.shade(agg3, color_key=color_key)\nimg = tf.set_background(img, \"black\")\n\nimg"
  },
  {
    "objectID": "content/week-8/lecture-8B.html#now-lets-make-it-interactive",
    "href": "content/week-8/lecture-8B.html#now-lets-make-it-interactive",
    "title": "Week 8Analyzing and Visualizing Large Datasets",
    "section": "Now let’s make it interactive!",
    "text": "Now let’s make it interactive!\nLet’s use hvplot\n\n# Initialize hvplot and dask\nimport hvplot.pandas\nimport hvplot.dask # NEW: dask works with hvplot too!\n\nimport holoviews as hv\nimport geoviews as gv\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSide note: persisting dask arrays in memory\n\n\n\nTo speed up interactive calculations, you can “persist” a dask array in memory (load the data fully into memory). You should have at least 16 GB of memory to avoid memory errors, though!\nIf not persisted, the data will be loaded on demand to avoid memory issues, which will slow the interactive nature of the plots down slightly.\n\n\n\n# UNCOMMENT THIS LINE IF YOU HAVE AT LEAST 16 GB OF MEMORY\ncensus_ddf = census_ddf.persist()\n\n\ncensus_ddf\n\nDask DataFrame Structure:\n\n\n\n\n\n\n\neasting\nnorthing\nrace\n\n\nnpartitions=36\n\n\n\n\n\n\n\n\nfloat32\nfloat32\ncategory[unknown]\n\n\n\n...\n...\n...\n\n\n...\n...\n...\n...\n\n\n\n...\n...\n...\n\n\n\n...\n...\n...\n\n\n\n\n\nDask Name: read-parquet, 1 graph layer\n\n\n\ncensus_ddf.hvplot\n\n&lt;hvplot.plotting.core.hvPlotTabular at 0x295bcf3a0&gt;\n\n\n\n# Plot the points\npoints = census_ddf.hvplot.points(\n    x=\"easting\",\n    y=\"northing\",\n    datashade=True, # NEW: tell hvplot to use datashader!\n    aggregator=ds.count(), # NEW: how to aggregate\n    cmap=fire, \n    geo=True,\n    crs=3857, # Input data is in 3857, so we need to tell hvplot\n    frame_width=plot_width,\n    frame_height=plot_height,\n    xlim=USA_xlim_meters, # NEW: Specify the xbounds in meters (EPSG=3857)\n    ylim=USA_ylim_meters, # NEW: Specify the ybounds in meters (EPSG=3857)\n)\n\n# Put a tile source behind it\nbg = gv.tile_sources.CartoDark\n\nbg * points\n\n\n\n\n\n  \n\n\n\n\nNote: interactive features (panning, zooming, etc) can be slow, but the map will eventually re-load!\n\nWe can visualize color-coded race interactively as well\nSimilar syntax to previous examples…\n\n# Points with categorical colormap\nrace_map = census_ddf.hvplot.points(\n    x=\"easting\",\n    y=\"northing\",\n    datashade=True,\n    c=\"race\",  # NEW: color pixels by \"race\" column\n    aggregator=ds.count_cat(\"race\"),  # NEW: specify the aggregator\n    cmap=color_key,  # NEW: use our custom color map dictionary\n    crs=3857,\n    geo=True,\n    frame_width=plot_width,\n    frame_height=plot_height,\n    xlim=USA_xlim_meters,\n    ylim=USA_ylim_meters,\n)\n\nbg = gv.tile_sources.CartoDark\n\nbg * race_map"
  },
  {
    "objectID": "content/week-8/lecture-8B.html#use-case-exploring-gerrymandering",
    "href": "content/week-8/lecture-8B.html#use-case-exploring-gerrymandering",
    "title": "Week 8Analyzing and Visualizing Large Datasets",
    "section": "Use case: exploring gerrymandering",
    "text": "Use case: exploring gerrymandering\nWe can easily overlay Congressional districts on our map…\n\n# Load congressional districts and convert to EPSG=3857\ndistricts = gpd.read_file('./data/cb_2015_us_cd114_5m').to_crs(epsg=3857)\n\n\n# Plot the district map\ndistricts_map = districts.hvplot.polygons(\n    geo=True,\n    crs=3857,\n    line_color=\"white\",\n    fill_alpha=0,\n    frame_width=plot_width,\n    frame_height=plot_height,\n    xlim=USA_xlim_meters,\n    ylim=USA_ylim_meters\n    \n)\n\nbg * districts_map\n\n\n\n\n\n  \n\n\n\n\n\n# Combine the background, race map, and districts into a single map\nimg = bg * race_map * districts_map\n\nimg"
  },
  {
    "objectID": "content/week-8/lecture-8B.html#example-3-nyc-taxi-data",
    "href": "content/week-8/lecture-8B.html#example-3-nyc-taxi-data",
    "title": "Week 8Analyzing and Visualizing Large Datasets",
    "section": "Example 3: NYC taxi data",
    "text": "Example 3: NYC taxi data\n12 million taxi trips from 2015…\n\n# Load from our intake catalog\n# Remember: this will take some time to download the first time!\ntaxi_ddf = datasets.nyc_taxi_wide.to_dask()\n\n\n\n\n\ntaxi_ddf\n\nDask DataFrame Structure:\n\n\n\n\n\n\n\ntpep_pickup_datetime\ntpep_dropoff_datetime\npassenger_count\ntrip_distance\npickup_x\npickup_y\ndropoff_x\ndropoff_y\nfare_amount\ntip_amount\ndropoff_hour\npickup_hour\n\n\nnpartitions=1\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ndatetime64[ns]\ndatetime64[ns]\nuint8\nfloat32\nfloat32\nfloat32\nfloat32\nfloat32\nfloat32\nfloat32\nuint8\nuint8\n\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n\n\n\nDask Name: read-parquet, 1 graph layer\n\n\n\nprint(f\"{len(taxi_ddf)} Rows\")\nprint(f\"Columns: {list(taxi_ddf.columns)}\")\n\n11842094 Rows\nColumns: ['tpep_pickup_datetime', 'tpep_dropoff_datetime', 'passenger_count', 'trip_distance', 'pickup_x', 'pickup_y', 'dropoff_x', 'dropoff_y', 'fare_amount', 'tip_amount', 'dropoff_hour', 'pickup_hour']\n\n\n\ntaxi_ddf.head()\n\n\n\n\n\n\n\n\ntpep_pickup_datetime\ntpep_dropoff_datetime\npassenger_count\ntrip_distance\npickup_x\npickup_y\ndropoff_x\ndropoff_y\nfare_amount\ntip_amount\ndropoff_hour\npickup_hour\n\n\n\n\n0\n2015-01-15 19:05:39\n2015-01-15 19:23:42\n1\n1.59\n-8236963.0\n4975552.5\n-8234835.5\n4975627.0\n12.0\n3.25\n19\n19\n\n\n1\n2015-01-10 20:33:38\n2015-01-10 20:53:28\n1\n3.30\n-8237826.0\n4971752.5\n-8237020.5\n4976875.0\n14.5\n2.00\n20\n20\n\n\n2\n2015-01-10 20:33:38\n2015-01-10 20:43:41\n1\n1.80\n-8233561.5\n4983296.5\n-8232279.0\n4986477.0\n9.5\n0.00\n20\n20\n\n\n3\n2015-01-10 20:33:39\n2015-01-10 20:35:31\n1\n0.50\n-8238654.0\n4970221.0\n-8238124.0\n4971127.0\n3.5\n0.00\n20\n20\n\n\n4\n2015-01-10 20:33:39\n2015-01-10 20:52:58\n1\n3.00\n-8234433.5\n4977363.0\n-8238107.5\n4974457.0\n15.0\n0.00\n20\n20\n\n\n\n\n\n\n\n\n# Trim to the columns\ntaxi_ddf = taxi_ddf[\n    [\n        \"passenger_count\",\n        \"pickup_x\",\n        \"pickup_y\",\n        \"dropoff_x\",\n        \"dropoff_y\",\n        \"dropoff_hour\",\n        \"pickup_hour\",\n    ]\n]\n\n\nExploring the taxi pick ups…\n\npickups_map = taxi_ddf.hvplot.points(\n    x=\"pickup_x\",\n    y=\"pickup_y\",\n    cmap=fire,\n    datashade=True,\n    frame_width=800,\n    frame_height=600,\n    geo=True, \n    crs=3857\n)\n\ngv.tile_sources.CartoDark * pickups_map\n\n\n\n\n\n  \n\n\n\n\nGroup by the hour column to add a slider widget:\n\npickups_map = taxi_ddf.hvplot.points(\n    x=\"pickup_x\",\n    y=\"pickup_y\",\n    groupby=\"pickup_hour\",\n    cmap=fire,\n    datashade=True,\n    frame_width=800,\n    frame_height=600,\n    geo=True, \n    crs=3857\n)\n\ngv.tile_sources.CartoDark * pickups_map\n\n\n\n\n\n  \n\n\n\n\n\n\nComparing pickups and dropoffs\n\nPixels with more pickups: shaded red\nPixels with more dropoffs: shaded blue\n\n\n# Bounds in meters for NYC (EPSG=3857)\nNYC = [(-8242000,-8210000), (4965000,4990000)]\n\n# Set a plot width and height\nplot_width  = int(750)\nplot_height = int(plot_width//1.2)\n\n\nw = plot_width\nh = plot_height\n\n\nx_range = NYC[0]\ny_range = NYC[1]\n\n\n# Step 1: Create the canvas\ncvs = ds.Canvas(plot_width=w, plot_height=h, x_range=x_range, y_range=y_range)\n\n# Step 2: Aggregate the pick ups\npicks = cvs.points(taxi_ddf, \"pickup_x\", \"pickup_y\", ds.count(\"passenger_count\"))\n\n# Step 2: Aggregate the drop offs\ndrops = cvs.points(taxi_ddf, \"dropoff_x\", \"dropoff_y\", ds.count(\"passenger_count\"))\n\n# Rename to same names\ndrops = drops.rename({\"dropoff_x\": \"x\", \"dropoff_y\": \"y\"})\npicks = picks.rename({\"pickup_x\": \"x\", \"pickup_y\": \"y\"})\n\n\npicks\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;xarray.DataArray (y: 625, x: 750)&gt;\narray([[0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       ...,\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0]], dtype=uint32)\nCoordinates:\n  * x        (x) float64 -8.242e+06 -8.242e+06 ... -8.21e+06 -8.21e+06\n  * y        (y) float64 4.965e+06 4.965e+06 4.965e+06 ... 4.99e+06 4.99e+06\nAttributes:\n    x_range:  (-8242000, -8210000)\n    y_range:  (4965000, 4990000)xarray.DataArrayy: 625x: 7500 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 ... 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0array([[0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       ...,\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0]], dtype=uint32)Coordinates: (2)x(x)float64-8.242e+06 -8.242e+06 ... -8.21e+06array([-8241978.666667, -8241936.      , -8241893.333333, ..., -8210106.666667,\n       -8210064.      , -8210021.333333])y(y)float644.965e+06 4.965e+06 ... 4.99e+06array([4965020., 4965060., 4965100., ..., 4989900., 4989940., 4989980.])Indexes: (2)xPandasIndexPandasIndex(Float64Index([-8241978.666666667,         -8241936.0, -8241893.333333333,\n              -8241850.666666667,         -8241808.0, -8241765.333333333,\n              -8241722.666666667,         -8241680.0, -8241637.333333333,\n              -8241594.666666667,\n              ...\n              -8210405.333333333, -8210362.666666667,         -8210320.0,\n              -8210277.333333333, -8210234.666666667,         -8210192.0,\n              -8210149.333333333, -8210106.666666667,         -8210064.0,\n              -8210021.333333333],\n             dtype='float64', name='x', length=750))yPandasIndexPandasIndex(Float64Index([4965020.0, 4965060.0, 4965100.0, 4965140.0, 4965180.0, 4965220.0,\n              4965260.0, 4965300.0, 4965340.0, 4965380.0,\n              ...\n              4989620.0, 4989660.0, 4989700.0, 4989740.0, 4989780.0, 4989820.0,\n              4989860.0, 4989900.0, 4989940.0, 4989980.0],\n             dtype='float64', name='y', length=625))Attributes: (2)x_range :(-8242000, -8210000)y_range :(4965000, 4990000)\n\n\n\ndrops\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;xarray.DataArray (y: 625, x: 750)&gt;\narray([[0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       ...,\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0]], dtype=uint32)\nCoordinates:\n  * x        (x) float64 -8.242e+06 -8.242e+06 ... -8.21e+06 -8.21e+06\n  * y        (y) float64 4.965e+06 4.965e+06 4.965e+06 ... 4.99e+06 4.99e+06\nAttributes:\n    x_range:  (-8242000, -8210000)\n    y_range:  (4965000, 4990000)xarray.DataArrayy: 625x: 7500 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 ... 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0array([[0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       ...,\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0],\n       [0, 0, 0, ..., 0, 0, 0]], dtype=uint32)Coordinates: (2)x(x)float64-8.242e+06 -8.242e+06 ... -8.21e+06array([-8241978.666667, -8241936.      , -8241893.333333, ..., -8210106.666667,\n       -8210064.      , -8210021.333333])y(y)float644.965e+06 4.965e+06 ... 4.99e+06array([4965020., 4965060., 4965100., ..., 4989900., 4989940., 4989980.])Indexes: (2)xPandasIndexPandasIndex(Float64Index([-8241978.666666667,         -8241936.0, -8241893.333333333,\n              -8241850.666666667,         -8241808.0, -8241765.333333333,\n              -8241722.666666667,         -8241680.0, -8241637.333333333,\n              -8241594.666666667,\n              ...\n              -8210405.333333333, -8210362.666666667,         -8210320.0,\n              -8210277.333333333, -8210234.666666667,         -8210192.0,\n              -8210149.333333333, -8210106.666666667,         -8210064.0,\n              -8210021.333333333],\n             dtype='float64', name='x', length=750))yPandasIndexPandasIndex(Float64Index([4965020.0, 4965060.0, 4965100.0, 4965140.0, 4965180.0, 4965220.0,\n              4965260.0, 4965300.0, 4965340.0, 4965380.0,\n              ...\n              4989620.0, 4989660.0, 4989700.0, 4989740.0, 4989780.0, 4989820.0,\n              4989860.0, 4989900.0, 4989940.0, 4989980.0],\n             dtype='float64', name='y', length=625))Attributes: (2)x_range :(-8242000, -8210000)y_range :(4965000, 4990000)\n\n\n\ndef create_merged_taxi_image(\n    x_range, y_range, w=plot_width, h=plot_height, how=\"eq_hist\"\n):\n    \"\"\"\n    Create a merged taxi image, showing areas with: \n    \n    - More pickups than dropoffs in red\n    - More dropoffs than pickups in blue\n    \"\"\"\n    # Step 1: Create the canvas\n    cvs = ds.Canvas(plot_width=w, plot_height=h, x_range=x_range, y_range=y_range)\n\n    # Step 2: Aggregate the pick ups\n    picks = cvs.points(taxi_ddf, \"pickup_x\", \"pickup_y\", ds.count(\"passenger_count\"))\n\n    # Step 2: Aggregate the drop offs\n    drops = cvs.points(taxi_ddf, \"dropoff_x\", \"dropoff_y\", ds.count(\"passenger_count\"))\n\n    # Rename to same names\n    drops = drops.rename({\"dropoff_x\": \"x\", \"dropoff_y\": \"y\"})\n    picks = picks.rename({\"pickup_x\": \"x\", \"pickup_y\": \"y\"})\n\n    # Step 3: Shade\n    # NEW: shade pixels there are more drop offs than pick ups\n    # These are colored blue\n    more_drops = tf.shade(\n        drops.where(drops &gt; picks), cmap=[\"darkblue\", \"cornflowerblue\"], how=how\n    )\n\n    # Step 3: Shade\n    # NEW: shade pixels where there are more pick ups than drop offs\n    # These are colored red\n    more_picks = tf.shade(\n        picks.where(picks &gt; drops), cmap=[\"darkred\", \"orangered\"], how=how\n    )\n\n    # Step 4: Combine\n    # NEW: add the images together!\n    img = tf.stack(more_picks, more_drops)\n\n    return tf.set_background(img, \"black\")\n\n\ncreate_merged_taxi_image(NYC[0], NYC[1])\n\n\n\n\nTakeaway: pickups occur more often on major roads, and dropoffs on smaller roads"
  },
  {
    "objectID": "content/week-8/lecture-8B.html#lets-generate-a-time-lapse-gif-of-drop-offs-over-time",
    "href": "content/week-8/lecture-8B.html#lets-generate-a-time-lapse-gif-of-drop-offs-over-time",
    "title": "Week 8Analyzing and Visualizing Large Datasets",
    "section": "Let’s generate a time-lapse GIF of drop-offs over time",
    "text": "Let’s generate a time-lapse GIF of drop-offs over time\nPowerful tool for visualizing trends over time\n\nDefine some functions…\nImportant: We can convert our datashaded images to the format of the Python Imaging Library (PIL) to visualize\n\ndef create_taxi_image(df, x_range, y_range, w=plot_width, h=plot_height, cmap=fire):\n    \"\"\"Create an image of taxi dropoffs, returning a Python Imaging Library (PIL) image.\"\"\"\n    \n    # Step 1: Create the canvas\n    cvs = ds.Canvas(plot_width=w, plot_height=h, x_range=x_range, y_range=y_range)\n    \n    # Step 2: Aggregate the dropoff positions, coutning number of passengers\n    agg = cvs.points(df, 'dropoff_x', 'dropoff_y',  ds.count('passenger_count'))\n    \n    # Step 3: Shade\n    img = tf.shade(agg, cmap=cmap, how='eq_hist')\n    \n    # Set the background\n    img = tf.set_background(img, \"black\")\n    \n    # NEW: return an PIL image\n    return img.to_pil()\n\n\ndef convert_to_12hour(hr24):\n    \"\"\"Convert from 24 hr to 12 hr.\"\"\"\n    from datetime import datetime\n    d = datetime.strptime(str(hr24), \"%H\")\n    return d.strftime(\"%I %p\")\n\n\ndef plot_dropoffs_by_hour(fig, data_all_hours, hour, x_range, y_range):\n    \"\"\"Plot the dropoffs for particular hour.\"\"\"\n    \n    # Trim to the specific hour\n    df_this_hour = data_all_hours.loc[data_all_hours[\"dropoff_hour\"] == hour]\n\n    # Create the datashaded image for this hour\n    img = create_taxi_image(df_this_hour, x_range, y_range)\n\n    # Plot the image on a matplotlib axes\n    # Use imshow()\n    plt.clf()\n    ax = fig.gca()\n    ax.imshow(img, extent=[x_range[0], x_range[1], y_range[0], y_range[1]])\n    \n    # Format the axis and figure\n    ax.set_aspect(\"equal\")\n    ax.set_axis_off()\n    fig.subplots_adjust(left=0, right=1, top=1, bottom=0)\n\n    # Optional: Add a text label for the hour\n    ax.text(\n        0.05,\n        0.9,\n        convert_to_12hour(hour),\n        color=\"white\",\n        fontsize=40,\n        ha=\"left\",\n        transform=ax.transAxes,\n    )\n\n    # Draw the figure and return the image\n    # This converts our matplotlib Figure into a format readable by imageio\n    fig.canvas.draw()\n    image = np.frombuffer(fig.canvas.tostring_rgb(), dtype=\"uint8\")\n    image = image.reshape(fig.canvas.get_width_height()[::-1] + (3,))\n\n    return image\n\n\n\nStrategy:\n\nCreate a datashaded image for each hour of taxi dropoffs, return as a PIL image object\nUse matplotlib’s imshow() to plot each datashaded image to a matplotlib Figure\nReturn each matplotlib Figure in a format readable by the imageio library\nCombine all of our images for each hours into a GIF using the imageio library\n\n\nimport imageio\n\n\n# Create a figure\nfig, ax = plt.subplots(figsize=(10, 10), facecolor=\"black\")\n\n# Create an image for each hour\nimgs = []\nfor hour in range(24):\n\n    # Plot the datashaded image for this specific hour\n    print(hour)\n    img = plot_dropoffs_by_hour(fig, taxi_ddf, hour, x_range=NYC[0], y_range=NYC[1])\n    imgs.append(img)\n\n\n# Combing the images for each hour into a single GIF\nimageio.mimsave(\"dropoffs.gif\", imgs, duration=1000);\n\n0\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23"
  },
  {
    "objectID": "content/week-8/lecture-8B.html#interesting-aside-beyond-hvplot",
    "href": "content/week-8/lecture-8B.html#interesting-aside-beyond-hvplot",
    "title": "Week 8Analyzing and Visualizing Large Datasets",
    "section": "Interesting aside: Beyond hvplot",
    "text": "Interesting aside: Beyond hvplot\nAnalyzing hourly and weekly trends for taxis using holoviews\n\nWe’ll load taxi data from 2016 that includes the number of pickups per hour.\nVisualize weekly and hourly trends using a radial heatmap\n\n\ndf = pd.read_csv('./data/nyc_taxi_2016_by_hour.csv.gz', parse_dates=['Pickup_date'])\n\n\ndf.head()\n\n\n\n\n\n\n\n\nPickup_date\nPickup_Count\n\n\n\n\n0\n2016-01-01 00:00:00\n19865\n\n\n1\n2016-01-01 01:00:00\n24376\n\n\n2\n2016-01-01 02:00:00\n24177\n\n\n3\n2016-01-01 03:00:00\n21538\n\n\n4\n2016-01-01 04:00:00\n15665\n\n\n\n\n\n\n\n\nAdd date-related columns with strftime\nWe can use the strftime() function of a datetime Series to extract specific aspects of a date object. In this case, we are interested in:\n\nDay of Week (Monday, Tuesday, etc) and hour of day\nWeek of Year\n\nTo find the specific string notation for these, use: http://strftime.org\n\n# create relevant time columns\ndf[\"Day & Hour\"] = df[\"Pickup_date\"].dt.strftime(\"%A %H:00\")\ndf[\"Week of Year\"] = df[\"Pickup_date\"].dt.strftime(\"Week %W\")\ndf[\"Date\"] = df[\"Pickup_date\"].dt.strftime(\"%Y-%m-%d\")\n\n\ndf.head()\n\n\n\n\n\n\n\n\nPickup_date\nPickup_Count\nDay & Hour\nWeek of Year\nDate\n\n\n\n\n0\n2016-01-01 00:00:00\n19865\nFriday 00:00\nWeek 00\n2016-01-01\n\n\n1\n2016-01-01 01:00:00\n24376\nFriday 01:00\nWeek 00\n2016-01-01\n\n\n2\n2016-01-01 02:00:00\n24177\nFriday 02:00\nWeek 00\n2016-01-01\n\n\n3\n2016-01-01 03:00:00\n21538\nFriday 03:00\nWeek 00\n2016-01-01\n\n\n4\n2016-01-01 04:00:00\n15665\nFriday 04:00\nWeek 00\n2016-01-01\n\n\n\n\n\n\n\n\n\nLet’s plot a radial heatmap\nThe binning dimensions of the heat map will be:\n\nDay of Week and Hour of Day\nWeek of Year\n\nA radial heatmap can be read similar to tree rings:\n\nThe center of the heatmap will represent the first week of the year, while the outer edge is the last week of the year\nRotating clockwise along a specific ring tells you the day/hour.\n\n\n# Create a Holoviews HeatMap option\ncols = [\"Day & Hour\", \"Week of Year\", \"Pickup_Count\", \"Date\"]\nheatmap = hv.HeatMap(\n    df[cols], kdims=[\"Day & Hour\", \"Week of Year\"], vdims=[\"Pickup_Count\", \"Date\"]\n)\n\n\nheatmap.opts(\n    radial=True,\n    height=600,\n    width=600,\n    yticks=None,\n    xmarks=7,\n    ymarks=3,\n    start_angle=np.pi * 19 / 14,\n    xticks=(\n        \"Friday\",\n        \"Saturday\",\n        \"Sunday\",\n        \"Monday\",\n        \"Tuesday\",\n        \"Wednesday\",\n        \"Thursday\",\n    ),\n    tools=[\"hover\"],\n    cmap=\"fire\"\n)\n\n\n\n\n\n  \n\n\n\n\n\n\nTrends\n\nTaxi pickup counts are high between 7-9am and 5-10pm during weekdays which business hours as expected. In contrast, during weekends, there is not much going on until 11am.\nFriday and Saterday nights clearly stand out with the highest pickup densities as expected.\nPublic holidays can be easily identified. For example, taxi pickup counts are comparetively low around Christmas and Thanksgiving.\nWeather phenomena also influence taxi service. There is a very dark stripe at the beginning of the year starting at Saturday 23rd and lasting until Sunday 24th. Interestingly, there was one of the biggest blizzards in the history of NYC.\n\n\n\nUseful reference: the Holoviews example gallery\nThis radial heatmap example, and many more examples beyond hvplot available:\nhttps://holoviews.org/gallery/index.html"
  },
  {
    "objectID": "content/week-8/lecture-8B.html#exercise-datashading-philly-parking-violations-data",
    "href": "content/week-8/lecture-8B.html#exercise-datashading-philly-parking-violations-data",
    "title": "Week 8Analyzing and Visualizing Large Datasets",
    "section": "Exercise: Datashading Philly parking violations data",
    "text": "Exercise: Datashading Philly parking violations data\n\nDownload the data\n\nA (large) CSV of parking violation data is available for download at: https://musa550.s3.amazonaws.com/parking_violations.csv\nNavigate to your browser, plug in the above URL, and download the data\nThe data is from Open Data Philly: https://www.opendataphilly.org/dataset/parking-violations\nInput data is in EPSG=4326\nRemember: You will need to convert latitude/longitude to Web Mercator (epsg=3857) to work with datashader.\n\n\n\nStep 1: Use dask to load the data\n\nThe dask.dataframe module includes a read_csv() function just like pandas\nYou’ll want to specify the assume_missing=True keyword for that function: that will let dask know that some columns are allowed to have missing values\n\n\nimport dask.dataframe as dd\n\n\n# I downloaded the data and moved it to the \"data/\" folder \ndf = dd.read_csv(\"data/parking_violations.csv\", assume_missing=True)\n\n\ndf\n\nDask DataFrame Structure:\n\n\n\n\n\n\n\nlon\nlat\n\n\nnpartitions=4\n\n\n\n\n\n\n\nfloat64\nfloat64\n\n\n\n...\n...\n\n\n\n...\n...\n\n\n\n...\n...\n\n\n\n...\n...\n\n\n\n\n\nDask Name: read-csv, 1 graph layer\n\n\n\nlen(df)\n\n9412858\n\n\n\ndf.head()\n\n\n\n\n\n\n\n\nlon\nlat\n\n\n\n\n0\n-75.158937\n39.956252\n\n\n1\n-75.154730\n39.955233\n\n\n2\n-75.172386\n40.034175\n\n\n3\nNaN\nNaN\n\n\n4\n-75.157291\n39.952661\n\n\n\n\n\n\n\n\n\nStep 2: Remove any rows with missing geometries\nRemove rows that have NaN for either the lat or lon columns (hint: use the dropna() function!)\n\ndf = df.dropna()\n\n\ndf\n\nDask DataFrame Structure:\n\n\n\n\n\n\n\nlon\nlat\n\n\nnpartitions=4\n\n\n\n\n\n\n\nfloat64\nfloat64\n\n\n\n...\n...\n\n\n\n...\n...\n\n\n\n...\n...\n\n\n\n...\n...\n\n\n\n\n\nDask Name: dropna, 2 graph layers\n\n\n\nlen(df)\n\n8659655\n\n\n\n\nStep 3: Convert lat/lng to Web Mercator coordinates (x, y)\nAdd two new columns, x and y, that represent the coordinates in the EPSG=3857 CRS.\nHint: Use datashader’s lnglat_to_meters() function.\n\nfrom datashader.utils import lnglat_to_meters\n\n\n# Do the conversion\nx, y = lnglat_to_meters(df['lon'], df['lat'])\n\n\n# Add as columns\ndf['x'] = x\ndf['y'] = y\n\n\ndf.head()\n\n\n\n\n\n\n\n\nlon\nlat\nx\ny\n\n\n\n\n0\n-75.158937\n39.956252\n-8.366655e+06\n4.859587e+06\n\n\n1\n-75.154730\n39.955233\n-8.366186e+06\n4.859439e+06\n\n\n2\n-75.172386\n40.034175\n-8.368152e+06\n4.870910e+06\n\n\n4\n-75.157291\n39.952661\n-8.366471e+06\n4.859066e+06\n\n\n5\n-75.162902\n39.959713\n-8.367096e+06\n4.860090e+06\n\n\n\n\n\n\n\n\ndf\n\nDask DataFrame Structure:\n\n\n\n\n\n\n\nlon\nlat\nx\ny\n\n\nnpartitions=4\n\n\n\n\n\n\n\n\n\nfloat64\nfloat64\nfloat64\nfloat64\n\n\n\n...\n...\n...\n...\n\n\n\n...\n...\n...\n...\n\n\n\n...\n...\n...\n...\n\n\n\n...\n...\n...\n...\n\n\n\n\n\nDask Name: assign, 15 graph layers\n\n\n\n\nStep 4: Get the x/y range for Philadelphia for our canvas\n\nConvert the lat/lng bounding box into Web Mercator EPSG=3857\nUse the lnglat_to_meters() function to do the conversion\nYou should have two variables x_range and y_range that give you the corresponding x and y bounds\n\n\n# Use lat/lng bounds for Philly\n# This will exclude any points that fall outside this region\nPhillyBounds = [( -75.28,  -74.96), (39.86, 40.14)]\n\n\nPhillyBoundsLng = PhillyBounds[0]\nPhillyBoundsLat = PhillyBounds[1]\n\n\n# Convert to an EPSG=3857\nx_range, y_range = lnglat_to_meters(PhillyBoundsLng, PhillyBoundsLat)\n\nx_range\n\narray([-8380131.26691764, -8344509.02986379])\n\n\n\n# Optional: convert to lists as opposed to arrays\nx_range = list(x_range)\ny_range = list(y_range)\n\n\nx_range\n\n[-8380131.266917636, -8344509.029863787]\n\n\n\n\nStep 5: Datashade the dataset\nCreate a matplotlib figure with the datashaded image of the parking violation dataset.\n\n# STEP 1: Create the canvas\ncvs = ds.Canvas(plot_width=600, plot_height=600, x_range=x_range, y_range=y_range)\n\n# STEP 2: Aggregate the points\nagg = cvs.points(df, \"x\", \"y\", agg=ds.count())\n\n# STEP 3: Shade the aggregated pixels\nimg = tf.shade(agg, cmap=fire, how=\"eq_hist\")\n\n# Optional: Set the background of the image\nimg = tf.set_background(img, \"black\")\n\n# Show!\nimg\n\n\n\n\n\ntype(img)\n\ndatashader.transfer_functions.Image\n\n\nLet’s add the city limits.\nYou’ll need to convert your datashaded image to PIL format and use the imshow() function.\n\n# Load\ncity_limits = gpd.read_file(\"./data/City_Limits.geojson\")\n\n# Same CRS!\ncity_limits = city_limits.to_crs(epsg=3857)\n\n\n# Show with matplotlib\nfig, ax = plt.subplots(figsize=(10, 10))\n\n# NEW:\nax.imshow(img.to_pil(), extent=[x_range[0], x_range[1], y_range[0], y_range[1]])\n\n# Format\nax.set_aspect(\"equal\")\nax.set_axis_off()\n\n# Add the city limits on top!\ncity_limits.plot(ax=ax, facecolor=\"none\", edgecolor=\"white\", linewidth=2)\n\n&lt;Axes: &gt;\n\n\n\n\n\n\n\nStep 6: Make an interactive map\nUse hvplot to make an interactive version of your datashaded image.\n\nviolations = df.hvplot.points(\n    x=\"x\",\n    y=\"y\",\n    datashade=True,\n    geo=True,\n    crs=3857,\n    frame_width=600,\n    frame_height=600,\n    cmap=fire,\n    xlim=x_range,\n    ylim=y_range,\n)\n\n\ngv.tile_sources.CartoDark * violations"
  },
  {
    "objectID": "content/week-8/lecture-8B.html#thats-it",
    "href": "content/week-8/lecture-8B.html#thats-it",
    "title": "Week 8Analyzing and Visualizing Large Datasets",
    "section": "That’s it!",
    "text": "That’s it!\n\nNext week: dashboards and presenting your results on the web!\nSee you on Monday!"
  },
  {
    "objectID": "assignment/overview.html",
    "href": "assignment/overview.html",
    "title": "Overview",
    "section": "",
    "text": "There are six homework assignments due throughout the semester and one final project that is due at the end of the finals period. For grading purposes, the assignment with the lowest grade will not count towards your final grade."
  },
  {
    "objectID": "assignment/overview.html#guidelines",
    "href": "assignment/overview.html#guidelines",
    "title": "Overview",
    "section": "Guidelines",
    "text": "Guidelines\nWe will be using Jupyter notebook files for assignments. Below are a few guidelines to make this process as smooth as possible.\n1. Notebook files should be a polished, finished product.\n\nPlease be sure that your name (as well as the names of anyone you worked with) is listed at the top of the notebook file you submit.\nPlease remove any extra or unneccesary code.\nWhen possible, use markdown cells for comments or add comments directly to your Python code to help explain the steps in your analysis.\nSection headers in markdown can also be helpful to mark different sections of the analysis.\n\n2. Notebook files should be reproducible and executable.\n\nEnsure that your assignments can be executed from top to bottom and produce the desired result. This is how our course TAs will grade each assignment.\nIf your analysis loads a dataset, make sure you either A) Add the dataset to the repository, or B) document the original source of the data so it can be downloaded during grading.\nMake sure you are using relative file paths when loading your data so that the TA can download your repository and the file structure will still work. For more information, check out the guide on file paths."
  },
  {
    "objectID": "assignment/overview.html#submission",
    "href": "assignment/overview.html#submission",
    "title": "Overview",
    "section": "Submission",
    "text": "Submission\nWe’ll be using GitHub Classroom to submit homework assignments. For each assignment, be on the look out for the submission url, which will always start with the following: https://classroom.github.com/.\nWhen you click on this submission link for each assignment, you will be prompted to log in to GitHub, and then a unique, private repository will be created on the course’s GitHub page. You will create a new private repository for each assignment. Only you and the instructors will be able to view these repositories.\nWe will be using Jupyter notebook files for assignments, and you should add your notebook to your newly created assignment repository before the deadline. You can add files to the repository through the browser (github.com) interface or using the command line locally on your machine. For more help, see these instructions."
  },
  {
    "objectID": "assignment/401/final-project.html",
    "href": "assignment/401/final-project.html",
    "title": "Final Project Proposal",
    "section": "",
    "text": "Due on Wednesday, December 20 at 11:59 PM\nThe final project is to replicate the pipeline approach on a dataset (or datasets) of your choosing.\nThe final deliverable will be a web-based data visualization and accompanying description including a summary of the results and the methods used in each step of the process (collection, analysis and visualization)."
  },
  {
    "objectID": "assignment/401/final-project.html#due-dates",
    "href": "assignment/401/final-project.html#due-dates",
    "title": "Final Project Proposal",
    "section": "Due dates",
    "text": "Due dates\nNote: Due dates are tentative and subject to change\nWritten proposal due date: Monday, December 4th (or earlier)\nProject due date: Wednesday, December 20th at 11:59 PM\nFinal projects must receive prior approval in the form of a written proposal."
  },
  {
    "objectID": "assignment/401/final-project.html#deliverable",
    "href": "assignment/401/final-project.html#deliverable",
    "title": "Final Project Proposal",
    "section": "Deliverable",
    "text": "Deliverable\nThe final deliverable must include all both of the following items:\n\nA Quarto website that summarizes the project and main results, using a combination of text, images, and interactive visualizations.\nThe website should be hosted on GitHub Pages and should be generated from the Quarto website template repository. The website should be a multi-page document that explains in depth all aspects of the project’s implementation as well as the final results.\nAll code/notebooks/spreadsheets/datasets used. These materials should be submitted to your own specific GitHub repository, which can be created using the link below, depending on your section:\n\nSection 401: https://classroom.github.com/a/iA1Z_0Dv\nSection 402: https://classroom.github.com/a/FX7-CcSS\n\nIn this repository, you should include all of the code used to collect, analyze, and visualize the data. You should also include a README file that includes the repository URL for the Quarto website set up in #1 above.\n\n\nImportant\n\nBe sure to include the URL for your Quarto website in the README of the main, submission repository.\nBe sure to include the names of everyone who worked on the final project somewhere in the README!"
  },
  {
    "objectID": "assignment/401/final-project.html#group-projects",
    "href": "assignment/401/final-project.html#group-projects",
    "title": "Final Project Proposal",
    "section": "Group projects",
    "text": "Group projects\nGroup projects are permitted, with a maximum number of group members of 3. You are also permitted to combine this assignment with one you are working on for another course. But keep in mind that if you choose either of these options, the expectations for the project’s scope will be adjusted accordingly.\nIf you combine this assignment with one from another course, the portion that you are submitting for this final project must be a clearly defined addition to the original project. In such a case, you will be graded only on the portion submitted for this course, not on the entire project."
  },
  {
    "objectID": "assignment/401/final-project.html#guidelines",
    "href": "assignment/401/final-project.html#guidelines",
    "title": "Final Project Proposal",
    "section": "Guidelines",
    "text": "Guidelines\nThe project is open-ended. The topic and technologies used are up to you. However, the project must be sufficiently complex and challenging. Below is the list of possible requirements for the project. The number of requirements you must satisfy depends on the number of people in your group:\n\n1 person: 2 requirements\n2 people: 3 requirements\n3 people: 4 requirements\n\nThe list of requirements is:\n\nData is collected through a means more sophisticated than downloading (e.g. scraping, API).\nAt least one of the datasets contains more than 1,000,000 rows.\nIt combines data collected from 3 or more different sources.\nThe analysis of the data is reasonably complex, involving multiple steps (geospatial joins/operations, data shaping, data frame operations, etc).\nYou use an osmnx or pandana to perform an analysis of street network data\nYou use scikit-learn to perform a clustering analysis\nYou analyze raster data using rasterio, rasterstats, or xarray.\nYou perform a machine learning analysis with scikit-learn as part of the analysis.\nThe project includes a deployed Panel dashboard\nThe project includes multiple interactive visualizations that include a significant interactive component (cross-filtering, interactive widgets, etc)\n\nAs a rough guideline, you should shoot for something that is 3-4 times as involved as the required assignments."
  },
  {
    "objectID": "assignment/401/final-project.html#grading",
    "href": "assignment/401/final-project.html#grading",
    "title": "Final Project Proposal",
    "section": "Grading",
    "text": "Grading\nThe final project is worth 45% of the final grade and will be graded on four criteria:\n\nConcept: Is it sufficiently complex/challenging/sophisticated? Is the final product useful/interesting/creative?\nTechnical implementation: Was it well thought out? Was each step done correctly? Does it work as described? Is it consistent with the proposal?\nVisualization: How well does the data visualization serve its purpose? Does it tell a clear story? Are the colors/layout/titles well-chosen?\nWriteup: Is all of the above explained clearly? The writeup should be a multi-page document that explains in depth all aspects of the project’s implementation as well as the final results."
  },
  {
    "objectID": "assignment/401/final-project.html#examples-from-past-semesters",
    "href": "assignment/401/final-project.html#examples-from-past-semesters",
    "title": "Final Project Proposal",
    "section": "Examples from Past Semesters",
    "text": "Examples from Past Semesters\nNote: Previous semesters used a different web-based template for presenting project results, so past projects will appear different. The template used in this semester is the Quarto website template.\n\nAn Analysis System for Taxi Data: A series of planning, visualization and prediction tools around taxi ridership.\nHospitality in the Era of Airbnb: An analysis of the impact of Airbnb on the hospitality industry in New York.\nA Look at Reddit’s Values, IRL Events, and Possible Bad Actors: An analysis of Reddit data to determine what redditors “value”\nOrange Line Shutdown Effects on Bluebike Ridership: An analysis examining the effect of the orange line shutdown on Bluebike ridership in Boston, MA"
  },
  {
    "objectID": "assignment/401/assignment-5.html",
    "href": "assignment/401/assignment-5.html",
    "title": "HW #5",
    "section": "",
    "text": "Assigned on Monday, November 6\n\n\nDue on Monday, November 20 at 11:59 PM\n\n\n\n\n View materials: MUSA-550-Fall-2023/assignment-5\n\n\n Submission link: GitHub classroom\n\n\nCheck back later for details!"
  },
  {
    "objectID": "assignment/401/assignment-2.html",
    "href": "assignment/401/assignment-2.html",
    "title": "HW #2",
    "section": "",
    "text": "Assigned on Monday, September 25\n\n\nDue on Monday, October 9 at 11:59 PM"
  },
  {
    "objectID": "assignment/401/assignment-2.html#due-dates",
    "href": "assignment/401/assignment-2.html#due-dates",
    "title": "HW #2",
    "section": "Due Dates",
    "text": "Due Dates\n\nSection 401: Monday, October 9 by end of day (11:59 PM)"
  },
  {
    "objectID": "assignment/401/assignment-2.html#recommended-readings",
    "href": "assignment/401/assignment-2.html#recommended-readings",
    "title": "HW #2",
    "section": "Recommended Readings",
    "text": "Recommended Readings\n\nMatplotlib:\n\nGuide to getting started with matplotlib\nPlotting & visualization chapter of Python for Data Analysis\nMatplotlib chapter of the Data Science Handbook\n\nAltair:\n\nIntroduction to Statistical Visualization\nExploring Seattle Weather: A Case Study\n\nData viz design: Introductory slides of London’s design guidelines"
  },
  {
    "objectID": "assignment/401/assignment-2.html#reference-materials",
    "href": "assignment/401/assignment-2.html#reference-materials",
    "title": "HW #2",
    "section": "Reference materials",
    "text": "Reference materials\n\nmatplotlib\nseaborn\naltair"
  },
  {
    "objectID": "assignment/401/assignment-2.html#exploratory-data-visualization",
    "href": "assignment/401/assignment-2.html#exploratory-data-visualization",
    "title": "HW #2",
    "section": "Exploratory Data Visualization",
    "text": "Exploratory Data Visualization\nIn this part, you’ll use matplotlib, seaborn, and altair to explore a dataset of your choosing and generate some charts in a Jupyter notebook.\n\nPart 1: Select a dataset\nFor this assignment, you can choose your own dataset to explore. I recommend selecting a dataset from OpenDataPhilly. You are welcome to to use a dataset from elsewhere, but please email your instructor and let them know what you want to analyze.\nDatasets with timestamped entries will be particularly good for analysis, but there are many interesting datasets to consider. They include:\n\n311 Requests\nVoter turnout\nComplaints against police\nParking violations\nShooting victims\nL+I Violations\n\nand many more…\nFor OpenDataPhilly datasets, data files can be downloaded in the form of CSV files.\n\n\nPart 2: Explore and visualize the data\nFrom within a Jupyter notebook, you should explore the datasets and generate charts visualizing different aspects of the data.\nRequirements:\n\n1 Matplotlib chart (of any type)\n\nYou should consider what aspect of the dataset might be best plotted using matplotlib.\nInclude your reasoning for using matplotlib to visualize this specific aspect of the data.\nYou will be graded on the aesthetics of the plot, namely, color choices and clarity.\n\n1 seaborn chart (of any type)\n\nPlease include the motivation behind your choice for the type of seaborn plot used and why.\n\n3 altair plots\n\nBoth of the following techniques should be used:\n\nA transformation (mean, count, binning, etc)\nBrush selection\n\n\nInclude a short discussion (a few sentences) of the main conclusion of each chart (in a markdown cell below each chart). It does not need to be interesting or insightful, but it is good practice to always note the main conclusions so the notebook make sense after time passes.\nExtra credit:: 2-chart altair dashboard,\n\nThis should be in addition to the 3 charts above\nFiltering on one chart should cross-filter the other chart (via transform_filter())\n\n\nNote: You may include geospatial charts to satisfy the above requirements, but you are not required to."
  },
  {
    "objectID": "assignment/401/assignment-2.html#grading-guidelines",
    "href": "assignment/401/assignment-2.html#grading-guidelines",
    "title": "HW #2",
    "section": "Grading Guidelines",
    "text": "Grading Guidelines\nSee the grading rubric for more details.\nImportant: Your notebooks should be a polished finished product. For example:\n\nPlease remove any extra or unneccesary code.\nPlease try to use markdown cells with section headers to mark different sections of the analysis."
  },
  {
    "objectID": "assignment/401/assignment-2.html#submission",
    "href": "assignment/401/assignment-2.html#submission",
    "title": "HW #2",
    "section": "Submission",
    "text": "Submission\nNote: Be sure to read the documentation for assignment guidelines and submission.\nWe’ll be using GitHub for assignment submission again. The invitation link depends on your section. For this assignments, the links are:\n\nSection 401: https://classroom.github.com/a/HDaP31zx\n\nYour assignment notebook should be added to this GitHub repository before the deadline.\nNote: File sizes are limited to 25 MB when adding files to a repository via GitHub in a browser. If your dataset is larger than this, you can try compressing it into a “.zip” to make the file smaller, and then add it to the repository on GitHub. If you run into problems, please email your instructor for help."
  },
  {
    "objectID": "assignment/401/assignment-1.html",
    "href": "assignment/401/assignment-1.html",
    "title": "HW #1",
    "section": "",
    "text": "Assigned on Wednesday, September 6\n\n\nDue on Monday, September 25 at 11:59 PM"
  },
  {
    "objectID": "assignment/401/assignment-1.html#due-date",
    "href": "assignment/401/assignment-1.html#due-date",
    "title": "HW #1",
    "section": "Due Date",
    "text": "Due Date\n\nSection 401: Monday, September 25 at 11:59 PM\n\nThis week’s assignment will be broken into two parts:"
  },
  {
    "objectID": "assignment/401/assignment-1.html#part-1-installing-python-locally-and-launching-a-jupyter-notebook",
    "href": "assignment/401/assignment-1.html#part-1-installing-python-locally-and-launching-a-jupyter-notebook",
    "title": "HW #1",
    "section": "Part 1: Installing Python locally and launching a Jupyter notebook",
    "text": "Part 1: Installing Python locally and launching a Jupyter notebook\nFollow the initial installation guide on the course website for instructions on how to set up Python locally and launch JupyterLab\nPlease see the list of recommended readings for tutorials and background reading to get familiar with Python, mamba/conda, and the Jupyter notebook.\nProblems? Post your question to Ed Discussion!\n\nWorking Locally\nIf you’ve successfully followed the installation guide, you should be able to launch JupyterLab by running jupyter lab (after activating the course environment) from the command line. This should launch the JupyterLab dashboard. Now you can launch the assignment notebook “assignment-1.ipynb” and get started on the homework!\nThe notebook will execute code from the current working directory (the folder that the notebook was launched from). This folder is usually your home folder on your laptop. If you are using relative file paths to load the data, the path should be relative to this working directory. From within the Jupyter notebook, you can find out the current working directory by running the following command in a cell:\npwd\nIf you’ve downloaded the assignment-1 repository to your computer, it usually makes sense to launch the Jupyter notebook from this folder instead of the default folder. You can change the start-up folder by first navigating to your assignment folder in the command line: see instructions here."
  },
  {
    "objectID": "assignment/401/assignment-1.html#part-2-exploring-the-donut-effect-for-philadelphia-zip-codes",
    "href": "assignment/401/assignment-1.html#part-2-exploring-the-donut-effect-for-philadelphia-zip-codes",
    "title": "HW #1",
    "section": "Part 2: Exploring the Donut Effect for Philadelphia ZIP codes",
    "text": "Part 2: Exploring the Donut Effect for Philadelphia ZIP codes\nIn part #2, you will explore the Donut Effect for home values in different parts of Philadelphia. This part will be submitted as a Jupyter notebook (a .ipynb file). There is already a starter notebook in this repository to help guide you through this part.\n\nSubmission\nNote: Be sure to read the documentation for assignment guidelines and submission.\nYou will submit your assignment through GitHub. For each assignment, I will provide a GitHub link that can be used to create a new repository. Each student will have their own private repository on GitHub where the assignment can be submitted. Only the student and instructors will have access to the private repository.\nThe invitation link depends on your section. For this assignments, the links are:\n\nSection 401: https://classroom.github.com/a/jpzX7AF4\n\nIf you do not have a GitHub account yet, you should be prompted to make an account. After clicking on this link, GitHub will create a new private repo with permissions such that only you and the instructors can view the commits.\nYour assignment should be added to this newly crearted GitHub repository before the deadline. You can add files to the repository through the web (github.com) interface or using the command line on your laptop.\nImportant: Files should be committed to the newly created private repository (after following the above link) and not to your forked version of the assignment-1 repository.\nYour Jupyter notebook should be submitted to your private repository by the deadline."
  },
  {
    "objectID": "assignment/402/final-project-proposal.html",
    "href": "assignment/402/final-project-proposal.html",
    "title": "Final Project Proposal",
    "section": "",
    "text": "Due on Monday, December 4 at 11:59 PM\n\n\n\n\n View materials: MUSA-550-Fall-2023/final-project-proposal\n\n\n Submission link: GitHub classroom\n\n\nCheck back later for details!"
  },
  {
    "objectID": "assignment/402/assignment-4.html",
    "href": "assignment/402/assignment-4.html",
    "title": "HW #4",
    "section": "",
    "text": "Assigned on Monday, October 23\n\n\nDue on Monday, November 6 at 11:59 PM"
  },
  {
    "objectID": "assignment/402/assignment-4.html#due-dates",
    "href": "assignment/402/assignment-4.html#due-dates",
    "title": "HW #4",
    "section": "Due Dates",
    "text": "Due Dates\n\nSection 402: November 6 by end of day"
  },
  {
    "objectID": "assignment/402/assignment-4.html#description",
    "href": "assignment/402/assignment-4.html#description",
    "title": "HW #4",
    "section": "Description",
    "text": "Description\n\nPart 1: Visualizing crash data in Philadelphia**\nIn this section, you will use osmnx to analyze the crash incidence in Center City.\n\n\nPart 2: Scraping Craigslist\nIn this section, you will use Selenium and BeautifulSoup to scrape data for hundreds of apartments from Philadelphia’s Craigslist portal."
  },
  {
    "objectID": "assignment/402/assignment-4.html#submission",
    "href": "assignment/402/assignment-4.html#submission",
    "title": "HW #4",
    "section": "Submission",
    "text": "Submission\nWe’ll be using GitHub for assignment submission again. You can set up your own private repository on GitHub for this assignment using the link below.\nThe invitation link will depend upon your section:\n\nSection 402: https://classroom.github.com/a/_ZVQ18JC\n\nThe assignment should be added to this GitHub repository before the deadline. You can add files to the repository through the web (github.com) interface or using the command line locally on your machine."
  },
  {
    "objectID": "assignment/402/assignment-6.html",
    "href": "assignment/402/assignment-6.html",
    "title": "HW #6",
    "section": "",
    "text": "Assigned on Monday, November 20\n\n\nDue on Monday, December 4 at 11:59 PM\n\n\n\n\n View materials: MUSA-550-Fall-2023/assignment-6\n\n\n Submission link: GitHub classroom\n\n\nCheck back later for details!"
  },
  {
    "objectID": "assignment/402/assignment-3.html",
    "href": "assignment/402/assignment-3.html",
    "title": "HW #3",
    "section": "",
    "text": "Assigned on Thursday, September 28\n\n\nDue on Thursday, October 19 at 11:59 PM"
  },
  {
    "objectID": "assignment/402/assignment-3.html#due-dates",
    "href": "assignment/402/assignment-3.html#due-dates",
    "title": "HW #3",
    "section": "Due Dates",
    "text": "Due Dates\n\nSection 402: October 19 by end of day"
  },
  {
    "objectID": "assignment/402/assignment-3.html#topics-covered",
    "href": "assignment/402/assignment-3.html#topics-covered",
    "title": "HW #3",
    "section": "Topics covered",
    "text": "Topics covered\n\ngeopandas and spatial operations\nhvplot\nRaster data"
  },
  {
    "objectID": "assignment/402/assignment-3.html#description",
    "href": "assignment/402/assignment-3.html#description",
    "title": "HW #3",
    "section": "Description",
    "text": "Description\nThis assignment will include two parts:\nIn Part 1, we’ll explore spatial trends evictions in Philadelphia using data from the Eviction Lab and building code violations using data from OpenDataPhilly.\nWe’ll be exploring the idea that evictions can occur as retaliation against renters for reporting code violations. Spatial correlations between evictions and code violations from the City’s Licenses and Inspections department can offer some insight into this question.\nIn Part 2, we’ll dive into the NDVI in Philadelphia more. Using Landsat data, we’ll calculate the NDVI within the city limits and compare it to the NDVI in the immediate suburbs. We’ll also calculate the NDVI at the locations of trees in Philadelphia, using a dataset of street trees from OpenDataPhilly.\n\nBackground readings\n\nHuffPost article\nPlanPhilly article\nThe Eviction Lab\nData Dictionary for Eviction Lab data available for download in this repository"
  },
  {
    "objectID": "assignment/402/assignment-3.html#assignment-details",
    "href": "assignment/402/assignment-3.html#assignment-details",
    "title": "HW #3",
    "section": "Assignment details",
    "text": "Assignment details\nA skeleton Jupyter notebook is available in this repository that will walk you through the steps of the assignment. The completed notebook should be submitted as your assignment."
  },
  {
    "objectID": "assignment/402/assignment-3.html#submission",
    "href": "assignment/402/assignment-3.html#submission",
    "title": "HW #3",
    "section": "Submission",
    "text": "Submission\nWe’ll be using GitHub for assignment submission again. You can set up your own private repository on GitHub for this assignment using the link below.\nThe invitation link will depend upon your section:\n\nSection 402: https://classroom.github.com/a/z7wf0lbS\n\nThe assignment should be added to this GitHub repository before the deadline. You can add files to the repository through the web (github.com) interface or using the command line locally on your machine."
  },
  {
    "objectID": "assignment/402/schedule.html",
    "href": "assignment/402/schedule.html",
    "title": "Assignments: Section 402",
    "section": "",
    "text": "Note\n\n\n\nThe schedule is tentative and could change in the future.\n\n\n\n\n\n\n\n\n\n   Assigned on\n\n\n   Due on\n\n\n\n\n\n\nHW #1\n\n\nThursday, August 31\n\n\nThursday, September 14\n\n\n\n\nHW #2\n\n\nThursday, September 14\n\n\nThursday, September 28\n\n\n\n\nHW #3\n\n\nThursday, September 28\n\n\nThursday, October 19\n\n\n\n\nHW #4\n\n\nMonday, October 23\n\n\nMonday, November 6\n\n\n\n\nHW #5\n\n\nMonday, November 6\n\n\nMonday, November 20\n\n\n\n\nHW #6\n\n\nMonday, November 20\n\n\nMonday, December 4\n\n\n\n\nFinal project proposal\n\n\n\n\nMonday, December 4\n\n\n\n\nFinal project\n\n\n\n\nWednesday, December 20"
  },
  {
    "objectID": "syllabus.html",
    "href": "syllabus.html",
    "title": "Syllabus",
    "section": "",
    "text": "Welcome to the course syllabus for MUSA 550, Geospatial Data Science in Python, taught at the University of Pennsylvania in fall 2023."
  },
  {
    "objectID": "syllabus.html#overview",
    "href": "syllabus.html#overview",
    "title": "Syllabus",
    "section": "Overview",
    "text": "Overview\nThis course will provide students with the knowledge and tools to turn data into meaningful insights, with a focus on real-world case studies in the urban planning and public policy realm. Focusing on the latest Python software tools, the course will outline the “pipeline” approach to data science. It will teach students the tools to gather, visualize, and analyze datasets, providing the skills to effectively explore large datasets and transform results into understandable and compelling narratives. The course is organized into five main sections:\n\nExploratory Data Science: Students will be introduced to the main tools needed to get started analyzing and visualizing data using Python.\nIntroduction to Geospatial Data Science: Building on the previous set of tools, this module will teach students how to work with geospatial datasets using a range of modern Python toolkits.\nData Ingestion & Big Data: Students will learn how to collect new data through web scraping and APIs, as well as how to work effectively with the large datasets often encountered in real-world applications.\nFrom Exploration to Storytelling: With a solid foundation, students will learn the latest tools to present their analysis results using web-based formats to transform their insights into interactive stories.\nGeospatial Data Science in the Wild: Armed with the necessary data science tools, the final module introduces a range of advanced analytic and machine learning techniques using a number of innovative examples from modern researchers."
  },
  {
    "objectID": "syllabus.html#logistics",
    "href": "syllabus.html#logistics",
    "title": "Syllabus",
    "section": "Logistics",
    "text": "Logistics\nThere are two sections for this course, 401 and 402. Info for these sections is below.\n\nLecture\nThe course will be conducted in weekly sessions devoted to lectures, interactive demonstrations, and in-class labs.\n\nSection 401\n\nMonday & Wednesday, 8:30 AM to 10:00 AM\nWilliams Hall, Room 202\n\n\n\nSection 402\n\nThursday, 1:45 PM to 4:45 PM\nMeyerson Hall, Room B2\n\n\n\n\nContact Info\n\nSection 401\n\nInstructor: Nick Hand, nhand@design.upenn.edu\nTeaching Assistant: Teresa Chang, thchang@design.upenn.edu\n\n\n\nSection 402\n\nInstructor: Eric Delmelle, ericdel@design.upenn.edu\nTeaching Assistant: Jinze Wang, wangjz@seas.upenn.edu\n\n\n\n\nOffice Hours\nOffice hours will be by appointment via Zoom — you should be able to sign up for 1 (or more) 15-minute time slot via the Canvas calendar.\n\nSection 401\nNick:\nMondays, 8:00PM-10:00PM — remote, sign up for slots on Canvas calendar\nTeresa:\nFridays, 10:30AM-12:00PM — remote, sign up for slots on Canvas calendar\n\n\nSection 402\nEric:\nThursday 10am - 12pm (2nd floor conference room)\nJinze:\nWednesdays, 11:00AM-12:30PM — remote, sign up for slots on Canvas calendar\n\n\n\nCourse Websites\n\nMain website: https://musa-550-fall-2023.github.io\nGitHub: https://www.github.com/MUSA-550-Fall-2023\nCanvas: https://canvas.upenn.edu/courses/1740535\nEd Discussion https://edstem.org/us/courses/42616/discussion/\n\nThe course’s main website will be the main source of information, including the course schedule, weekly content, and guides/resources.\nThe course’s GitHub page will have repositories for each week’s lectures as well as assignments. Students will also submit their assignments through GitHub.\nWe will use Canvas signing up for office hours and tracking grades.\nEd Discussion is a Q&A forum that allows students to ask questions related to lecture materials and assignments.\n\n\nAssignments\nThere are six homework assignments and one required final project at the end of the semester. While you are required to submit all six assignments, the assignment with the lowest grade will not count towards your final grade.\nFor the final project, students will replicate the pipeline approach on a dataset (or datasets) of their choosing. Students will be required to use several of the analysis techniques taught in the class and produce a web-based data visualization that effectively communicates the empirical results to a non-technical audience. The final product should also include a description of the methods used in each step of the data science process (collection, analysis, and visualization).\nFor more details on the final project, see the GitHub repository.\n\n\nGrading\nThe grading breakdown is as follows: 50% for homework; 45% for final project, 5% for participation. Your participation grade will be determined by your activity on Ed Discussion — both asking, answering, and reading questions.\nWhile you are required to submit all six assignments, the assignment with the lowest grade will not count towards your final grade.\nThere’s no penalty for late assignments. I would highly recommend staying caught up on lectures and assignments as much as possible, but if you need to turn something in a few days late, that’s fine — there’s no penalty. If you turn in something late, you’ll be missing out on valuable feedback, but that’s the only practical penalty, there’s no extra penalty to your grade.\n\n\nSoftware\nThis course relies on use of Python and various related packages and for geospatial topics. All software is open-source and freely available. The course will require a working installation of Python on your local computer. See the Installation Setup Guide for instructions on how to setup your computer for use in this course."
  },
  {
    "objectID": "syllabus.html#policies",
    "href": "syllabus.html#policies",
    "title": "Syllabus",
    "section": "Policies",
    "text": "Policies\nMUSA 550 is a fast-paced course that covers a lot of topics in a short amount of time. I know that it can be overwhelming and frustrating, particularly as you are trying to learn Python syntax and the topics in the course at the same time. But I firmly believe that all students can succeed in this class.\nYou’ll get the most out of the course if you stay up to date on the lectures and assignments. If you fall behind, I know there can be a desire to copy code from the Internet or others to help you complete assignments. Ultimately, this will be detrimental to your progress as an analytics wizard. My goal for this course is for everyone to learn and engage with the material to the best of their ability.\n\nIf you find yourself falling behind or struggling with Python issues, please ask for help by:\n\nPost a question on Ed Discussion — the fix for your problem might be quick and other students are probably experiencing similar issues.\nCome to office hours and discuss issues or larger conceptual questions you are having.\nTake advantage of the free resources to help fine-tune your Python skills.\n\n\nAnd if you are still struggling, reach out and let me know and we’ll figure out a strategy to make things work!\n\nCommunication Policies\n\nPlease add the following text into the subject line of emails to us: [MUSA550]. This will help us make sure we don’t miss your email!\nWe will use the Ed Discussion Q&A forum for questions related to lecture material and assignments.\nTo prevent code copying, please do not post long, complete code examples to Ed Discussion.\nAnonymous posting is enabled on Ed Discussion — if you have a question that requires a full code example, please use the anonymous feature to post the question.\nWe will also use Ed Discussion for announcements — please make sure your notifications are turned on and you check the website frequently. This will be the primary method of communication for course-wide announcements.\nIf you have larger-scale or conceptual questions on assignments or lecture material, please set up a time to discuss during office hours.\n\n\n\nGroup Work\nStudents are allowed (and encouraged!) to collaborate when working through lecture materials or assignments. If you work closely with other students, please list the members of your group at the top of your assignment.\n\n\nSpecial Accommodations\nThere are a number of ongoing situations in the world that may take precedence over the course work. If you are experiencing any difficulties outside the course, please contact me and accommodations can be made. Similarly, if you are having any difficulties with the course schedule, attending lectures, or similar, please let us know.\n\n\nAcademic Integrity\nStudents are expected to be familiar with and comply with Penn’s Code of Academic Integrity, which is available in the Pennbook, or online at https://catalog.upenn.edu/pennbook/code-of-academic-integrity."
  },
  {
    "objectID": "resource/mamba.html",
    "href": "resource/mamba.html",
    "title": "Using mamba",
    "section": "",
    "text": "In this guide, we’ll outline some of the key concepts and common uses to get you up and running with mamba. A conda cheatsheet is also available under the “Cheatsheets” section in the left sidebar."
  },
  {
    "objectID": "resource/mamba.html#key-concepts",
    "href": "resource/mamba.html#key-concepts",
    "title": "Using mamba",
    "section": "Key Concepts",
    "text": "Key Concepts\n\nCommands\nWe’ll be using the mamba tool through its command-line interface rather than a typical graphical user interface (GUI) application. If you are unfamiliar with the command line, this will take some getting used to but once you get the hang of it, it will make working with mamba and Python much easier.\nThe mamba command is the main interface for using the mamba tool for managing your Python packages. From the command line, you simply run:\nconda command [optional arguments will go here]\nwhere “command” is the name of the command you want to run. Commands exist to install new packages, create new environments, and much more.\n\n\nStarting and running mamba\nWe will run mamba from the command line but the specifics of this will depend on your operating system.\n\nWindows\nOpen the Start menu, search for and open the “Miniforge Prompt”. This application provides a command line interface where the mamba tool is properly load, initialized, and ready to be used. Note that you cannot use the default “Command Prompt” application to use mamba because it doesn’t know how to load mamba properly.\nMacOS\nThe Terminal app should be used on MacOS to use mamba. You can also use any Terminal emulator (such as iTerm2). Simply open the Terminal application and the mamba command should be ready to use.\n\n\n\nChannels\n“Channels” are the locations where packages are located. Channels are typically remote and hosted in the cloud. When you specify a channel, mamba will search the remote database for the right package and download it to your local computer.\nBy default, conda usually downloads packages from the defaults channel, which hosts thousands of packages and is managed by the makers of the Anaconda distribution. A full list of packages is available here.\nThe “mambaforge” distribution that we installed in this course is pre-configured to use a community-managed channel known as “conda-forge” instead of the “defaults” channel. Conda forge includes many of the packages on the “defaults” channel but also popular packages that are widely-used but not quite essential enough for the “defaults” channel. A list of maintained packages is available here.\nFor less well known packages, there is a higher likelihood the package will be hosted on conda forge. For that reason, we will prefer downloading and installing packages from conda forge in this course.\n\n\nEnvironments\nThe mamba tool not only lets you download and install packages, but you can group those packages together into environments. By default, the “mambaforge” Python distribution creates an environment named base. We will create a new environment specifically for this course that will hold all of the packages needed for the entire semester.\nEnvironments become particularly useful when working with lots of packages, packages that have a lot of dependencies, or packages that are difficult to install. When environments become too large, it can be difficult to install a new package that satisfies all of the existing package dependencies. For that reason, we will create a fresh, new environment to install the packages we need to use during this course.\n\n\nConda/mamba vs. pip\nThe other widely used method for installing packages is via the pip command. The commands are similar in a lot of ways but with some key differences. The pip command installs packages from the Python Package Index and is designed to install Python-only packages.\nThe main advantage of conda/mamba is that it is cross-platform and can handle dependencies that are written in C (or other languages) and will automatically handle the compiling process during installation. Many of the packages we use in this course have complex dependencies written in C, and mamba will make installation of these packages much easier.\nIn this course, we’ll be using mamba to install packages. Generally speaking, if you already are using mamba to manage environments, it’s best to try to install packages with mamba and if the package is not available, then try using pip.\nSee this article for more information about conda and pip."
  },
  {
    "objectID": "resource/mamba.html#common-uses",
    "href": "resource/mamba.html#common-uses",
    "title": "Using mamba",
    "section": "Common Uses",
    "text": "Common Uses\nManaging environments and installing packages will be done by executing the mamba command in the command line. Below are some of the most common commands that we will use in this class.\n\n\n\n\n\n\nImportant\n\n\n\nAll of the examples below should be run in the Terminal app (MacOS) or Miniforge Prompt (Windows). See the Starting and running mamba section above for more detail.\n\n\n\nGetting help with the mamba command\nThe mamba command has a built-in help function. From the command line, run,\nmamba --help\nwhich will print out info about individual commands:\nusage: mamba [-h] [-V] command ...\n\nconda is a tool for managing and deploying applications, environments and packages.\n\nOptions:\n\npositional arguments:\n  command\n    clean             Remove unused packages and caches.\n    compare           Compare packages between conda environments.\n    config            Modify configuration values in .condarc. This is modeled after the git config command. Writes to the user .condarc file\n                      (/Users/nhand/.condarc) by default. Use the --show-sources flag to display all identified configuration locations on your computer.\n    create            Create a new conda environment from a list of specified packages.\n    info              Display information about current conda install.\n    init              Initialize conda for shell interaction.\n    install           Installs a list of packages into a specified conda environment.\n    list              List installed packages in a conda environment.\n    package           Low-level conda package utility. (EXPERIMENTAL)\n    remove (uninstall)\n                      Remove a list of packages from a specified conda environment. Use `--all` flag to remove all packages and the environment itself.\n    rename            Renames an existing environment.\n    run               Run an executable in a conda environment.\n    search            Search for packages and display associated information.The input is a MatchSpec, a query language for conda packages. See examples\n                      below.\n    update (upgrade)  Updates conda packages to the latest compatible version.\n    notices           Retrieves latest channel notifications.\n    repoquery         Query repositories using mamba.\n\noptional arguments:\n  -h, --help          Show this help message and exit.\n  -V, --version       Show the conda version number and exit.\nTo find out more info about a specific sub-command, you can run:\nmamba command --help\nFor example, for more info about the arguments (both required and optional) needed to install packages, use: mamba install --help.\n\n\nListing the available environments\nThe default environment when first installing mamba is called 'base'. You can list the currently installed Python environments by running the following command from the command line:\nmamba env list\nThe currently active environment will have a '*' next to it. You should see the 'base' environment as well as any other environments you have created.\n\n\nActivating your environment\nEnvironments must first be “activated” before the packages are available to use. To activate the environment for this course, you can run the following from the command line:\nmamba activate musa-550-fall-2023\nNow, all of the packages in this environment will be available when we run Python.\n\n\nFinding the active environment\nTo see the active environment, list the available environments. The active environment will be listed with a ‘*’ next to its name.\nFrom the command line, run:\nmamba env list\n\n\nListing the installed packages\nIf you have already activated the musa-550-fall-2023 environment, you can list all of the installed packages.\nFrom the command line:\nmamba list\n\n\nActivating the base environment\nTo activate the 'base' default environment, run from the command line:\nmamba activate base\n\n\n\n\n\n\nNote\n\n\n\nYou should always use the ‘musa-550-fall-2023’ environment to do the analysis in this course. Make sure it is the activated environment when using Python.\n\n\n\n\nDeleting an environment\nNote that you cannot create a new environment with the same name as an existing environment. If your environment becomes corrupted or you run into issues, it is often easiest to delete the environment and start over. To do, you can run the following commands from the command line:\nmamba deactivate\nmamba env remove --name musa-550-fall-2023\n\n\nUpdating an existing environment\nThe environment we are using throughout the course might be need to be updated during the course. For example, we might want to update to include a newly released version of a package.\nYou can update your local environment via the following command. From the command line:\nmamba env update pennmusa/musa-550-fall-2023\nThis command will ensure that the ‘musa-550-fall-2023’ environment on your local computer matches the environment specified by the “environment.yml” file stored in the cloud for the course.\n\n\nInstalling specific packages\nYou shouldn’t need to install any individual packages into the ‘musa-550-fall-2023’ environment. But for reference, you could install specific packages into the active environment using from the command line:\nmamba install package_name"
  },
  {
    "objectID": "resource/index.html",
    "href": "resource/index.html",
    "title": "Helpful resources",
    "section": "",
    "text": "This section includes a number of extra resources, cheatsheets, and guides related to software installation, Python, and other relevant topics."
  },
  {
    "objectID": "resource/install.html",
    "href": "resource/install.html",
    "title": "Installing Python and initial set-up",
    "section": "",
    "text": "MUSA 550 relies on freely available software from the Python  open-source ecosystem. This guide will walk you through how to set up your computer for the course, including downloading and installing Python as well as the various packages you will need throughout the semester.\nBy the end of this guide, you’ll have Python installed, be able to launch a Jupyter notebook (the interface for running Python code), and will be writing your first Python code. Let’s get started!"
  },
  {
    "objectID": "resource/install.html#step-1.-installing-python",
    "href": "resource/install.html#step-1.-installing-python",
    "title": "Installing Python and initial set-up",
    "section": "Step 1. Installing Python",
    "text": "Step 1. Installing Python\nThere are a number of different tools and ways to install Python for new users. In this course, we’ll be using a package manager called mamba to install Python and manage dependencies. In the Python ecosystem, package managers are especially useful, as they greatly simplify the installation process and ensure all of your dependencies will function properly.\nmamba is a drop-in replacement (meaning it has the same functionality) for a very popular Python package manager called conda. We’ll use mamba instead of conda because it has signficiantly better performance. In my experience, it’s not uncommon for it to sometimes take more than hour to install a list of Python packages with conda but only a few seconds for mamba to do the same.\n\n\n\n\n\n\nTip\n\n\n\nAnything you can do with the conda tool, you can do with the mamba tool. Outside this class, you’ll likely hear about conda more often, since it’s the more popular tool at the moment.\nAs you will see later, we will often refer to the conda documentation to learn about the key concepts behind conda/mamba and its main functionality.\n\n\nThe mamba tool allows you to easily install Python packages on your laptop using environments. An environment allows you to install packages for specific purposes and keep those packages isolated from any other Python packages that might be installed on your laptop. This is very useful, since different versions of packages often don’t work nicely together. We will create an environment for use during this class that includes all of the Python packages you will need in the course.\nIn this course, we will use the “mambaforge” distribution of Python, which includes Python, mamba, and a few other essential packages and dependencies. It also comes pre-configured with “conda-forge”, a popular, community-maintained server that makes the most popular Python packages available for download for free.\n\n\n\n\n\n\nNote\n\n\n\nThe mambaforge distribution is the mamba version of the popular “Miniconda” distribution, which is a free, minimal Python installation that just includes conda. Miniconda is a lightweight version of the full Anaconda distribution. The differences between the “mini” and “full” versions are outlined here.\nThe major difference is that the Anaconda distribution will install more than 1,500 of the most common scientific Python packages (many more than we need in this course) and will take up about 3 GB of disk space. Mambaforge/Miniconda will only install core Python dependencies (as well as mamba/conda) and will only take up a much smaller amount of disk space.\n\n\nThe following page contains the installation files for the mambaforge distribution:\nhttps://github.com/conda-forge/miniforge#mambaforge\nSelect the appropriate file for your computer’s operating system and click to download the file. The file should be named something like Mambaforge-Linux-*, Mambaforge-MacOSX-*, or Mambaforge-Windows-*.\nThe rest of the installation instructions will vary based on your operating system:\n\nWindows\n\nIn the file browser, double-click the .exe file that you downloaded.\nFollow the instructions on the screen. If you are unsure about any setting, accept the defaults. You can change them later.\n\nMacOS\n\nOpen the Terminal application.\nChange to the folder to the directory where the .sh installer file was downloaded (this is usually the “Downloads” folder) by running the following command in the Terminal app:\nbash Mambaforge-MacOSX-x86_64.sh\nor if you have a Mac with the new M2 chips, use:\nbash Mambaforge-MacOSX-arm64.sh\nFollow the instructions on the screen. If you are asked about if you “wish the installer to initialize Mambaforge by running conda init?”, type “yes”. This will ensure that mamba is an available command when you open up Terminal.\nIf you are unsure about any setting, accept the defaults. You can change them later.\nTo make the changes take effect, close and then re-open your terminal window."
  },
  {
    "objectID": "resource/install.html#verify-that-your-python-installation-is-working",
    "href": "resource/install.html#verify-that-your-python-installation-is-working",
    "title": "Installing Python and initial set-up",
    "section": "2. Verify that your Python installation is working",
    "text": "2. Verify that your Python installation is working\nTo verify that the install worked, we will run mamba from the command line. The specifics of this will depend on your operating system:\n\nWindows\nOpen the Start menu, search for and open the “Miniforge Prompt”. This application provides a command line interface where the mamba tool is properly loaded, initialized, and ready to be used.\nNote that you cannot use the default “Command Prompt” application to use mamba because it doesn’t know how to load mamba properly.\nMacOS\nThe Terminal app should be used on MacOS to use mamba. You can also use any Terminal emulator (such as iTerm2). Simply open the Terminal application and the mamb command should be ready to use.\n\nNow, let’s test your installation. From the command line, run: mamba list. A list of installed packages should be printed to the screen if the installation was successful.\nAfter you’ve sucessfully installed the mambaforge distribution, you will have Python 3.10 installed with a default environment called “base”."
  },
  {
    "objectID": "resource/install.html#create-your-first-python-environment",
    "href": "resource/install.html#create-your-first-python-environment",
    "title": "Installing Python and initial set-up",
    "section": "3. Create your first Python environment",
    "text": "3. Create your first Python environment\nThe mamba/conda tool allows us to easily install new Python packages and keep track of which ones we’ve already installed. I’ve put together a list of the packages we’ll need in this course (a group of packages is known as an environment in mamba-speak). Note that you’ll be using the command line (either the Miniforge Prompt in Windows or Terminal app in MacOS) to run mamba and create your environment.\nThroughout this course, we will maintain an environment called “musa-550-fall-2023” to install and manage all of the packages needed throughout the semester.\nThe packages in an environment are specified in a file typically called “environment.yml”. The environment file for this course is stored in the course-materials repository on Github and a copy is also stored in the cloud on anaconda.org.\nIt is recommended to create the ‘musa-550-fall-2023’ environment on your local computer using the environment file stored in the cloud on anaconda.org. The instructions to do so are as follows:\n\nFirst, we need to make sure the anaconda-client package is installed locally. This will ensure that mamba can interface with anaconda.org. From the command line (Miniforge Prompt on Windows or Terminal on MacOS), run:\nmamba install anaconda-client -n base\nThis will install the anaconda-client package into the default “base” environment.\nThen, create the musa-550-fall-2023 environment by running:\nmamba env create pennmusa/musa-550-fall-2023\nAfter this command finishes, all of the packages we need for the course should be installed. To verify this, you can run mamba env list from the command line to see the installed environments. If everything worked, you should now see the 'musa-550-fall-2023' environment listed.\n\n\n\n\n\n\n\nNote\n\n\n\nThis semester, we will be using Python version 3.10. More information about the different versions of Python is available here."
  },
  {
    "objectID": "resource/install.html#activate-the-courses-environment",
    "href": "resource/install.html#activate-the-courses-environment",
    "title": "Installing Python and initial set-up",
    "section": "4. Activate the course’s environment",
    "text": "4. Activate the course’s environment\nOnce you’ve created your new environment and installed the Python packages for the course, you need to tell mamba to activate it (more mamba-speak) so that you can actually use the packages when you are writing Python code.\nTo activate the environment for this course, you can run the following from the command line (Miniforge Prompt on Windows or Terminal on MacOS):\nmamba activate musa-550-fall-2023\nNow, all of the packages in this environment will be available when we run Python.\n\n\n\n\n\n\nImportant\n\n\n\nIf you forget to activate the course’s environment, you will be using the default “base” environment. This has some of the packages we will need, but many will be missing. If you are trying to import Python packages and get a “ModuleNotFoundError” error, the active environoment is likely the issue!"
  },
  {
    "objectID": "resource/install.html#launching-a-jupyter-notebook",
    "href": "resource/install.html#launching-a-jupyter-notebook",
    "title": "Installing Python and initial set-up",
    "section": "5. Launching a Jupyter notebook",
    "text": "5. Launching a Jupyter notebook\nThroughout the course, we will write, edit, and execute Python code in files called Jupyter notebooks. These files have an .ipynb extension. Notebooks are documents that combine live runnable code with narrative text, images, and interactive visualizations.\nAn application called JupyterLab is the recommended way to work with these notebook files. JupyterLab is a browser-based interface that allows users to execute Python in notebook files. It can also handle all sorts of additional file formats and even has a built-in command-line feature. The JupyterLab guide provides much more information about the features of JupyterLab — for the moment, we will just focus on launching our first notebook file.\n\n\n\n\n\n\nNote\n\n\n\nThere are other interfaces for working with Jupyter notebooks. The original Jupyter notebook application has since been replaced by the more powerful JupyterLab application. Popular code editors such as VS Code have also added support for Jupyter notebooks, although it is important to note that VS Code does not support all features of notebooks. For this reason, JupyterLab remains the recommended notebook interface.\n\n\nThe recommended approach for starting a notebook is to use the Miniforge Prompt on Windows or the Terminal app on MacOS. To do so, we simply need to activate our 'musa-550-fall-2023' environment and then start JupyterLab, which is included in the course’s environment.\nFrom the command line, first activate the environment:\nmamba activate musa-550-fall-2023\nand then launch JupyterLab\njupyter lab\nThis will create the local Jupyter server and should launch the JupyterLab dashboard in a browser. If it does not open in a browser, copy the link that is output by the command into your favorite browser. Typically, the server will be running at http://localhost:8888. The dashboard should like look something like this:\n\nOn the left, you’ll see a file browser for the files in the folder where you ran the jupyter lab command. On the right you will see the “Launcher”, which allows you to easily create various types of new files. Click on the “Python 3” button under the “Notebook” section and you’ll create your first notebook. Alternatively, you can use the File -&gt; New -&gt; Notebook option from the menu bar. The new notebook, entitled “Untitled.ipynb”, is created within the same directory.\nNow, let’s type the following into the first cell:\nprint(\"Hello, World!\")\nClick the ⏵ button in the menu bar of the notebook and you will run your first Python code in a notebook!\n\n\n\n\n\n\n\nTip\n\n\n\nThe Jupyter notebook section of the JupyterLab walks you through each step of working with notebook files in JupyterLab. Check it out here, or find more information in the JupyterLab guide."
  }
]